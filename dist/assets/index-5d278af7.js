var kM=Object.defineProperty;var CM=(e,t,n)=>t in e?kM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var L=(e,t,n)=>(CM(e,typeof t!="symbol"?t+"":t,n),n);function TM(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function PM(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ac={},AM={get exports(){return Ac},set exports(e){Ac=e}},qh={},S={},DM={get exports(){return S},set exports(e){S=e}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl=Symbol.for("react.element"),MM=Symbol.for("react.portal"),RM=Symbol.for("react.fragment"),IM=Symbol.for("react.strict_mode"),OM=Symbol.for("react.profiler"),LM=Symbol.for("react.provider"),NM=Symbol.for("react.context"),$M=Symbol.for("react.forward_ref"),FM=Symbol.for("react.suspense"),VM=Symbol.for("react.memo"),BM=Symbol.for("react.lazy"),hw=Symbol.iterator;function jM(e){return e===null||typeof e!="object"?null:(e=hw&&e[hw]||e["@@iterator"],typeof e=="function"?e:null)}var wS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bS=Object.assign,xS={};function vo(e,t,n){this.props=e,this.context=t,this.refs=xS,this.updater=n||wS}vo.prototype.isReactComponent={};vo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _S(){}_S.prototype=vo.prototype;function uy(e,t,n){this.props=e,this.context=t,this.refs=xS,this.updater=n||wS}var cy=uy.prototype=new _S;cy.constructor=uy;bS(cy,vo.prototype);cy.isPureReactComponent=!0;var fw=Array.isArray,SS=Object.prototype.hasOwnProperty,hy={current:null},ES={key:!0,ref:!0,__self:!0,__source:!0};function kS(e,t,n){var i,r={},s=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)SS.call(t,i)&&!ES.hasOwnProperty(i)&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Dl,type:e,key:s,ref:o,props:r,_owner:hy.current}}function zM(e,t){return{$$typeof:Dl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dl}function UM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var dw=/\/+/g;function wd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?UM(""+e.key):t.toString(36)}function Ju(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Dl:case MM:o=!0}}if(o)return o=e,r=r(o),e=i===""?"."+wd(o,0):i,fw(r)?(n="",e!=null&&(n=e.replace(dw,"$&/")+"/"),Ju(r,t,n,"",function(u){return u})):r!=null&&(fy(r)&&(r=zM(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(dw,"$&/")+"/")+e)),t.push(r)),1;if(o=0,i=i===""?".":i+":",fw(e))for(var a=0;a<e.length;a++){s=e[a];var l=i+wd(s,a);o+=Ju(s,t,n,l,r)}else if(l=jM(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=i+wd(s,a++),o+=Ju(s,t,n,l,r);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function au(e,t,n){if(e==null)return e;var i=[],r=0;return Ju(e,i,"","",function(s){return t.call(n,s,r++)}),i}function HM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var De={current:null},Zu={transition:null},WM={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:Zu,ReactCurrentOwner:hy};et.Children={map:au,forEach:function(e,t,n){au(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return au(e,function(){t++}),t},toArray:function(e){return au(e,function(t){return t})||[]},only:function(e){if(!fy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Component=vo;et.Fragment=RM;et.Profiler=OM;et.PureComponent=uy;et.StrictMode=IM;et.Suspense=FM;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WM;et.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=bS({},e.props),r=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=hy.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)SS.call(t,l)&&!ES.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:Dl,type:e.type,key:r,ref:s,props:i,_owner:o}};et.createContext=function(e){return e={$$typeof:NM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:LM,_context:e},e.Consumer=e};et.createElement=kS;et.createFactory=function(e){var t=kS.bind(null,e);return t.type=e,t};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:$M,render:e}};et.isValidElement=fy;et.lazy=function(e){return{$$typeof:BM,_payload:{_status:-1,_result:e},_init:HM}};et.memo=function(e,t){return{$$typeof:VM,type:e,compare:t===void 0?null:t}};et.startTransition=function(e){var t=Zu.transition;Zu.transition={};try{e()}finally{Zu.transition=t}};et.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};et.useCallback=function(e,t){return De.current.useCallback(e,t)};et.useContext=function(e){return De.current.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e){return De.current.useDeferredValue(e)};et.useEffect=function(e,t){return De.current.useEffect(e,t)};et.useId=function(){return De.current.useId()};et.useImperativeHandle=function(e,t,n){return De.current.useImperativeHandle(e,t,n)};et.useInsertionEffect=function(e,t){return De.current.useInsertionEffect(e,t)};et.useLayoutEffect=function(e,t){return De.current.useLayoutEffect(e,t)};et.useMemo=function(e,t){return De.current.useMemo(e,t)};et.useReducer=function(e,t,n){return De.current.useReducer(e,t,n)};et.useRef=function(e){return De.current.useRef(e)};et.useState=function(e){return De.current.useState(e)};et.useSyncExternalStore=function(e,t,n){return De.current.useSyncExternalStore(e,t,n)};et.useTransition=function(){return De.current.useTransition()};et.version="18.2.0";(function(e){e.exports=et})(DM);const gi=PM(S),Hp=TM({__proto__:null,default:gi},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KM=S,qM=Symbol.for("react.element"),GM=Symbol.for("react.fragment"),YM=Object.prototype.hasOwnProperty,XM=KM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QM={key:!0,ref:!0,__self:!0,__source:!0};function CS(e,t,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)YM.call(t,i)&&!QM.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:qM,type:e,key:s,ref:o,props:r,_owner:XM.current}}qh.Fragment=GM;qh.jsx=CS;qh.jsxs=CS;(function(e){e.exports=qh})(AM);const C=Ac.jsx,H=Ac.jsxs;var Wp={},Dc={},JM={get exports(){return Dc},set exports(e){Dc=e}},Je={},Kp={},ZM={get exports(){return Kp},set exports(e){Kp=e}},TS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,N){var z=R.length;R.push(N);t:for(;0<z;){var ft=z-1>>>1,yt=R[ft];if(0<r(yt,N))R[ft]=N,R[z]=yt,z=ft;else break t}}function n(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var N=R[0],z=R.pop();if(z!==N){R[0]=z;t:for(var ft=0,yt=R.length,kn=yt>>>1;ft<kn;){var Be=2*(ft+1)-1,zn=R[Be],je=Be+1,ou=R[je];if(0>r(zn,z))je<yt&&0>r(ou,zn)?(R[ft]=ou,R[je]=z,ft=je):(R[ft]=zn,R[Be]=z,ft=Be);else if(je<yt&&0>r(ou,z))R[ft]=ou,R[je]=z,ft=je;else break t}}return N}function r(R,N){var z=R.sortIndex-N.sortIndex;return z!==0?z:R.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,d=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var N=n(u);N!==null;){if(N.callback===null)i(u);else if(N.startTime<=R)i(u),N.sortIndex=N.expirationTime,t(l,N);else break;N=n(u)}}function b(R){if(g=!1,w(R),!p)if(n(l)!==null)p=!0,J(x);else{var N=n(u);N!==null&&Q(b,N.startTime-R)}}function x(R,N){p=!1,g&&(g=!1,y(k),k=-1),d=!0;var z=f;try{for(w(N),h=n(l);h!==null&&(!(h.expirationTime>N)||R&&!I());){var ft=h.callback;if(typeof ft=="function"){h.callback=null,f=h.priorityLevel;var yt=ft(h.expirationTime<=N);N=e.unstable_now(),typeof yt=="function"?h.callback=yt:h===n(l)&&i(l),w(N)}else i(l);h=n(l)}if(h!==null)var kn=!0;else{var Be=n(u);Be!==null&&Q(b,Be.startTime-N),kn=!1}return kn}finally{h=null,f=z,d=!1}}var _=!1,E=null,k=-1,P=5,T=-1;function I(){return!(e.unstable_now()-T<P)}function q(){if(E!==null){var R=e.unstable_now();T=R;var N=!0;try{N=E(!0,R)}finally{N?ht():(_=!1,E=null)}}else _=!1}var ht;if(typeof m=="function")ht=function(){m(q)};else if(typeof MessageChannel<"u"){var At=new MessageChannel,V=At.port2;At.port1.onmessage=q,ht=function(){V.postMessage(null)}}else ht=function(){v(q,0)};function J(R){E=R,_||(_=!0,ht())}function Q(R,N){k=v(function(){R(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){p||d||(p=!0,J(x))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var z=f;f=N;try{return R()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,N){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=f;f=R;try{return N()}finally{f=z}},e.unstable_scheduleCallback=function(R,N,z){var ft=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ft+z:ft):z=ft,R){case 1:var yt=-1;break;case 2:yt=250;break;case 5:yt=1073741823;break;case 4:yt=1e4;break;default:yt=5e3}return yt=z+yt,R={id:c++,callback:N,priorityLevel:R,startTime:z,expirationTime:yt,sortIndex:-1},z>ft?(R.sortIndex=z,t(u,R),n(l)===null&&R===n(u)&&(g?(y(k),k=-1):g=!0,Q(b,z-ft))):(R.sortIndex=yt,t(l,R),p||d||(p=!0,J(x))),R},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(R){var N=f;return function(){var z=f;f=N;try{return R.apply(this,arguments)}finally{f=z}}}})(TS);(function(e){e.exports=TS})(ZM);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PS=S,Ge=Kp;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AS=new Set,Na={};function ss(e,t){Ys(e,t),Ys(e+"Capture",t)}function Ys(e,t){for(Na[e]=t,e=0;e<t.length;e++)AS.add(t[e])}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qp=Object.prototype.hasOwnProperty,tR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pw={},gw={};function eR(e){return qp.call(gw,e)?!0:qp.call(pw,e)?!1:tR.test(e)?gw[e]=!0:(pw[e]=!0,!1)}function nR(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function iR(e,t,n,i){if(t===null||typeof t>"u"||nR(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Me(e,t,n,i,r,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){le[e]=new Me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];le[t]=new Me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){le[e]=new Me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){le[e]=new Me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){le[e]=new Me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){le[e]=new Me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){le[e]=new Me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){le[e]=new Me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){le[e]=new Me(e,5,!1,e.toLowerCase(),null,!1,!1)});var dy=/[\-:]([a-z])/g;function py(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dy,py);le[t]=new Me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dy,py);le[t]=new Me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dy,py);le[t]=new Me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){le[e]=new Me(e,1,!1,e.toLowerCase(),null,!1,!1)});le.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){le[e]=new Me(e,1,!1,e.toLowerCase(),null,!0,!0)});function gy(e,t,n,i){var r=le.hasOwnProperty(t)?le[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(iR(t,n,r,i)&&(n=null),i||r===null?eR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,i=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var mi=PS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lu=Symbol.for("react.element"),xs=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),my=Symbol.for("react.strict_mode"),Gp=Symbol.for("react.profiler"),DS=Symbol.for("react.provider"),MS=Symbol.for("react.context"),yy=Symbol.for("react.forward_ref"),Yp=Symbol.for("react.suspense"),Xp=Symbol.for("react.suspense_list"),vy=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),RS=Symbol.for("react.offscreen"),mw=Symbol.iterator;function Ro(e){return e===null||typeof e!="object"?null:(e=mw&&e[mw]||e["@@iterator"],typeof e=="function"?e:null)}var Pt=Object.assign,bd;function Yo(e){if(bd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);bd=t&&t[1]||""}return`
`+bd+e}var xd=!1;function _d(e,t){if(!e||xd)return"";xd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{xd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yo(e):""}function rR(e){switch(e.tag){case 5:return Yo(e.type);case 16:return Yo("Lazy");case 13:return Yo("Suspense");case 19:return Yo("SuspenseList");case 0:case 2:case 15:return e=_d(e.type,!1),e;case 11:return e=_d(e.type.render,!1),e;case 1:return e=_d(e.type,!0),e;default:return""}}function Qp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _s:return"Fragment";case xs:return"Portal";case Gp:return"Profiler";case my:return"StrictMode";case Yp:return"Suspense";case Xp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case MS:return(e.displayName||"Context")+".Consumer";case DS:return(e._context.displayName||"Context")+".Provider";case yy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vy:return t=e.displayName||null,t!==null?t:Qp(e.type)||"Memo";case xi:t=e._payload,e=e._init;try{return Qp(e(t))}catch{}}return null}function sR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qp(t);case 8:return t===my?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ji(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function IS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oR(e){var t=IS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uu(e){e._valueTracker||(e._valueTracker=oR(e))}function OS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=IS(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Mc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jp(e,t){var n=t.checked;return Pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yw(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Ji(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function LS(e,t){t=t.checked,t!=null&&gy(e,"checked",t,!1)}function Zp(e,t){LS(e,t);var n=Ji(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tg(e,t.type,n):t.hasOwnProperty("defaultValue")&&tg(e,t.type,Ji(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function tg(e,t,n){(t!=="number"||Mc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xo=Array.isArray;function $s(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ji(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function eg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return Pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ww(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(Xo(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ji(n)}}function NS(e,t){var n=Ji(t.value),i=Ji(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function bw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $S(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ng(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$S(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cu,FS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cu=cu||document.createElement("div"),cu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $a(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aR=["Webkit","ms","Moz","O"];Object.keys(ua).forEach(function(e){aR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ua[t]=ua[e]})});function VS(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ua.hasOwnProperty(e)&&ua[e]?(""+t).trim():t+"px"}function BS(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=VS(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}var lR=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ig(e,t){if(t){if(lR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function rg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sg=null;function wy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var og=null,Fs=null,Vs=null;function xw(e){if(e=Il(e)){if(typeof og!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Jh(t),og(e.stateNode,e.type,t))}}function jS(e){Fs?Vs?Vs.push(e):Vs=[e]:Fs=e}function zS(){if(Fs){var e=Fs,t=Vs;if(Vs=Fs=null,xw(e),t)for(e=0;e<t.length;e++)xw(t[e])}}function US(e,t){return e(t)}function HS(){}var Sd=!1;function WS(e,t,n){if(Sd)return e(t,n);Sd=!0;try{return US(e,t,n)}finally{Sd=!1,(Fs!==null||Vs!==null)&&(HS(),zS())}}function Fa(e,t){var n=e.stateNode;if(n===null)return null;var i=Jh(n);if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var ag=!1;if(oi)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){ag=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{ag=!1}function uR(e,t,n,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ca=!1,Rc=null,Ic=!1,lg=null,cR={onError:function(e){ca=!0,Rc=e}};function hR(e,t,n,i,r,s,o,a,l){ca=!1,Rc=null,uR.apply(cR,arguments)}function fR(e,t,n,i,r,s,o,a,l){if(hR.apply(this,arguments),ca){if(ca){var u=Rc;ca=!1,Rc=null}else throw Error(A(198));Ic||(Ic=!0,lg=u)}}function os(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function KS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _w(e){if(os(e)!==e)throw Error(A(188))}function dR(e){var t=e.alternate;if(!t){if(t=os(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return _w(r),e;if(s===i)return _w(r),t;s=s.sibling}throw Error(A(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==i)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function qS(e){return e=dR(e),e!==null?GS(e):null}function GS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=GS(e);if(t!==null)return t;e=e.sibling}return null}var YS=Ge.unstable_scheduleCallback,Sw=Ge.unstable_cancelCallback,pR=Ge.unstable_shouldYield,gR=Ge.unstable_requestPaint,$t=Ge.unstable_now,mR=Ge.unstable_getCurrentPriorityLevel,by=Ge.unstable_ImmediatePriority,XS=Ge.unstable_UserBlockingPriority,Oc=Ge.unstable_NormalPriority,yR=Ge.unstable_LowPriority,QS=Ge.unstable_IdlePriority,Gh=null,On=null;function vR(e){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Gh,e,void 0,(e.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:xR,wR=Math.log,bR=Math.LN2;function xR(e){return e>>>=0,e===0?32:31-(wR(e)/bR|0)|0}var hu=64,fu=4194304;function Qo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lc(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Qo(a):(s&=o,s!==0&&(i=Qo(s)))}else o=n&~r,o!==0?i=Qo(o):s!==0&&(i=Qo(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-xn(t),r=1<<n,i|=e[n],t&=~r;return i}function _R(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SR(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-xn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=_R(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function ug(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function JS(){var e=hu;return hu<<=1,!(hu&4194240)&&(hu=64),e}function Ed(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ml(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xn(t),e[t]=n}function ER(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-xn(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}function xy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-xn(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var lt=0;function ZS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tE,_y,eE,nE,iE,cg=!1,du=[],Ni=null,$i=null,Fi=null,Va=new Map,Ba=new Map,Ei=[],kR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ew(e,t){switch(e){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Va.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(t.pointerId)}}function Oo(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=Il(t),t!==null&&_y(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function CR(e,t,n,i,r){switch(t){case"focusin":return Ni=Oo(Ni,e,t,n,i,r),!0;case"dragenter":return $i=Oo($i,e,t,n,i,r),!0;case"mouseover":return Fi=Oo(Fi,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Va.set(s,Oo(Va.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ba.set(s,Oo(Ba.get(s)||null,e,t,n,i,r)),!0}return!1}function rE(e){var t=Dr(e.target);if(t!==null){var n=os(t);if(n!==null){if(t=n.tag,t===13){if(t=KS(n),t!==null){e.blockedOn=t,iE(e.priority,function(){eE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);sg=i,n.target.dispatchEvent(i),sg=null}else return t=Il(n),t!==null&&_y(t),e.blockedOn=n,!1;t.shift()}return!0}function kw(e,t,n){tc(e)&&n.delete(t)}function TR(){cg=!1,Ni!==null&&tc(Ni)&&(Ni=null),$i!==null&&tc($i)&&($i=null),Fi!==null&&tc(Fi)&&(Fi=null),Va.forEach(kw),Ba.forEach(kw)}function Lo(e,t){e.blockedOn===t&&(e.blockedOn=null,cg||(cg=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,TR)))}function ja(e){function t(r){return Lo(r,e)}if(0<du.length){Lo(du[0],e);for(var n=1;n<du.length;n++){var i=du[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Ni!==null&&Lo(Ni,e),$i!==null&&Lo($i,e),Fi!==null&&Lo(Fi,e),Va.forEach(t),Ba.forEach(t),n=0;n<Ei.length;n++)i=Ei[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Ei.length&&(n=Ei[0],n.blockedOn===null);)rE(n),n.blockedOn===null&&Ei.shift()}var Bs=mi.ReactCurrentBatchConfig,Nc=!0;function PR(e,t,n,i){var r=lt,s=Bs.transition;Bs.transition=null;try{lt=1,Sy(e,t,n,i)}finally{lt=r,Bs.transition=s}}function AR(e,t,n,i){var r=lt,s=Bs.transition;Bs.transition=null;try{lt=4,Sy(e,t,n,i)}finally{lt=r,Bs.transition=s}}function Sy(e,t,n,i){if(Nc){var r=hg(e,t,n,i);if(r===null)Od(e,t,i,$c,n),Ew(e,i);else if(CR(r,e,t,n,i))i.stopPropagation();else if(Ew(e,i),t&4&&-1<kR.indexOf(e)){for(;r!==null;){var s=Il(r);if(s!==null&&tE(s),s=hg(e,t,n,i),s===null&&Od(e,t,i,$c,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Od(e,t,i,null,n)}}var $c=null;function hg(e,t,n,i){if($c=null,e=wy(i),e=Dr(e),e!==null)if(t=os(e),t===null)e=null;else if(n=t.tag,n===13){if(e=KS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $c=e,null}function sE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mR()){case by:return 1;case XS:return 4;case Oc:case yR:return 16;case QS:return 536870912;default:return 16}default:return 16}}var Pi=null,Ey=null,ec=null;function oE(){if(ec)return ec;var e,t=Ey,n=t.length,i,r="value"in Pi?Pi.value:Pi.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===r[s-i];i++);return ec=r.slice(e,1<i?1-i:void 0)}function nc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pu(){return!0}function Cw(){return!1}function Ze(e){function t(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pu:Cw,this.isPropagationStopped=Cw,this}return Pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),t}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ky=Ze(wo),Rl=Pt({},wo,{view:0,detail:0}),DR=Ze(Rl),kd,Cd,No,Yh=Pt({},Rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==No&&(No&&e.type==="mousemove"?(kd=e.screenX-No.screenX,Cd=e.screenY-No.screenY):Cd=kd=0,No=e),kd)},movementY:function(e){return"movementY"in e?e.movementY:Cd}}),Tw=Ze(Yh),MR=Pt({},Yh,{dataTransfer:0}),RR=Ze(MR),IR=Pt({},Rl,{relatedTarget:0}),Td=Ze(IR),OR=Pt({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),LR=Ze(OR),NR=Pt({},wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$R=Ze(NR),FR=Pt({},wo,{data:0}),Pw=Ze(FR),VR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jR[e])?!!t[e]:!1}function Cy(){return zR}var UR=Pt({},Rl,{key:function(e){if(e.key){var t=VR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cy,charCode:function(e){return e.type==="keypress"?nc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HR=Ze(UR),WR=Pt({},Yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Aw=Ze(WR),KR=Pt({},Rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cy}),qR=Ze(KR),GR=Pt({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),YR=Ze(GR),XR=Pt({},Yh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QR=Ze(XR),JR=[9,13,27,32],Ty=oi&&"CompositionEvent"in window,ha=null;oi&&"documentMode"in document&&(ha=document.documentMode);var ZR=oi&&"TextEvent"in window&&!ha,aE=oi&&(!Ty||ha&&8<ha&&11>=ha),Dw=String.fromCharCode(32),Mw=!1;function lE(e,t){switch(e){case"keyup":return JR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ss=!1;function tI(e,t){switch(e){case"compositionend":return uE(t);case"keypress":return t.which!==32?null:(Mw=!0,Dw);case"textInput":return e=t.data,e===Dw&&Mw?null:e;default:return null}}function eI(e,t){if(Ss)return e==="compositionend"||!Ty&&lE(e,t)?(e=oE(),ec=Ey=Pi=null,Ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return aE&&t.locale!=="ko"?null:t.data;default:return null}}var nI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nI[e.type]:t==="textarea"}function cE(e,t,n,i){jS(i),t=Fc(t,"onChange"),0<t.length&&(n=new ky("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var fa=null,za=null;function iI(e){xE(e,0)}function Xh(e){var t=Cs(e);if(OS(t))return e}function rI(e,t){if(e==="change")return t}var hE=!1;if(oi){var Pd;if(oi){var Ad="oninput"in document;if(!Ad){var Iw=document.createElement("div");Iw.setAttribute("oninput","return;"),Ad=typeof Iw.oninput=="function"}Pd=Ad}else Pd=!1;hE=Pd&&(!document.documentMode||9<document.documentMode)}function Ow(){fa&&(fa.detachEvent("onpropertychange",fE),za=fa=null)}function fE(e){if(e.propertyName==="value"&&Xh(za)){var t=[];cE(t,za,e,wy(e)),WS(iI,t)}}function sI(e,t,n){e==="focusin"?(Ow(),fa=t,za=n,fa.attachEvent("onpropertychange",fE)):e==="focusout"&&Ow()}function oI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xh(za)}function aI(e,t){if(e==="click")return Xh(t)}function lI(e,t){if(e==="input"||e==="change")return Xh(t)}function uI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var En=typeof Object.is=="function"?Object.is:uI;function Ua(e,t){if(En(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!qp.call(t,r)||!En(e[r],t[r]))return!1}return!0}function Lw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nw(e,t){var n=Lw(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Lw(n)}}function dE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pE(){for(var e=window,t=Mc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mc(e.document)}return t}function Py(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cI(e){var t=pE(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dE(n.ownerDocument.documentElement,n)){if(i!==null&&Py(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=Nw(n,s);var o=Nw(n,i);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hI=oi&&"documentMode"in document&&11>=document.documentMode,Es=null,fg=null,da=null,dg=!1;function $w(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dg||Es==null||Es!==Mc(i)||(i=Es,"selectionStart"in i&&Py(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),da&&Ua(da,i)||(da=i,i=Fc(fg,"onSelect"),0<i.length&&(t=new ky("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Es)))}function gu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ks={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},Dd={},gE={};oi&&(gE=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Qh(e){if(Dd[e])return Dd[e];if(!ks[e])return e;var t=ks[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gE)return Dd[e]=t[n];return e}var mE=Qh("animationend"),yE=Qh("animationiteration"),vE=Qh("animationstart"),wE=Qh("transitionend"),bE=new Map,Fw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(e,t){bE.set(e,t),ss(t,[e])}for(var Md=0;Md<Fw.length;Md++){var Rd=Fw[Md],fI=Rd.toLowerCase(),dI=Rd[0].toUpperCase()+Rd.slice(1);cr(fI,"on"+dI)}cr(mE,"onAnimationEnd");cr(yE,"onAnimationIteration");cr(vE,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(wE,"onTransitionEnd");Ys("onMouseEnter",["mouseout","mouseover"]);Ys("onMouseLeave",["mouseout","mouseover"]);Ys("onPointerEnter",["pointerout","pointerover"]);Ys("onPointerLeave",["pointerout","pointerover"]);ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function Vw(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,fR(i,t,void 0,e),e.currentTarget=null}function xE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;Vw(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;Vw(r,a,u),s=l}}}if(Ic)throw e=lg,Ic=!1,lg=null,e}function vt(e,t){var n=t[vg];n===void 0&&(n=t[vg]=new Set);var i=e+"__bubble";n.has(i)||(_E(t,e,2,!1),n.add(i))}function Id(e,t,n){var i=0;t&&(i|=4),_E(n,e,i,t)}var mu="_reactListening"+Math.random().toString(36).slice(2);function Ha(e){if(!e[mu]){e[mu]=!0,AS.forEach(function(n){n!=="selectionchange"&&(pI.has(n)||Id(n,!1,e),Id(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mu]||(t[mu]=!0,Id("selectionchange",!1,t))}}function _E(e,t,n,i){switch(sE(t)){case 1:var r=PR;break;case 4:r=AR;break;default:r=Sy}n=r.bind(null,t,n,e),r=void 0,!ag||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Od(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Dr(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue t}a=a.parentNode}}i=i.return}WS(function(){var u=s,c=wy(n),h=[];t:{var f=bE.get(e);if(f!==void 0){var d=ky,p=e;switch(e){case"keypress":if(nc(n)===0)break t;case"keydown":case"keyup":d=HR;break;case"focusin":p="focus",d=Td;break;case"focusout":p="blur",d=Td;break;case"beforeblur":case"afterblur":d=Td;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Tw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=RR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=qR;break;case mE:case yE:case vE:d=LR;break;case wE:d=YR;break;case"scroll":d=DR;break;case"wheel":d=QR;break;case"copy":case"cut":case"paste":d=$R;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Aw}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var m=u,w;m!==null;){w=m;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,y!==null&&(b=Fa(m,y),b!=null&&g.push(Wa(m,b,w)))),v)break;m=m.return}0<g.length&&(f=new d(f,p,null,n,c),h.push({event:f,listeners:g}))}}if(!(t&7)){t:{if(f=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",f&&n!==sg&&(p=n.relatedTarget||n.fromElement)&&(Dr(p)||p[ai]))break t;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=u,p=p?Dr(p):null,p!==null&&(v=os(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(g=Tw,b="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(g=Aw,b="onPointerLeave",y="onPointerEnter",m="pointer"),v=d==null?f:Cs(d),w=p==null?f:Cs(p),f=new g(b,m+"leave",d,n,c),f.target=v,f.relatedTarget=w,b=null,Dr(c)===u&&(g=new g(y,m+"enter",p,n,c),g.target=w,g.relatedTarget=v,b=g),v=b,d&&p)e:{for(g=d,y=p,m=0,w=g;w;w=ps(w))m++;for(w=0,b=y;b;b=ps(b))w++;for(;0<m-w;)g=ps(g),m--;for(;0<w-m;)y=ps(y),w--;for(;m--;){if(g===y||y!==null&&g===y.alternate)break e;g=ps(g),y=ps(y)}g=null}else g=null;d!==null&&Bw(h,f,d,g,!1),p!==null&&v!==null&&Bw(h,v,p,g,!0)}}t:{if(f=u?Cs(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var x=rI;else if(Rw(f))if(hE)x=lI;else{x=oI;var _=sI}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=aI);if(x&&(x=x(e,u))){cE(h,x,n,c);break t}_&&_(e,f,u),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&tg(f,"number",f.value)}switch(_=u?Cs(u):window,e){case"focusin":(Rw(_)||_.contentEditable==="true")&&(Es=_,fg=u,da=null);break;case"focusout":da=fg=Es=null;break;case"mousedown":dg=!0;break;case"contextmenu":case"mouseup":case"dragend":dg=!1,$w(h,n,c);break;case"selectionchange":if(hI)break;case"keydown":case"keyup":$w(h,n,c)}var E;if(Ty)t:{switch(e){case"compositionstart":var k="onCompositionStart";break t;case"compositionend":k="onCompositionEnd";break t;case"compositionupdate":k="onCompositionUpdate";break t}k=void 0}else Ss?lE(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(aE&&n.locale!=="ko"&&(Ss||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ss&&(E=oE()):(Pi=c,Ey="value"in Pi?Pi.value:Pi.textContent,Ss=!0)),_=Fc(u,k),0<_.length&&(k=new Pw(k,e,null,n,c),h.push({event:k,listeners:_}),E?k.data=E:(E=uE(n),E!==null&&(k.data=E)))),(E=ZR?tI(e,n):eI(e,n))&&(u=Fc(u,"onBeforeInput"),0<u.length&&(c=new Pw("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=E))}xE(h,t)})}function Wa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fc(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Fa(e,n),s!=null&&i.unshift(Wa(e,s,r)),s=Fa(e,t),s!=null&&i.push(Wa(e,s,r))),e=e.return}return i}function ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bw(e,t,n,i,r){for(var s=t._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=Fa(n,s),l!=null&&o.unshift(Wa(n,l,a))):r||(l=Fa(n,s),l!=null&&o.push(Wa(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var gI=/\r\n?/g,mI=/\u0000|\uFFFD/g;function jw(e){return(typeof e=="string"?e:""+e).replace(gI,`
`).replace(mI,"")}function yu(e,t,n){if(t=jw(t),jw(e)!==t&&n)throw Error(A(425))}function Vc(){}var pg=null,gg=null;function mg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yg=typeof setTimeout=="function"?setTimeout:void 0,yI=typeof clearTimeout=="function"?clearTimeout:void 0,zw=typeof Promise=="function"?Promise:void 0,vI=typeof queueMicrotask=="function"?queueMicrotask:typeof zw<"u"?function(e){return zw.resolve(null).then(e).catch(wI)}:yg;function wI(e){setTimeout(function(){throw e})}function Ld(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),ja(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);ja(t)}function Vi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Uw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bo=Math.random().toString(36).slice(2),Mn="__reactFiber$"+bo,Ka="__reactProps$"+bo,ai="__reactContainer$"+bo,vg="__reactEvents$"+bo,bI="__reactListeners$"+bo,xI="__reactHandles$"+bo;function Dr(e){var t=e[Mn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ai]||n[Mn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Uw(e);e!==null;){if(n=e[Mn])return n;e=Uw(e)}return t}e=n,n=e.parentNode}return null}function Il(e){return e=e[Mn]||e[ai],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Jh(e){return e[Ka]||null}var wg=[],Ts=-1;function hr(e){return{current:e}}function bt(e){0>Ts||(e.current=wg[Ts],wg[Ts]=null,Ts--)}function gt(e,t){Ts++,wg[Ts]=e.current,e.current=t}var Zi={},xe=hr(Zi),Ne=hr(!1),qr=Zi;function Xs(e,t){var n=e.type.contextTypes;if(!n)return Zi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function $e(e){return e=e.childContextTypes,e!=null}function Bc(){bt(Ne),bt(xe)}function Hw(e,t,n){if(xe.current!==Zi)throw Error(A(168));gt(xe,t),gt(Ne,n)}function SE(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(A(108,sR(e)||"Unknown",r));return Pt({},n,i)}function jc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zi,qr=xe.current,gt(xe,e),gt(Ne,Ne.current),!0}function Ww(e,t,n){var i=e.stateNode;if(!i)throw Error(A(169));n?(e=SE(e,t,qr),i.__reactInternalMemoizedMergedChildContext=e,bt(Ne),bt(xe),gt(xe,e)):bt(Ne),gt(Ne,n)}var Yn=null,Zh=!1,Nd=!1;function EE(e){Yn===null?Yn=[e]:Yn.push(e)}function _I(e){Zh=!0,EE(e)}function fr(){if(!Nd&&Yn!==null){Nd=!0;var e=0,t=lt;try{var n=Yn;for(lt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Yn=null,Zh=!1}catch(r){throw Yn!==null&&(Yn=Yn.slice(e+1)),YS(by,fr),r}finally{lt=t,Nd=!1}}return null}var Ps=[],As=0,zc=null,Uc=0,nn=[],rn=0,Gr=null,Qn=1,Jn="";function _r(e,t){Ps[As++]=Uc,Ps[As++]=zc,zc=e,Uc=t}function kE(e,t,n){nn[rn++]=Qn,nn[rn++]=Jn,nn[rn++]=Gr,Gr=e;var i=Qn;e=Jn;var r=32-xn(i)-1;i&=~(1<<r),n+=1;var s=32-xn(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Qn=1<<32-xn(t)+r|n<<r|i,Jn=s+e}else Qn=1<<s|n<<r|i,Jn=e}function Ay(e){e.return!==null&&(_r(e,1),kE(e,1,0))}function Dy(e){for(;e===zc;)zc=Ps[--As],Ps[As]=null,Uc=Ps[--As],Ps[As]=null;for(;e===Gr;)Gr=nn[--rn],nn[rn]=null,Jn=nn[--rn],nn[rn]=null,Qn=nn[--rn],nn[rn]=null}var qe=null,We=null,St=!1,yn=null;function CE(e,t){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Kw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qe=e,We=Vi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qe=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gr!==null?{id:Qn,overflow:Jn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qe=e,We=null,!0):!1;default:return!1}}function bg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xg(e){if(St){var t=We;if(t){var n=t;if(!Kw(e,t)){if(bg(e))throw Error(A(418));t=Vi(n.nextSibling);var i=qe;t&&Kw(e,t)?CE(i,n):(e.flags=e.flags&-4097|2,St=!1,qe=e)}}else{if(bg(e))throw Error(A(418));e.flags=e.flags&-4097|2,St=!1,qe=e}}}function qw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qe=e}function vu(e){if(e!==qe)return!1;if(!St)return qw(e),St=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mg(e.type,e.memoizedProps)),t&&(t=We)){if(bg(e))throw TE(),Error(A(418));for(;t;)CE(e,t),t=Vi(t.nextSibling)}if(qw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){We=Vi(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}We=null}}else We=qe?Vi(e.stateNode.nextSibling):null;return!0}function TE(){for(var e=We;e;)e=Vi(e.nextSibling)}function Qs(){We=qe=null,St=!1}function My(e){yn===null?yn=[e]:yn.push(e)}var SI=mi.ReactCurrentBatchConfig;function gn(e,t){if(e&&e.defaultProps){t=Pt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Hc=hr(null),Wc=null,Ds=null,Ry=null;function Iy(){Ry=Ds=Wc=null}function Oy(e){var t=Hc.current;bt(Hc),e._currentValue=t}function _g(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function js(e,t){Wc=e,Ry=Ds=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function un(e){var t=e._currentValue;if(Ry!==e)if(e={context:e,memoizedValue:t,next:null},Ds===null){if(Wc===null)throw Error(A(308));Ds=e,Wc.dependencies={lanes:0,firstContext:e}}else Ds=Ds.next=e;return t}var Mr=null;function Ly(e){Mr===null?Mr=[e]:Mr.push(e)}function PE(e,t,n,i){var r=t.interleaved;return r===null?(n.next=n,Ly(t)):(n.next=r.next,r.next=n),t.interleaved=n,li(e,i)}function li(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _i=!1;function Ny(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ii(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,it&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,li(e,n)}return r=i.interleaved,r===null?(t.next=t,Ly(i)):(t.next=r.next,r.next=t),i.interleaved=t,li(e,n)}function ic(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,xy(e,n)}}function Gw(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Kc(e,t,n,i){var r=e.updateQueue;_i=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((i&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=e,g=a;switch(f=t,d=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(d,h,f);break t}h=p;break t;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(d,h,f):p,f==null)break t;h=Pt({},h,f);break t;case 2:_i=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(1);if(c===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);Xr|=o,e.lanes=o,e.memoizedState=h}}function Yw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(A(191,r));r.call(i)}}}var DE=new PS.Component().refs;function Sg(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Pt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tf={isMounted:function(e){return(e=e._reactInternals)?os(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Pe(),r=zi(e),s=ii(i,r);s.payload=t,n!=null&&(s.callback=n),t=Bi(e,s,r),t!==null&&(_n(t,e,r,i),ic(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Pe(),r=zi(e),s=ii(i,r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Bi(e,s,r),t!==null&&(_n(t,e,r,i),ic(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pe(),i=zi(e),r=ii(n,i);r.tag=2,t!=null&&(r.callback=t),t=Bi(e,r,i),t!==null&&(_n(t,e,i,n),ic(t,e,i))}};function Xw(e,t,n,i,r,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ua(n,i)||!Ua(r,s):!0}function ME(e,t,n){var i=!1,r=Zi,s=t.contextType;return typeof s=="object"&&s!==null?s=un(s):(r=$e(t)?qr:xe.current,i=t.contextTypes,s=(i=i!=null)?Xs(e,r):Zi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tf,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function Qw(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&tf.enqueueReplaceState(t,t.state,null)}function Eg(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=DE,Ny(e);var s=t.contextType;typeof s=="object"&&s!==null?r.context=un(s):(s=$e(t)?qr:xe.current,r.context=Xs(e,s)),r.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Sg(e,t,s,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&tf.enqueueReplaceState(r,r.state,null),Kc(e,n,r,i),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function $o(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var i=n.stateNode}if(!i)throw Error(A(147,e));var r=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=r.refs;a===DE&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function wu(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jw(e){var t=e._init;return t(e._payload)}function RE(e){function t(y,m){if(e){var w=y.deletions;w===null?(y.deletions=[m],y.flags|=16):w.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function i(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function r(y,m){return y=Ui(y,m),y.index=0,y.sibling=null,y}function s(y,m,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<m?(y.flags|=2,m):w):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,m,w,b){return m===null||m.tag!==6?(m=Ud(w,y.mode,b),m.return=y,m):(m=r(m,w),m.return=y,m)}function l(y,m,w,b){var x=w.type;return x===_s?c(y,m,w.props.children,b,w.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===xi&&Jw(x)===m.type)?(b=r(m,w.props),b.ref=$o(y,m,w),b.return=y,b):(b=uc(w.type,w.key,w.props,null,y.mode,b),b.ref=$o(y,m,w),b.return=y,b)}function u(y,m,w,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=Hd(w,y.mode,b),m.return=y,m):(m=r(m,w.children||[]),m.return=y,m)}function c(y,m,w,b,x){return m===null||m.tag!==7?(m=Vr(w,y.mode,b,x),m.return=y,m):(m=r(m,w),m.return=y,m)}function h(y,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ud(""+m,y.mode,w),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case lu:return w=uc(m.type,m.key,m.props,null,y.mode,w),w.ref=$o(y,null,m),w.return=y,w;case xs:return m=Hd(m,y.mode,w),m.return=y,m;case xi:var b=m._init;return h(y,b(m._payload),w)}if(Xo(m)||Ro(m))return m=Vr(m,y.mode,w,null),m.return=y,m;wu(y,m)}return null}function f(y,m,w,b){var x=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return x!==null?null:a(y,m,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case lu:return w.key===x?l(y,m,w,b):null;case xs:return w.key===x?u(y,m,w,b):null;case xi:return x=w._init,f(y,m,x(w._payload),b)}if(Xo(w)||Ro(w))return x!==null?null:c(y,m,w,b,null);wu(y,w)}return null}function d(y,m,w,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(w)||null,a(m,y,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case lu:return y=y.get(b.key===null?w:b.key)||null,l(m,y,b,x);case xs:return y=y.get(b.key===null?w:b.key)||null,u(m,y,b,x);case xi:var _=b._init;return d(y,m,w,_(b._payload),x)}if(Xo(b)||Ro(b))return y=y.get(w)||null,c(m,y,b,x,null);wu(m,b)}return null}function p(y,m,w,b){for(var x=null,_=null,E=m,k=m=0,P=null;E!==null&&k<w.length;k++){E.index>k?(P=E,E=null):P=E.sibling;var T=f(y,E,w[k],b);if(T===null){E===null&&(E=P);break}e&&E&&T.alternate===null&&t(y,E),m=s(T,m,k),_===null?x=T:_.sibling=T,_=T,E=P}if(k===w.length)return n(y,E),St&&_r(y,k),x;if(E===null){for(;k<w.length;k++)E=h(y,w[k],b),E!==null&&(m=s(E,m,k),_===null?x=E:_.sibling=E,_=E);return St&&_r(y,k),x}for(E=i(y,E);k<w.length;k++)P=d(E,y,k,w[k],b),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?k:P.key),m=s(P,m,k),_===null?x=P:_.sibling=P,_=P);return e&&E.forEach(function(I){return t(y,I)}),St&&_r(y,k),x}function g(y,m,w,b){var x=Ro(w);if(typeof x!="function")throw Error(A(150));if(w=x.call(w),w==null)throw Error(A(151));for(var _=x=null,E=m,k=m=0,P=null,T=w.next();E!==null&&!T.done;k++,T=w.next()){E.index>k?(P=E,E=null):P=E.sibling;var I=f(y,E,T.value,b);if(I===null){E===null&&(E=P);break}e&&E&&I.alternate===null&&t(y,E),m=s(I,m,k),_===null?x=I:_.sibling=I,_=I,E=P}if(T.done)return n(y,E),St&&_r(y,k),x;if(E===null){for(;!T.done;k++,T=w.next())T=h(y,T.value,b),T!==null&&(m=s(T,m,k),_===null?x=T:_.sibling=T,_=T);return St&&_r(y,k),x}for(E=i(y,E);!T.done;k++,T=w.next())T=d(E,y,k,T.value,b),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?k:T.key),m=s(T,m,k),_===null?x=T:_.sibling=T,_=T);return e&&E.forEach(function(q){return t(y,q)}),St&&_r(y,k),x}function v(y,m,w,b){if(typeof w=="object"&&w!==null&&w.type===_s&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case lu:t:{for(var x=w.key,_=m;_!==null;){if(_.key===x){if(x=w.type,x===_s){if(_.tag===7){n(y,_.sibling),m=r(_,w.props.children),m.return=y,y=m;break t}}else if(_.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===xi&&Jw(x)===_.type){n(y,_.sibling),m=r(_,w.props),m.ref=$o(y,_,w),m.return=y,y=m;break t}n(y,_);break}else t(y,_);_=_.sibling}w.type===_s?(m=Vr(w.props.children,y.mode,b,w.key),m.return=y,y=m):(b=uc(w.type,w.key,w.props,null,y.mode,b),b.ref=$o(y,m,w),b.return=y,y=b)}return o(y);case xs:t:{for(_=w.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(y,m.sibling),m=r(m,w.children||[]),m.return=y,y=m;break t}else{n(y,m);break}else t(y,m);m=m.sibling}m=Hd(w,y.mode,b),m.return=y,y=m}return o(y);case xi:return _=w._init,v(y,m,_(w._payload),b)}if(Xo(w))return p(y,m,w,b);if(Ro(w))return g(y,m,w,b);wu(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(y,m.sibling),m=r(m,w),m.return=y,y=m):(n(y,m),m=Ud(w,y.mode,b),m.return=y,y=m),o(y)):n(y,m)}return v}var Js=RE(!0),IE=RE(!1),Ol={},Ln=hr(Ol),qa=hr(Ol),Ga=hr(Ol);function Rr(e){if(e===Ol)throw Error(A(174));return e}function $y(e,t){switch(gt(Ga,t),gt(qa,e),gt(Ln,Ol),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ng(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ng(t,e)}bt(Ln),gt(Ln,t)}function Zs(){bt(Ln),bt(qa),bt(Ga)}function OE(e){Rr(Ga.current);var t=Rr(Ln.current),n=ng(t,e.type);t!==n&&(gt(qa,e),gt(Ln,n))}function Fy(e){qa.current===e&&(bt(Ln),bt(qa))}var Ct=hr(0);function qc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $d=[];function Vy(){for(var e=0;e<$d.length;e++)$d[e]._workInProgressVersionPrimary=null;$d.length=0}var rc=mi.ReactCurrentDispatcher,Fd=mi.ReactCurrentBatchConfig,Yr=0,Tt=null,Ht=null,Jt=null,Gc=!1,pa=!1,Ya=0,EI=0;function ce(){throw Error(A(321))}function By(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!En(e[n],t[n]))return!1;return!0}function jy(e,t,n,i,r,s){if(Yr=s,Tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rc.current=e===null||e.memoizedState===null?PI:AI,e=n(i,r),pa){s=0;do{if(pa=!1,Ya=0,25<=s)throw Error(A(301));s+=1,Jt=Ht=null,t.updateQueue=null,rc.current=DI,e=n(i,r)}while(pa)}if(rc.current=Yc,t=Ht!==null&&Ht.next!==null,Yr=0,Jt=Ht=Tt=null,Gc=!1,t)throw Error(A(300));return e}function zy(){var e=Ya!==0;return Ya=0,e}function Pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Tt.memoizedState=Jt=e:Jt=Jt.next=e,Jt}function cn(){if(Ht===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Ht.next;var t=Jt===null?Tt.memoizedState:Jt.next;if(t!==null)Jt=t,Ht=e;else{if(e===null)throw Error(A(310));Ht=e,e={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Jt===null?Tt.memoizedState=Jt=e:Jt=Jt.next=e}return Jt}function Xa(e,t){return typeof t=="function"?t(e):t}function Vd(e){var t=cn(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var i=Ht,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Yr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Tt.lanes|=c,Xr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,En(i,t.memoizedState)||(Le=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}if(e=n.interleaved,e!==null){r=e;do s=r.lane,Tt.lanes|=s,Xr|=s,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bd(e){var t=cn(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=e(s,o.action),o=o.next;while(o!==r);En(s,t.memoizedState)||(Le=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function LE(){}function NE(e,t){var n=Tt,i=cn(),r=t(),s=!En(i.memoizedState,r);if(s&&(i.memoizedState=r,Le=!0),i=i.queue,Uy(VE.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||Jt!==null&&Jt.memoizedState.tag&1){if(n.flags|=2048,Qa(9,FE.bind(null,n,i,r,t),void 0,null),te===null)throw Error(A(349));Yr&30||$E(n,t,r)}return r}function $E(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Tt.updateQueue,t===null?(t={lastEffect:null,stores:null},Tt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function FE(e,t,n,i){t.value=n,t.getSnapshot=i,BE(t)&&jE(e)}function VE(e,t,n){return n(function(){BE(t)&&jE(e)})}function BE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!En(e,n)}catch{return!0}}function jE(e){var t=li(e,1);t!==null&&_n(t,e,1,-1)}function Zw(e){var t=Pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:e},t.queue=e,e=e.dispatch=TI.bind(null,Tt,e),[t.memoizedState,e]}function Qa(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Tt.updateQueue,t===null?(t={lastEffect:null,stores:null},Tt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function zE(){return cn().memoizedState}function sc(e,t,n,i){var r=Pn();Tt.flags|=e,r.memoizedState=Qa(1|t,n,void 0,i===void 0?null:i)}function ef(e,t,n,i){var r=cn();i=i===void 0?null:i;var s=void 0;if(Ht!==null){var o=Ht.memoizedState;if(s=o.destroy,i!==null&&By(i,o.deps)){r.memoizedState=Qa(t,n,s,i);return}}Tt.flags|=e,r.memoizedState=Qa(1|t,n,s,i)}function t1(e,t){return sc(8390656,8,e,t)}function Uy(e,t){return ef(2048,8,e,t)}function UE(e,t){return ef(4,2,e,t)}function HE(e,t){return ef(4,4,e,t)}function WE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KE(e,t,n){return n=n!=null?n.concat([e]):null,ef(4,4,WE.bind(null,t,e),n)}function Hy(){}function qE(e,t){var n=cn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&By(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function GE(e,t){var n=cn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&By(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function YE(e,t,n){return Yr&21?(En(n,t)||(n=JS(),Tt.lanes|=n,Xr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=n)}function kI(e,t){var n=lt;lt=n!==0&&4>n?n:4,e(!0);var i=Fd.transition;Fd.transition={};try{e(!1),t()}finally{lt=n,Fd.transition=i}}function XE(){return cn().memoizedState}function CI(e,t,n){var i=zi(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},QE(e))JE(t,n);else if(n=PE(e,t,n,i),n!==null){var r=Pe();_n(n,e,i,r),ZE(n,t,i)}}function TI(e,t,n){var i=zi(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(QE(e))JE(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,En(a,o)){var l=t.interleaved;l===null?(r.next=r,Ly(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}n=PE(e,t,r,i),n!==null&&(r=Pe(),_n(n,e,i,r),ZE(n,t,i))}}function QE(e){var t=e.alternate;return e===Tt||t!==null&&t===Tt}function JE(e,t){pa=Gc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ZE(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,xy(e,n)}}var Yc={readContext:un,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useInsertionEffect:ce,useLayoutEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useMutableSource:ce,useSyncExternalStore:ce,useId:ce,unstable_isNewReconciler:!1},PI={readContext:un,useCallback:function(e,t){return Pn().memoizedState=[e,t===void 0?null:t],e},useContext:un,useEffect:t1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sc(4194308,4,WE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sc(4194308,4,e,t)},useInsertionEffect:function(e,t){return sc(4,2,e,t)},useMemo:function(e,t){var n=Pn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Pn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=CI.bind(null,Tt,e),[i.memoizedState,e]},useRef:function(e){var t=Pn();return e={current:e},t.memoizedState=e},useState:Zw,useDebugValue:Hy,useDeferredValue:function(e){return Pn().memoizedState=e},useTransition:function(){var e=Zw(!1),t=e[0];return e=kI.bind(null,e[1]),Pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Tt,r=Pn();if(St){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),te===null)throw Error(A(349));Yr&30||$E(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,t1(VE.bind(null,i,s,e),[e]),i.flags|=2048,Qa(9,FE.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=Pn(),t=te.identifierPrefix;if(St){var n=Jn,i=Qn;n=(i&~(1<<32-xn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ya++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=EI++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},AI={readContext:un,useCallback:qE,useContext:un,useEffect:Uy,useImperativeHandle:KE,useInsertionEffect:UE,useLayoutEffect:HE,useMemo:GE,useReducer:Vd,useRef:zE,useState:function(){return Vd(Xa)},useDebugValue:Hy,useDeferredValue:function(e){var t=cn();return YE(t,Ht.memoizedState,e)},useTransition:function(){var e=Vd(Xa)[0],t=cn().memoizedState;return[e,t]},useMutableSource:LE,useSyncExternalStore:NE,useId:XE,unstable_isNewReconciler:!1},DI={readContext:un,useCallback:qE,useContext:un,useEffect:Uy,useImperativeHandle:KE,useInsertionEffect:UE,useLayoutEffect:HE,useMemo:GE,useReducer:Bd,useRef:zE,useState:function(){return Bd(Xa)},useDebugValue:Hy,useDeferredValue:function(e){var t=cn();return Ht===null?t.memoizedState=e:YE(t,Ht.memoizedState,e)},useTransition:function(){var e=Bd(Xa)[0],t=cn().memoizedState;return[e,t]},useMutableSource:LE,useSyncExternalStore:NE,useId:XE,unstable_isNewReconciler:!1};function to(e,t){try{var n="",i=t;do n+=rR(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:r,digest:null}}function jd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function kg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var MI=typeof WeakMap=="function"?WeakMap:Map;function tk(e,t,n){n=ii(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Qc||(Qc=!0,Lg=i),kg(e,t)},n}function ek(e,t,n){n=ii(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){kg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){kg(e,t),typeof i!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function e1(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new MI;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=WI.bind(null,e,t,n),t.then(e,e))}function n1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function i1(e,t,n,i,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ii(-1,1),t.tag=2,Bi(n,t,1))),n.lanes|=1),e)}var RI=mi.ReactCurrentOwner,Le=!1;function Ce(e,t,n,i){t.child=e===null?IE(t,null,n,i):Js(t,e.child,n,i)}function r1(e,t,n,i,r){n=n.render;var s=t.ref;return js(t,r),i=jy(e,t,n,i,s,r),n=zy(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,ui(e,t,r)):(St&&n&&Ay(t),t.flags|=1,Ce(e,t,i,r),t.child)}function s1(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!Jy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,nk(e,t,s,i,r)):(e=uc(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ua,n(o,i)&&e.ref===t.ref)return ui(e,t,r)}return t.flags|=1,e=Ui(s,i),e.ref=t.ref,e.return=t,t.child=e}function nk(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Ua(s,i)&&e.ref===t.ref)if(Le=!1,t.pendingProps=i=s,(e.lanes&r)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,ui(e,t,r)}return Cg(e,t,n,i,r)}function ik(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(Rs,Ue),Ue|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,gt(Rs,Ue),Ue|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,gt(Rs,Ue),Ue|=i}else s!==null?(i=s.baseLanes|n,t.memoizedState=null):i=n,gt(Rs,Ue),Ue|=i;return Ce(e,t,r,n),t.child}function rk(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cg(e,t,n,i,r){var s=$e(n)?qr:xe.current;return s=Xs(t,s),js(t,r),n=jy(e,t,n,i,s,r),i=zy(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,ui(e,t,r)):(St&&i&&Ay(t),t.flags|=1,Ce(e,t,n,r),t.child)}function o1(e,t,n,i,r){if($e(n)){var s=!0;jc(t)}else s=!1;if(js(t,r),t.stateNode===null)oc(e,t),ME(t,n,i),Eg(t,n,i,r),i=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=un(u):(u=$e(n)?qr:xe.current,u=Xs(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&Qw(t,o,i,u),_i=!1;var f=t.memoizedState;o.state=f,Kc(t,i,o,r),l=t.memoizedState,a!==i||f!==l||Ne.current||_i?(typeof c=="function"&&(Sg(t,n,c,i),l=t.memoizedState),(a=_i||Xw(t,n,a,i,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,AE(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:gn(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=un(l):(l=$e(n)?qr:xe.current,l=Xs(t,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Qw(t,o,i,l),_i=!1,f=t.memoizedState,o.state=f,Kc(t,i,o,r);var p=t.memoizedState;a!==h||f!==p||Ne.current||_i?(typeof d=="function"&&(Sg(t,n,d,i),p=t.memoizedState),(u=_i||Xw(t,n,u,i,f,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),o.props=i,o.state=p,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return Tg(e,t,n,i,s,r)}function Tg(e,t,n,i,r,s){rk(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return r&&Ww(t,n,!1),ui(e,t,s);i=t.stateNode,RI.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=Js(t,e.child,null,s),t.child=Js(t,null,a,s)):Ce(e,t,a,s),t.memoizedState=i.state,r&&Ww(t,n,!0),t.child}function sk(e){var t=e.stateNode;t.pendingContext?Hw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hw(e,t.context,!1),$y(e,t.containerInfo)}function a1(e,t,n,i,r){return Qs(),My(r),t.flags|=256,Ce(e,t,n,i),t.child}var Pg={dehydrated:null,treeContext:null,retryLane:0};function Ag(e){return{baseLanes:e,cachePool:null,transitions:null}}function ok(e,t,n){var i=t.pendingProps,r=Ct.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(r&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),gt(Ct,r&1),e===null)return xg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sf(o,i,0,null),e=Vr(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ag(n),t.memoizedState=Pg,e):Wy(t,o));if(r=e.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return II(e,t,o,i,a,r,n);if(s){s=i.fallback,o=t.mode,r=e.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ui(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ui(a,s):(s=Vr(s,o,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=e.child.memoizedState,o=o===null?Ag(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Pg,i}return s=e.child,e=s.sibling,i=Ui(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Wy(e,t){return t=sf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bu(e,t,n,i){return i!==null&&My(i),Js(t,e.child,null,n),e=Wy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function II(e,t,n,i,r,s,o){if(n)return t.flags&256?(t.flags&=-257,i=jd(Error(A(422))),bu(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=sf({mode:"visible",children:i.children},r,0,null),s=Vr(s,r,o,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&Js(t,e.child,null,o),t.child.memoizedState=Ag(o),t.memoizedState=Pg,s);if(!(t.mode&1))return bu(e,t,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(A(419)),i=jd(s,i,void 0),bu(e,t,o,i)}if(a=(o&e.childLanes)!==0,Le||a){if(i=te,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,li(e,r),_n(i,e,r,-1))}return Qy(),i=jd(Error(A(421))),bu(e,t,o,i)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=KI.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,We=Vi(r.nextSibling),qe=t,St=!0,yn=null,e!==null&&(nn[rn++]=Qn,nn[rn++]=Jn,nn[rn++]=Gr,Qn=e.id,Jn=e.overflow,Gr=t),t=Wy(t,i.children),t.flags|=4096,t)}function l1(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),_g(e.return,t,n)}function zd(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function ak(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(Ce(e,t,i.children,n),i=Ct.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&l1(e,n,t);else if(e.tag===19)l1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(gt(Ct,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&qc(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),zd(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&qc(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}zd(t,!0,n,null,s);break;case"together":zd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ui(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=Ui(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ui(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function OI(e,t,n){switch(t.tag){case 3:sk(t),Qs();break;case 5:OE(t);break;case 1:$e(t.type)&&jc(t);break;case 4:$y(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;gt(Hc,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(gt(Ct,Ct.current&1),t.flags|=128,null):n&t.child.childLanes?ok(e,t,n):(gt(Ct,Ct.current&1),e=ui(e,t,n),e!==null?e.sibling:null);gt(Ct,Ct.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return ak(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),gt(Ct,Ct.current),i)break;return null;case 22:case 23:return t.lanes=0,ik(e,t,n)}return ui(e,t,n)}var lk,Dg,uk,ck;lk=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dg=function(){};uk=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Rr(Ln.current);var s=null;switch(n){case"input":r=Jp(e,r),i=Jp(e,i),s=[];break;case"select":r=Pt({},r,{value:void 0}),i=Pt({},i,{value:void 0}),s=[];break;case"textarea":r=eg(e,r),i=eg(e,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Vc)}ig(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Na.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Na.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&vt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};ck=function(e,t,n,i){n!==i&&(t.flags|=4)};function Fo(e,t){if(!St)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function he(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function LI(e,t,n){var i=t.pendingProps;switch(Dy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(t),null;case 1:return $e(t.type)&&Bc(),he(t),null;case 3:return i=t.stateNode,Zs(),bt(Ne),bt(xe),Vy(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(vu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yn!==null&&(Fg(yn),yn=null))),Dg(e,t),he(t),null;case 5:Fy(t);var r=Rr(Ga.current);if(n=t.type,e!==null&&t.stateNode!=null)uk(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(A(166));return he(t),null}if(e=Rr(Ln.current),vu(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[Mn]=t,i[Ka]=s,e=(t.mode&1)!==0,n){case"dialog":vt("cancel",i),vt("close",i);break;case"iframe":case"object":case"embed":vt("load",i);break;case"video":case"audio":for(r=0;r<Jo.length;r++)vt(Jo[r],i);break;case"source":vt("error",i);break;case"img":case"image":case"link":vt("error",i),vt("load",i);break;case"details":vt("toggle",i);break;case"input":yw(i,s),vt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},vt("invalid",i);break;case"textarea":ww(i,s),vt("invalid",i)}ig(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&yu(i.textContent,a,e),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&yu(i.textContent,a,e),r=["children",""+a]):Na.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&vt("scroll",i)}switch(n){case"input":uu(i),vw(i,s,!0);break;case"textarea":uu(i),bw(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Vc)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$S(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[Mn]=t,e[Ka]=i,lk(e,t,!1,!1),t.stateNode=e;t:{switch(o=rg(n,i),n){case"dialog":vt("cancel",e),vt("close",e),r=i;break;case"iframe":case"object":case"embed":vt("load",e),r=i;break;case"video":case"audio":for(r=0;r<Jo.length;r++)vt(Jo[r],e);r=i;break;case"source":vt("error",e),r=i;break;case"img":case"image":case"link":vt("error",e),vt("load",e),r=i;break;case"details":vt("toggle",e),r=i;break;case"input":yw(e,i),r=Jp(e,i),vt("invalid",e);break;case"option":r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=Pt({},i,{value:void 0}),vt("invalid",e);break;case"textarea":ww(e,i),r=eg(e,i),vt("invalid",e);break;default:r=i}ig(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?BS(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&FS(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$a(e,l):typeof l=="number"&&$a(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Na.hasOwnProperty(s)?l!=null&&s==="onScroll"&&vt("scroll",e):l!=null&&gy(e,s,l,o))}switch(n){case"input":uu(e),vw(e,i,!1);break;case"textarea":uu(e),bw(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Ji(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?$s(e,!!i.multiple,s,!1):i.defaultValue!=null&&$s(e,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Vc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return he(t),null;case 6:if(e&&t.stateNode!=null)ck(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(A(166));if(n=Rr(Ga.current),Rr(Ln.current),vu(t)){if(i=t.stateNode,n=t.memoizedProps,i[Mn]=t,(s=i.nodeValue!==n)&&(e=qe,e!==null))switch(e.tag){case 3:yu(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yu(i.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Mn]=t,t.stateNode=i}return he(t),null;case 13:if(bt(Ct),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(St&&We!==null&&t.mode&1&&!(t.flags&128))TE(),Qs(),t.flags|=98560,s=!1;else if(s=vu(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(A(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(A(317));s[Mn]=t}else Qs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;he(t),s=!1}else yn!==null&&(Fg(yn),yn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Ct.current&1?Kt===0&&(Kt=3):Qy())),t.updateQueue!==null&&(t.flags|=4),he(t),null);case 4:return Zs(),Dg(e,t),e===null&&Ha(t.stateNode.containerInfo),he(t),null;case 10:return Oy(t.type._context),he(t),null;case 17:return $e(t.type)&&Bc(),he(t),null;case 19:if(bt(Ct),s=t.memoizedState,s===null)return he(t),null;if(i=(t.flags&128)!==0,o=s.rendering,o===null)if(i)Fo(s,!1);else{if(Kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=qc(e),o!==null){for(t.flags|=128,Fo(s,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)s=n,e=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return gt(Ct,Ct.current&1|2),t.child}e=e.sibling}s.tail!==null&&$t()>eo&&(t.flags|=128,i=!0,Fo(s,!1),t.lanes=4194304)}else{if(!i)if(e=qc(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!St)return he(t),null}else 2*$t()-s.renderingStartTime>eo&&n!==1073741824&&(t.flags|=128,i=!0,Fo(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$t(),t.sibling=null,n=Ct.current,gt(Ct,i?n&1|2:n&1),t):(he(t),null);case 22:case 23:return Xy(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Ue&1073741824&&(he(t),t.subtreeFlags&6&&(t.flags|=8192)):he(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function NI(e,t){switch(Dy(t),t.tag){case 1:return $e(t.type)&&Bc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zs(),bt(Ne),bt(xe),Vy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fy(t),null;case 13:if(bt(Ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Qs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return bt(Ct),null;case 4:return Zs(),null;case 10:return Oy(t.type._context),null;case 22:case 23:return Xy(),null;case 24:return null;default:return null}}var xu=!1,ge=!1,$I=typeof WeakSet=="function"?WeakSet:Set,O=null;function Ms(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Dt(e,t,i)}else n.current=null}function Mg(e,t,n){try{n()}catch(i){Dt(e,t,i)}}var u1=!1;function FI(e,t){if(pg=Nc,e=pE(),Py(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var o=0,a=-1,l=-1,u=0,c=0,h=e,f=null;e:for(;;){for(var d;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===e)break e;if(f===n&&++u===r&&(a=o),f===s&&++c===i&&(l=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gg={focusedElem:e,selectionRange:n},Nc=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gn(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(b){Dt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return p=u1,u1=!1,p}function ga(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,s!==void 0&&Mg(t,n,s)}r=r.next}while(r!==i)}}function nf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Rg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hk(e){var t=e.alternate;t!==null&&(e.alternate=null,hk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mn],delete t[Ka],delete t[vg],delete t[bI],delete t[xI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fk(e){return e.tag===5||e.tag===3||e.tag===4}function c1(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||fk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ig(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vc));else if(i!==4&&(e=e.child,e!==null))for(Ig(e,t,n),e=e.sibling;e!==null;)Ig(e,t,n),e=e.sibling}function Og(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Og(e,t,n),e=e.sibling;e!==null;)Og(e,t,n),e=e.sibling}var ie=null,mn=!1;function vi(e,t,n){for(n=n.child;n!==null;)dk(e,t,n),n=n.sibling}function dk(e,t,n){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Gh,n)}catch{}switch(n.tag){case 5:ge||Ms(n,t);case 6:var i=ie,r=mn;ie=null,vi(e,t,n),ie=i,mn=r,ie!==null&&(mn?(e=ie,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ie.removeChild(n.stateNode));break;case 18:ie!==null&&(mn?(e=ie,n=n.stateNode,e.nodeType===8?Ld(e.parentNode,n):e.nodeType===1&&Ld(e,n),ja(e)):Ld(ie,n.stateNode));break;case 4:i=ie,r=mn,ie=n.stateNode.containerInfo,mn=!0,vi(e,t,n),ie=i,mn=r;break;case 0:case 11:case 14:case 15:if(!ge&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mg(n,t,o),r=r.next}while(r!==i)}vi(e,t,n);break;case 1:if(!ge&&(Ms(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Dt(n,t,a)}vi(e,t,n);break;case 21:vi(e,t,n);break;case 22:n.mode&1?(ge=(i=ge)||n.memoizedState!==null,vi(e,t,n),ge=i):vi(e,t,n);break;default:vi(e,t,n)}}function h1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $I),t.forEach(function(i){var r=qI.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}}function dn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:ie=a.stateNode,mn=!1;break t;case 3:ie=a.stateNode.containerInfo,mn=!0;break t;case 4:ie=a.stateNode.containerInfo,mn=!0;break t}a=a.return}if(ie===null)throw Error(A(160));dk(s,o,r),ie=null,mn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Dt(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pk(t,e),t=t.sibling}function pk(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dn(t,e),Cn(e),i&4){try{ga(3,e,e.return),nf(3,e)}catch(g){Dt(e,e.return,g)}try{ga(5,e,e.return)}catch(g){Dt(e,e.return,g)}}break;case 1:dn(t,e),Cn(e),i&512&&n!==null&&Ms(n,n.return);break;case 5:if(dn(t,e),Cn(e),i&512&&n!==null&&Ms(n,n.return),e.flags&32){var r=e.stateNode;try{$a(r,"")}catch(g){Dt(e,e.return,g)}}if(i&4&&(r=e.stateNode,r!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&LS(r,s),rg(a,o);var u=rg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?BS(r,h):c==="dangerouslySetInnerHTML"?FS(r,h):c==="children"?$a(r,h):gy(r,c,h,u)}switch(a){case"input":Zp(r,s);break;case"textarea":NS(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?$s(r,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?$s(r,!!s.multiple,s.defaultValue,!0):$s(r,!!s.multiple,s.multiple?[]:"",!1))}r[Ka]=s}catch(g){Dt(e,e.return,g)}}break;case 6:if(dn(t,e),Cn(e),i&4){if(e.stateNode===null)throw Error(A(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(g){Dt(e,e.return,g)}}break;case 3:if(dn(t,e),Cn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ja(t.containerInfo)}catch(g){Dt(e,e.return,g)}break;case 4:dn(t,e),Cn(e);break;case 13:dn(t,e),Cn(e),r=e.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Gy=$t())),i&4&&h1(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ge=(u=ge)||c,dn(t,e),ge=u):dn(t,e),Cn(e),i&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(h=O=c;O!==null;){switch(f=O,d=f.child,f.tag){case 0:case 11:case 14:case 15:ga(4,f,f.return);break;case 1:Ms(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){i=f,n=f.return;try{t=i,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Dt(i,n,g)}}break;case 5:Ms(f,f.return);break;case 22:if(f.memoizedState!==null){d1(h);continue}}d!==null?(d.return=f,O=d):d1(h)}c=c.sibling}t:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=VS("display",o))}catch(g){Dt(e,e.return,g)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Dt(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break t;for(;h.sibling===null;){if(h.return===null||h.return===e)break t;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:dn(t,e),Cn(e),i&4&&h1(e);break;case 21:break;default:dn(t,e),Cn(e)}}function Cn(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(fk(n)){var i=n;break t}n=n.return}throw Error(A(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&($a(r,""),i.flags&=-33);var s=c1(e);Og(e,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=c1(e);Ig(e,a,o);break;default:throw Error(A(161))}}catch(l){Dt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function VI(e,t,n){O=e,gk(e)}function gk(e,t,n){for(var i=(e.mode&1)!==0;O!==null;){var r=O,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||xu;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||ge;a=xu;var u=ge;if(xu=o,(ge=l)&&!u)for(O=r;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?p1(r):l!==null?(l.return=o,O=l):p1(r);for(;s!==null;)O=s,gk(s),s=s.sibling;O=r,xu=a,ge=u}f1(e)}else r.subtreeFlags&8772&&s!==null?(s.return=r,O=s):f1(e)}}function f1(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ge||nf(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!ge)if(n===null)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:gn(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Yw(t,s,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Yw(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ja(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}ge||t.flags&512&&Rg(t)}catch(f){Dt(t,t.return,f)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function d1(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function p1(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nf(4,t)}catch(l){Dt(t,n,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(l){Dt(t,r,l)}}var s=t.return;try{Rg(t)}catch(l){Dt(t,s,l)}break;case 5:var o=t.return;try{Rg(t)}catch(l){Dt(t,o,l)}}}catch(l){Dt(t,t.return,l)}if(t===e){O=null;break}var a=t.sibling;if(a!==null){a.return=t.return,O=a;break}O=t.return}}var BI=Math.ceil,Xc=mi.ReactCurrentDispatcher,Ky=mi.ReactCurrentOwner,an=mi.ReactCurrentBatchConfig,it=0,te=null,jt=null,oe=0,Ue=0,Rs=hr(0),Kt=0,Ja=null,Xr=0,rf=0,qy=0,ma=null,Ie=null,Gy=0,eo=1/0,Gn=null,Qc=!1,Lg=null,ji=null,_u=!1,Ai=null,Jc=0,ya=0,Ng=null,ac=-1,lc=0;function Pe(){return it&6?$t():ac!==-1?ac:ac=$t()}function zi(e){return e.mode&1?it&2&&oe!==0?oe&-oe:SI.transition!==null?(lc===0&&(lc=JS()),lc):(e=lt,e!==0||(e=window.event,e=e===void 0?16:sE(e.type)),e):1}function _n(e,t,n,i){if(50<ya)throw ya=0,Ng=null,Error(A(185));Ml(e,n,i),(!(it&2)||e!==te)&&(e===te&&(!(it&2)&&(rf|=n),Kt===4&&ki(e,oe)),Fe(e,i),n===1&&it===0&&!(t.mode&1)&&(eo=$t()+500,Zh&&fr()))}function Fe(e,t){var n=e.callbackNode;SR(e,t);var i=Lc(e,e===te?oe:0);if(i===0)n!==null&&Sw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Sw(n),t===1)e.tag===0?_I(g1.bind(null,e)):EE(g1.bind(null,e)),vI(function(){!(it&6)&&fr()}),n=null;else{switch(ZS(i)){case 1:n=by;break;case 4:n=XS;break;case 16:n=Oc;break;case 536870912:n=QS;break;default:n=Oc}n=Sk(n,mk.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mk(e,t){if(ac=-1,lc=0,it&6)throw Error(A(327));var n=e.callbackNode;if(zs()&&e.callbackNode!==n)return null;var i=Lc(e,e===te?oe:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Zc(e,i);else{t=i;var r=it;it|=2;var s=vk();(te!==e||oe!==t)&&(Gn=null,eo=$t()+500,Fr(e,t));do try{UI();break}catch(a){yk(e,a)}while(1);Iy(),Xc.current=s,it=r,jt!==null?t=0:(te=null,oe=0,t=Kt)}if(t!==0){if(t===2&&(r=ug(e),r!==0&&(i=r,t=$g(e,r))),t===1)throw n=Ja,Fr(e,0),ki(e,i),Fe(e,$t()),n;if(t===6)ki(e,i);else{if(r=e.current.alternate,!(i&30)&&!jI(r)&&(t=Zc(e,i),t===2&&(s=ug(e),s!==0&&(i=s,t=$g(e,s))),t===1))throw n=Ja,Fr(e,0),ki(e,i),Fe(e,$t()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(A(345));case 2:Sr(e,Ie,Gn);break;case 3:if(ki(e,i),(i&130023424)===i&&(t=Gy+500-$t(),10<t)){if(Lc(e,0)!==0)break;if(r=e.suspendedLanes,(r&i)!==i){Pe(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=yg(Sr.bind(null,e,Ie,Gn),t);break}Sr(e,Ie,Gn);break;case 4:if(ki(e,i),(i&4194240)===i)break;for(t=e.eventTimes,r=-1;0<i;){var o=31-xn(i);s=1<<o,o=t[o],o>r&&(r=o),i&=~s}if(i=r,i=$t()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*BI(i/1960))-i,10<i){e.timeoutHandle=yg(Sr.bind(null,e,Ie,Gn),i);break}Sr(e,Ie,Gn);break;case 5:Sr(e,Ie,Gn);break;default:throw Error(A(329))}}}return Fe(e,$t()),e.callbackNode===n?mk.bind(null,e):null}function $g(e,t){var n=ma;return e.current.memoizedState.isDehydrated&&(Fr(e,t).flags|=256),e=Zc(e,t),e!==2&&(t=Ie,Ie=n,t!==null&&Fg(t)),e}function Fg(e){Ie===null?Ie=e:Ie.push.apply(Ie,e)}function jI(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!En(s(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ki(e,t){for(t&=~qy,t&=~rf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xn(t),i=1<<n;e[n]=-1,t&=~i}}function g1(e){if(it&6)throw Error(A(327));zs();var t=Lc(e,0);if(!(t&1))return Fe(e,$t()),null;var n=Zc(e,t);if(e.tag!==0&&n===2){var i=ug(e);i!==0&&(t=i,n=$g(e,i))}if(n===1)throw n=Ja,Fr(e,0),ki(e,t),Fe(e,$t()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sr(e,Ie,Gn),Fe(e,$t()),null}function Yy(e,t){var n=it;it|=1;try{return e(t)}finally{it=n,it===0&&(eo=$t()+500,Zh&&fr())}}function Qr(e){Ai!==null&&Ai.tag===0&&!(it&6)&&zs();var t=it;it|=1;var n=an.transition,i=lt;try{if(an.transition=null,lt=1,e)return e()}finally{lt=i,an.transition=n,it=t,!(it&6)&&fr()}}function Xy(){Ue=Rs.current,bt(Rs)}function Fr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yI(n)),jt!==null)for(n=jt.return;n!==null;){var i=n;switch(Dy(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Bc();break;case 3:Zs(),bt(Ne),bt(xe),Vy();break;case 5:Fy(i);break;case 4:Zs();break;case 13:bt(Ct);break;case 19:bt(Ct);break;case 10:Oy(i.type._context);break;case 22:case 23:Xy()}n=n.return}if(te=e,jt=e=Ui(e.current,null),oe=Ue=t,Kt=0,Ja=null,qy=rf=Xr=0,Ie=ma=null,Mr!==null){for(t=0;t<Mr.length;t++)if(n=Mr[t],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Mr=null}return e}function yk(e,t){do{var n=jt;try{if(Iy(),rc.current=Yc,Gc){for(var i=Tt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Gc=!1}if(Yr=0,Jt=Ht=Tt=null,pa=!1,Ya=0,Ky.current=null,n===null||n.return===null){Kt=1,Ja=t,jt=null;break}t:{var s=e,o=n.return,a=n,l=t;if(t=oe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=n1(o);if(d!==null){d.flags&=-257,i1(d,o,a,s,t),d.mode&1&&e1(s,u,t),t=d,l=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break t}else{if(!(t&1)){e1(s,u,t),Qy();break t}l=Error(A(426))}}else if(St&&a.mode&1){var v=n1(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),i1(v,o,a,s,t),My(to(l,a));break t}}s=l=to(l,a),Kt!==4&&(Kt=2),ma===null?ma=[s]:ma.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=tk(s,l,t);Gw(s,y);break t;case 1:a=l;var m=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ji===null||!ji.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=ek(s,a,t);Gw(s,b);break t}}s=s.return}while(s!==null)}bk(n)}catch(x){t=x,jt===n&&n!==null&&(jt=n=n.return);continue}break}while(1)}function vk(){var e=Xc.current;return Xc.current=Yc,e===null?Yc:e}function Qy(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),te===null||!(Xr&268435455)&&!(rf&268435455)||ki(te,oe)}function Zc(e,t){var n=it;it|=2;var i=vk();(te!==e||oe!==t)&&(Gn=null,Fr(e,t));do try{zI();break}catch(r){yk(e,r)}while(1);if(Iy(),it=n,Xc.current=i,jt!==null)throw Error(A(261));return te=null,oe=0,Kt}function zI(){for(;jt!==null;)wk(jt)}function UI(){for(;jt!==null&&!pR();)wk(jt)}function wk(e){var t=_k(e.alternate,e,Ue);e.memoizedProps=e.pendingProps,t===null?bk(e):jt=t,Ky.current=null}function bk(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=NI(n,t),n!==null){n.flags&=32767,jt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Kt=6,jt=null;return}}else if(n=LI(n,t,Ue),n!==null){jt=n;return}if(t=t.sibling,t!==null){jt=t;return}jt=t=e}while(t!==null);Kt===0&&(Kt=5)}function Sr(e,t,n){var i=lt,r=an.transition;try{an.transition=null,lt=1,HI(e,t,n,i)}finally{an.transition=r,lt=i}return null}function HI(e,t,n,i){do zs();while(Ai!==null);if(it&6)throw Error(A(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(ER(e,s),e===te&&(jt=te=null,oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_u||(_u=!0,Sk(Oc,function(){return zs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=an.transition,an.transition=null;var o=lt;lt=1;var a=it;it|=4,Ky.current=null,FI(e,n),pk(n,e),cI(gg),Nc=!!pg,gg=pg=null,e.current=n,VI(n),gR(),it=a,lt=o,an.transition=s}else e.current=n;if(_u&&(_u=!1,Ai=e,Jc=r),s=e.pendingLanes,s===0&&(ji=null),vR(n.stateNode),Fe(e,$t()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Qc)throw Qc=!1,e=Lg,Lg=null,e;return Jc&1&&e.tag!==0&&zs(),s=e.pendingLanes,s&1?e===Ng?ya++:(ya=0,Ng=e):ya=0,fr(),null}function zs(){if(Ai!==null){var e=ZS(Jc),t=an.transition,n=lt;try{if(an.transition=null,lt=16>e?16:e,Ai===null)var i=!1;else{if(e=Ai,Ai=null,Jc=0,it&6)throw Error(A(331));var r=it;for(it|=4,O=e.current;O!==null;){var s=O,o=s.child;if(O.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:ga(8,c,s)}var h=c.child;if(h!==null)h.return=c,O=h;else for(;O!==null;){c=O;var f=c.sibling,d=c.return;if(hk(c),c===u){O=null;break}if(f!==null){f.return=d,O=f;break}O=d}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}O=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,O=o;else t:for(;O!==null;){if(s=O,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ga(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,O=y;break t}O=s.return}}var m=e.current;for(O=m;O!==null;){o=O;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,O=w;else t:for(o=m;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nf(9,a)}}catch(x){Dt(a,a.return,x)}if(a===o){O=null;break t}var b=a.sibling;if(b!==null){b.return=a.return,O=b;break t}O=a.return}}if(it=r,fr(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Gh,e)}catch{}i=!0}return i}finally{lt=n,an.transition=t}}return!1}function m1(e,t,n){t=to(n,t),t=tk(e,t,1),e=Bi(e,t,1),t=Pe(),e!==null&&(Ml(e,1,t),Fe(e,t))}function Dt(e,t,n){if(e.tag===3)m1(e,e,n);else for(;t!==null;){if(t.tag===3){m1(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ji===null||!ji.has(i))){e=to(n,e),e=ek(t,e,1),t=Bi(t,e,1),e=Pe(),t!==null&&(Ml(t,1,e),Fe(t,e));break}}t=t.return}}function WI(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&n,te===e&&(oe&n)===n&&(Kt===4||Kt===3&&(oe&130023424)===oe&&500>$t()-Gy?Fr(e,0):qy|=n),Fe(e,t)}function xk(e,t){t===0&&(e.mode&1?(t=fu,fu<<=1,!(fu&130023424)&&(fu=4194304)):t=1);var n=Pe();e=li(e,t),e!==null&&(Ml(e,t,n),Fe(e,n))}function KI(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xk(e,n)}function qI(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(A(314))}i!==null&&i.delete(t),xk(e,n)}var _k;_k=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ne.current)Le=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Le=!1,OI(e,t,n);Le=!!(e.flags&131072)}else Le=!1,St&&t.flags&1048576&&kE(t,Uc,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;oc(e,t),e=t.pendingProps;var r=Xs(t,xe.current);js(t,n),r=jy(null,t,i,e,r,n);var s=zy();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$e(i)?(s=!0,jc(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ny(t),r.updater=tf,t.stateNode=r,r._reactInternals=t,Eg(t,i,e,n),t=Tg(null,t,i,!0,s,n)):(t.tag=0,St&&s&&Ay(t),Ce(null,t,r,n),t=t.child),t;case 16:i=t.elementType;t:{switch(oc(e,t),e=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=YI(i),e=gn(i,e),r){case 0:t=Cg(null,t,i,e,n);break t;case 1:t=o1(null,t,i,e,n);break t;case 11:t=r1(null,t,i,e,n);break t;case 14:t=s1(null,t,i,gn(i.type,e),n);break t}throw Error(A(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:gn(i,r),Cg(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:gn(i,r),o1(e,t,i,r,n);case 3:t:{if(sk(t),e===null)throw Error(A(387));i=t.pendingProps,s=t.memoizedState,r=s.element,AE(e,t),Kc(t,i,null,n);var o=t.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=to(Error(A(423)),t),t=a1(e,t,i,n,r);break t}else if(i!==r){r=to(Error(A(424)),t),t=a1(e,t,i,n,r);break t}else for(We=Vi(t.stateNode.containerInfo.firstChild),qe=t,St=!0,yn=null,n=IE(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qs(),i===r){t=ui(e,t,n);break t}Ce(e,t,i,n)}t=t.child}return t;case 5:return OE(t),e===null&&xg(t),i=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,o=r.children,mg(i,r)?o=null:s!==null&&mg(i,s)&&(t.flags|=32),rk(e,t),Ce(e,t,o,n),t.child;case 6:return e===null&&xg(t),null;case 13:return ok(e,t,n);case 4:return $y(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Js(t,null,i,n):Ce(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:gn(i,r),r1(e,t,i,r,n);case 7:return Ce(e,t,t.pendingProps,n),t.child;case 8:return Ce(e,t,t.pendingProps.children,n),t.child;case 12:return Ce(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,gt(Hc,i._currentValue),i._currentValue=o,s!==null)if(En(s.value,o)){if(s.children===r.children&&!Ne.current){t=ui(e,t,n);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=ii(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),_g(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(A(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),_g(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ce(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,js(t,n),r=un(r),i=i(r),t.flags|=1,Ce(e,t,i,n),t.child;case 14:return i=t.type,r=gn(i,t.pendingProps),r=gn(i.type,r),s1(e,t,i,r,n);case 15:return nk(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:gn(i,r),oc(e,t),t.tag=1,$e(i)?(e=!0,jc(t)):e=!1,js(t,n),ME(t,i,r),Eg(t,i,r,n),Tg(null,t,i,!0,e,n);case 19:return ak(e,t,n);case 22:return ik(e,t,n)}throw Error(A(156,t.tag))};function Sk(e,t){return YS(e,t)}function GI(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,i){return new GI(e,t,n,i)}function Jy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function YI(e){if(typeof e=="function")return Jy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yy)return 11;if(e===vy)return 14}return 2}function Ui(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function uc(e,t,n,i,r,s){var o=2;if(i=e,typeof e=="function")Jy(e)&&(o=1);else if(typeof e=="string")o=5;else t:switch(e){case _s:return Vr(n.children,r,s,t);case my:o=8,r|=8;break;case Gp:return e=on(12,n,t,r|2),e.elementType=Gp,e.lanes=s,e;case Yp:return e=on(13,n,t,r),e.elementType=Yp,e.lanes=s,e;case Xp:return e=on(19,n,t,r),e.elementType=Xp,e.lanes=s,e;case RS:return sf(n,r,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case DS:o=10;break t;case MS:o=9;break t;case yy:o=11;break t;case vy:o=14;break t;case xi:o=16,i=null;break t}throw Error(A(130,e==null?e:typeof e,""))}return t=on(o,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function Vr(e,t,n,i){return e=on(7,e,i,t),e.lanes=n,e}function sf(e,t,n,i){return e=on(22,e,i,t),e.elementType=RS,e.lanes=n,e.stateNode={isHidden:!1},e}function Ud(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function Hd(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function XI(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ed(0),this.expirationTimes=Ed(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ed(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Zy(e,t,n,i,r,s,o,a,l){return e=new XI(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=on(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ny(s),e}function QI(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xs,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Ek(e){if(!e)return Zi;e=e._reactInternals;t:{if(os(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if($e(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if($e(n))return SE(e,n,t)}return t}function kk(e,t,n,i,r,s,o,a,l){return e=Zy(n,i,!0,e,r,s,o,a,l),e.context=Ek(null),n=e.current,i=Pe(),r=zi(n),s=ii(i,r),s.callback=t??null,Bi(n,s,r),e.current.lanes=r,Ml(e,r,i),Fe(e,i),e}function of(e,t,n,i){var r=t.current,s=Pe(),o=zi(r);return n=Ek(n),t.context===null?t.context=n:t.pendingContext=n,t=ii(s,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Bi(r,t,o),e!==null&&(_n(e,r,o,s),ic(e,r,o)),o}function th(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function y1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tv(e,t){y1(e,t),(e=e.alternate)&&y1(e,t)}function JI(){return null}var Ck=typeof reportError=="function"?reportError:function(e){console.error(e)};function ev(e){this._internalRoot=e}af.prototype.render=ev.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));of(e,t,null,null)};af.prototype.unmount=ev.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qr(function(){of(null,e,null,null)}),t[ai]=null}};function af(e){this._internalRoot=e}af.prototype.unstable_scheduleHydration=function(e){if(e){var t=nE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ei.length&&t!==0&&t<Ei[n].priority;n++);Ei.splice(n,0,e),n===0&&rE(e)}};function nv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function v1(){}function ZI(e,t,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=th(o);s.call(u)}}var o=kk(t,i,e,0,null,!1,!1,"",v1);return e._reactRootContainer=o,e[ai]=o.current,Ha(e.nodeType===8?e.parentNode:e),Qr(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=th(l);a.call(u)}}var l=Zy(e,0,!1,null,null,!1,!1,"",v1);return e._reactRootContainer=l,e[ai]=l.current,Ha(e.nodeType===8?e.parentNode:e),Qr(function(){of(t,l,n,i)}),l}function uf(e,t,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=th(o);a.call(l)}}of(t,o,e,r)}else o=ZI(n,t,e,r,i);return th(o)}tE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qo(t.pendingLanes);n!==0&&(xy(t,n|1),Fe(t,$t()),!(it&6)&&(eo=$t()+500,fr()))}break;case 13:Qr(function(){var i=li(e,1);if(i!==null){var r=Pe();_n(i,e,1,r)}}),tv(e,1)}};_y=function(e){if(e.tag===13){var t=li(e,134217728);if(t!==null){var n=Pe();_n(t,e,134217728,n)}tv(e,134217728)}};eE=function(e){if(e.tag===13){var t=zi(e),n=li(e,t);if(n!==null){var i=Pe();_n(n,e,t,i)}tv(e,t)}};nE=function(){return lt};iE=function(e,t){var n=lt;try{return lt=e,t()}finally{lt=n}};og=function(e,t,n){switch(t){case"input":if(Zp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Jh(i);if(!r)throw Error(A(90));OS(i),Zp(i,r)}}}break;case"textarea":NS(e,n);break;case"select":t=n.value,t!=null&&$s(e,!!n.multiple,t,!1)}};US=Yy;HS=Qr;var tO={usingClientEntryPoint:!1,Events:[Il,Cs,Jh,jS,zS,Yy]},Vo={findFiberByHostInstance:Dr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},eO={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qS(e),e===null?null:e.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||JI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{Gh=Su.inject(eO),On=Su}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tO;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nv(t))throw Error(A(200));return QI(e,t,null,n)};Je.createRoot=function(e,t){if(!nv(e))throw Error(A(299));var n=!1,i="",r=Ck;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Zy(e,1,!1,null,null,n,!1,i,r),e[ai]=t.current,Ha(e.nodeType===8?e.parentNode:e),new ev(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=qS(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return Qr(e)};Je.hydrate=function(e,t,n){if(!lf(t))throw Error(A(200));return uf(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!nv(e))throw Error(A(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=Ck;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=kk(t,null,e,1,n??null,r,!1,s,o),e[ai]=t.current,Ha(e),i)for(e=0;e<i.length;e++)n=i[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new af(t)};Je.render=function(e,t,n){if(!lf(t))throw Error(A(200));return uf(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!lf(e))throw Error(A(40));return e._reactRootContainer?(Qr(function(){uf(null,null,e,!1,function(){e._reactRootContainer=null,e[ai]=null})}),!0):!1};Je.unstable_batchedUpdates=Yy;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!lf(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return uf(e,t,n,!1,i)};Je.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Je})(JM);var w1=Dc;Wp.createRoot=w1.createRoot,Wp.hydrateRoot=w1.hydrateRoot;/**
 * @remix-run/router v1.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Za(){return Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Za.apply(this,arguments)}var Di;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Di||(Di={}));const b1="popstate";function nO(e){e===void 0&&(e={});function t(i,r){let{pathname:s,search:o,hash:a}=i.location;return Vg("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:eh(r)}return sO(t,n,null,e)}function zt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function iO(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rO(){return Math.random().toString(36).substr(2,8)}function x1(e,t){return{usr:e.state,key:e.key,idx:t}}function Vg(e,t,n,i){return n===void 0&&(n=null),Za({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xo(t):t,{state:n,key:t&&t.key||i||rO()})}function eh(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function xo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function sO(e,t,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Di.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Za({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){let v=Di.Pop,y=c();if(y!=null){let m=y-u;a=v,u=y,l&&l({action:a,location:g.location,delta:m})}else iO(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function f(v,y){a=Di.Push;let m=Vg(g.location,v,y);n&&n(m,v),u=c()+1;let w=x1(m,u),b=g.createHref(m);try{o.pushState(w,"",b)}catch{r.location.assign(b)}s&&l&&l({action:a,location:g.location,delta:1})}function d(v,y){a=Di.Replace;let m=Vg(g.location,v,y);n&&n(m,v),u=c();let w=x1(m,u),b=g.createHref(m);o.replaceState(w,"",b),s&&l&&l({action:a,location:g.location,delta:0})}function p(v){let y=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof v=="string"?v:eh(v);return zt(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let g={get action(){return a},get location(){return e(r,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(b1,h),l=v,()=>{r.removeEventListener(b1,h),l=null}},createHref(v){return t(r,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:d,go(v){return o.go(v)}};return g}var _1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_1||(_1={}));function oO(e,t,n){n===void 0&&(n="/");let i=typeof t=="string"?xo(t):t,r=Ak(i.pathname||"/",n);if(r==null)return null;let s=Tk(e);aO(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=mO(s[a],wO(r));return o}function Tk(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(zt(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=Hi([i,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(zt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Tk(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:pO(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of Pk(s.path))r(s,o,l)}),t}function Pk(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=Pk(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function aO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:gO(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const lO=/^:\w+$/,uO=3,cO=2,hO=1,fO=10,dO=-2,S1=e=>e==="*";function pO(e,t){let n=e.split("/"),i=n.length;return n.some(S1)&&(i+=dO),t&&(i+=cO),n.filter(r=>!S1(r)).reduce((r,s)=>r+(lO.test(s)?uO:s===""?hO:fO),i)}function gO(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function mO(e,t){let{routesMeta:n}=e,i={},r="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=r==="/"?t:t.slice(r.length)||"/",c=yO({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(i,c.params);let h=a.route;s.push({params:i,pathname:Hi([r,c.pathname]),pathnameBase:SO(Hi([r,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(r=Hi([r,c.pathnameBase]))}return s}function yO(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=vO(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,c,h)=>{if(c==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=bO(a[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function vO(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),iv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return e.endsWith("*")?(i.push("*"),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function wO(e){try{return decodeURI(e)}catch(t){return iv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bO(e,t){try{return decodeURIComponent(e)}catch(n){return iv(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Ak(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function iv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xO(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?xo(e):e;return{pathname:n?n.startsWith("/")?n:_O(n,t):t,search:EO(i),hash:kO(r)}}function _O(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Wd(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dk(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Mk(e,t,n,i){i===void 0&&(i=!1);let r;typeof e=="string"?r=xo(e):(r=Za({},e),zt(!r.pathname||!r.pathname.includes("?"),Wd("?","pathname","search",r)),zt(!r.pathname||!r.pathname.includes("#"),Wd("#","pathname","hash",r)),zt(!r.search||!r.search.includes("#"),Wd("#","search","hash",r)));let s=e===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=n;else{let h=t.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=xO(r,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Hi=e=>e.join("/").replace(/\/\/+/g,"/"),SO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class CO{constructor(t,n,i,r){r===void 0&&(r=!1),this.status=t,this.statusText=n||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function TO(e){return e instanceof CO}const PO=["post","put","patch","delete"];[...PO];/**
 * React Router v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Bg.apply(this,arguments)}function AO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const DO=typeof Object.is=="function"?Object.is:AO,{useState:MO,useEffect:RO,useLayoutEffect:IO,useDebugValue:OO}=Hp;function LO(e,t,n){const i=t(),[{inst:r},s]=MO({inst:{value:i,getSnapshot:t}});return IO(()=>{r.value=i,r.getSnapshot=t,Kd(r)&&s({inst:r})},[e,i,t]),RO(()=>(Kd(r)&&s({inst:r}),e(()=>{Kd(r)&&s({inst:r})})),[e]),OO(i),i}function Kd(e){const t=e.getSnapshot,n=e.value;try{const i=t();return!DO(n,i)}catch{return!0}}function NO(e,t,n){return t()}const $O=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FO=!$O,VO=FO?NO:LO;"useSyncExternalStore"in Hp&&(e=>e.useSyncExternalStore)(Hp);const Rk=S.createContext(null),rv=S.createContext(null),cf=S.createContext(null),hf=S.createContext(null),as=S.createContext({outlet:null,matches:[]}),Ik=S.createContext(null);function BO(e,t){let{relative:n}=t===void 0?{}:t;_o()||zt(!1);let{basename:i,navigator:r}=S.useContext(cf),{hash:s,pathname:o,search:a}=Ok(e,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Hi([i,o])),r.createHref({pathname:l,search:a,hash:s})}function _o(){return S.useContext(hf)!=null}function Ll(){return _o()||zt(!1),S.useContext(hf).location}function Nl(){_o()||zt(!1);let{basename:e,navigator:t}=S.useContext(cf),{matches:n}=S.useContext(as),{pathname:i}=Ll(),r=JSON.stringify(Dk(n).map(a=>a.pathnameBase)),s=S.useRef(!1);return S.useEffect(()=>{s.current=!0}),S.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){t.go(a);return}let u=Mk(a,JSON.parse(r),i,l.relative==="path");e!=="/"&&(u.pathname=u.pathname==="/"?e:Hi([e,u.pathname])),(l.replace?t.replace:t.push)(u,l.state,l)},[e,t,r,i])}function jO(){let{matches:e}=S.useContext(as),t=e[e.length-1];return t?t.params:{}}function Ok(e,t){let{relative:n}=t===void 0?{}:t,{matches:i}=S.useContext(as),{pathname:r}=Ll(),s=JSON.stringify(Dk(i).map(o=>o.pathnameBase));return S.useMemo(()=>Mk(e,JSON.parse(s),r,n==="path"),[e,s,r,n])}function zO(e,t){_o()||zt(!1);let{navigator:n}=S.useContext(cf),i=S.useContext(rv),{matches:r}=S.useContext(as),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Ll(),u;if(t){var c;let g=typeof t=="string"?xo(t):t;a==="/"||(c=g.pathname)!=null&&c.startsWith(a)||zt(!1),u=g}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",d=oO(e,{pathname:f}),p=KO(d&&d.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Hi([a,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Hi([a,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),r,i||void 0);return t&&p?S.createElement(hf.Provider,{value:{location:Bg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Di.Pop}},p):p}function UO(){let e=XO(),t=TO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unhandled Thrown Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:r},n):null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:s},"errorElement")," props on ",S.createElement("code",{style:s},"<Route>")))}class HO extends S.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?S.createElement(as.Provider,{value:this.props.routeContext},S.createElement(Ik.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WO(e){let{routeContext:t,match:n,children:i}=e,r=S.useContext(Rk);return r&&r.static&&r.staticContext&&n.route.errorElement&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(as.Provider,{value:t},i)}function KO(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let i=e,r=n==null?void 0:n.errors;if(r!=null){let s=i.findIndex(o=>o.route.id&&(r==null?void 0:r[o.route.id]));s>=0||zt(!1),i=i.slice(0,Math.min(i.length,s+1))}return i.reduceRight((s,o,a)=>{let l=o.route.id?r==null?void 0:r[o.route.id]:null,u=n?o.route.errorElement||S.createElement(UO,null):null,c=t.concat(i.slice(0,a+1)),h=()=>S.createElement(WO,{match:o,routeContext:{outlet:s,matches:c}},l?u:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?S.createElement(HO,{location:n.location,component:u,error:l,children:h(),routeContext:{outlet:null,matches:c}}):h()},null)}var E1;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(E1||(E1={}));var nh;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(nh||(nh={}));function qO(e){let t=S.useContext(rv);return t||zt(!1),t}function GO(e){let t=S.useContext(as);return t||zt(!1),t}function YO(e){let t=GO(),n=t.matches[t.matches.length-1];return n.route.id||zt(!1),n.route.id}function XO(){var e;let t=S.useContext(Ik),n=qO(nh.UseRouteError),i=YO(nh.UseRouteError);return t||((e=n.errors)==null?void 0:e[i])}function QO(e){let{to:t,replace:n,state:i,relative:r}=e;_o()||zt(!1);let s=S.useContext(rv),o=Nl();return S.useEffect(()=>{s&&s.navigation.state!=="idle"||o(t,{replace:n,state:i,relative:r})}),null}function ys(e){zt(!1)}function JO(e){let{basename:t="/",children:n=null,location:i,navigationType:r=Di.Pop,navigator:s,static:o=!1}=e;_o()&&zt(!1);let a=t.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=xo(i));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:d="default"}=i,p=S.useMemo(()=>{let g=Ak(u,a);return g==null?null:{pathname:g,search:c,hash:h,state:f,key:d}},[a,u,c,h,f,d]);return p==null?null:S.createElement(cf.Provider,{value:l},S.createElement(hf.Provider,{children:n,value:{location:p,navigationType:r}}))}function ZO(e){let{children:t,location:n}=e,i=S.useContext(Rk),r=i&&!t?i.router.routes:jg(t);return zO(r,n)}var k1;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(k1||(k1={}));new Promise(()=>{});function jg(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(i,r)=>{if(!S.isValidElement(i))return;if(i.type===S.Fragment){n.push.apply(n,jg(i.props.children,t));return}i.type!==ys&&zt(!1),!i.props.index||!i.props.children||zt(!1);let s=[...t,r],o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,hasErrorBoundary:i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle};i.props.children&&(o.children=jg(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zg.apply(this,arguments)}function tL(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function eL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nL(e,t){return e.button===0&&(!t||t==="_self")&&!eL(e)}const iL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function rL(e){let{basename:t,children:n,window:i}=e,r=S.useRef();r.current==null&&(r.current=nO({window:i,v5Compat:!0}));let s=r.current,[o,a]=S.useState({action:s.action,location:s.location});return S.useLayoutEffect(()=>s.listen(a),[s]),S.createElement(JO,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}const qd=S.forwardRef(function(t,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=t,h=tL(t,iL),f=BO(u,{relative:r}),d=sL(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:r});function p(g){i&&i(g),g.defaultPrevented||d(g)}return S.createElement("a",zg({},h,{href:f,onClick:s?i:p,ref:n,target:l}))});var C1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(C1||(C1={}));var T1;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(T1||(T1={}));function sL(e,t){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o}=t===void 0?{}:t,a=Nl(),l=Ll(),u=Ok(e,{relative:o});return S.useCallback(c=>{if(nL(c,n)){c.preventDefault();let h=i!==void 0?i:eh(l)===eh(u);a(e,{replace:h,state:r,preventScrollReset:s,relative:o})}},[l,a,u,i,r,n,e,s,o])}var Ug={},oL={get exports(){return Ug},set exports(e){Ug=e}},Lk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var no=S;function aL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lL=typeof Object.is=="function"?Object.is:aL,uL=no.useState,cL=no.useEffect,hL=no.useLayoutEffect,fL=no.useDebugValue;function dL(e,t){var n=t(),i=uL({inst:{value:n,getSnapshot:t}}),r=i[0].inst,s=i[1];return hL(function(){r.value=n,r.getSnapshot=t,Gd(r)&&s({inst:r})},[e,n,t]),cL(function(){return Gd(r)&&s({inst:r}),e(function(){Gd(r)&&s({inst:r})})},[e]),fL(n),n}function Gd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lL(e,n)}catch{return!0}}function pL(e,t){return t()}var gL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pL:dL;Lk.useSyncExternalStore=no.useSyncExternalStore!==void 0?no.useSyncExternalStore:gL;(function(e){e.exports=Lk})(oL);var Hg={},mL={get exports(){return Hg},set exports(e){Hg=e}},Nk={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=S,yL=Ug;function vL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wL=typeof Object.is=="function"?Object.is:vL,bL=yL.useSyncExternalStore,xL=ff.useRef,_L=ff.useEffect,SL=ff.useMemo,EL=ff.useDebugValue;Nk.useSyncExternalStoreWithSelector=function(e,t,n,i,r){var s=xL(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=SL(function(){function l(d){if(!u){if(u=!0,c=d,d=i(d),r!==void 0&&o.hasValue){var p=o.value;if(r(p,d))return h=p}return h=d}if(p=h,wL(c,d))return p;var g=i(d);return r!==void 0&&r(p,g)?p:(c=d,h=g)}var u=!1,c,h,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,i,r]);var a=bL(e,s[0],s[1]);return _L(function(){o.hasValue=!0,o.value=a},[a]),EL(a),a};(function(e){e.exports=Nk})(mL);function kL(e){e()}let $k=kL;const CL=e=>$k=e,TL=()=>$k,tr=S.createContext(null);function Fk(){return S.useContext(tr)}const PL=()=>{throw new Error("uSES not initialized!")};let Vk=PL;const AL=e=>{Vk=e},DL=(e,t)=>e===t;function ML(e=tr){const t=e===tr?Fk:()=>S.useContext(e);return function(i,r=DL){const{store:s,subscription:o,getServerState:a}=t(),l=Vk(o.addNestedSub,s.getState,a||s.getState,i,r);return S.useDebugValue(l),l}}const $l=ML();var Wg={},RL={get exports(){return Wg},set exports(e){Wg=e}},ut={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ne=typeof Symbol=="function"&&Symbol.for,sv=ne?Symbol.for("react.element"):60103,ov=ne?Symbol.for("react.portal"):60106,df=ne?Symbol.for("react.fragment"):60107,pf=ne?Symbol.for("react.strict_mode"):60108,gf=ne?Symbol.for("react.profiler"):60114,mf=ne?Symbol.for("react.provider"):60109,yf=ne?Symbol.for("react.context"):60110,av=ne?Symbol.for("react.async_mode"):60111,vf=ne?Symbol.for("react.concurrent_mode"):60111,wf=ne?Symbol.for("react.forward_ref"):60112,bf=ne?Symbol.for("react.suspense"):60113,IL=ne?Symbol.for("react.suspense_list"):60120,xf=ne?Symbol.for("react.memo"):60115,_f=ne?Symbol.for("react.lazy"):60116,OL=ne?Symbol.for("react.block"):60121,LL=ne?Symbol.for("react.fundamental"):60117,NL=ne?Symbol.for("react.responder"):60118,$L=ne?Symbol.for("react.scope"):60119;function tn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case sv:switch(e=e.type,e){case av:case vf:case df:case gf:case pf:case bf:return e;default:switch(e=e&&e.$$typeof,e){case yf:case wf:case _f:case xf:case mf:return e;default:return t}}case ov:return t}}}function Bk(e){return tn(e)===vf}ut.AsyncMode=av;ut.ConcurrentMode=vf;ut.ContextConsumer=yf;ut.ContextProvider=mf;ut.Element=sv;ut.ForwardRef=wf;ut.Fragment=df;ut.Lazy=_f;ut.Memo=xf;ut.Portal=ov;ut.Profiler=gf;ut.StrictMode=pf;ut.Suspense=bf;ut.isAsyncMode=function(e){return Bk(e)||tn(e)===av};ut.isConcurrentMode=Bk;ut.isContextConsumer=function(e){return tn(e)===yf};ut.isContextProvider=function(e){return tn(e)===mf};ut.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===sv};ut.isForwardRef=function(e){return tn(e)===wf};ut.isFragment=function(e){return tn(e)===df};ut.isLazy=function(e){return tn(e)===_f};ut.isMemo=function(e){return tn(e)===xf};ut.isPortal=function(e){return tn(e)===ov};ut.isProfiler=function(e){return tn(e)===gf};ut.isStrictMode=function(e){return tn(e)===pf};ut.isSuspense=function(e){return tn(e)===bf};ut.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===df||e===vf||e===gf||e===pf||e===bf||e===IL||typeof e=="object"&&e!==null&&(e.$$typeof===_f||e.$$typeof===xf||e.$$typeof===mf||e.$$typeof===yf||e.$$typeof===wf||e.$$typeof===LL||e.$$typeof===NL||e.$$typeof===$L||e.$$typeof===OL)};ut.typeOf=tn;(function(e){e.exports=ut})(RL);var jk=Wg,FL={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},VL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zk={};zk[jk.ForwardRef]=FL;zk[jk.Memo]=VL;var P1={},BL={get exports(){return P1},set exports(e){P1=e}},ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv=Symbol.for("react.element"),uv=Symbol.for("react.portal"),Sf=Symbol.for("react.fragment"),Ef=Symbol.for("react.strict_mode"),kf=Symbol.for("react.profiler"),Cf=Symbol.for("react.provider"),Tf=Symbol.for("react.context"),jL=Symbol.for("react.server_context"),Pf=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),Df=Symbol.for("react.suspense_list"),Mf=Symbol.for("react.memo"),Rf=Symbol.for("react.lazy"),zL=Symbol.for("react.offscreen"),Uk;Uk=Symbol.for("react.module.reference");function fn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case lv:switch(e=e.type,e){case Sf:case kf:case Ef:case Af:case Df:return e;default:switch(e=e&&e.$$typeof,e){case jL:case Tf:case Pf:case Rf:case Mf:case Cf:return e;default:return t}}case uv:return t}}}ct.ContextConsumer=Tf;ct.ContextProvider=Cf;ct.Element=lv;ct.ForwardRef=Pf;ct.Fragment=Sf;ct.Lazy=Rf;ct.Memo=Mf;ct.Portal=uv;ct.Profiler=kf;ct.StrictMode=Ef;ct.Suspense=Af;ct.SuspenseList=Df;ct.isAsyncMode=function(){return!1};ct.isConcurrentMode=function(){return!1};ct.isContextConsumer=function(e){return fn(e)===Tf};ct.isContextProvider=function(e){return fn(e)===Cf};ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===lv};ct.isForwardRef=function(e){return fn(e)===Pf};ct.isFragment=function(e){return fn(e)===Sf};ct.isLazy=function(e){return fn(e)===Rf};ct.isMemo=function(e){return fn(e)===Mf};ct.isPortal=function(e){return fn(e)===uv};ct.isProfiler=function(e){return fn(e)===kf};ct.isStrictMode=function(e){return fn(e)===Ef};ct.isSuspense=function(e){return fn(e)===Af};ct.isSuspenseList=function(e){return fn(e)===Df};ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Sf||e===kf||e===Ef||e===Af||e===Df||e===zL||typeof e=="object"&&e!==null&&(e.$$typeof===Rf||e.$$typeof===Mf||e.$$typeof===Cf||e.$$typeof===Tf||e.$$typeof===Pf||e.$$typeof===Uk||e.getModuleId!==void 0)};ct.typeOf=fn;(function(e){e.exports=ct})(BL);function UL(){const e=TL();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let i=t;for(;i;)i.callback(),i=i.next})},get(){let i=[],r=t;for(;r;)i.push(r),r=r.next;return i},subscribe(i){let r=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const A1={notify(){},get:()=>[]};function HL(e,t){let n,i=A1;function r(h){return l(),i.subscribe(h)}function s(){i.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return Boolean(n)}function l(){n||(n=t?t.addNestedSub(o):e.subscribe(o),i=UL())}function u(){n&&(n(),n=void 0,i.clear(),i=A1)}const c={addNestedSub:r,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>i};return c}const WL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KL=WL?S.useLayoutEffect:S.useEffect;function qL({store:e,context:t,children:n,serverState:i}){const r=S.useMemo(()=>{const a=HL(e);return{store:e,subscription:a,getServerState:i?()=>i:void 0}},[e,i]),s=S.useMemo(()=>e.getState(),[e]);KL(()=>{const{subscription:a}=r;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==e.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[r,s]);const o=t||tr;return gi.createElement(o.Provider,{value:r},n)}function Hk(e=tr){const t=e===tr?Fk:()=>S.useContext(e);return function(){const{store:i}=t();return i}}const GL=Hk();function YL(e=tr){const t=e===tr?GL:Hk(e);return function(){return t().dispatch}}const If=YL();AL(Hg.useSyncExternalStoreWithSelector);CL(Dc.unstable_batchedUpdates);function vn(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(r){return"'"+r+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function er(e){return!!e&&!!e[_t]}function ci(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var i=Object.getPrototypeOf(n);if(i===null)return!0;var r=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===r2}(e)||Array.isArray(e)||!!e[N1]||!!(!((t=e.constructor)===null||t===void 0)&&t[N1])||cv(e)||hv(e))}function Jr(e,t,n){n===void 0&&(n=!1),So(e)===0?(n?Object.keys:Hs)(e).forEach(function(i){n&&typeof i=="symbol"||t(i,e[i],e)}):e.forEach(function(i,r){return t(r,i,e)})}function So(e){var t=e[_t];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:cv(e)?2:hv(e)?3:0}function Us(e,t){return So(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function XL(e,t){return So(e)===2?e.get(t):e[t]}function Wk(e,t,n){var i=So(e);i===2?e.set(t,n):i===3?e.add(n):e[t]=n}function Kk(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function cv(e){return n2&&e instanceof Map}function hv(e){return i2&&e instanceof Set}function Er(e){return e.o||e.t}function fv(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Gk(e);delete t[_t];for(var n=Hs(t),i=0;i<n.length;i++){var r=n[i],s=t[r];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[r]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[r]})}return Object.create(Object.getPrototypeOf(e),t)}function dv(e,t){return t===void 0&&(t=!1),pv(e)||er(e)||!ci(e)||(So(e)>1&&(e.set=e.add=e.clear=e.delete=QL),Object.freeze(e),t&&Jr(e,function(n,i){return dv(i,!0)},!0)),e}function QL(){vn(2)}function pv(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Nn(e){var t=Yg[e];return t||vn(18,e),t}function JL(e,t){Yg[e]||(Yg[e]=t)}function Kg(){return tl}function Yd(e,t){t&&(Nn("Patches"),e.u=[],e.s=[],e.v=t)}function ih(e){qg(e),e.p.forEach(ZL),e.p=null}function qg(e){e===tl&&(tl=e.l)}function D1(e){return tl={p:[],l:tl,h:e,m:!0,_:0}}function ZL(e){var t=e[_t];t.i===0||t.i===1?t.j():t.O=!0}function Xd(e,t){t._=t.p.length;var n=t.p[0],i=e!==void 0&&e!==n;return t.h.g||Nn("ES5").S(t,e,i),i?(n[_t].P&&(ih(t),vn(4)),ci(e)&&(e=rh(t,e),t.l||sh(t,e)),t.u&&Nn("Patches").M(n[_t].t,e,t.u,t.s)):e=rh(t,n,[]),ih(t),t.u&&t.v(t.u,t.s),e!==qk?e:void 0}function rh(e,t,n){if(pv(t))return t;var i=t[_t];if(!i)return Jr(t,function(a,l){return M1(e,i,t,a,l,n)},!0),t;if(i.A!==e)return t;if(!i.P)return sh(e,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var r=i.i===4||i.i===5?i.o=fv(i.k):i.o,s=r,o=!1;i.i===3&&(s=new Set(r),r.clear(),o=!0),Jr(s,function(a,l){return M1(e,i,r,a,l,n,o)}),sh(e,r,!1),n&&e.u&&Nn("Patches").N(i,n,e.u,e.s)}return i.o}function M1(e,t,n,i,r,s,o){if(er(r)){var a=rh(e,r,s&&t&&t.i!==3&&!Us(t.R,i)?s.concat(i):void 0);if(Wk(n,i,a),!er(a))return;e.m=!1}else o&&n.add(r);if(ci(r)&&!pv(r)){if(!e.h.D&&e._<1)return;rh(e,r),t&&t.A.l||sh(e,r)}}function sh(e,t,n){n===void 0&&(n=!1),e.h.D&&e.m&&dv(t,n)}function Qd(e,t){var n=e[_t];return(n?Er(n):e)[t]}function R1(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function Ci(e){e.P||(e.P=!0,e.l&&Ci(e.l))}function Jd(e){e.o||(e.o=fv(e.t))}function Gg(e,t,n){var i=cv(t)?Nn("MapSet").F(t,n):hv(t)?Nn("MapSet").T(t,n):e.g?function(r,s){var o=Array.isArray(r),a={i:o?1:0,A:s?s.A:Kg(),P:!1,I:!1,R:{},l:s,t:r,k:null,o:null,j:null,C:!1},l=a,u=el;o&&(l=[a],u=Zo);var c=Proxy.revocable(l,u),h=c.revoke,f=c.proxy;return a.k=f,a.j=h,f}(t,n):Nn("ES5").J(t,n);return(n?n.A:Kg()).p.push(i),i}function t2(e){return er(e)||vn(22,e),function t(n){if(!ci(n))return n;var i,r=n[_t],s=So(n);if(r){if(!r.P&&(r.i<4||!Nn("ES5").K(r)))return r.t;r.I=!0,i=I1(n,s),r.I=!1}else i=I1(n,s);return Jr(i,function(o,a){r&&XL(r.t,o)===a||Wk(i,o,t(a))}),s===3?new Set(i):i}(e)}function I1(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return fv(e)}function e2(){function e(s,o){var a=r[s];return a?a.enumerable=o:r[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[_t];return el.get(l,s)},set:function(l){var u=this[_t];el.set(u,s,l)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][_t];if(!a.P)switch(a.i){case 5:i(a)&&Ci(a);break;case 4:n(a)&&Ci(a)}}}function n(s){for(var o=s.t,a=s.k,l=Hs(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==_t){var h=o[c];if(h===void 0&&!Us(o,c))return!0;var f=a[c],d=f&&f[_t];if(d?d.t!==h:!Kk(f,h))return!0}}var p=!!o[_t];return l.length!==Hs(o).length+(p?0:1)}function i(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var r={};JL("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,h){if(c){for(var f=Array(h.length),d=0;d<h.length;d++)Object.defineProperty(f,""+d,e(d,!0));return f}var p=Gk(h);delete p[_t];for(var g=Hs(p),v=0;v<g.length;v++){var y=g[v];p[y]=e(y,c||!!p[y].enumerable)}return Object.create(Object.getPrototypeOf(h),p)}(a,s),u={i:a?5:4,A:o?o.A:Kg(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,_t,{value:u,writable:!0}),l},S:function(s,o,a){a?er(o)&&o[_t].A===s&&t(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[_t];if(c){var h=c.t,f=c.k,d=c.R,p=c.i;if(p===4)Jr(f,function(w){w!==_t&&(h[w]!==void 0||Us(h,w)?d[w]||l(f[w]):(d[w]=!0,Ci(c)))}),Jr(h,function(w){f[w]!==void 0||Us(f,w)||(d[w]=!1,Ci(c))});else if(p===5){if(i(c)&&(Ci(c),d.length=!0),f.length<h.length)for(var g=f.length;g<h.length;g++)d[g]=!1;else for(var v=h.length;v<f.length;v++)d[v]=!0;for(var y=Math.min(f.length,h.length),m=0;m<y;m++)f.hasOwnProperty(m)||(d[m]=!0),d[m]===void 0&&l(f[m])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):i(s)}})}var O1,tl,gv=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",n2=typeof Map<"u",i2=typeof Set<"u",L1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",qk=gv?Symbol.for("immer-nothing"):((O1={})["immer-nothing"]=!0,O1),N1=gv?Symbol.for("immer-draftable"):"__$immer_draftable",_t=gv?Symbol.for("immer-state"):"__$immer_state",r2=""+Object.prototype.constructor,Hs=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Gk=Object.getOwnPropertyDescriptors||function(e){var t={};return Hs(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Yg={},el={get:function(e,t){if(t===_t)return e;var n=Er(e);if(!Us(n,t))return function(r,s,o){var a,l=R1(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(r.k):void 0}(e,n,t);var i=n[t];return e.I||!ci(i)?i:i===Qd(e.t,t)?(Jd(e),e.o[t]=Gg(e.A.h,i,e)):i},has:function(e,t){return t in Er(e)},ownKeys:function(e){return Reflect.ownKeys(Er(e))},set:function(e,t,n){var i=R1(Er(e),t);if(i!=null&&i.set)return i.set.call(e.k,n),!0;if(!e.P){var r=Qd(Er(e),t),s=r==null?void 0:r[_t];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Kk(n,r)&&(n!==void 0||Us(e.t,t)))return!0;Jd(e),Ci(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return Qd(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Jd(e),Ci(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Er(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:i.enumerable,value:n[t]}},defineProperty:function(){vn(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){vn(12)}},Zo={};Jr(el,function(e,t){Zo[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Zo.deleteProperty=function(e,t){return Zo.set.call(this,e,t,void 0)},Zo.set=function(e,t,n){return el.set.call(this,e[0],t,n,e[0])};var s2=function(){function e(n){var i=this;this.g=L1,this.D=!0,this.produce=function(r,s,o){if(typeof r=="function"&&typeof s!="function"){var a=s;s=r;var l=i;return function(g){var v=this;g===void 0&&(g=a);for(var y=arguments.length,m=Array(y>1?y-1:0),w=1;w<y;w++)m[w-1]=arguments[w];return l.produce(g,function(b){var x;return(x=s).call.apply(x,[v,b].concat(m))})}}var u;if(typeof s!="function"&&vn(6),o!==void 0&&typeof o!="function"&&vn(7),ci(r)){var c=D1(i),h=Gg(i,r,void 0),f=!0;try{u=s(h),f=!1}finally{f?ih(c):qg(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(g){return Yd(c,o),Xd(g,c)},function(g){throw ih(c),g}):(Yd(c,o),Xd(u,c))}if(!r||typeof r!="object"){if((u=s(r))===void 0&&(u=r),u===qk&&(u=void 0),i.D&&dv(u,!0),o){var d=[],p=[];Nn("Patches").M(r,u,d,p),o(d,p)}return u}vn(21,r)},this.produceWithPatches=function(r,s){if(typeof r=="function")return function(u){for(var c=arguments.length,h=Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];return i.produceWithPatches(u,function(d){return r.apply(void 0,[d].concat(h))})};var o,a,l=i.produce(r,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){ci(n)||vn(8),er(n)&&(n=t2(n));var i=D1(this),r=Gg(this,n,void 0);return r[_t].C=!0,qg(i),r},t.finishDraft=function(n,i){var r=n&&n[_t],s=r.A;return Yd(s,i),Xd(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!L1&&vn(20),this.g=n},t.applyPatches=function(n,i){var r;for(r=i.length-1;r>=0;r--){var s=i[r];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}r>-1&&(i=i.slice(r+1));var o=Nn("Patches").$;return er(n)?o(n,i):this.produce(n,function(a){return o(a,i)})},e}(),Ye=new s2,Yk=Ye.produce;Ye.produceWithPatches.bind(Ye);Ye.setAutoFreeze.bind(Ye);Ye.setUseProxies.bind(Ye);Ye.applyPatches.bind(Ye);Ye.createDraft.bind(Ye);Ye.finishDraft.bind(Ye);function nl(e){return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function o2(e,t){if(nl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(nl(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a2(e){var t=o2(e,"string");return nl(t)==="symbol"?t:String(t)}function l2(e,t,n){return t=a2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function F1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(n),!0).forEach(function(i){l2(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function fe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var V1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Zd=function(){return Math.random().toString(36).substring(7).split("").join(".")},oh={INIT:"@@redux/INIT"+Zd(),REPLACE:"@@redux/REPLACE"+Zd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Zd()}};function u2(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function mv(e,t,n){var i;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(fe(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(fe(1));return n(mv)(e,t)}if(typeof e!="function")throw new Error(fe(2));var r=e,s=t,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(fe(3));return s}function h(g){if(typeof g!="function")throw new Error(fe(4));if(l)throw new Error(fe(5));var v=!0;return u(),a.push(g),function(){if(v){if(l)throw new Error(fe(6));v=!1,u();var m=a.indexOf(g);a.splice(m,1),o=null}}}function f(g){if(!u2(g))throw new Error(fe(7));if(typeof g.type>"u")throw new Error(fe(8));if(l)throw new Error(fe(9));try{l=!0,s=r(s,g)}finally{l=!1}for(var v=o=a,y=0;y<v.length;y++){var m=v[y];m()}return g}function d(g){if(typeof g!="function")throw new Error(fe(10));r=g,f({type:oh.REPLACE})}function p(){var g,v=h;return g={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(fe(11));function w(){m.next&&m.next(c())}w();var b=v(w);return{unsubscribe:b}}},g[V1]=function(){return this},g}return f({type:oh.INIT}),i={dispatch:f,subscribe:h,getState:c,replaceReducer:d},i[V1]=p,i}function c2(e){Object.keys(e).forEach(function(t){var n=e[t],i=n(void 0,{type:oh.INIT});if(typeof i>"u")throw new Error(fe(12));if(typeof n(void 0,{type:oh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fe(13))})}function Xk(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var r=t[i];typeof e[r]=="function"&&(n[r]=e[r])}var s=Object.keys(n),o;try{c2(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,h={},f=0;f<s.length;f++){var d=s[f],p=n[d],g=l[d],v=p(g,u);if(typeof v>"u")throw u&&u.type,new Error(fe(14));h[d]=v,c=c||v!==g}return c=c||s.length!==Object.keys(l).length,c?h:l}}function ah(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(i){return i}:t.length===1?t[0]:t.reduce(function(i,r){return function(){return i(r.apply(void 0,arguments))}})}function h2(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return function(){var r=i.apply(void 0,arguments),s=function(){throw new Error(fe(15))},o={getState:r.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(l){return l(o)});return s=ah.apply(void 0,a)(r.dispatch),F1(F1({},r),{},{dispatch:s})}}}function Qk(e){var t=function(i){var r=i.dispatch,s=i.getState;return function(o){return function(a){return typeof a=="function"?a(r,s,e):o(a)}}};return t}var Jk=Qk();Jk.withExtraArgument=Qk;const B1=Jk;var f2=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),d2=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,r=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],r=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},lh=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e},p2=Object.defineProperty,g2=Object.defineProperties,m2=Object.getOwnPropertyDescriptors,j1=Object.getOwnPropertySymbols,y2=Object.prototype.hasOwnProperty,v2=Object.prototype.propertyIsEnumerable,z1=function(e,t,n){return t in e?p2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Wi=function(e,t){for(var n in t||(t={}))y2.call(t,n)&&z1(e,n,t[n]);if(j1)for(var i=0,r=j1(t);i<r.length;i++){var n=r[i];v2.call(t,n)&&z1(e,n,t[n])}return e},tp=function(e,t){return g2(e,m2(t))},w2=function(e,t,n){return new Promise(function(i,r){var s=function(l){try{a(n.next(l))}catch(u){r(u)}},o=function(l){try{a(n.throw(l))}catch(u){r(u)}},a=function(l){return l.done?i(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(e,t)).next())})},b2=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ah:ah.apply(null,arguments)};function x2(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var _2=function(e){f2(t,e);function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=e.apply(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,lh([void 0],n[0].concat(this)))):new(t.bind.apply(t,lh([void 0],n.concat(this))))},t}(Array);function Xg(e){return ci(e)?Yk(e,function(){}):e}function S2(e){return typeof e=="boolean"}function E2(){return function(t){return k2(t)}}function k2(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var i=new _2;return n&&(S2(n)?i.push(B1):i.push(B1.withExtraArgument(n.extraArgument))),i}var C2=!0;function T2(e){var t=E2(),n=e||{},i=n.reducer,r=i===void 0?void 0:i,s=n.middleware,o=s===void 0?t():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,h=n.enhancers,f=h===void 0?void 0:h,d;if(typeof r=="function")d=r;else if(x2(r))d=Xk(r);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var g=h2.apply(void 0,p),v=ah;l&&(v=b2(Wi({trace:!C2},typeof l=="object"&&l)));var y=[g];Array.isArray(f)?y=lh([g],f):typeof f=="function"&&(y=f(y));var m=v.apply(void 0,y);return mv(d,c,m)}function Ki(e,t){function n(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(t){var s=t.apply(void 0,i);if(!s)throw new Error("prepareAction did not return an object");return Wi(Wi({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:i[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(i){return i.type===e},n}function Zk(e){var t={},n=[],i,r={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[a]=o,r},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),r},addDefaultCase:function(s){return i=s,r}};return e(r),[t,n,i]}function P2(e){return typeof e=="function"}function A2(e,t,n,i){n===void 0&&(n=[]);var r=typeof t=="function"?Zk(t):[t,n,i],s=r[0],o=r[1],a=r[2],l;if(P2(e))l=function(){return Xg(e())};else{var u=Xg(e);l=function(){return u}}function c(h,f){h===void 0&&(h=l());var d=lh([s[f.type]],o.filter(function(p){var g=p.matcher;return g(f)}).map(function(p){var g=p.reducer;return g}));return d.filter(function(p){return!!p}).length===0&&(d=[a]),d.reduce(function(p,g){if(g)if(er(p)){var v=p,y=g(v,f);return y===void 0?p:y}else{if(ci(p))return Yk(p,function(m){return g(m,f)});var y=g(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return p},h)}return c.getInitialState=l,c}function D2(e,t){return e+"/"+t}function tC(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:Xg(e.initialState),i=e.reducers||{},r=Object.keys(i),s={},o={},a={};r.forEach(function(c){var h=i[c],f=D2(t,c),d,p;"reducer"in h?(d=h.reducer,p=h.prepare):d=h,s[c]=d,o[f]=d,a[c]=p?Ki(f,p):Ki(f)});function l(){var c=typeof e.extraReducers=="function"?Zk(e.extraReducers):[e.extraReducers],h=c[0],f=h===void 0?{}:h,d=c[1],p=d===void 0?[]:d,g=c[2],v=g===void 0?void 0:g,y=Wi(Wi({},f),o);return A2(n,function(m){for(var w in y)m.addCase(w,y[w]);for(var b=0,x=p;b<x.length;b++){var _=x[b];m.addMatcher(_.matcher,_.reducer)}v&&m.addDefaultCase(v)})}var u;return{name:t,reducer:function(c,h){return u||(u=l()),u(c,h)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var M2="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",R2=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=M2[Math.random()*64|0];return t},I2=["name","message","stack","code"],ep=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),U1=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),O2=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,i=I2;n<i.length;n++){var r=i[n];typeof e[r]=="string"&&(t[r]=e[r])}return t}return{message:String(e)}};(function(){function e(t,n,i){var r=Ki(t+"/fulfilled",function(u,c,h,f){return{payload:u,meta:tp(Wi({},f||{}),{arg:h,requestId:c,requestStatus:"fulfilled"})}}),s=Ki(t+"/pending",function(u,c,h){return{payload:void 0,meta:tp(Wi({},h||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Ki(t+"/rejected",function(u,c,h,f,d){return{payload:f,error:(i&&i.serializeError||O2)(u||"Rejected"),meta:tp(Wi({},d||{}),{arg:h,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,h,f){var d=i!=null&&i.idGenerator?i.idGenerator(u):R2(),p=new a,g;function v(m){g=m,p.abort()}var y=function(){return w2(this,null,function(){var m,w,b,x,_,E,k;return d2(this,function(P){switch(P.label){case 0:return P.trys.push([0,4,,5]),x=(m=i==null?void 0:i.condition)==null?void 0:m.call(i,u,{getState:h,extra:f}),N2(x)?[4,x]:[3,2];case 1:x=P.sent(),P.label=2;case 2:if(x===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return _=new Promise(function(T,I){return p.signal.addEventListener("abort",function(){return I({name:"AbortError",message:g||"Aborted"})})}),c(s(d,u,(w=i==null?void 0:i.getPendingMeta)==null?void 0:w.call(i,{requestId:d,arg:u},{getState:h,extra:f}))),[4,Promise.race([_,Promise.resolve(n(u,{dispatch:c,getState:h,extra:f,requestId:d,signal:p.signal,abort:v,rejectWithValue:function(T,I){return new ep(T,I)},fulfillWithValue:function(T,I){return new U1(T,I)}})).then(function(T){if(T instanceof ep)throw T;return T instanceof U1?r(T.payload,d,u,T.meta):r(T,d,u)})])];case 3:return b=P.sent(),[3,5];case 4:return E=P.sent(),b=E instanceof ep?o(null,d,u,E.payload,E.meta):o(E,d,u),[3,5];case 5:return k=i&&!i.dispatchConditionRejection&&o.match(b)&&b.meta.condition,k||c(b),[2,b]}})})}();return Object.assign(y,{abort:v,requestId:d,arg:u,unwrap:function(){return y.then(L2)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:r,typePrefix:t})}return e.withTypes=function(){return e},e})();function L2(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function N2(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var yv="listenerMiddleware";Ki(yv+"/add");Ki(yv+"/removeAll");Ki(yv+"/remove");var H1;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);e2();var vv={},wv={};wv.__esModule=!0;wv.default=V2;function cc(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cc=function(n){return typeof n}:cc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},cc(e)}function np(){}var $2={getItem:np,setItem:np,removeItem:np};function F2(e){if((typeof self>"u"?"undefined":cc(self))!=="object"||!(e in self))return!1;try{var t=self[e],n="redux-persist ".concat(e," test");t.setItem(n,"test"),t.getItem(n),t.removeItem(n)}catch{return!1}return!0}function V2(e){var t="".concat(e,"Storage");return F2(t)?self[t]:$2}vv.__esModule=!0;vv.default=z2;var B2=j2(wv);function j2(e){return e&&e.__esModule?e:{default:e}}function z2(e){var t=(0,B2.default)(e);return{getItem:function(i){return new Promise(function(r,s){r(t.getItem(i))})},setItem:function(i,r){return new Promise(function(s,o){s(t.setItem(i,r))})},removeItem:function(i){return new Promise(function(r,s){r(t.removeItem(i))})}}}var eC=void 0,U2=H2(vv);function H2(e){return e&&e.__esModule?e:{default:e}}var W2=(0,U2.default)("local");eC=W2;var bv="persist:",nC="persist/FLUSH",xv="persist/REHYDRATE",iC="persist/PAUSE",rC="persist/PERSIST",sC="persist/PURGE",oC="persist/REGISTER",K2=-1;function hc(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hc=function(n){return typeof n}:hc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hc(e)}function W1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function q2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W1(n,!0).forEach(function(i){G2(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W1(n).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function G2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y2(e,t,n,i){i.debug;var r=q2({},n);return e&&hc(e)==="object"&&Object.keys(e).forEach(function(s){s!=="_persist"&&t[s]===n[s]&&(r[s]=e[s])}),r}function X2(e){var t=e.blacklist||null,n=e.whitelist||null,i=e.transforms||[],r=e.throttle||0,s="".concat(e.keyPrefix!==void 0?e.keyPrefix:bv).concat(e.key),o=e.storage,a;e.serialize===!1?a=function(x){return x}:typeof e.serialize=="function"?a=e.serialize:a=Q2;var l=e.writeFailHandler||null,u={},c={},h=[],f=null,d=null,p=function(x){Object.keys(x).forEach(function(_){y(_)&&u[_]!==x[_]&&h.indexOf(_)===-1&&h.push(_)}),Object.keys(u).forEach(function(_){x[_]===void 0&&y(_)&&h.indexOf(_)===-1&&u[_]!==void 0&&h.push(_)}),f===null&&(f=setInterval(g,r)),u=x};function g(){if(h.length===0){f&&clearInterval(f),f=null;return}var b=h.shift(),x=i.reduce(function(_,E){return E.in(_,b,u)},u[b]);if(x!==void 0)try{c[b]=a(x)}catch(_){console.error("redux-persist/createPersistoid: error serializing state",_)}else delete c[b];h.length===0&&v()}function v(){Object.keys(c).forEach(function(b){u[b]===void 0&&delete c[b]}),d=o.setItem(s,a(c)).catch(m)}function y(b){return!(n&&n.indexOf(b)===-1&&b!=="_persist"||t&&t.indexOf(b)!==-1)}function m(b){l&&l(b)}var w=function(){for(;h.length!==0;)g();return d||Promise.resolve()};return{update:p,flush:w}}function Q2(e){return JSON.stringify(e)}function J2(e){var t=e.transforms||[],n="".concat(e.keyPrefix!==void 0?e.keyPrefix:bv).concat(e.key),i=e.storage;e.debug;var r;return e.deserialize===!1?r=function(o){return o}:typeof e.deserialize=="function"?r=e.deserialize:r=Z2,i.getItem(n).then(function(s){if(s)try{var o={},a=r(s);return Object.keys(a).forEach(function(l){o[l]=t.reduceRight(function(u,c){return c.out(u,l,a)},r(a[l]))}),o}catch(l){throw l}else return})}function Z2(e){return JSON.parse(e)}function tN(e){var t=e.storage,n="".concat(e.keyPrefix!==void 0?e.keyPrefix:bv).concat(e.key);return t.removeItem(n,eN)}function eN(e){}function K1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K1(n,!0).forEach(function(i){nN(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K1(n).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function nN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iN(e,t){if(e==null)return{};var n=rN(e,t),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function rN(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}var sN=5e3;function oN(e,t){var n=e.version!==void 0?e.version:K2;e.debug;var i=e.stateReconciler===void 0?Y2:e.stateReconciler,r=e.getStoredState||J2,s=e.timeout!==void 0?e.timeout:sN,o=null,a=!1,l=!0,u=function(h){return h._persist.rehydrated&&o&&!l&&o.update(h),h};return function(c,h){var f=c||{},d=f._persist,p=iN(f,["_persist"]),g=p;if(h.type===rC){var v=!1,y=function(k,P){v||(h.rehydrate(e.key,k,P),v=!0)};if(s&&setTimeout(function(){!v&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},s),l=!1,o||(o=X2(e)),d)return Un({},t(g,h),{_persist:d});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(e.key),r(e).then(function(E){var k=e.migrate||function(P,T){return Promise.resolve(P)};k(E,n).then(function(P){y(P)},function(P){y(void 0,P)})},function(E){y(void 0,E)}),Un({},t(g,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===sC)return a=!0,h.result(tN(e)),Un({},t(g,h),{_persist:d});if(h.type===nC)return h.result(o&&o.flush()),Un({},t(g,h),{_persist:d});if(h.type===iC)l=!0;else if(h.type===xv){if(a)return Un({},g,{_persist:Un({},d,{rehydrated:!0})});if(h.key===e.key){var m=t(g,h),w=h.payload,b=i!==!1&&w!==void 0?i(w,c,m,e):m,x=Un({},b,{_persist:Un({},d,{rehydrated:!0})});return u(x)}}}if(!d)return t(c,h);var _=t(g,h);return _===g?c:u(Un({},_,{_persist:d}))}}function q1(e){return uN(e)||lN(e)||aN()}function aN(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function lN(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function uN(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function G1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Qg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G1(n,!0).forEach(function(i){cN(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G1(n).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function cN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aC={registry:[],bootstrapped:!1},hN=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:aC,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case oC:return Qg({},t,{registry:[].concat(q1(t.registry),[n.key])});case xv:var i=t.registry.indexOf(n.key),r=q1(t.registry);return r.splice(i,1),Qg({},t,{registry:r,bootstrapped:r.length===0});default:return t}};function fN(e,t,n){var i=n||!1,r=mv(hN,aC,t&&t.enhancer?t.enhancer:void 0),s=function(u){r.dispatch({type:oC,key:u})},o=function(u,c,h){var f={type:xv,payload:c,err:h,key:u};e.dispatch(f),r.dispatch(f),i&&a.getState().bootstrapped&&(i(),i=!1)},a=Qg({},r,{purge:function(){var u=[];return e.dispatch({type:sC,result:function(h){u.push(h)}}),Promise.all(u)},flush:function(){var u=[];return e.dispatch({type:nC,result:function(h){u.push(h)}}),Promise.all(u)},pause:function(){e.dispatch({type:iC})},persist:function(){e.dispatch({type:rC,register:s,rehydrate:o})}});return t&&t.manualPersist||a.persist(),a}const dN={"Fruits and vegetables":[{item:"Avocado",count:0,checked:!1},{item:"Banana",count:0,checked:!1},{item:"Bunch of carrots 5pcs",count:0,checked:!1},{item:"Chicken 1kg",count:0,checked:!1},{item:"Pre-cooked corn 450g",count:0,checked:!1},{item:"Mandarin Nadorcott",count:0,checked:!1},{item:"Piele De Sapo Melon",count:0,checked:!1},{item:"Watermelon",count:0,checked:!1}],"Meat and Fish":[{item:"Chicken leg box",count:0,checked:!1},{item:"Chicken 1kg",count:0,checked:!1},{item:"Pork fillets 450g",count:0,checked:!1},{item:"Salmon 1kg",count:0,checked:!1}],Beverages:[{item:"Barley",count:0,checked:!1},{item:"Hot drinks",count:0,checked:!1},{item:"Wine",count:0,checked:!1},{item:"Cocktails",count:0,checked:!1},{item:"Cider",count:0,checked:!1},{item:"Beer",count:0,checked:!1},{item:"Chocolate",count:0,checked:!1},{item:"Mixed Drinks",count:0,checked:!1}],Pet:[{item:"Chicken",count:0,checked:!1},{item:"Pork",count:0,checked:!1},{item:"Whole grain",count:0,checked:!1},{item:"Hamster Feed",count:0,checked:!1}]},lC=tC({name:"Items",initialState:dN,reducers:{addItem(e,{payload:t}){if(e[t.category]){const n=e[t.category].findIndex(i=>i.item===t.item)+1;n?e[t.category][n-1]={...e[t.category][n-1],count:e[t.category][n-1].count+1}:e[t.category]=[...e[t.category],{item:t.item,count:0,checked:!1}]}else e[t.category]=[t.item]},removeItem(e,{payload:t}){const n=e[t.category].findIndex(i=>i.item===t.item);e[t.category][n]={item:t.item,count:e[t.category][n].count-1}},toggleChecked(e,{payload:t}){const n=e[t.category].findIndex(i=>i.item===t.item);e[t.category][n]={...e[t.category][n],checked:!e[t.category][n].checked}}}}),uC=tC({name:"Events",initialState:{},reducers:{addEvent(e,{payload:t}){e[t.date]?e[t.date]=[...e[t.date],{name:t.name,date:t.day,status:t.state,id:t.id}]:e[t.date]=[{name:t.name,date:t.day,status:t.state,id:t.id}]},editStatus(e,{payload:t}){e[t.date]=e[t.date].map(n=>n.id!==t.id?n:{...n,status:t.status})}}}),pN={key:"root",version:1,storage:eC},gN=Xk({items:lC.reducer,events:uC.reducer}),mN=oN(pN,gN),Br={items:lC.actions,events:uC.actions},cC=T2({reducer:mN});function fc(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fc=function(n){return typeof n}:fc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fc(e)}function yN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y1(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function vN(e,t,n){return t&&Y1(e.prototype,t),n&&Y1(e,n),e}function wN(e,t){return t&&(fc(t)==="object"||typeof t=="function")?t:dc(e)}function Jg(e){return Jg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Jg(e)}function dc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zg(e,t)}function Zg(e,t){return Zg=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Zg(e,t)}function pc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hC=function(e){bN(t,e);function t(){var n,i;yN(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=wN(this,(n=Jg(t)).call.apply(n,[this].concat(s))),pc(dc(i),"state",{bootstrapped:!1}),pc(dc(i),"_unsubscribe",void 0),pc(dc(i),"handlePersistorState",function(){var a=i.props.persistor,l=a.getState(),u=l.bootstrapped;u&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return vN(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t}(S.PureComponent);pc(hC,"defaultProps",{children:null,loading:null});const _v=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Of=S.createContext({});function xN(){return S.useContext(Of).visualElement}const Fl=S.createContext(null),Lf=typeof document<"u",uh=Lf?S.useLayoutEffect:S.useEffect,fC=S.createContext({strict:!1});function _N(e,t,n,i){const r=xN(),s=S.useContext(fC),o=S.useContext(Fl),a=S.useContext(_v).reducedMotion,l=S.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(e,{visualState:t,parent:r,props:n,presenceId:o?o.id:void 0,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return uh(()=>{u&&u.render()}),(window.HandoffAppearAnimations?uh:S.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function Is(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function SN(e,t,n){return S.useCallback(i=>{i&&e.mount&&e.mount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):Is(n)&&(n.current=i))},[t])}function il(e){return typeof e=="string"||Array.isArray(e)}function Nf(e){return typeof e=="object"&&typeof e.start=="function"}const EN=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function $f(e){return Nf(e.animate)||EN.some(t=>il(e[t]))}function dC(e){return Boolean($f(e)||e.variants)}function kN(e,t){if($f(e)){const{initial:n,animate:i}=e;return{initial:n===!1||il(n)?n:void 0,animate:il(i)?i:void 0}}return e.inherit!==!1?t:{}}function CN(e){const{initial:t,animate:n}=kN(e,S.useContext(Of));return S.useMemo(()=>({initial:t,animate:n}),[X1(t),X1(n)])}function X1(e){return Array.isArray(e)?e.join(" "):e}const Hn=e=>({isEnabled:t=>e.some(n=>!!t[n])}),rl={measureLayout:Hn(["layout","layoutId","drag"]),animation:Hn(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Hn(["exit"]),drag:Hn(["drag","dragControls"]),focus:Hn(["whileFocus"]),hover:Hn(["whileHover","onHoverStart","onHoverEnd"]),tap:Hn(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Hn(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Hn(["whileInView","onViewportEnter","onViewportLeave"])};function TN(e){for(const t in e)t==="projectionNodeConstructor"?rl.projectionNodeConstructor=e[t]:rl[t].Component=e[t]}function Ff(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const va={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let PN=1;function AN(){return Ff(()=>{if(va.hasEverUpdated)return PN++})}const Sv=S.createContext({});class DN extends gi.Component{getSnapshotBeforeUpdate(){const{visualElement:t,props:n}=this.props;return t&&t.setProps(n),null}componentDidUpdate(){}render(){return this.props.children}}const pC=S.createContext({}),MN=Symbol.for("motionComponentSymbol");function RN({preloadedFeatures:e,createVisualElement:t,projectionNodeConstructor:n,useRender:i,useVisualState:r,Component:s}){e&&TN(e);function o(l,u){const c={...S.useContext(_v),...l,layoutId:IN(l)},{isStatic:h}=c;let f=null;const d=CN(l),p=h?void 0:AN(),g=r(l,h);if(!h&&Lf){d.visualElement=_N(s,g,c,t);const v=S.useContext(fC).strict,y=S.useContext(pC);d.visualElement&&(f=d.visualElement.loadFeatures(c,v,e,p,n||rl.projectionNodeConstructor,y))}return S.createElement(DN,{visualElement:d.visualElement,props:c},f,S.createElement(Of.Provider,{value:d},i(s,l,p,SN(g,d.visualElement,u),g,h,d.visualElement)))}const a=S.forwardRef(o);return a[MN]=s,a}function IN({layoutId:e}){const t=S.useContext(Sv).id;return t&&e!==void 0?t+"-"+e:e}function ON(e){function t(i,r={}){return RN(e(i,r))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(i,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const LN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ev(e){return typeof e!="string"||e.includes("-")?!1:!!(LN.indexOf(e)>-1||/[A-Z]/.test(e))}const ch={};function NN(e){Object.assign(ch,e)}const hh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Eo=new Set(hh);function gC(e,{layout:t,layoutId:n}){return Eo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ch[e]||e==="opacity")}const Ve=e=>!!(e!=null&&e.getVelocity),$N={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FN=(e,t)=>hh.indexOf(e)-hh.indexOf(t);function VN({transform:e,transformKeys:t},{enableHardwareAcceleration:n=!0,allowTransformNone:i=!0},r,s){let o="";t.sort(FN);for(const a of t)o+=`${$N[a]||a}(${e[a]}) `;return n&&!e.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(e,r?"":o):i&&r&&(o="none"),o}function mC(e){return e.startsWith("--")}const BN=(e,t)=>t&&typeof e=="number"?t.transform(e):e,io=(e,t,n)=>Math.min(Math.max(n,e),t),ls={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},wa={...ls,transform:e=>io(0,1,e)},Eu={...ls,default:1},ba=e=>Math.round(e*1e5)/1e5,sl=/(-)?([\d]*\.?[\d])+/g,tm=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,jN=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Vl(e){return typeof e=="string"}const Bl=e=>({test:t=>Vl(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),bi=Bl("deg"),$n=Bl("%"),j=Bl("px"),zN=Bl("vh"),UN=Bl("vw"),Q1={...$n,parse:e=>$n.parse(e)/100,transform:e=>$n.transform(e*100)},J1={...ls,transform:Math.round},yC={borderWidth:j,borderTopWidth:j,borderRightWidth:j,borderBottomWidth:j,borderLeftWidth:j,borderRadius:j,radius:j,borderTopLeftRadius:j,borderTopRightRadius:j,borderBottomRightRadius:j,borderBottomLeftRadius:j,width:j,maxWidth:j,height:j,maxHeight:j,size:j,top:j,right:j,bottom:j,left:j,padding:j,paddingTop:j,paddingRight:j,paddingBottom:j,paddingLeft:j,margin:j,marginTop:j,marginRight:j,marginBottom:j,marginLeft:j,rotate:bi,rotateX:bi,rotateY:bi,rotateZ:bi,scale:Eu,scaleX:Eu,scaleY:Eu,scaleZ:Eu,skew:bi,skewX:bi,skewY:bi,distance:j,translateX:j,translateY:j,translateZ:j,x:j,y:j,z:j,perspective:j,transformPerspective:j,opacity:wa,originX:Q1,originY:Q1,originZ:j,zIndex:J1,fillOpacity:wa,strokeOpacity:wa,numOctaves:J1};function kv(e,t,n,i){const{style:r,vars:s,transform:o,transformKeys:a,transformOrigin:l}=e;a.length=0;let u=!1,c=!1,h=!0;for(const f in t){const d=t[f];if(mC(f)){s[f]=d;continue}const p=yC[f],g=BN(d,p);if(Eo.has(f)){if(u=!0,o[f]=g,a.push(f),!h)continue;d!==(p.default||0)&&(h=!1)}else f.startsWith("origin")?(c=!0,l[f]=g):r[f]=g}if(t.transform||(u||i?r.transform=VN(e,n,h,i):r.transform&&(r.transform="none")),c){const{originX:f="50%",originY:d="50%",originZ:p=0}=l;r.transformOrigin=`${f} ${d} ${p}`}}const Cv=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function vC(e,t,n){for(const i in t)!Ve(t[i])&&!gC(i,n)&&(e[i]=t[i])}function HN({transformTemplate:e},t,n){return S.useMemo(()=>{const i=Cv();return kv(i,t,{enableHardwareAcceleration:!n},e),Object.assign({},i.vars,i.style)},[t])}function WN(e,t,n){const i=e.style||{},r={};return vC(r,i,e),Object.assign(r,HN(e,t,n)),e.transformValues?e.transformValues(r):r}function KN(e,t,n){const i={},r=WN(e,t,n);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),i.style=r,i}const qN=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],GN=["whileTap","onTap","onTapStart","onTapCancel"],YN=["onPan","onPanStart","onPanSessionStart","onPanEnd"],XN=["whileInView","onViewportEnter","onViewportLeave","viewport"],QN=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","layoutScroll","layoutRoot","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd",...XN,...GN,...qN,...YN]);function fh(e){return QN.has(e)}let wC=e=>!fh(e);function JN(e){e&&(wC=t=>t.startsWith("on")?!fh(t):e(t))}try{JN(require("@emotion/is-prop-valid").default)}catch{}function ZN(e,t,n){const i={};for(const r in e)r==="values"&&typeof e.values=="object"||(wC(r)||n===!0&&fh(r)||!t&&!fh(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}function Z1(e,t,n){return typeof e=="string"?e:j.transform(t+n*e)}function t$(e,t,n){const i=Z1(t,e.x,e.width),r=Z1(n,e.y,e.height);return`${i} ${r}`}const e$={offset:"stroke-dashoffset",array:"stroke-dasharray"},n$={offset:"strokeDashoffset",array:"strokeDasharray"};function i$(e,t,n=1,i=0,r=!0){e.pathLength=1;const s=r?e$:n$;e[s.offset]=j.transform(-i);const o=j.transform(t),a=j.transform(n);e[s.array]=`${o} ${a}`}function Tv(e,{attrX:t,attrY:n,originX:i,originY:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},u,c,h){if(kv(e,l,u,h),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:d,dimensions:p}=e;f.transform&&(p&&(d.transform=f.transform),delete f.transform),p&&(i!==void 0||r!==void 0||d.transform)&&(d.transformOrigin=t$(p,i!==void 0?i:.5,r!==void 0?r:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&i$(f,s,o,a,!1)}const bC=()=>({...Cv(),attrs:{}}),Pv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function r$(e,t,n,i){const r=S.useMemo(()=>{const s=bC();return Tv(s,t,{enableHardwareAcceleration:!1},Pv(i),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};vC(s,e.style,e),r.style={...s,...r.style}}return r}function s$(e=!1){return(n,i,r,s,{latestValues:o},a)=>{const u=(Ev(n)?r$:KN)(i,o,a,n),h={...ZN(i,typeof n=="string",e),...u,ref:s},{children:f}=i,d=S.useMemo(()=>Ve(f)?f.get():f,[f]);return r&&(h["data-projection-id"]=r),S.createElement(n,{...h,children:d})}}const Av=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function xC(e,{style:t,vars:n},i,r){Object.assign(e.style,t,r&&r.getProjectionStyles(i));for(const s in n)e.style.setProperty(s,n[s])}const _C=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SC(e,t,n,i){xC(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(_C.has(r)?r:Av(r),t.attrs[r])}function Dv(e,t){const{style:n}=e,i={};for(const r in n)(Ve(n[r])||t.style&&Ve(t.style[r])||gC(r,e))&&(i[r]=n[r]);return i}function EC(e,t){const n=Dv(e,t);for(const i in e)if(Ve(e[i])||Ve(t[i])){const r=i==="x"||i==="y"?"attr"+i.toUpperCase():i;n[r]=e[i]}return n}function Mv(e,t,n,i={},r={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,i,r)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,i,r)),t}const dh=e=>Array.isArray(e),o$=e=>Boolean(e&&typeof e=="object"&&e.mix&&e.toValue),a$=e=>dh(e)?e[e.length-1]||0:e;function gc(e){const t=Ve(e)?e.get():e;return o$(t)?t.toValue():t}function l$({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},i,r,s){const o={latestValues:u$(i,r,s,e),renderState:t()};return n&&(o.mount=a=>n(i,a,o)),o}const kC=e=>(t,n)=>{const i=S.useContext(Of),r=S.useContext(Fl),s=()=>l$(e,t,i,r);return n?s():Ff(s)};function u$(e,t,n,i){const r={},s=i(e,{});for(const f in s)r[f]=gc(s[f]);let{initial:o,animate:a}=e;const l=$f(e),u=dC(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;return h&&typeof h!="boolean"&&!Nf(h)&&(Array.isArray(h)?h:[h]).forEach(d=>{const p=Mv(e,d);if(!p)return;const{transitionEnd:g,transition:v,...y}=p;for(const m in y){let w=y[m];if(Array.isArray(w)){const b=c?w.length-1:0;w=w[b]}w!==null&&(r[m]=w)}for(const m in g)r[m]=g[m]}),r}const c$={useVisualState:kC({scrapeMotionValuesFromProps:EC,createRenderState:bC,onMount:(e,t,{renderState:n,latestValues:i})=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}Tv(n,i,{enableHardwareAcceleration:!1},Pv(t.tagName),e.transformTemplate),SC(t,n)}})},h$={useVisualState:kC({scrapeMotionValuesFromProps:Dv,createRenderState:Cv})};function f$(e,{forwardMotionProps:t=!1},n,i,r){return{...Ev(e)?c$:h$,preloadedFeatures:n,useRender:s$(t),createVisualElement:i,projectionNodeConstructor:r,Component:e}}var pt;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"})(pt||(pt={}));function Vf(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function em(e,t,n,i){S.useEffect(()=>{const r=e.current;if(n&&r)return Vf(r,t,n,i)},[e,t,n,i])}function d$({whileFocus:e,visualElement:t}){const{animationState:n}=t,i=S.useCallback(()=>{n&&n.setActive(pt.Focus,!0)},[n]),r=S.useCallback(()=>{n&&n.setActive(pt.Focus,!1)},[n]);em(t,"focus",e?i:void 0),em(t,"blur",e?r:void 0)}const CC=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Rv(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const TC=e=>t=>CC(t)&&e(t,Rv(t));function Ws(e,t,n,i){return Vf(e,t,TC(n),i)}function ph(e,t,n,i){return em(e,t,n&&TC(n),i)}function PC(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const tb=PC("dragHorizontal"),eb=PC("dragVertical");function AC(e){let t=!1;if(e==="y")t=eb();else if(e==="x")t=tb();else{const n=tb(),i=eb();n&&i?t=()=>{n(),i()}:(n&&n(),i&&i())}return t}function DC(){const e=AC(!0);return e?(e(),!1):!0}function nb(e,t,n,i){return(r,s)=>{r.type==="touch"||DC()||(n&&e.animationState&&e.animationState.setActive(pt.Hover,t),i&&i(r,s))}}function p$({onHoverStart:e,onHoverEnd:t,whileHover:n,visualElement:i}){ph(i,"pointerenter",S.useMemo(()=>e||n?nb(i,!0,Boolean(n),e):void 0,[e,Boolean(n),i]),{passive:!e}),ph(i,"pointerleave",S.useMemo(()=>t||n?nb(i,!1,Boolean(n),t):void 0,[e,Boolean(n),i]),{passive:!t})}const MC=(e,t)=>t?e===t?!0:MC(e,t.parentElement):!1;function Iv(e){return S.useEffect(()=>()=>e(),[])}const g$=(e,t)=>n=>t(e(n)),Bf=(...e)=>e.reduce(g$);function m$({onTap:e,onTapStart:t,onTapCancel:n,whileTap:i,visualElement:r,...s}){const o=e||t||n||i,a=S.useRef(!1),l=S.useRef(null),u={passive:!(t||e||n||s.onPointerDown)};function c(){l.current&&l.current(),l.current=null}function h(){return c(),a.current=!1,r.getProps().whileTap&&r.animationState&&r.animationState.setActive(pt.Tap,!1),!DC()}function f(g,v){var y,m,w,b;h()&&(MC(r.current,g.target)?(b=(w=r.getProps()).onTap)===null||b===void 0||b.call(w,g,v):(m=(y=r.getProps()).onTapCancel)===null||m===void 0||m.call(y,g,v))}function d(g,v){var y,m;h()&&((m=(y=r.getProps()).onTapCancel)===null||m===void 0||m.call(y,g,v))}const p=S.useCallback((g,v)=>{var y;if(c(),a.current)return;a.current=!0,l.current=Bf(Ws(window,"pointerup",f,u),Ws(window,"pointercancel",d,u));const m=r.getProps();m.whileTap&&r.animationState&&r.animationState.setActive(pt.Tap,!0),(y=m.onTapStart)===null||y===void 0||y.call(m,g,v)},[Boolean(t),r]);ph(r,"pointerdown",o?p:void 0,u),Iv(c)}const nm=new WeakMap,ip=new WeakMap,y$=e=>{const t=nm.get(e.target);t&&t(e)},v$=e=>{e.forEach(y$)};function w$({root:e,...t}){const n=e||document;ip.has(n)||ip.set(n,{});const i=ip.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(v$,{root:e,...t})),i[r]}function b$(e,t,n){const i=w$(t);return nm.set(e,n),i.observe(e),()=>{nm.delete(e),i.unobserve(e)}}function x$({visualElement:e,whileInView:t,onViewportEnter:n,onViewportLeave:i,viewport:r={}}){const s=S.useRef({hasEnteredView:!1,isInView:!1});let o=Boolean(t||n||i);r.once&&s.current.hasEnteredView&&(o=!1),(typeof IntersectionObserver>"u"?E$:S$)(o,s.current,e,r)}const _$={some:0,all:1};function S$(e,t,n,{root:i,margin:r,amount:s="some",once:o}){S.useEffect(()=>{if(!e||!n.current)return;const a={root:i==null?void 0:i.current,rootMargin:r,threshold:typeof s=="number"?s:_$[s]},l=u=>{const{isIntersecting:c}=u;if(t.isInView===c||(t.isInView=c,o&&!c&&t.hasEnteredView))return;c&&(t.hasEnteredView=!0),n.animationState&&n.animationState.setActive(pt.InView,c);const h=n.getProps(),f=c?h.onViewportEnter:h.onViewportLeave;f&&f(u)};return b$(n.current,a,l)},[e,i,r,s])}function E$(e,t,n,{fallback:i=!0}){S.useEffect(()=>{!e||!i||requestAnimationFrame(()=>{t.hasEnteredView=!0;const{onViewportEnter:r}=n.getProps();r&&r(null),n.animationState&&n.animationState.setActive(pt.InView,!0)})},[e])}const Mi=e=>t=>(e(t),null),k$={inView:Mi(x$),tap:Mi(m$),focus:Mi(d$),hover:Mi(p$)};function RC(){const e=S.useContext(Fl);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,r=S.useId();return S.useEffect(()=>i(r),[]),!t&&n?[!1,()=>n&&n(r)]:[!0]}function IC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const C$=e=>/^\-?\d*\.?\d+$/.test(e),T$=e=>/^0[^.\s]+$/.test(e),ri={delta:0,timestamp:0},OC=1/60*1e3,P$=typeof performance<"u"?()=>performance.now():()=>Date.now(),LC=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(P$()),OC);function A$(e){let t=[],n=[],i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&r,f=h?t:n;return u&&o.add(l),f.indexOf(l)===-1&&(f.push(l),h&&r&&(i=t.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[t,n]=[n,t],n.length=0,i=t.length,i)for(let u=0;u<i;u++){const c=t[u];c(l),o.has(c)&&(a.schedule(c),e())}r=!1,s&&(s=!1,a.process(l))}};return a}const D$=40;let im=!0,ol=!1,rm=!1;const jl=["read","update","preRender","render","postRender"],jf=jl.reduce((e,t)=>(e[t]=A$(()=>ol=!0),e),{}),Ae=jl.reduce((e,t)=>{const n=jf[t];return e[t]=(i,r=!1,s=!1)=>(ol||R$(),n.schedule(i,r,s)),e},{}),nr=jl.reduce((e,t)=>(e[t]=jf[t].cancel,e),{}),rp=jl.reduce((e,t)=>(e[t]=()=>jf[t].process(ri),e),{}),M$=e=>jf[e].process(ri),NC=e=>{ol=!1,ri.delta=im?OC:Math.max(Math.min(e-ri.timestamp,D$),1),ri.timestamp=e,rm=!0,jl.forEach(M$),rm=!1,ol&&(im=!1,LC(NC))},R$=()=>{ol=!0,im=!0,rm||LC(NC)};function Ov(e,t){e.indexOf(t)===-1&&e.push(t)}function Lv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Nv{constructor(){this.subscriptions=[]}add(t){return Ov(this.subscriptions,t),()=>Lv(this.subscriptions,t)}notify(t,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function $v(e,t){return t?e*(1e3/t):0}const I$=e=>!isNaN(parseFloat(e));class O${constructor(t,n={}){this.version="8.5.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=ri;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Ae.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ae.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=I$(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Nv);const i=this.events[t].add(n);return t==="change"?()=>{i(),Ae.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=t,this.timeDelta=i}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?$v(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ro(e,t){return new O$(e,t)}const Fv=(e,t)=>n=>Boolean(Vl(n)&&jN.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),$C=(e,t,n)=>i=>{if(!Vl(i))return i;const[r,s,o,a]=i.match(sl);return{[e]:parseFloat(r),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},L$=e=>io(0,255,e),sp={...ls,transform:e=>Math.round(L$(e))},Ir={test:Fv("rgb","red"),parse:$C("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+sp.transform(e)+", "+sp.transform(t)+", "+sp.transform(n)+", "+ba(wa.transform(i))+")"};function N$(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const sm={test:Fv("#"),parse:N$,transform:Ir.transform},Os={test:Fv("hsl","hue"),parse:$C("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+$n.transform(ba(t))+", "+$n.transform(ba(n))+", "+ba(wa.transform(i))+")"},ke={test:e=>Ir.test(e)||sm.test(e)||Os.test(e),parse:e=>Ir.test(e)?Ir.parse(e):Os.test(e)?Os.parse(e):sm.parse(e),transform:e=>Vl(e)?e:e.hasOwnProperty("red")?Ir.transform(e):Os.transform(e)},FC="${c}",VC="${n}";function $$(e){var t,n;return isNaN(e)&&Vl(e)&&(((t=e.match(sl))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(tm))===null||n===void 0?void 0:n.length)||0)>0}function gh(e){typeof e=="number"&&(e=`${e}`);const t=[];let n=0,i=0;const r=e.match(tm);r&&(n=r.length,e=e.replace(tm,FC),t.push(...r.map(ke.parse)));const s=e.match(sl);return s&&(i=s.length,e=e.replace(sl,VC),t.push(...s.map(ls.parse))),{values:t,numColors:n,numNumbers:i,tokenised:e}}function BC(e){return gh(e).values}function jC(e){const{values:t,numColors:n,tokenised:i}=gh(e),r=t.length;return s=>{let o=i;for(let a=0;a<r;a++)o=o.replace(a<n?FC:VC,a<n?ke.transform(s[a]):ba(s[a]));return o}}const F$=e=>typeof e=="number"?0:e;function V$(e){const t=BC(e);return jC(e)(t.map(F$))}const ir={test:$$,parse:BC,createTransformer:jC,getAnimatableNone:V$},B$=new Set(["brightness","contrast","saturate","opacity"]);function j$(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(sl)||[];if(!i)return e;const r=n.replace(i,"");let s=B$.has(t)?1:0;return i!==n&&(s*=100),t+"("+s+r+")"}const z$=/([a-z-]*)\(.*?\)/g,om={...ir,getAnimatableNone:e=>{const t=e.match(z$);return t?t.map(j$).join(" "):e}},U$={...yC,color:ke,backgroundColor:ke,outlineColor:ke,fill:ke,stroke:ke,borderColor:ke,borderTopColor:ke,borderRightColor:ke,borderBottomColor:ke,borderLeftColor:ke,filter:om,WebkitFilter:om},Vv=e=>U$[e];function Bv(e,t){var n;let i=Vv(e);return i!==om&&(i=ir),(n=i.getAnimatableNone)===null||n===void 0?void 0:n.call(i,t)}const zC=e=>t=>t.test(e),H$={test:e=>e==="auto",parse:e=>e},UC=[ls,j,$n,bi,UN,zN,H$],Bo=e=>UC.find(zC(e)),W$=[...UC,ke,ir],K$=e=>W$.find(zC(e));function q$(e){const t={};return e.values.forEach((n,i)=>t[i]=n.get()),t}function G$(e){const t={};return e.values.forEach((n,i)=>t[i]=n.getVelocity()),t}function zf(e,t,n){const i=e.getProps();return Mv(i,t,n!==void 0?n:i.custom,q$(e),G$(e))}function Y$(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ro(n))}function X$(e,t){const n=zf(e,t);let{transitionEnd:i={},transition:r={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...i};for(const o in s){const a=a$(s[o]);Y$(e,o,a)}}function Q$(e,t,n){var i,r;const s=Object.keys(t).filter(a=>!e.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(r=(i=n[l])!==null&&i!==void 0?i:e.readValue(l))!==null&&r!==void 0?r:t[l]),c!=null&&(typeof c=="string"&&(C$(c)||T$(c))?c=parseFloat(c):!K$(c)&&ir.test(u)&&(c=Bv(l,u)),e.addValue(l,ro(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function J$(e,t){return t?(t[e]||t.default||t).from:void 0}function Z$(e,t,n){var i;const r={};for(const s in e){const o=J$(s,t);r[s]=o!==void 0?o:(i=n.getValue(s))===null||i===void 0?void 0:i.get()}return r}function mh(e){return Boolean(Ve(e)&&e.add)}const tF="framerAppearId",eF="data-"+Av(tF);var nF=function(){},yh=function(){};const mc=e=>e*1e3,iF={current:!1},jv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,zv=e=>t=>1-e(1-t),Uv=e=>e*e,rF=zv(Uv),Hv=jv(Uv),Rt=(e,t,n)=>-n*e+n*t+e;function op(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function sF({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let r=0,s=0,o=0;if(!t)r=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=op(l,a,e+1/3),s=op(l,a,e),o=op(l,a,e-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const ap=(e,t,n)=>{const i=e*e;return Math.sqrt(Math.max(0,n*(t*t-i)+i))},oF=[sm,Ir,Os],aF=e=>oF.find(t=>t.test(e));function ib(e){const t=aF(e);let n=t.parse(e);return t===Os&&(n=sF(n)),n}const HC=(e,t)=>{const n=ib(e),i=ib(t),r={...n};return s=>(r.red=ap(n.red,i.red,s),r.green=ap(n.green,i.green,s),r.blue=ap(n.blue,i.blue,s),r.alpha=Rt(n.alpha,i.alpha,s),Ir.transform(r))};function WC(e,t){return typeof e=="number"?n=>Rt(e,t,n):ke.test(e)?HC(e,t):qC(e,t)}const KC=(e,t)=>{const n=[...e],i=n.length,r=e.map((s,o)=>WC(s,t[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}},lF=(e,t)=>{const n={...e,...t},i={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(i[r]=WC(e[r],t[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}},qC=(e,t)=>{const n=ir.createTransformer(t),i=gh(e),r=gh(t);return i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?Bf(KC(i.values,r.values),n):o=>`${o>0?t:e}`},vh=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i},rb=(e,t)=>n=>Rt(e,t,n);function uF(e){return typeof e=="number"?rb:typeof e=="string"?ke.test(e)?HC:qC:Array.isArray(e)?KC:typeof e=="object"?lF:rb}function cF(e,t,n){const i=[],r=n||uF(e[0]),s=e.length-1;for(let o=0;o<s;o++){let a=r(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]:t;a=Bf(l,a)}i.push(a)}return i}function GC(e,t,{clamp:n=!0,ease:i,mixer:r}={}){const s=e.length;yh(s===t.length),yh(!i||!Array.isArray(i)||i.length===s-1),e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=cF(t,i,r),a=o.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const h=vh(e[c],e[c+1],u);return o[c](h)};return n?u=>l(io(e[0],e[s-1],u)):l}const Wv=e=>e,YC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,hF=1e-7,fF=12;function dF(e,t,n,i,r){let s,o,a=0;do o=t+(n-t)/2,s=YC(o,i,r)-e,s>0?n=o:t=o;while(Math.abs(s)>hF&&++a<fF);return o}function XC(e,t,n,i){if(e===t&&n===i)return Wv;const r=s=>dF(s,0,1,e,n);return s=>s===0||s===1?s:YC(r(s),t,i)}const QC=e=>1-Math.sin(Math.acos(e)),Kv=zv(QC),pF=jv(Kv),JC=XC(.33,1.53,.69,.99),qv=zv(JC),gF=jv(qv),mF=e=>(e*=2)<1?.5*qv(e):.5*(2-Math.pow(2,-10*(e-1))),yF={linear:Wv,easeIn:Uv,easeInOut:Hv,easeOut:rF,circIn:QC,circInOut:pF,circOut:Kv,backIn:qv,backInOut:gF,backOut:JC,anticipate:mF},sb=e=>{if(Array.isArray(e)){yh(e.length===4);const[t,n,i,r]=e;return XC(t,n,i,r)}else if(typeof e=="string")return yF[e];return e},vF=e=>Array.isArray(e)&&typeof e[0]!="number";function wF(e,t){return e.map(()=>t||Hv).splice(0,e.length-1)}function bF(e){const t=e.length;return e.map((n,i)=>i!==0?i/(t-1):0)}function xF(e,t){return e.map(n=>n*t)}function am({keyframes:e,ease:t=Hv,times:n,duration:i=300}){e=[...e];const r=vF(t)?t.map(sb):sb(t),s={done:!1,value:e[0]},o=xF(n&&n.length===e.length?n:bF(e),i);function a(){return GC(o,e,{ease:Array.isArray(r)?r:wF(e,r)})}let l=a();return{next:u=>(s.value=l(u),s.done=u>=i,s),flipTarget:()=>{e.reverse(),l=a()}}}const lp=.001,_F=.01,ob=10,SF=.05,EF=1;function kF({duration:e=800,bounce:t=.25,velocity:n=0,mass:i=1}){let r,s;nF(e<=ob*1e3);let o=1-t;o=io(SF,EF,o),e=io(_F,ob,e/1e3),o<1?(r=u=>{const c=u*o,h=c*e,f=c-n,d=lm(u,o),p=Math.exp(-h);return lp-f/d*p},s=u=>{const h=u*o*e,f=h*n+n,d=Math.pow(o,2)*Math.pow(u,2)*e,p=Math.exp(-h),g=lm(Math.pow(u,2),o);return(-r(u)+lp>0?-1:1)*((f-d)*p)/g}):(r=u=>{const c=Math.exp(-u*e),h=(u-n)*e+1;return-lp+c*h},s=u=>{const c=Math.exp(-u*e),h=(n-u)*(e*e);return c*h});const a=5/e,l=TF(r,s,a);if(e=e*1e3,isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:e}}}const CF=12;function TF(e,t,n){let i=n;for(let r=1;r<CF;r++)i=i-e(i)/t(i);return i}function lm(e,t){return e*Math.sqrt(1-t*t)}const PF=["duration","bounce"],AF=["stiffness","damping","mass"];function ab(e,t){return t.some(n=>e[n]!==void 0)}function DF(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ab(e,AF)&&ab(e,PF)){const n=kF(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}const MF=5;function ZC({keyframes:e,restDelta:t,restSpeed:n,...i}){let r=e[0],s=e[e.length-1];const o={done:!1,value:r},{stiffness:a,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:f}=DF(i);let d=RF,p=c?-(c/1e3):0;const g=l/(2*Math.sqrt(a*u));function v(){const y=s-r,m=Math.sqrt(a/u)/1e3,w=Math.abs(y)<5;if(n||(n=w?.01:2),t||(t=w?.005:.5),g<1){const b=lm(m,g);d=x=>{const _=Math.exp(-g*m*x);return s-_*((p+g*m*y)/b*Math.sin(b*x)+y*Math.cos(b*x))}}else if(g===1)d=b=>s-Math.exp(-m*b)*(y+(p+m*y)*b);else{const b=m*Math.sqrt(g*g-1);d=x=>{const _=Math.exp(-g*m*x),E=Math.min(b*x,300);return s-_*((p+g*m*y)*Math.sinh(E)+b*y*Math.cosh(E))/b}}}return v(),{next:y=>{const m=d(y);if(f)o.done=y>=h;else{let w=p;if(y!==0)if(g<1){const _=Math.max(0,y-MF);w=$v(m-d(_),y-_)}else w=0;const b=Math.abs(w)<=n,x=Math.abs(s-m)<=t;o.done=b&&x}return o.value=o.done?s:m,o},flipTarget:()=>{p=-p,[r,s]=[s,r],v()}}}ZC.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const RF=e=>0;function IF({keyframes:e=[0],velocity:t=0,power:n=.8,timeConstant:i=350,restDelta:r=.5,modifyTarget:s}){const o=e[0],a={done:!1,value:o};let l=n*t;const u=o+l,c=s===void 0?u:s(u);return c!==u&&(l=c-o),{next:h=>{const f=-l*Math.exp(-h/i);return a.done=!(f>r||f<-r),a.value=a.done?c:c+f,a},flipTarget:()=>{}}}const OF={decay:IF,keyframes:am,tween:am,spring:ZC};function tT(e,t,n=0){return e-t-n}function LF(e,t=0,n=0,i=!0){return i?tT(t+-e,t,n):t-(e-t)+n}function NF(e,t,n,i){return i?e>=t+n:e<=-n}const $F=e=>{const t=({delta:n})=>e(n);return{start:()=>Ae.update(t,!0),stop:()=>nr.update(t)}};function wh({duration:e,driver:t=$F,elapsed:n=0,repeat:i=0,repeatType:r="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:l,onStop:u,onComplete:c,onRepeat:h,onUpdate:f,type:d="keyframes",...p}){var g,v;const y=n;let m,w=0,b=e,x=!1,_=!0,E;const k=OF[o.length>2?"keyframes":d]||am,P=o[0],T=o[o.length-1];let I={done:!1,value:P};!((v=(g=k).needsInterpolation)===null||v===void 0)&&v.call(g,P,T)&&(E=GC([0,100],[P,T],{clamp:!1}),o=[0,100]);const q=k({...p,duration:e,keyframes:o});function ht(){w++,r==="reverse"?(_=w%2===0,n=LF(n,b,s,_)):(n=tT(n,b,s),r==="mirror"&&q.flipTarget()),x=!1,h&&h()}function At(){m&&m.stop(),c&&c()}function V(Q){_||(Q=-Q),n+=Q,x||(I=q.next(Math.max(0,n)),E&&(I.value=E(I.value)),x=_?I.done:n<=0),f&&f(I.value),x&&(w===0&&(b=b!==void 0?b:n),w<i?NF(n,b,s,_)&&ht():At())}function J(){l&&l(),m=t(V),m.start()}return a&&J(),{stop:()=>{u&&u(),m&&m.stop()},set currentTime(Q){n=y,V(Q)},sample:Q=>{n=y;const R=e&&typeof e=="number"?Math.max(e*.5,50):50;let N=0;for(V(0);N<=Q;){const z=Q-N;V(Math.min(z,R)),N+=R}return I}}}function FF(e){return!e||Array.isArray(e)||typeof e=="string"&&eT[e]}const ta=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,eT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ta([0,.65,.55,1]),circOut:ta([.55,0,1,.45]),backIn:ta([.31,.01,.66,-.59]),backOut:ta([.33,1.53,.69,.99])};function VF(e){if(e)return Array.isArray(e)?ta(e):eT[e]}function BF(e,t,n,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){return e.animate({[t]:n,offset:l},{delay:i,duration:r,easing:VF(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const lb={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},up={},nT={};for(const e in lb)nT[e]=()=>(up[e]===void 0&&(up[e]=lb[e]()),up[e]);function jF(e,{repeat:t,repeatType:n="loop"}){const i=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[i]}const zF=new Set(["opacity"]),ku=10;function UF(e,t,{onUpdate:n,onComplete:i,...r}){if(!(nT.waapi()&&zF.has(t)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0))return!1;let{keyframes:o,duration:a=300,elapsed:l=0,ease:u}=r;if(r.type==="spring"||!FF(r.ease)){if(r.repeat===1/0)return;const h=wh({...r,elapsed:0});let f={done:!1,value:o[0]};const d=[];let p=0;for(;!f.done&&p<2e4;)f=h.sample(p),d.push(f.value),p+=ku;o=d,a=p-ku,u="linear"}const c=BF(e.owner.current,t,o,{...r,delay:-l,duration:a,ease:u});return c.onfinish=()=>{e.set(jF(o,r)),i&&i()},{get currentTime(){return c.currentTime||0},set currentTime(h){c.currentTime=h},stop:()=>{const{currentTime:h}=c;if(h){const f=wh({...r,autoplay:!1});e.setWithVelocity(f.sample(h-ku).value,f.sample(h).value,ku)}Ae.update(()=>c.cancel())}}}function iT(e,t){const n=performance.now(),i=({timestamp:r})=>{const s=r-n;s>=t&&(nr.read(i),e(s-t))};return Ae.read(i,!0),()=>nr.read(i)}function HF({keyframes:e,elapsed:t,onUpdate:n,onComplete:i}){const r=()=>{n&&n(e[e.length-1]),i&&i()};return t?{stop:iT(r,-t)}:r()}function WF({keyframes:e,velocity:t=0,min:n,max:i,power:r=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:u,driver:c,onUpdate:h,onComplete:f,onStop:d}){const p=e[0];let g;function v(b){return n!==void 0&&b<n||i!==void 0&&b>i}function y(b){return n===void 0?i:i===void 0||Math.abs(n-b)<Math.abs(i-b)?n:i}function m(b){g==null||g.stop(),g=wh({keyframes:[0,1],velocity:0,...b,driver:c,onUpdate:x=>{var _;h==null||h(x),(_=b.onUpdate)===null||_===void 0||_.call(b,x)},onComplete:f,onStop:d})}function w(b){m({type:"spring",stiffness:o,damping:a,restDelta:l,...b})}if(v(p))w({velocity:t,keyframes:[p,y(p)]});else{let b=r*t+p;typeof u<"u"&&(b=u(b));const x=y(b),_=x===n?-1:1;let E,k;const P=T=>{E=k,k=T,t=$v(T-E,ri.delta),(_===1&&T>x||_===-1&&T<x)&&w({keyframes:[T,x],velocity:t})};m({type:"decay",keyframes:[p,0],velocity:t,timeConstant:s,power:r,restDelta:l,modifyTarget:u,onUpdate:v(b)?P:void 0})}return{stop:()=>g==null?void 0:g.stop()}}const mr=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),Cu=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),cp=()=>({type:"keyframes",ease:"linear",duration:.3}),KF={type:"keyframes",duration:.8},ub={x:mr,y:mr,z:mr,rotate:mr,rotateX:mr,rotateY:mr,rotateZ:mr,scaleX:Cu,scaleY:Cu,scale:Cu,opacity:cp,backgroundColor:cp,color:cp,default:Cu},qF=(e,{keyframes:t})=>t.length>2?KF:(ub[e]||ub.default)(t[1]),um=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&ir.test(t)&&!t.startsWith("url("));function GF({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function cb(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function hb(e){return typeof e=="number"?0:Bv("",e)}function rT(e,t){return e[t]||e.default||e}function YF(e,t,n,i){const r=um(t,n);let s=i.from!==void 0?i.from:e.get();return s==="none"&&r&&typeof n=="string"?s=Bv(t,n):cb(s)&&typeof n=="string"?s=hb(n):!Array.isArray(n)&&cb(n)&&typeof s=="string"&&(n=hb(s)),Array.isArray(n)?(n[0]===null&&(n[0]=s),n):[s,n]}const Gv=(e,t,n,i={})=>r=>{const s=rT(i,e)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-mc(o);const l=YF(t,e,n,s),u=l[0],c=l[l.length-1],h=um(e,u),f=um(e,c);let d={keyframes:l,velocity:t.getVelocity(),...s,elapsed:a,onUpdate:v=>{t.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(!h||!f||iF.current||s.type===!1)return HF(d);if(s.type==="inertia")return WF(d);GF(s)||(d={...d,...qF(e,d)}),d.duration&&(d.duration=mc(d.duration)),d.repeatDelay&&(d.repeatDelay=mc(d.repeatDelay));const p=t.owner,g=p&&p.current;if(p&&g instanceof HTMLElement&&!(p!=null&&p.getProps().onUpdate)){const v=UF(t,e,d);if(v)return v}return wh(d)};function XF(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(s=>cm(e,s,n));i=Promise.all(r)}else if(typeof t=="string")i=cm(e,t,n);else{const r=typeof t=="function"?zf(e,t,n.custom):t;i=sT(e,r,n)}return i.then(()=>e.notify("AnimationComplete",t))}function cm(e,t,n={}){var i;const r=zf(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>sT(e,r,n):()=>Promise.resolve(),a=!((i=e.variantChildren)===null||i===void 0)&&i.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:f}=s;return QF(e,t,c+u,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(c)}else return Promise.all([o(),a(n.delay)])}function sT(e,t,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=e.makeTargetAnimatable(t);const u=e.getValue("willChange");i&&(o=i);const c=[],h=r&&((s=e.animationState)===null||s===void 0?void 0:s.getState()[r]);for(const f in l){const d=e.getValue(f),p=l[f];if(!d||p===void 0||h&&ZF(h,f))continue;const g={delay:n,elapsed:0,...o};if(window.HandoffAppearAnimations&&!d.hasAnimated){const y=e.getProps()[eF];y&&(g.elapsed=window.HandoffAppearAnimations(y,f,d,Ae))}let v=d.start(Gv(f,d,p,e.shouldReduceMotion&&Eo.has(f)?{type:!1}:g));mh(u)&&(u.add(f),v=v.then(()=>u.remove(f))),c.push(v)}return Promise.all(c).then(()=>{a&&X$(e,a)})}function QF(e,t,n=0,i=0,r=1,s){const o=[],a=(e.variantChildren.size-1)*i,l=r===1?(u=0)=>u*i:(u=0)=>a-u*i;return Array.from(e.variantChildren).sort(JF).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(cm(u,t,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function JF(e,t){return e.sortNodePosition(t)}function ZF({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}const Yv=[pt.Animate,pt.InView,pt.Focus,pt.Hover,pt.Tap,pt.Drag,pt.Exit],tV=[...Yv].reverse(),eV=Yv.length;function nV(e){return t=>Promise.all(t.map(({animation:n,options:i})=>XF(e,n,i)))}function iV(e){let t=nV(e);const n=sV();let i=!0;const r=(l,u)=>{const c=zf(e,u);if(c){const{transition:h,transitionEnd:f,...d}=c;l={...l,...d,...f}}return l};function s(l){t=l(e)}function o(l,u){const c=e.getProps(),h=e.getVariantContext(!0)||{},f=[],d=new Set;let p={},g=1/0;for(let y=0;y<eV;y++){const m=tV[y],w=n[m],b=c[m]!==void 0?c[m]:h[m],x=il(b),_=m===u?w.isActive:null;_===!1&&(g=y);let E=b===h[m]&&b!==c[m]&&x;if(E&&i&&e.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...p},!w.isActive&&_===null||!b&&!w.prevProp||Nf(b)||typeof b=="boolean")continue;const k=rV(w.prevProp,b);let P=k||m===u&&w.isActive&&!E&&x||y>g&&x;const T=Array.isArray(b)?b:[b];let I=T.reduce(r,{});_===!1&&(I={});const{prevResolvedValues:q={}}=w,ht={...q,...I},At=V=>{P=!0,d.delete(V),w.needsAnimating[V]=!0};for(const V in ht){const J=I[V],Q=q[V];p.hasOwnProperty(V)||(J!==Q?dh(J)&&dh(Q)?!IC(J,Q)||k?At(V):w.protectedKeys[V]=!0:J!==void 0?At(V):d.add(V):J!==void 0&&d.has(V)?At(V):w.protectedKeys[V]=!0)}w.prevProp=b,w.prevResolvedValues=I,w.isActive&&(p={...p,...I}),i&&e.blockInitialAnimation&&(P=!1),P&&!E&&f.push(...T.map(V=>({animation:V,options:{type:m,...l}})))}if(d.size){const y={};d.forEach(m=>{const w=e.getBaseTarget(m);w!==void 0&&(y[m]=w)}),f.push({animation:y})}let v=Boolean(f.length);return i&&c.initial===!1&&!e.manuallyAnimateOnMount&&(v=!1),i=!1,v?t(f):Promise.resolve()}function a(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(d=>{var p;return(p=d.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const f=o(c,l);for(const d in n)n[d].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function rV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!IC(t,e):!1}function yr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sV(){return{[pt.Animate]:yr(!0),[pt.InView]:yr(),[pt.Hover]:yr(),[pt.Tap]:yr(),[pt.Drag]:yr(),[pt.Focus]:yr(),[pt.Exit]:yr()}}const oV={animation:Mi(({visualElement:e,animate:t})=>{e.animationState||(e.animationState=iV(e)),Nf(t)&&S.useEffect(()=>t.subscribe(e),[t])}),exit:Mi(e=>{const{custom:t,visualElement:n}=e,[i,r]=RC(),s=S.useContext(Fl);S.useEffect(()=>{n.isPresent=i;const o=n.animationState&&n.animationState.setActive(pt.Exit,!i,{custom:s&&s.custom||t});o&&!i&&o.then(r)},[i])})},fb=(e,t)=>Math.abs(e-t);function aV(e,t){const n=fb(e.x,t.x),i=fb(e.y,t.y);return Math.sqrt(n**2+i**2)}class oT{constructor(t,n,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=fp(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,h=aV(u.offset,{x:0,y:0})>=3;if(!c&&!h)return;const{point:f}=u,{timestamp:d}=ri;this.history.push({...f,timestamp:d});const{onStart:p,onMove:g}=this.handlers;c||(p&&p(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=hp(c,this.transformPagePoint),Ae.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:f}=this.handlers,d=fp(u.type==="pointercancel"?this.lastMoveEventInfo:hp(c,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,d),f&&f(u,d)},!CC(t))return;this.handlers=n,this.transformPagePoint=i;const r=Rv(t),s=hp(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=ri;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(t,fp(s,this.history)),this.removeListeners=Bf(Ws(window,"pointermove",this.handlePointerMove),Ws(window,"pointerup",this.handlePointerUp),Ws(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),nr.update(this.updatePoint)}}function hp(e,t){return t?{point:t(e.point)}:e}function db(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fp({point:e},t){return{point:e,delta:db(e,aT(t)),offset:db(e,lV(t)),velocity:uV(t,.1)}}function lV(e){return e[0]}function aT(e){return e[e.length-1]}function uV(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=aT(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>mc(t)));)n--;if(!i)return{x:0,y:0};const s=(r.timestamp-i.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Xe(e){return e.max-e.min}function hm(e,t=0,n=.01){return Math.abs(e-t)<=n}function pb(e,t,n,i=.5){e.origin=i,e.originPoint=Rt(t.min,t.max,e.origin),e.scale=Xe(n)/Xe(t),(hm(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Rt(n.min,n.max,e.origin)-e.originPoint,(hm(e.translate)||isNaN(e.translate))&&(e.translate=0)}function xa(e,t,n,i){pb(e.x,t.x,n.x,i==null?void 0:i.originX),pb(e.y,t.y,n.y,i==null?void 0:i.originY)}function gb(e,t,n){e.min=n.min+t.min,e.max=e.min+Xe(t)}function cV(e,t,n){gb(e.x,t.x,n.x),gb(e.y,t.y,n.y)}function mb(e,t,n){e.min=t.min-n.min,e.max=e.min+Xe(t)}function _a(e,t,n){mb(e.x,t.x,n.x),mb(e.y,t.y,n.y)}function hV(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Rt(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Rt(n,e,i.max):Math.min(e,n)),e}function yb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function fV(e,{top:t,left:n,bottom:i,right:r}){return{x:yb(e.x,n,r),y:yb(e.y,t,i)}}function vb(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function dV(e,t){return{x:vb(e.x,t.x),y:vb(e.y,t.y)}}function pV(e,t){let n=.5;const i=Xe(e),r=Xe(t);return r>i?n=vh(t.min,t.max-i,e.min):i>r&&(n=vh(e.min,e.max-r,t.min)),io(0,1,n)}function gV(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const fm=.35;function mV(e=fm){return e===!1?e=0:e===!0&&(e=fm),{x:wb(e,"left","right"),y:wb(e,"top","bottom")}}function wb(e,t,n){return{min:bb(e,t),max:bb(e,n)}}function bb(e,t){return typeof e=="number"?e:e[t]||0}const xb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sa=()=>({x:xb(),y:xb()}),_b=()=>({min:0,max:0}),Ut=()=>({x:_b(),y:_b()});function An(e){return[e("x"),e("y")]}function lT({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function yV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function vV(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function dp(e){return e===void 0||e===1}function dm({scale:e,scaleX:t,scaleY:n}){return!dp(e)||!dp(t)||!dp(n)}function kr(e){return dm(e)||uT(e)||e.z||e.rotate||e.rotateX||e.rotateY}function uT(e){return Sb(e.x)||Sb(e.y)}function Sb(e){return e&&e!=="0%"}function bh(e,t,n){const i=e-n,r=t*i;return n+r}function Eb(e,t,n,i,r){return r!==void 0&&(e=bh(e,r,i)),bh(e,n,i)+t}function pm(e,t=0,n=1,i,r){e.min=Eb(e.min,t,n,i,r),e.max=Eb(e.max,t,n,i,r)}function cT(e,{x:t,y:n}){pm(e.x,t.translate,t.scale,t.originPoint),pm(e.y,n.translate,n.scale,n.originPoint)}function wV(e,t,n,i=!1){var r,s;const o=n.length;if(!o)return;t.x=t.y=1;let a,l;for(let u=0;u<o;u++)a=n[u],l=a.projectionDelta,((s=(r=a.instance)===null||r===void 0?void 0:r.style)===null||s===void 0?void 0:s.display)!=="contents"&&(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ls(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,cT(e,l)),i&&kr(a.latestValues)&&Ls(e,a.latestValues));t.x=kb(t.x),t.y=kb(t.y)}function kb(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Si(e,t){e.min=e.min+t,e.max=e.max+t}function Cb(e,t,[n,i,r]){const s=t[r]!==void 0?t[r]:.5,o=Rt(e.min,e.max,s);pm(e,t[n],t[i],o,t.scale)}const bV=["x","scaleX","originX"],xV=["y","scaleY","originY"];function Ls(e,t){Cb(e.x,t,bV),Cb(e.y,t,xV)}function hT(e,t){return lT(vV(e.getBoundingClientRect(),t))}function _V(e,t,n){const i=hT(e,n),{scroll:r}=t;return r&&(Si(i.x,r.offset.x),Si(i.y,r.offset.y)),i}const SV=new WeakMap;class EV{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ut(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){if(this.visualElement.isPresent===!1)return;const i=a=>{this.stopAnimation(),n&&this.snapToCursor(Rv(a,"page").point)},r=(a,l)=>{var u;const{drag:c,dragPropagation:h,onDragStart:f}=this.getProps();c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=AC(c),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),An(d=>{var p,g;let v=this.getAxisMotionValue(d).get()||0;if($n.test(v)){const y=(g=(p=this.visualElement.projection)===null||p===void 0?void 0:p.layout)===null||g===void 0?void 0:g.layoutBox[d];y&&(v=Xe(y)*(parseFloat(v)/100))}this.originPoint[d]=v}),f==null||f(a,l),(u=this.visualElement.animationState)===null||u===void 0||u.setActive(pt.Drag,!0))},s=(a,l)=>{const{dragPropagation:u,dragDirectionLock:c,onDirectionLock:h,onDrag:f}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:d}=l;if(c&&this.currentDirection===null){this.currentDirection=kV(d),this.currentDirection!==null&&(h==null||h(this.currentDirection));return}this.updateAxis("x",l.point,d),this.updateAxis("y",l.point,d),this.visualElement.render(),f==null||f(a,l)},o=(a,l)=>this.stop(a,l);this.panSession=new oT(t,{onSessionStart:i,onStart:r,onMove:s,onSessionEnd:o},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s==null||s(t,n)}cancel(){var t,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(t=this.panSession)===null||t===void 0||t.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(pt.Drag,!1)}updateAxis(t,n,i){const{drag:r}=this.getProps();if(!i||!Tu(t,r,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=hV(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;t&&Is(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=fV(i.layoutBox,t):this.constraints=!1,this.elastic=mV(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&An(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=gV(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Is(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=_V(i,r.root,this.visualElement.getTransformPagePoint());let o=dV(r.layout.layoutBox,s);if(n){const a=n(yV(o));this.hasMutatedConstraints=!!a,a&&(o=lT(a))}return o}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=An(c=>{if(!Tu(c,n,this.currentDirection))return;let h=(l==null?void 0:l[c])||{};o&&(h={min:0,max:0});const f=r?200:1e6,d=r?40:1e7,p={type:"inertia",velocity:i?t[c]:0,bounceStiffness:f,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return i.start(Gv(t,i,0,n))}stopAnimation(){An(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){var n;const i="_drag"+t.toUpperCase(),r=this.visualElement.getProps()[i];return r||this.visualElement.getValue(t,((n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[t])||0)}snapToCursor(t){An(n=>{const{drag:i}=this.getProps();if(!Tu(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(t[n]-Rt(o,a,.5))}})}scalePositionWithinConstraints(){var t;if(!this.visualElement.current)return;const{drag:n,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!Is(i)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};An(a=>{const l=this.getAxisMotionValue(a);if(l){const u=l.get();s[a]=pV({min:u,max:u},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",(t=r.root)===null||t===void 0||t.updateScroll(),r.updateLayout(),this.resolveConstraints(),An(a=>{if(!Tu(a,n,null))return;const l=this.getAxisMotionValue(a),{min:u,max:c}=this.constraints[a];l.set(Rt(u,c,s[a]))})}addListeners(){var t;if(!this.visualElement.current)return;SV.set(this.visualElement,this);const n=this.visualElement.current,i=Ws(n,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Is(u)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&((t=s.root)===null||t===void 0||t.updateScroll(),s.updateLayout()),r();const a=Vf(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(An(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())});return()=>{a(),i(),o(),l==null||l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=fm,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Tu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function kV(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}function CV(e){const{dragControls:t,visualElement:n}=e,i=Ff(()=>new EV(n));S.useEffect(()=>t&&t.subscribe(i),[i,t]),S.useEffect(()=>i.addListeners(),[i])}function TV({onPan:e,onPanStart:t,onPanEnd:n,onPanSessionStart:i,visualElement:r}){const s=e||t||n||i,o=S.useRef(null),{transformPagePoint:a}=S.useContext(_v),l={onSessionStart:i,onStart:t,onMove:e,onEnd:(c,h)=>{o.current=null,n&&n(c,h)}};S.useEffect(()=>{o.current!==null&&o.current.updateHandlers(l)});function u(c){o.current=new oT(c,l,{transformPagePoint:a})}ph(r,"pointerdown",s&&u),Iv(()=>o.current&&o.current.end())}const PV={pan:Mi(TV),drag:Mi(CV)};function gm(e){return typeof e=="string"&&e.startsWith("var(--")}const fT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function AV(e){const t=fT.exec(e);if(!t)return[,];const[,n,i]=t;return[n,i]}function mm(e,t,n=1){const[i,r]=AV(e);if(!i)return;const s=window.getComputedStyle(t).getPropertyValue(i);return s?s.trim():gm(r)?mm(r,t,n+1):r}function DV(e,{...t},n){const i=e.current;if(!(i instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(r=>{const s=r.get();if(!gm(s))return;const o=mm(s,i);o&&r.set(o)});for(const r in t){const s=t[r];if(!gm(s))continue;const o=mm(s,i);o&&(t[r]=o,n&&n[r]===void 0&&(n[r]=s))}return{target:t,transitionEnd:n}}const MV=new Set(["width","height","top","left","right","bottom","x","y"]),dT=e=>MV.has(e),RV=e=>Object.keys(e).some(dT),Tb=e=>e===ls||e===j;var Pb;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(Pb||(Pb={}));const Ab=(e,t)=>parseFloat(e.split(", ")[t]),Db=(e,t)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return Ab(r[1],t);{const s=i.match(/^matrix\((.+)\)$/);return s?Ab(s[1],e):0}},IV=new Set(["x","y","z"]),OV=hh.filter(e=>!IV.has(e));function LV(e){const t=[];return OV.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Mb={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Db(4,13),y:Db(5,14)},NV=(e,t,n)=>{const i=t.measureViewportBox(),r=t.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Mb[u](i,s)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);c&&c.jump(a[u]),e[u]=Mb[u](l,s)}),e},$V=(e,t,n={},i={})=>{t={...t},i={...i};const r=Object.keys(t).filter(dT);let s=[],o=!1;const a=[];if(r.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],h=Bo(c);const f=t[l];let d;if(dh(f)){const p=f.length,g=f[0]===null?1:0;c=f[g],h=Bo(c);for(let v=g;v<p;v++)d?yh(Bo(f[v])===d):d=Bo(f[v])}else d=Bo(f);if(h!==d)if(Tb(h)&&Tb(d)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof f=="string"?t[l]=parseFloat(f):Array.isArray(f)&&d===j&&(t[l]=f.map(parseFloat))}else h!=null&&h.transform&&(d!=null&&d.transform)&&(c===0||f===0)?c===0?u.set(d.transform(c)):t[l]=h.transform(f):(o||(s=LV(e),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:t[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=NV(t,e,a);return s.length&&s.forEach(([c,h])=>{e.getValue(c).set(h)}),e.render(),Lf&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:i}}else return{target:t,transitionEnd:i}};function FV(e,t,n,i){return RV(t)?$V(e,t,n,i):{target:t,transitionEnd:i}}const VV=(e,t,n,i)=>{const r=DV(e,t,i);return t=r.target,i=r.transitionEnd,FV(e,t,n,i)},ym={current:null},pT={current:!1};function BV(){if(pT.current=!0,!!Lf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ym.current=e.matches;e.addListener(t),t()}else ym.current=!1}function jV(e,t,n){const{willChange:i}=t;for(const r in t){const s=t[r],o=n[r];if(Ve(s))e.addValue(r,s),mh(i)&&i.add(r);else if(Ve(o))e.addValue(r,ro(s,{owner:e})),mh(i)&&i.remove(r);else if(o!==s)if(e.hasValue(r)){const a=e.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=e.getStaticValue(r);e.addValue(r,ro(a!==void 0?a:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const gT=Object.keys(rl),zV=gT.length,Rb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UV{constructor({parent:t,props:n,reducedMotionConfig:i,visualState:r},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ae.render(this.render,!1,!0);const{latestValues:o,renderState:a}=r;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=a,this.parent=t,this.props=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=$f(n),this.isVariantNode=dC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:l,...u}=this.scrapeMotionValuesFromProps(n,{});for(const c in u){const h=u[c];o[c]!==void 0&&Ve(h)&&(h.set(o[c],!1),mh(l)&&l.add(c))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){var n;this.current=t,this.projection&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(n=this.parent)===null||n===void 0?void 0:n.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),pT.current||BV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ym.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var t,n,i;(t=this.projection)===null||t===void 0||t.unmount(),nr.update(this.notifyUpdate),nr.render(this.render),this.valueSubscriptions.forEach(r=>r()),(n=this.removeFromVariantTree)===null||n===void 0||n.call(this),(i=this.parent)===null||i===void 0||i.children.delete(this);for(const r in this.events)this.events[r].clear();this.current=null}bindToMotionValue(t,n){const i=Eo.has(t),r=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ae.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{r(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},i,r,s,o,a){const l=[];for(let u=0;u<zV;u++){const c=gT[u],{isEnabled:h,Component:f}=rl[c];h(n)&&f&&l.push(S.createElement(f,{key:c,...n,visualElement:this}))}if(!this.projection&&o){this.projection=new o(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:h,dragConstraints:f,layoutScroll:d,layoutRoot:p}=n;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:Boolean(h)||f&&Is(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:d,layoutRoot:p})}return l}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ut()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}setProps(t){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender();const n=this.props;this.props=t;for(let i=0;i<Rb.length;i++){const r=Rb[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=t["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=jV(this,this.scrapeMotionValuesFromProps(t,n),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){var n;return(n=this.props.variants)===null||n===void 0?void 0:n[t]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var t;return this.isVariantNode?this:(t=this.parent)===null||t===void 0?void 0:t.getClosestVariantNode()}getVariantContext(t=!1){var n,i;if(t)return(n=this.parent)===null||n===void 0?void 0:n.getVariantContext();if(!this.isControllingVariants){const s=((i=this.parent)===null||i===void 0?void 0:i.getVariantContext())||{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const r={};for(let s=0;s<HV;s++){const o=mT[s],a=this.props[o];(il(a)||a===!1)&&(r[o]=a)}return r}addVariantChild(t){var n;const i=this.getClosestVariantNode();if(i)return(n=i.variantChildren)===null||n===void 0||n.add(t),()=>i.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){var n;this.values.delete(t),(n=this.valueSubscriptions.get(t))===null||n===void 0||n(),this.valueSubscriptions.delete(t),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=ro(n,{owner:this}),this.addValue(t,i)),i}readValue(t){return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(n=Mv(this.props,i))===null||n===void 0?void 0:n[t]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ve(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Nv),this.events[t].add(n)}notify(t,...n){var i;(i=this.events[t])===null||i===void 0||i.notify(...n)}}const mT=["initial",...Yv],HV=mT.length;class yT extends UV{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){var i;return(i=t.style)===null||i===void 0?void 0:i[n]}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...i},{transformValues:r},s){let o=Z$(i,t||{},this);if(r&&(n&&(n=r(n)),i&&(i=r(i)),o&&(o=r(o))),s){Q$(this,i,o);const a=VV(this,i,o,n);n=a.transitionEnd,i=a.target}return{transition:t,transitionEnd:n,...i}}}function WV(e){return window.getComputedStyle(e)}class KV extends yT{readValueFromInstance(t,n){if(Eo.has(n)){const i=Vv(n);return i&&i.default||0}else{const i=WV(t),r=(mC(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return hT(t,n)}build(t,n,i,r){kv(t,n,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Dv(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ve(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,i,r){xC(t,n,i,r)}}class qV extends yT{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){var i;return Eo.has(n)?((i=Vv(n))===null||i===void 0?void 0:i.default)||0:(n=_C.has(n)?n:Av(n),t.getAttribute(n))}measureInstanceViewportBox(){return Ut()}scrapeMotionValuesFromProps(t,n){return EC(t,n)}build(t,n,i,r){Tv(t,n,i,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,i,r){SC(t,n,i,r)}mount(t){this.isSVGTag=Pv(t.tagName),super.mount(t)}}const GV=(e,t)=>Ev(e)?new qV(t,{enableHardwareAcceleration:!1}):new KV(t,{enableHardwareAcceleration:!0});function Ib(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const jo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(j.test(e))e=parseFloat(e);else return e;const n=Ib(e,t.target.x),i=Ib(e,t.target.y);return`${n}% ${i}%`}},Ob="_$css",YV={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,r=e.includes("var("),s=[];r&&(e=e.replace(fT,d=>(s.push(d),Ob)));const o=ir.parse(e);if(o.length>5)return i;const a=ir.createTransformer(e),l=typeof o[0]!="number"?1:0,u=n.x.scale*t.x,c=n.y.scale*t.y;o[0+l]/=u,o[1+l]/=c;const h=Rt(u,c,.5);typeof o[2+l]=="number"&&(o[2+l]/=h),typeof o[3+l]=="number"&&(o[3+l]/=h);let f=a(o);if(r){let d=0;f=f.replace(Ob,()=>{const p=s[d];return d++,p})}return f}};class XV extends gi.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=t;NN(JV),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),va.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Ae.postRender(()=>{var a;!((a=o.getStack())===null||a===void 0)&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n!=null&&n.group&&n.group.remove(r),i!=null&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t==null||t()}render(){return null}}function QV(e){const[t,n]=RC(),i=S.useContext(Sv);return gi.createElement(XV,{...e,layoutGroup:i,switchLayoutGroup:S.useContext(pC),isPresent:t,safeToRemove:n})}const JV={borderRadius:{...jo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jo,borderTopRightRadius:jo,borderBottomLeftRadius:jo,borderBottomRightRadius:jo,boxShadow:YV},ZV={measureLayout:QV};function tB(e,t,n={}){const i=Ve(e)?e:ro(e);return i.start(Gv("",i,t,n)),{stop:()=>i.stop(),isAnimating:()=>i.isAnimating()}}const vT=["TopLeft","TopRight","BottomLeft","BottomRight"],eB=vT.length,Lb=e=>typeof e=="string"?parseFloat(e):e,Nb=e=>typeof e=="number"||j.test(e);function nB(e,t,n,i,r,s){r?(e.opacity=Rt(0,n.opacity!==void 0?n.opacity:1,iB(i)),e.opacityExit=Rt(t.opacity!==void 0?t.opacity:1,0,rB(i))):s&&(e.opacity=Rt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<eB;o++){const a=`border${vT[o]}Radius`;let l=$b(t,a),u=$b(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Nb(l)===Nb(u)?(e[a]=Math.max(Rt(Lb(l),Lb(u),i),0),($n.test(u)||$n.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Rt(t.rotate||0,n.rotate||0,i))}function $b(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const iB=wT(0,.5,Kv),rB=wT(.5,.95,Wv);function wT(e,t,n){return i=>i<e?0:i>t?1:n(vh(e,t,i))}function Fb(e,t){e.min=t.min,e.max=t.max}function pn(e,t){Fb(e.x,t.x),Fb(e.y,t.y)}function Vb(e,t,n,i,r){return e-=t,e=bh(e,1/n,i),r!==void 0&&(e=bh(e,1/r,i)),e}function sB(e,t=0,n=1,i=.5,r,s=e,o=e){if($n.test(t)&&(t=parseFloat(t),t=Rt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Rt(s.min,s.max,i);e===s&&(a-=t),e.min=Vb(e.min,t,n,a,r),e.max=Vb(e.max,t,n,a,r)}function Bb(e,t,[n,i,r],s,o){sB(e,t[n],t[i],t[r],t.scale,s,o)}const oB=["x","scaleX","originX"],aB=["y","scaleY","originY"];function jb(e,t,n,i){Bb(e.x,t,oB,n==null?void 0:n.x,i==null?void 0:i.x),Bb(e.y,t,aB,n==null?void 0:n.y,i==null?void 0:i.y)}function zb(e){return e.translate===0&&e.scale===1}function bT(e){return zb(e.x)&&zb(e.y)}function xT(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Ub(e){return Xe(e.x)/Xe(e.y)}class lB{constructor(){this.members=[]}add(t){Ov(this.members,t),t.scheduleRender()}remove(t){if(Lv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(t,n){var i;const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),!((i=t.root)===null||i===void 0)&&i.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{var n,i,r,s,o;(i=(n=t.options).onExitComplete)===null||i===void 0||i.call(n),(o=(r=t.resumingFrom)===null||r===void 0?void 0:(s=r.options).onExitComplete)===null||o===void 0||o.call(s)})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hb(e,t,n){let i="";const r=e.x.translate/t.x,s=e.y.translate/t.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(i+=`rotate(${l}deg) `),u&&(i+=`rotateX(${u}deg) `),c&&(i+=`rotateY(${c}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const uB=(e,t)=>e.depth-t.depth;class cB{constructor(){this.children=[],this.isDirty=!1}add(t){Ov(this.children,t),this.isDirty=!0}remove(t){Lv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(uB),this.isDirty=!1,this.children.forEach(t)}}const Wb=["","X","Y","Z"],Kb=1e3;let hB=0;function _T({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o,a={},l=t==null?void 0:t()){this.id=hB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(pB),this.nodes.forEach(yB),this.nodes.forEach(vB)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new cB)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Nv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l==null||l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){var l;if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),(l=this.parent)===null||l===void 0||l.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(c||u)&&(this.isLayoutDirty=!0),e){let f;const d=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=iT(d,250),va.hasAnimatedSinceResize&&(va.hasAnimatedSinceResize=!1,this.nodes.forEach(Gb))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:g})=>{var v,y,m,w,b;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=(y=(v=this.options.transition)!==null&&v!==void 0?v:h.getDefaultTransition())!==null&&y!==void 0?y:SB,{onLayoutAnimationStart:_,onLayoutAnimationComplete:E}=h.getProps(),k=!this.targetLayout||!xT(this.targetLayout,g)||p,P=!d&&p;if(this.options.layoutRoot||!((m=this.resumeFrom)===null||m===void 0)&&m.instance||P||d&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,P);const T={...rT(x,"layout"),onPlay:_,onComplete:E};(h.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else!d&&this.animationProgress===0&&Gb(this),this.isLead()&&((b=(w=this.options).onExitComplete)===null||b===void 0||b.call(w));this.targetLayout=g})}unmount(){var o,a;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(o=this.getStack())===null||o===void 0||o.remove(this),(a=this.parent)===null||a===void 0||a.children.delete(this),this.instance=void 0,nr.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var o;return this.isAnimationBlocked||((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimationBlocked())||!1}startUpdate(){var o;this.isUpdateBlocked()||(this.isUpdating=!0,(o=this.nodes)===null||o===void 0||o.forEach(wB),this.animationId++)}getTransformTemplate(){var o;return(o=this.options.visualElement)===null||o===void 0?void 0:o.getProps().transformTemplate}willUpdate(o=!0){var a,l,u;if(this.root.isUpdateBlocked()){(l=(a=this.options).onExitComplete)===null||l===void 0||l.call(a);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;c===void 0&&!h||(this.prevTransformTemplateValue=(u=this.getTransformTemplate())===null||u===void 0?void 0:u(this.latestValues,""),this.updateSnapshot(),o&&this.notifyListeners("willUpdate"))}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qb);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(EB),this.potentialNodes.clear()),this.nodes.forEach(mB),this.nodes.forEach(fB),this.nodes.forEach(dB),this.clearAllSnapshots(),rp.update(),rp.preRender(),rp.render())}clearAllSnapshots(){this.nodes.forEach(gB),this.sharedNodes.forEach(bB)}scheduleUpdateProjection(){Ae.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var o;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(o=this.options.visualElement)===null||o===void 0||o.notify("LayoutMeasure",this.layout.layoutBox,a==null?void 0:a.layoutBox)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:n(this.instance)})}resetTransform(){var o;if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!bT(this.projectionDelta),u=(o=this.getTransformTemplate())===null||o===void 0?void 0:o(this.latestValues,""),c=u!==this.prevTransformTemplateValue;a&&(l||kr(this.latestValues)||c)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),kB(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ut();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Si(a.x,l.offset.x),Si(a.y,l.offset.y)),a}removeElementScroll(o){const a=Ut();pn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){pn(a,o);const{scroll:f}=this.root;f&&(Si(a.x,-f.offset.x),Si(a.y,-f.offset.y))}Si(a.x,c.offset.x),Si(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=Ut();pn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ls(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),kr(c.latestValues)&&Ls(l,c.latestValues)}return kr(this.latestValues)&&Ls(l,this.latestValues),l}removeTransform(o){var a;const l=Ut();pn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!kr(c.latestValues))continue;dm(c.latestValues)&&c.updateSnapshot();const h=Ut(),f=c.measurePageBox();pn(h,f),jb(l,c.latestValues,(a=c.snapshot)===null||a===void 0?void 0:a.layoutBox,h)}return kr(this.latestValues)&&jb(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:l,layoutId:u}=this.options;if(!(!this.layout||!(l||u))){if(!this.targetDelta&&!this.relativeTarget){const c=this.getClosestProjectingParent();c&&c.layout?(this.relativeParent=c,this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),_a(this.relativeTargetOrigin,this.layout.layoutBox,c.layout.layoutBox),pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ut(),this.targetWithTransforms=Ut()),this.relativeTarget&&this.relativeTargetOrigin&&(!((o=this.relativeParent)===null||o===void 0)&&o.target)?cV(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):pn(this.target,this.layout.layoutBox),cT(this.target,this.targetDelta)):pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const c=this.getClosestProjectingParent();c&&Boolean(c.resumingFrom)===Boolean(this.resumingFrom)&&!c.options.layoutScroll&&c.target?(this.relativeParent=c,this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),_a(this.relativeTargetOrigin,this.target,c.target),pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||dm(this.parent.latestValues)||uT(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta||this.parent.options.layoutRoot)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var o;const{isProjectionDirty:a,isTransformDirty:l}=this;this.isProjectionDirty=this.isTransformDirty=!1;const u=this.getLead(),c=Boolean(this.resumingFrom)||this!==u;let h=!0;if(a&&(h=!1),c&&l&&(h=!1),h)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=Boolean(((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;pn(this.layoutCorrected,this.layout.layoutBox),wV(this.layoutCorrected,this.treeScale,this.path,c);const{target:p}=u;if(!p)return;this.projectionDelta||(this.projectionDelta=Sa(),this.projectionDeltaWithTransform=Sa());const g=this.treeScale.x,v=this.treeScale.y,y=this.projectionTransform;xa(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=Hb(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==g||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a,l,u;(l=(a=this.options).scheduleRender)===null||l===void 0||l.call(a),o&&((u=this.getStack())===null||u===void 0||u.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){var l,u;const c=this.snapshot,h=(c==null?void 0:c.latestValues)||{},f={...this.latestValues},d=Sa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ut(),g=(c==null?void 0:c.source)!==((l=this.layout)===null||l===void 0?void 0:l.source),v=(((u=this.getStack())===null||u===void 0?void 0:u.members.length)||0)<=1,y=Boolean(g&&!v&&this.options.crossfade===!0&&!this.path.some(_B));this.animationProgress=0,this.mixTargetDelta=m=>{var w;const b=m/1e3;Yb(d.x,o.x,b),Yb(d.y,o.y,b),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((w=this.relativeParent)===null||w===void 0)&&w.layout)&&(_a(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xB(this.relativeTarget,this.relativeTargetOrigin,p,b)),g&&(this.animationValues=f,nB(f,h,this.latestValues,b,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)===null||a===void 0||a.stop(),this.resumingFrom&&((l=this.resumingFrom.currentAnimation)===null||l===void 0||l.stop()),this.pendingAnimation&&(nr.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ae.update(()=>{va.hasAnimatedSinceResize=!0,this.currentAnimation=tB(0,Kb,{...o,onUpdate:u=>{var c;this.mixTargetDelta(u),(c=o.onUpdate)===null||c===void 0||c.call(o,u)},onComplete:()=>{var u;(u=o.onComplete)===null||u===void 0||u.call(o),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var o;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(o=this.getStack())===null||o===void 0||o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var o;this.currentAnimation&&((o=this.mixTargetDelta)===null||o===void 0||o.call(this,Kb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&ST(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ut();const h=Xe(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Xe(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}pn(a,l),Ls(a,c),xa(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){var l,u,c;this.sharedNodes.has(o)||this.sharedNodes.set(o,new lB),this.sharedNodes.get(o).add(a),a.promote({transition:(l=a.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(c=(u=a.options.initialPromotionConfig)===null||u===void 0?void 0:u.shouldPreserveFollowOpacity)===null||c===void 0?void 0:c.call(u,a)})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<Wb.length;c++){const h="rotate"+Wb[c];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o==null||o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=gc(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=gc(o.pointerEvents)||""),this.hasProjected&&!kr(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Hb(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:d,y:p}=this.projectionDelta;u.transformOrigin=`${d.origin*100}% ${p.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in ch){if(f[g]===void 0)continue;const{correct:v,applyTo:y}=ch[g],m=u.transform==="none"?f[g]:v(f[g],h);if(y){const w=y.length;for(let b=0;b<w;b++)u[y[b]]=m}else u[g]=m}return this.options.layoutId&&(u.pointerEvents=h===this?gc(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(qb),this.root.sharedNodes.clear()}}}function fB(e){e.updateLayout()}function dB(e){var t,n,i;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=e.layout,{animationType:a}=e.options,l=r.source!==e.layout.source;a==="size"?An(d=>{const p=l?r.measuredBox[d]:r.layoutBox[d],g=Xe(p);p.min=s[d].min,p.max=p.min+g}):ST(a,r.layoutBox,s)&&An(d=>{const p=l?r.measuredBox[d]:r.layoutBox[d],g=Xe(s[d]);p.max=p.min+g});const u=Sa();xa(u,s,r.layoutBox);const c=Sa();l?xa(c,e.applyTransform(o,!0),r.measuredBox):xa(c,s,r.layoutBox);const h=!bT(u);let f=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const v=Ut();_a(v,r.layoutBox,p.layoutBox);const y=Ut();_a(y,s,g.layoutBox),xT(v,y)||(f=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=v,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:f})}else e.isLead()&&((i=(n=e.options).onExitComplete)===null||i===void 0||i.call(n));e.options.transition=void 0}function pB(e){e.isProjectionDirty||(e.isProjectionDirty=Boolean(e.parent&&e.parent.isProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=Boolean(e.parent&&e.parent.isTransformDirty))}function gB(e){e.clearSnapshot()}function qb(e){e.clearMeasurements()}function mB(e){const{visualElement:t}=e.options;t!=null&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Gb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function yB(e){e.resolveTargetDelta()}function vB(e){e.calcProjection()}function wB(e){e.resetRotation()}function bB(e){e.removeLeadSnapshot()}function Yb(e,t,n){e.translate=Rt(t.translate,0,n),e.scale=Rt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Xb(e,t,n,i){e.min=Rt(t.min,n.min,i),e.max=Rt(t.max,n.max,i)}function xB(e,t,n,i){Xb(e.x,t.x,n.x,i),Xb(e.y,t.y,n.y,i)}function _B(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const SB={duration:.45,ease:[.4,0,.1,1]};function EB(e,t){let n=e.root;for(let s=e.path.length-1;s>=0;s--)if(Boolean(e.path[s].instance)){n=e.path[s];break}const r=(n&&n!==e.root?n.instance:document).querySelector(`[data-projection-id="${t}"]`);r&&e.mount(r,!0)}function Qb(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function kB(e){Qb(e.x),Qb(e.y)}function ST(e,t,n){return e==="position"||e==="preserve-aspect"&&!hm(Ub(t),Ub(n),.2)}const CB=_T({attachResizeListener:(e,t)=>Vf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pp={current:void 0},TB=_T({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pp.current){const e=new CB(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),pp.current=e}return pp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>Boolean(window.getComputedStyle(e).position==="fixed")}),PB={...oV,...k$,...PV,...ZV},ko=ON((e,t)=>f$(e,t,PB,GV,TB));function ET(){const e=S.useRef(!1);return uh(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function AB(){const e=ET(),[t,n]=S.useState(0),i=S.useCallback(()=>{e.current&&n(t+1)},[t]);return[S.useCallback(()=>Ae.postRender(i),[i]),t]}class DB extends S.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function MB({children:e,isPresent:t}){const n=S.useId(),i=S.useRef(null),r=S.useRef({width:0,height:0,top:0,left:0});return S.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=r.current;if(t||!i.current||!s||!o)return;i.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),S.createElement(DB,{isPresent:t,childRef:i,sizeRef:r},S.cloneElement(e,{ref:i}))}const gp=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=Ff(RB),l=S.useId(),u=S.useMemo(()=>({id:l,initial:t,isPresent:n,custom:r,onExitComplete:c=>{a.set(c,!0);for(const h of a.values())if(!h)return;i&&i()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?void 0:[n]);return S.useMemo(()=>{a.forEach((c,h)=>a.set(h,!1))},[n]),S.useEffect(()=>{!n&&!a.size&&i&&i()},[n]),o==="popLayout"&&(e=S.createElement(MB,{isPresent:n},e)),S.createElement(Fl.Provider,{value:u},e)};function RB(){return new Map}const vs=e=>e.key||"";function IB(e,t){e.forEach(n=>{const i=vs(n);t.set(i,n)})}function OB(e){const t=[];return S.Children.forEach(e,n=>{S.isValidElement(n)&&t.push(n)}),t}const LB=({children:e,custom:t,initial:n=!0,onExitComplete:i,exitBeforeEnter:r,presenceAffectsLayout:s=!0,mode:o="sync"})=>{r&&(o="wait");let[a]=AB();const l=S.useContext(Sv).forceRender;l&&(a=l);const u=ET(),c=OB(e);let h=c;const f=new Set,d=S.useRef(h),p=S.useRef(new Map).current,g=S.useRef(!0);if(uh(()=>{g.current=!1,IB(c,p),d.current=h}),Iv(()=>{g.current=!0,p.clear(),f.clear()}),g.current)return S.createElement(S.Fragment,null,h.map(w=>S.createElement(gp,{key:vs(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},w)));h=[...h];const v=d.current.map(vs),y=c.map(vs),m=v.length;for(let w=0;w<m;w++){const b=v[w];y.indexOf(b)===-1&&f.add(b)}return o==="wait"&&f.size&&(h=[]),f.forEach(w=>{if(y.indexOf(w)!==-1)return;const b=p.get(w);if(!b)return;const x=v.indexOf(w),_=()=>{p.delete(w),f.delete(w);const E=d.current.findIndex(k=>k.key===w);if(d.current.splice(E,1),!f.size){if(d.current=c,u.current===!1)return;a(),i&&i()}};h.splice(x,0,S.createElement(gp,{key:vs(b),isPresent:!1,onExitComplete:_,custom:t,presenceAffectsLayout:s,mode:o},b))}),h=h.map(w=>{const b=w.key;return f.has(b)?w:S.createElement(gp,{key:vs(w),isPresent:!0,presenceAffectsLayout:s,mode:o},w)}),S.createElement(S.Fragment,null,f.size?h:h.map(w=>S.cloneElement(w)))};let se=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const NB="/assets/video-575a1e2e.mp4";var jr={},$B={get exports(){return jr},set exports(e){jr=e}},FB="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",VB=FB,BB=VB;function kT(){}function CT(){}CT.resetWarningCache=kT;var jB=function(){function e(i,r,s,o,a,l){if(l!==BB){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:CT,resetWarningCache:kT};return n.PropTypes=n,n};$B.exports=jB();const zB="/assets/chevron-daab74bd.svg",TT="/assets/date-b0a6b65f.svg";function PT({name:e,status:t,date:n,id:i,setClickedEvent:r}){const s=Nl();return H("div",{className:"previous-events",onClick:()=>{s(`/history/:${i}`)},children:[C("p",{className:"name",children:e}),C("img",{src:TT,alt:"calender"}),C("p",{className:"date",children:n}),C("div",{className:"status",onClick:o=>{r([i,o.currentTarget.parentElement.firstElementChild.textContent])},children:C("p",{className:`${t}`,children:t})}),C("img",{src:zB,alt:"chevron"})]})}PT.propTypes={name:jr.string.isRequired,status:jr.string.isRequired};function UB({navShown:e,setClickedEvent:t}){const n=$l(i=>Object.entries(i.events));return C(ko.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"history",style:{display:e?"none":"block"},children:H("div",{className:"container",children:[C("h2",{children:"Shopping History"}),H("div",{className:"video-container",children:[C("p",{children:"How to add events to history"}),C("video",{src:NB,controls:!0})]}),n.map(([i,r])=>H("div",{children:[C("h3",{children:i}),r.map(s=>C(PT,{setClickedEvent:t,...s},se()))]},se()))]})})}const HB="/assets/search-25e2ae55.svg";function WB(){const e=S.useId();return H("header",{className:"header",children:[H("p",{children:[C("span",{children:"Shoppingfy "}),"allows you take your shopping list wherever you go"]}),H("label",{htmlFor:e,children:[C("img",{src:HB,alt:"search"}),C("input",{type:"text",id:e,placeholder:"search item"})]})]})}const KB="/assets/plus-solid-30a6bdb2.svg";function qB({children:e,onClick:t}){return H("div",{className:"item",children:[C("p",{children:e}),C("img",{src:KB,alt:"add-item",onClick:t})]})}function GB({navShown:e}){const t=$l(i=>Object.entries(i.items)),n=If();return C(ko.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"homepage",style:{display:e?"none":"block"},children:H("div",{className:"container",children:[C(WB,{}),C("section",{children:t.map(i=>H("div",{children:[C("h2",{children:i[0]}),i[1].map(r=>C(qB,{onClick:()=>{n(Br.items.addItem({category:i[0],item:r.item}))},children:r.item},se()))]},se()))})]})})}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function zl(e){return e+.5|0}const Ri=(e,t,n)=>Math.max(Math.min(e,n),t);function ea(e){return Ri(zl(e*2.55),0,255)}function qi(e){return Ri(zl(e*255),0,255)}function Xn(e){return Ri(zl(e/2.55)/100,0,1)}function Jb(e){return Ri(zl(e*100),0,100)}const en={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},vm=[..."0123456789ABCDEF"],YB=e=>vm[e&15],XB=e=>vm[(e&240)>>4]+vm[e&15],Pu=e=>(e&240)>>4===(e&15),QB=e=>Pu(e.r)&&Pu(e.g)&&Pu(e.b)&&Pu(e.a);function JB(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&en[e[1]]*17,g:255&en[e[2]]*17,b:255&en[e[3]]*17,a:t===5?en[e[4]]*17:255}:(t===7||t===9)&&(n={r:en[e[1]]<<4|en[e[2]],g:en[e[3]]<<4|en[e[4]],b:en[e[5]]<<4|en[e[6]],a:t===9?en[e[7]]<<4|en[e[8]]:255})),n}const ZB=(e,t)=>e<255?t(e):"";function tj(e){var t=QB(e)?YB:XB;return e?"#"+t(e.r)+t(e.g)+t(e.b)+ZB(e.a,t):void 0}const ej=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function AT(e,t,n){const i=t*Math.min(n,1-n),r=(s,o=(s+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function nj(e,t,n){const i=(r,s=(r+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function ij(e,t,n){const i=AT(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function rj(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}function Xv(e){const n=e.r/255,i=e.g/255,r=e.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,u,c;return s!==o&&(c=s-o,u=a>.5?c/(2-s-o):c/(s+o),l=rj(n,i,r,c,s),l=l*60+.5),[l|0,u||0,a]}function Qv(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(qi)}function Jv(e,t,n){return Qv(AT,e,t,n)}function sj(e,t,n){return Qv(ij,e,t,n)}function oj(e,t,n){return Qv(nj,e,t,n)}function DT(e){return(e%360+360)%360}function aj(e){const t=ej.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?ea(+t[5]):qi(+t[5]));const r=DT(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=sj(r,s,o):t[1]==="hsv"?i=oj(r,s,o):i=Jv(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function lj(e,t){var n=Xv(e);n[0]=DT(n[0]+t),n=Jv(n),e.r=n[0],e.g=n[1],e.b=n[2]}function uj(e){if(!e)return;const t=Xv(e),n=t[0],i=Jb(t[1]),r=Jb(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${Xn(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const Zb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},tx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function cj(){const e={},t=Object.keys(tx),n=Object.keys(Zb);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,Zb[s]);s=parseInt(tx[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let Au;function hj(e){Au||(Au=cj(),Au.transparent=[0,0,0,0]);const t=Au[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const fj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dj(e){const t=fj.exec(e);let n=255,i,r,s;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?ea(o):Ri(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?ea(i):Ri(i,0,255)),r=255&(t[4]?ea(r):Ri(r,0,255)),s=255&(t[6]?ea(s):Ri(s,0,255)),{r:i,g:r,b:s,a:n}}}function pj(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Xn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const mp=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,gs=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function gj(e,t,n){const i=gs(Xn(e.r)),r=gs(Xn(e.g)),s=gs(Xn(e.b));return{r:qi(mp(i+n*(gs(Xn(t.r))-i))),g:qi(mp(r+n*(gs(Xn(t.g))-r))),b:qi(mp(s+n*(gs(Xn(t.b))-s))),a:e.a+n*(t.a-e.a)}}function Du(e,t,n){if(e){let i=Xv(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=Jv(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function MT(e,t){return e&&Object.assign(t||{},e)}function ex(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=qi(e[3]))):(t=MT(e,{r:0,g:0,b:0,a:1}),t.a=qi(t.a)),t}function mj(e){return e.charAt(0)==="r"?dj(e):aj(e)}class al{constructor(t){if(t instanceof al)return t;const n=typeof t;let i;n==="object"?i=ex(t):n==="string"&&(i=JB(t)||hj(t)||mj(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=MT(this._rgb);return t&&(t.a=Xn(t.a)),t}set rgb(t){this._rgb=ex(t)}rgbString(){return this._valid?pj(this._rgb):void 0}hexString(){return this._valid?tj(this._rgb):void 0}hslString(){return this._valid?uj(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,r=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,i.r=255&u*i.r+s*r.r+.5,i.g=255&u*i.g+s*r.g+.5,i.b=255&u*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=gj(this._rgb,t._rgb,n)),this}clone(){return new al(this.rgb)}alpha(t){return this._rgb.a=qi(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=zl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Du(this._rgb,2,t),this}darken(t){return Du(this._rgb,2,-t),this}saturate(t){return Du(this._rgb,1,t),this}desaturate(t){return Du(this._rgb,1,-t),this}rotate(t){return lj(this._rgb,t),this}}/*!
 * Chart.js v4.2.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Wn(){}const yj=(()=>{let e=0;return()=>e++})();function rt(e){return e===null||typeof e>"u"}function wt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function tt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function It(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ze(e,t){return It(e)?e:t}function Y(e,t){return typeof e>"u"?t:e}const vj=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,RT=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function dt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function at(e,t,n,i){let r,s,o;if(wt(e))if(s=e.length,i)for(r=s-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<s;r++)t.call(n,e[r],r);else if(tt(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)t.call(n,e[o[r]],o[r])}function xh(e,t){let n,i,r,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],s=t[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function _h(e){if(wt(e))return e.map(_h);if(tt(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=_h(e[n[r]]);return t}return e}function IT(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function wj(e,t,n,i){if(!IT(e))return;const r=t[e],s=n[e];tt(r)&&tt(s)?ll(r,s,i):t[e]=_h(s)}function ll(e,t,n){const i=wt(t)?t:[t],r=i.length;if(!tt(e))return e;n=n||{};const s=n.merger||wj;let o;for(let a=0;a<r;++a){if(o=i[a],!tt(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)s(l[u],e,o,n)}return e}function Ea(e,t){return ll(e,t,{merger:bj})}function bj(e,t,n){if(!IT(e))return;const i=t[e],r=n[e];tt(i)&&tt(r)?Ea(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=_h(r))}const nx={"":e=>e,x:e=>e.x,y:e=>e.y};function xj(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function _j(e){const t=xj(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function rr(e,t){return(nx[t]||(nx[t]=_j(t)))(e)}function Zv(e){return e.charAt(0).toUpperCase()+e.slice(1)}const hn=e=>typeof e<"u",sr=e=>typeof e=="function",ix=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function Sj(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const kt=Math.PI,xt=2*kt,Ej=xt+kt,Sh=Number.POSITIVE_INFINITY,kj=kt/180,Ot=kt/2,vr=kt/4,rx=kt*2/3,Ii=Math.log10,Fn=Math.sign;function ka(e,t,n){return Math.abs(e-t)<n}function sx(e){const t=Math.round(e);e=ka(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ii(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Cj(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((r,s)=>r-s).pop(),t}function so(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Tj(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function OT(e,t,n){let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function wn(e){return e*(kt/180)}function t0(e){return e*(180/kt)}function ox(e){if(!It(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function LT(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*kt&&(s+=xt),{angle:s,distance:r}}function wm(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Pj(e,t){return(e-t+Ej)%xt-kt}function He(e){return(e%xt+xt)%xt}function ul(e,t,n,i){const r=He(e),s=He(t),o=He(n),a=He(s-r),l=He(o-r),u=He(r-s),c=He(r-o);return r===s||r===o||i&&s===o||a>l&&u<c}function Zt(e,t,n){return Math.max(t,Math.min(n,e))}function Aj(e){return Zt(e,-32768,32767)}function Zn(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function e0(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const ti=(e,t,n,i)=>e0(e,n,i?r=>{const s=e[r][t];return s<n||s===n&&e[r+1][t]===n}:r=>e[r][t]<n),Dj=(e,t,n)=>e0(e,n,i=>e[i][t]>=n);function Mj(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}const NT=["push","pop","shift","splice","unshift"];function Rj(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),NT.forEach(n=>{const i="_onData"+Zv(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function ax(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(NT.forEach(s=>{delete e[s]}),delete e._chartjs)}function $T(e){const t=new Set;let n,i;for(n=0,i=e.length;n<i;++n)t.add(e[n]);return t.size===i?e:Array.from(t)}const FT=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function VT(e,t){let n=[],i=!1;return function(...r){n=r,i||(i=!0,FT.call(window,()=>{i=!1,e.apply(t,n)}))}}function Ij(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const n0=e=>e==="start"?"left":e==="end"?"right":"center",de=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,Oj=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function BT(e,t,n){const i=t.length;let r=0,s=i;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:u,max:c,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(r=Zt(Math.min(ti(a,o.axis,u).lo,n?i:ti(t,l,o.getPixelForValue(u)).lo),0,i-1)),f?s=Zt(Math.max(ti(a,o.axis,c,!0).hi+1,n?0:ti(t,l,o.getPixelForValue(c),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function jT(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Mu=e=>e===0||e===1,lx=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*xt/n)),ux=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*xt/n)+1,Ca={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ot)+1,easeOutSine:e=>Math.sin(e*Ot),easeInOutSine:e=>-.5*(Math.cos(kt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Mu(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Mu(e)?e:lx(e,.075,.3),easeOutElastic:e=>Mu(e)?e:ux(e,.075,.3),easeInOutElastic(e){return Mu(e)?e:e<.5?.5*lx(e*2,.1125,.45):.5+.5*ux(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ca.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ca.easeInBounce(e*2)*.5:Ca.easeOutBounce(e*2-1)*.5+.5};function zT(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function cx(e){return zT(e)?e:new al(e)}function yp(e){return zT(e)?e:new al(e).saturate(.5).darken(.1).hexString()}const Lj=["x","y","borderWidth","radius","tension"],Nj=["color","borderColor","backgroundColor"];function $j(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Nj},numbers:{type:"number",properties:Lj}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Fj(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const hx=new Map;function Vj(e,t){t=t||{};const n=e+JSON.stringify(t);let i=hx.get(n);return i||(i=new Intl.NumberFormat(e,t),hx.set(n,i)),i}function Ul(e,t,n){return Vj(t,n).format(e)}const UT={values(e){return wt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let r,s=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),s=Bj(e,n)}const o=Ii(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ul(e,i,l)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Ii(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?UT.numeric.call(this,e,t,n):""}};function Bj(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Uf={formatters:UT};function jj(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Uf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Zr=Object.create(null),bm=Object.create(null);function Ta(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];e=e[s]||(e[s]=Object.create(null))}return e}function vp(e,t,n){return typeof t=="string"?ll(Ta(e,t),n):ll(Ta(e,""),t)}class zj{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>yp(r.backgroundColor),this.hoverBorderColor=(i,r)=>yp(r.borderColor),this.hoverColor=(i,r)=>yp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return vp(this,t,n)}get(t){return Ta(this,t)}describe(t,n){return vp(bm,t,n)}override(t,n){return vp(Zr,t,n)}route(t,n,i,r){const s=Ta(this,t),o=Ta(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[r];return tt(l)?Object.assign({},u,l):Y(l,u)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var Ft=new zj({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[$j,Fj,jj]);function Uj(e){return!e||rt(e.size)||rt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Eh(e,t,n,i,r){let s=t[r];return s||(s=t[r]=e.measureText(r).width,n.push(r)),s>i&&(i=s),i}function Hj(e,t,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,u,c,h,f;for(l=0;l<a;l++)if(h=n[l],h!=null&&wt(h)!==!0)o=Eh(e,r,s,o,h);else if(wt(h))for(u=0,c=h.length;u<c;u++)f=h[u],f!=null&&!wt(f)&&(o=Eh(e,r,s,o,f));e.restore();const d=s.length/2;if(d>n.length){for(l=0;l<d;l++)delete r[s[l]];s.splice(0,d)}return o}function wr(e,t,n){const i=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function fx(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function xm(e,t,n,i){HT(e,t,n,i,null)}function HT(e,t,n,i,r){let s,o,a,l,u,c,h,f;const d=t.pointStyle,p=t.rotation,g=t.radius;let v=(p||0)*kj;if(d&&typeof d=="object"&&(s=d.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(v),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),d){default:r?e.ellipse(n,i,r/2,g,0,0,xt):e.arc(n,i,g,0,xt),e.closePath();break;case"triangle":c=r?r/2:g,e.moveTo(n+Math.sin(v)*c,i-Math.cos(v)*g),v+=rx,e.lineTo(n+Math.sin(v)*c,i-Math.cos(v)*g),v+=rx,e.lineTo(n+Math.sin(v)*c,i-Math.cos(v)*g),e.closePath();break;case"rectRounded":u=g*.516,l=g-u,o=Math.cos(v+vr)*l,h=Math.cos(v+vr)*(r?r/2-u:l),a=Math.sin(v+vr)*l,f=Math.sin(v+vr)*(r?r/2-u:l),e.arc(n-h,i-a,u,v-kt,v-Ot),e.arc(n+f,i-o,u,v-Ot,v),e.arc(n+h,i+a,u,v,v+Ot),e.arc(n-f,i+o,u,v+Ot,v+kt),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,c=r?r/2:l,e.rect(n-c,i-l,2*c,2*l);break}v+=vr;case"rectRot":h=Math.cos(v)*(r?r/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,f=Math.sin(v)*(r?r/2:g),e.moveTo(n-h,i-a),e.lineTo(n+f,i-o),e.lineTo(n+h,i+a),e.lineTo(n-f,i+o),e.closePath();break;case"crossRot":v+=vr;case"cross":h=Math.cos(v)*(r?r/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,f=Math.sin(v)*(r?r/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"star":h=Math.cos(v)*(r?r/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,f=Math.sin(v)*(r?r/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o),v+=vr,h=Math.cos(v)*(r?r/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,f=Math.sin(v)*(r?r/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"line":o=r?r/2:Math.cos(v)*g,a=Math.sin(v)*g,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(v)*(r?r/2:g),i+Math.sin(v)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function cl(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Hf(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Wf(e){e.restore()}function Wj(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if(r==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else r==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Kj(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function ts(e,t,n,i,r,s={}){const o=wt(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(e.save(),e.font=r.string,qj(e,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&Yj(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),rt(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(u,n,i,s.maxWidth)),e.fillText(u,n,i,s.maxWidth),Gj(e,n,i,u,s),i+=r.lineHeight;e.restore()}function qj(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),rt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Gj(e,t,n,i,r){if(r.strikethrough||r.underline){const s=e.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,c=r.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,c),e.lineTo(a,c),e.stroke()}}function Yj(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function hl(e,t){const{x:n,y:i,w:r,h:s,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-Ot,kt,!0),e.lineTo(n,i+s-o.bottomLeft),e.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,kt,Ot,!0),e.lineTo(n+r-o.bottomRight,i+s),e.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Ot,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Ot,!0),e.lineTo(n+o.topLeft,i)}const Xj=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Qj=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Jj(e,t){const n=(""+e).match(Xj);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const Zj=e=>+e||0;function i0(e,t){const n={},i=tt(t),r=i?Object.keys(t):t,s=tt(e)?i?o=>Y(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of r)n[o]=Zj(s(o));return n}function WT(e){return i0(e,{top:"y",right:"x",bottom:"y",left:"x"})}function zr(e){return i0(e,["topLeft","topRight","bottomLeft","bottomRight"])}function _e(e){const t=WT(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function qt(e,t){e=e||{},t=t||Ft.font;let n=Y(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=Y(e.style,t.style);i&&!(""+i).match(Qj)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Y(e.family,t.family),lineHeight:Jj(Y(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:Y(e.weight,t.weight),string:""};return r.string=Uj(r),r}function na(e,t,n,i){let r=!0,s,o,a;for(s=0,o=e.length;s<o;++s)if(a=e[s],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),r=!1),n!==void 0&&wt(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function tz(e,t,n){const{min:i,max:r}=e,s=RT(t,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function dr(e,t){return Object.assign(Object.create(e),t)}function r0(e,t=[""],n=e,i,r=()=>e[0]){hn(i)||(i=YT("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:i,_getTarget:r,override:o=>r0([o,...e],t,n,i)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete o._keys,delete e[0][a],!0},get(o,a){return qT(o,a,()=>lz(a,t,e,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,a){return px(o).includes(a)},ownKeys(o){return px(o)},set(o,a,l){const u=o._storage||(o._storage=r());return o[a]=u[a]=l,delete o._keys,!0}})}function oo(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:KT(e,i),setContext:s=>oo(e,s,n,i),override:s=>oo(e.override(s),t,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return qT(s,o,()=>nz(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function KT(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:sr(n)?n:()=>n,isIndexable:sr(i)?i:()=>i}}const ez=(e,t)=>e?e+Zv(t):t,s0=(e,t)=>tt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function qT(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function nz(e,t,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=e;let a=i[t];return sr(a)&&o.isScriptable(t)&&(a=iz(t,a,e,n)),wt(a)&&a.length&&(a=rz(t,a,e,o.isIndexable)),s0(t,a)&&(a=oo(a,r,s&&s[t],o)),a}function iz(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);return a.add(e),t=t(s,o||i),a.delete(e),s0(e,t)&&(t=o0(r._scopes,r,e,t)),t}function rz(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(hn(s.index)&&i(e))t=t[s.index%t.length];else if(tt(t[0])){const l=t,u=r._scopes.filter(c=>c!==l);t=[];for(const c of l){const h=o0(u,r,e,c);t.push(oo(h,s,o&&o[e],a))}}return t}function GT(e,t,n){return sr(e)?e(t,n):e}const sz=(e,t)=>e===!0?t:typeof e=="string"?rr(t,e):void 0;function oz(e,t,n,i,r){for(const s of t){const o=sz(n,s);if(o){e.add(o);const a=GT(o._fallback,n,r);if(hn(a)&&a!==n&&a!==i)return a}else if(o===!1&&hn(i)&&n!==i)return null}return!1}function o0(e,t,n,i){const r=t._rootScopes,s=GT(t._fallback,n,i),o=[...e,...r],a=new Set;a.add(i);let l=dx(a,o,n,s||n,i);return l===null||hn(s)&&s!==n&&(l=dx(a,o,s,l,i),l===null)?!1:r0(Array.from(a),[""],r,s,()=>az(t,n,i))}function dx(e,t,n,i,r){for(;n;)n=oz(e,t,n,i,r);return n}function az(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];return wt(r)&&tt(n)?n:r||{}}function lz(e,t,n,i){let r;for(const s of t)if(r=YT(ez(s,e),n),hn(r))return s0(e,r)?o0(n,i,e,r):r}function YT(e,t){for(const n of t){if(!n)continue;const i=n[e];if(hn(i))return i}}function px(e){let t=e._keys;return t||(t=e._keys=uz(e._scopes)),t}function uz(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function XT(e,t,n,i){const{iScale:r}=e,{key:s="r"}=this._parsing,o=new Array(i);let a,l,u,c;for(a=0,l=i;a<l;++a)u=a+n,c=t[u],o[a]={r:r.parse(rr(c,s),u)};return o}const cz=Number.EPSILON||1e-14,ao=(e,t)=>t<e.length&&!e[t].skip&&e[t],QT=e=>e==="x"?"y":"x";function hz(e,t,n,i){const r=e.skip?t:e,s=t,o=n.skip?t:n,a=wm(s,r),l=wm(o,s);let u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const h=i*u,f=i*c;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function fz(e,t,n){const i=e.length;let r,s,o,a,l,u=ao(e,0);for(let c=0;c<i-1;++c)if(l=u,u=ao(e,c+1),!(!l||!u)){if(ka(t[c],0,cz)){n[c]=n[c+1]=0;continue}r=n[c]/t[c],s=n[c+1]/t[c],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[c]=r*o*t[c],n[c+1]=s*o*t[c])}}function dz(e,t,n="x"){const i=QT(n),r=e.length;let s,o,a,l=ao(e,0);for(let u=0;u<r;++u){if(o=a,a=l,l=ao(e,u+1),!a)continue;const c=a[n],h=a[i];o&&(s=(c-o[n])/3,a[`cp1${n}`]=c-s,a[`cp1${i}`]=h-s*t[u]),l&&(s=(l[n]-c)/3,a[`cp2${n}`]=c+s,a[`cp2${i}`]=h+s*t[u])}}function pz(e,t="x"){const n=QT(t),i=e.length,r=Array(i).fill(0),s=Array(i);let o,a,l,u=ao(e,0);for(o=0;o<i;++o)if(a=l,l=u,u=ao(e,o+1),!!l){if(u){const c=u[t]-l[t];r[o]=c!==0?(u[n]-l[n])/c:0}s[o]=a?u?Fn(r[o-1])!==Fn(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}fz(e,r,s),dz(e,s,t)}function Ru(e,t,n){return Math.max(Math.min(e,n),t)}function gz(e,t){let n,i,r,s,o,a=cl(e[0],t);for(n=0,i=e.length;n<i;++n)o=s,s=a,a=n<i-1&&cl(e[n+1],t),s&&(r=e[n],o&&(r.cp1x=Ru(r.cp1x,t.left,t.right),r.cp1y=Ru(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=Ru(r.cp2x,t.left,t.right),r.cp2y=Ru(r.cp2y,t.top,t.bottom)))}function mz(e,t,n,i,r){let s,o,a,l;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")pz(e,r);else{let u=i?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=hz(u,a,e[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}t.capBezierPoints&&gz(e,n)}function JT(){return typeof window<"u"&&typeof document<"u"}function a0(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function kh(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Kf=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function yz(e,t){return Kf(e).getPropertyValue(t)}const vz=["top","right","bottom","left"];function Ur(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=vz[r];i[s]=parseFloat(e[t+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const wz=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function bz(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(wz(r,s,e.target))a=r,l=s;else{const u=t.getBoundingClientRect();a=i.clientX-u.left,l=i.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function Cr(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=Kf(n),s=r.boxSizing==="border-box",o=Ur(r,"padding"),a=Ur(r,"border","width"),{x:l,y:u,box:c}=bz(e,n),h=o.left+(c&&a.left),f=o.top+(c&&a.top);let{width:d,height:p}=t;return s&&(d-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/d*n.width/i),y:Math.round((u-f)/p*n.height/i)}}function xz(e,t,n){let i,r;if(t===void 0||n===void 0){const s=a0(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=Kf(s),l=Ur(a,"border","width"),u=Ur(a,"padding");t=o.width-u.width-l.width,n=o.height-u.height-l.height,i=kh(a.maxWidth,s,"clientWidth"),r=kh(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:i||Sh,maxHeight:r||Sh}}const Iu=e=>Math.round(e*10)/10;function _z(e,t,n,i){const r=Kf(e),s=Ur(r,"margin"),o=kh(r.maxWidth,e,"clientWidth")||Sh,a=kh(r.maxHeight,e,"clientHeight")||Sh,l=xz(e,t,n);let{width:u,height:c}=l;if(r.boxSizing==="content-box"){const f=Ur(r,"border","width"),d=Ur(r,"padding");u-=d.width+f.width,c-=d.height+f.height}return u=Math.max(0,u-s.width),c=Math.max(0,i?u/i:c-s.height),u=Iu(Math.min(u,o,l.maxWidth)),c=Iu(Math.min(c,a,l.maxHeight)),u&&!c&&(c=Iu(u/2)),(t!==void 0||n!==void 0)&&i&&l.height&&c>l.height&&(c=l.height,u=Iu(Math.floor(c*i))),{width:u,height:c}}function gx(e,t,n){const i=t||1,r=Math.floor(e.height*i),s=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(e.currentDevicePixelRatio=i,o.height=r,o.width=s,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Sz=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function mx(e,t){const n=yz(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Tr(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Ez(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function kz(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=Tr(e,r,n),a=Tr(r,s,n),l=Tr(s,t,n),u=Tr(o,a,n),c=Tr(a,l,n);return Tr(u,c,n)}const Cz=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},Tz=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ks(e,t,n){return e?Cz(t,n):Tz()}function ZT(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function tP(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function eP(e){return e==="angle"?{between:ul,compare:Pj,normalize:He}:{between:Zn,compare:(t,n)=>t-n,normalize:t=>t}}function yx({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:r}}function Pz(e,t,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=eP(i),l=t.length;let{start:u,end:c,loop:h}=e,f,d;if(h){for(u+=l,c+=l,f=0,d=l;f<d&&o(a(t[u%l][i]),r,s);++f)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:h,style:e.style}}function nP(e,t,n){if(!n)return[e];const{property:i,start:r,end:s}=n,o=t.length,{compare:a,between:l,normalize:u}=eP(i),{start:c,end:h,loop:f,style:d}=Pz(e,t,n),p=[];let g=!1,v=null,y,m,w;const b=()=>l(r,w,y)&&a(r,w)!==0,x=()=>a(s,y)===0||l(s,w,y),_=()=>g||b(),E=()=>!g||x();for(let k=c,P=c;k<=h;++k)m=t[k%o],!m.skip&&(y=u(m[i]),y!==w&&(g=l(y,r,s),v===null&&_()&&(v=a(y,r)===0?k:P),v!==null&&E()&&(p.push(yx({start:v,end:k,loop:f,count:o,style:d})),v=null),P=k,w=y));return v!==null&&p.push(yx({start:v,end:h,loop:f,count:o,style:d})),p}function iP(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const s=nP(i[r],e.points,t);s.length&&n.push(...s)}return n}function Az(e,t,n,i){let r=0,s=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(s+=r);s>r&&e[s%t].skip;)s--;return s%=t,{start:r,end:s}}function Dz(e,t,n,i){const r=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const u=e[l%r];u.skip||u.stop?a.skip||(i=!1,s.push({start:t%r,end:(l-1)%r,loop:i}),t=o=u.stop?l:null):(o=l,a.skip&&(t=l)),a=u}return o!==null&&s.push({start:t%r,end:o%r,loop:i}),s}function Mz(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const s=!!e._loop,{start:o,end:a}=Az(n,r,s,i);if(i===!0)return vx(e,[{start:o,end:a,loop:s}],n,t);const l=a<o?a+r:a,u=!!e._fullLoop&&o===0&&a===r-1;return vx(e,Dz(n,o,l,u),n,t)}function vx(e,t,n,i){return!i||!i.setContext||!n?t:Rz(e,t,n,i)}function Rz(e,t,n,i){const r=e._chart.getContext(),s=wx(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,u=[];let c=s,h=t[0].start,f=h;function d(p,g,v,y){const m=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=m;for(;n[g%l].skip;)g+=m;p%l!==g%l&&(u.push({start:p%l,end:g%l,loop:v,style:y}),c=y,h=g%l)}}for(const p of t){h=a?h:p.start;let g=n[h%l],v;for(f=h+1;f<=p.end;f++){const y=n[f%l];v=wx(i.setContext(dr(r,{type:"segment",p0:g,p1:y,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),Iz(v,c)&&d(h,f-1,p.loop,c),g=y,c=v}h<f-1&&d(h,f-1,p.loop,c)}return u}function wx(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Iz(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}/*!
 * Chart.js v4.2.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class Oz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=FT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Kn=new Oz;const bx="transparent",Lz={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=cx(e||bx),r=i.valid&&cx(t||bx);return r&&r.valid?r.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class Nz{constructor(t,n,i,r){const s=n[i];r=na([t.to,r,s,t.from]);const o=na([t.from,s,r]);this._active=!0,this._fn=t.fn||Lz[t.type||typeof o],this._easing=Ca[t.easing]||Ca.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=na([t.to,n,r,t.from]),this._from=na([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class rP{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!tt(t))return;const n=Object.keys(Ft.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!tt(s))return;const o={};for(const a of n)o[a]=s[a];(wt(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,n){const i=n.options,r=Fz(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&$z(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,n){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(t,n));continue}const c=n[u];let h=s[u];const f=i.get(u);if(h)if(f&&h.active()){h.update(f,c,a);continue}else h.cancel();if(!f||!f.duration){t[u]=c;continue}s[u]=h=new Nz(f,t,u,c),r.push(h)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Kn.add(this._chart,i),!0}}function $z(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=e[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function Fz(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function xx(e,t){const n=e&&e.options||{},i=n.reverse,r=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function Vz(e,t,n){if(n===!1)return!1;const i=xx(e,n),r=xx(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Bz(e){let t,n,i,r;return tt(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:e===!1}}function sP(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function _x(e,t,n,i={}){const r=e.keys,s=i.mode==="single";let o,a,l,u;if(t!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}u=e.values[l],It(u)&&(s||t===0||Fn(t)===Fn(u))&&(t+=u)}return t}}function jz(e){const t=Object.keys(e),n=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],n[i]={x:s,y:e[s]};return n}function Sx(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function zz(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function Uz(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function Hz(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function Ex(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=e[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function kx(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,u=o.axis,c=zz(s,o,i),h=t.length;let f;for(let d=0;d<h;++d){const p=t[d],{[l]:g,[u]:v}=p,y=p._stacks||(p._stacks={});f=y[u]=Hz(r,c,g),f[a]=v,f._top=Ex(f,o,!0,i.type),f._bottom=Ex(f,o,!1,i.type);const m=f._visualValues||(f._visualValues={});m[a]=v}}function wp(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function Wz(e,t){return dr(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Kz(e,t,n){return dr(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function zo(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const bp=e=>e==="reset"||e==="none",Cx=(e,t)=>t?e:Object.assign({},e),qz=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:sP(n,!0),values:null};class Sn{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Sx(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&zo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(h,f,d,p)=>h==="x"?f:h==="r"?p:d,s=n.xAxisID=Y(i.xAxisID,wp(t,"x")),o=n.yAxisID=Y(i.yAxisID,wp(t,"y")),a=n.rAxisID=Y(i.rAxisID,wp(t,"r")),l=n.indexAxis,u=n.iAxisID=r(l,s,o,a),c=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&ax(this._data,this),t._stacked&&zo(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(tt(n))this._data=jz(n);else if(i!==n){if(i){ax(i,this);const r=this._cachedMeta;zo(r),r._parsed=[]}n&&Object.isExtensible(n)&&Rj(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=Sx(n.vScale,n),n.stack!==i.stack&&(r=!0,zo(n),n.stack=i.stack),this._resyncElements(t),(r||s!==n._stacked)&&kx(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=t===0&&n===r.length?!0:i._sorted,u=t>0&&i._parsed[t-1],c,h,f;if(this._parsing===!1)i._parsed=r,i._sorted=!0,f=r;else{wt(r[t])?f=this.parseArrayData(i,r,t,n):tt(r[t])?f=this.parseObjectData(i,r,t,n):f=this.parsePrimitiveData(i,r,t,n);const d=()=>h[a]===null||u&&h[a]<u[a];for(c=0;c<n;++c)i._parsed[c+t]=h=f[c],l&&(d()&&(l=!1),u=h);i._sorted=l}o&&kx(this,f)}parsePrimitiveData(t,n,i,r){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,u=s.getLabels(),c=s===o,h=new Array(r);let f,d,p;for(f=0,d=r;f<d;++f)p=f+i,h[f]={[a]:c||s.parse(u[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(t,n,i,r){const{xScale:s,yScale:o}=t,a=new Array(r);let l,u,c,h;for(l=0,u=r;l<u;++l)c=l+i,h=n[c],a[l]={x:s.parse(h[0],c),y:o.parse(h[1],c)};return a}parseObjectData(t,n,i,r){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(r);let c,h,f,d;for(c=0,h=r;c<h;++c)f=c+i,d=n[f],u[c]={x:s.parse(rr(d,a),f),y:o.parse(rr(d,l),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const r=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:sP(r,!0),values:n._stacks[t.axis]._visualValues};return _x(a,o,s.index,{mode:i})}updateRangeFromParsed(t,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=_x(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,o=r.length,a=this._getOtherScale(t),l=qz(n,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=Uz(a);let f,d;function p(){d=r[f];const g=d[a.axis];return!It(d[t.axis])||c>g||h<g}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(u,t,d,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(u,t,d,l);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][t.axis],It(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=Bz(Y(this.options.clip,Vz(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop;let c;for(i.dataset&&i.dataset.draw(t,s,a,l),c=a;c<a+l;++c){const h=r[c];h.hidden||(h.active&&u?o.push(h):h.draw(t,s))}for(c=0;c<o.length;++c)o[c].draw(t,s)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=Kz(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=Wz(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],l=this.enableOptionSharing&&hn(i);if(a)return Cx(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,t),h=r?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),c),d=Object.keys(Ft.elements[t]),p=()=>this.getContext(i,r,n),g=u.resolveNamedOptions(f,d,p,h);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(Cx(g,l))),g}_resolveAnimations(t,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const c=this.chart.config,h=c.datasetAnimationScopeKeys(this._type,n),f=c.getOptionScopes(this.getDataset(),h);l=c.createResolver(f,this.getContext(t,i,n))}const u=new rP(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||bp(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(t,n,i,r){bp(r)?Object.assign(t,i):this._resolveAnimations(n,r).update(t,i)}updateSharedOptions(t,n,i){t&&!bp(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,r){t.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,n,i=!0){const r=this._cachedMeta,s=r.data,o=t+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,n),i&&this.updateElements(s,t,n,"reset")}updateElements(t,n,i,r){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,n);i._stacked&&zo(i,r)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,r]=t;this[n](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}L(Sn,"defaults",{}),L(Sn,"datasetElementType",null),L(Sn,"dataElementType",null);function Gz(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=$T(i.sort((r,s)=>r-s))}return e._cache.$bar}function Yz(e){const t=e.iScale,n=Gz(t,e.type);let i=t._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(hn(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=t.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),l();return i}function Xz(e,t,n,i){const r=n.barThickness;let s,o;return rt(r)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[e]-s/2}}function Qz(e,t,n,i){const r=t.pixels,s=r[e];let o=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const u=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:u}}function Jz(e,t,n,i){const r=n.parse(e[0],i),s=n.parse(e[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),t[n.axis]=u,t._custom={barStart:l,barEnd:u,start:r,end:s,min:o,max:a}}function oP(e,t,n,i){return wt(e)?Jz(e,t,n,i):t[n.axis]=n.parse(e,i),t}function Tx(e,t,n,i){const r=e.iScale,s=e.vScale,o=r.getLabels(),a=r===s,l=[];let u,c,h,f;for(u=n,c=n+i;u<c;++u)f=t[u],h={},h[r.axis]=a||r.parse(o[u],u),l.push(oP(f,h,s,u));return l}function xp(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Zz(e,t,n){return e!==0?Fn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function tU(e){let t,n,i,r,s;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:t,top:r,bottom:s}}function eU(e,t,n,i){let r=t.borderSkipped;const s={};if(!r){e.borderSkipped=s;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:c}=tU(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=u:(n._bottom||0)===i?r=c:(s[Px(c,o,a,l)]=!0,r=u)),s[Px(r,o,a,l)]=!0,e.borderSkipped=s}function Px(e,t,n,i){return i?(e=nU(e,t,n),e=Ax(e,n,t)):e=Ax(e,t,n),e}function nU(e,t,n){return e===t?n:e===n?t:e}function Ax(e,t,n){return e==="start"?t:e==="end"?n:e}function iU(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class yc extends Sn{parsePrimitiveData(t,n,i,r){return Tx(t,n,i,r)}parseArrayData(t,n,i,r){return Tx(t,n,i,r)}parseObjectData(t,n,i,r){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?a:l,c=o.axis==="x"?a:l,h=[];let f,d,p,g;for(f=i,d=i+r;f<d;++f)g=n[f],p={},p[s.axis]=s.parse(rr(g,u),f),h.push(oP(rr(g,c),p,o,f));return h}updateRangeFromParsed(t,n,i,r){super.updateRangeFromParsed(t,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(t),o=s._custom,a=xp(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),c=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,r);for(let d=n;d<n+i;d++){const p=this.getParsed(d),g=s||rt(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),v=this._calculateBarIndexPixels(d,c),y=(p._stacks||{})[a.axis],m={horizontal:u,base:g.base,enableBorderRadius:!y||xp(p._custom)||o===y._top||o===y._bottom,x:u?g.head:v.center,y:u?v.center:g.head,height:u?v.size:Math.abs(g.size),width:u?Math.abs(g.size):v.size};f&&(m.options=h||this.resolveDataElementOptions(d,t[d].active?"active":r));const w=m.options||t[d].options;eU(m,w,y,o),iU(m,w,c.ratio),this.updateElement(t[d],d,m,r)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=i.options.stacked,o=[],a=l=>{const u=l.controller.getParsed(n),c=u&&u[l.vScale.axis];if(rt(c)||isNaN(c))return!0};for(const l of r)if(!(n!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const r=this._getStacks(t,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=t.barThickness;return{min:a||Yz(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),u=l._custom,c=xp(u);let h=l[n.axis],f=0,d=i?this.applyStack(n,l,i):h,p,g;d!==h&&(f=d-h,d=h),c&&(h=u.barStart,d=u.barEnd-u.barStart,h!==0&&Fn(h)!==Fn(u.barEnd)&&(f=0),f+=h);const v=!rt(s)&&!c?s:f;let y=n.getPixelForValue(v);if(this.chart.getDataVisibility(t)?p=n.getPixelForValue(f+d):p=y,g=p-y,Math.abs(g)<o){g=Zz(g,n,a)*o,h===a&&(y-=g/2);const m=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),b=Math.min(m,w),x=Math.max(m,w);y=Math.max(Math.min(y,x),b),p=y+g,i&&!c&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(p)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const m=Fn(g)*n.getLineWidthForValue(a)/2;y+=m,g-=m}return{size:g,base:y,head:p,center:p+g/2}}_calculateBarIndexPixels(t,n){const i=n.scale,r=this.options,s=r.skipNull,o=Y(r.maxBarThickness,1/0);let a,l;if(n.grouped){const u=s?this._getStackCount(t):n.stackCount,c=r.barThickness==="flex"?Qz(t,n,r,u):Xz(t,n,r,u),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);a=c.start+c.chunk*h+c.chunk/2,l=Math.min(o,c.chunk*c.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&i[s].draw(this._ctx)}}L(yc,"id","bar"),L(yc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),L(yc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class vc extends Sn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,r){const s=super.parsePrimitiveData(t,n,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(t,n,i,r){const s=super.parseArrayData(t,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=Y(a[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(t,n,i,r){const s=super.parseObjectData(t,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=Y(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(t),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y),u=o._custom;return{label:i[t]||"",value:"("+a+", "+l+(u?", "+u:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,r){const s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(n,r),c=o.axis,h=a.axis;for(let f=n;f<n+i;f++){const d=t[f],p=!s&&this.getParsed(f),g={},v=g[c]=s?o.getPixelForDecimal(.5):o.getPixelForValue(p[c]),y=g[h]=s?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(v)||isNaN(y),u&&(g.options=l||this.resolveDataElementOptions(f,d.active?"active":r),s&&(g.options.radius=0)),this.updateElement(d,f,g,r)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return n!=="active"&&(r.radius=0),r.radius+=Y(i&&i._custom,s),r}}L(vc,"id","bubble"),L(vc,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),L(vc,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function rU(e,t,n){let i=1,r=1,s=0,o=0;if(t<xt){const a=e,l=a+t,u=Math.cos(a),c=Math.sin(a),h=Math.cos(l),f=Math.sin(l),d=(w,b,x)=>ul(w,a,l,!0)?1:Math.max(b,b*n,x,x*n),p=(w,b,x)=>ul(w,a,l,!0)?-1:Math.min(b,b*n,x,x*n),g=d(0,u,h),v=d(Ot,c,f),y=p(kt,u,h),m=p(kt+Ot,c,f);i=(g-y)/2,r=(v-m)/2,s=-(g+y)/2,o=-(v+m)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class Or extends Sn{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(tt(i[t])){const{key:l="value"}=this._parsing;s=u=>+rr(i[u],l)}let o,a;for(o=t,a=t+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return wn(this.options.rotation-90)}_getCircumference(){return wn(this.options.circumference)}_getRotationExtents(){let t=xt,n=-xt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(vj(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:c,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:d,offsetX:p,offsetY:g}=rU(h,c,l),v=(i.width-o)/f,y=(i.height-o)/d,m=Math.max(Math.min(v,y)/2,0),w=RT(this.options.radius,m),b=Math.max(w*l,0),x=(w-b)/this._getVisibleDatasetWeightTotal();this.offsetX=p*w,this.offsetY=g*w,r.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/xt)}updateElements(t,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,c=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=s&&u.animateScale,d=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:g,includeOptions:v}=this._getSharedOptions(n,r);let y=this._getRotation(),m;for(m=0;m<n;++m)y+=this._circumference(m,s);for(m=n;m<n+i;++m){const w=this._circumference(m,s),b=t[m],x={x:c+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+w,circumference:w,outerRadius:p,innerRadius:d};v&&(x.options=g||this.resolveDataElementOptions(m,b.active?"active":r)),y+=w,this.updateElement(b,m,x,r)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,r;for(r=0;r<n.length;r++){const s=t._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?xt*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Ul(n._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const i=this.chart;let r,s,o,a,l;if(!t){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),t=o.data,a=o.controller;break}}if(!t)return 0;for(r=0,s=t.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(Y(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}L(Or,"id","doughnut"),L(Or,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),L(Or,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"}),L(Or,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Pa extends Sn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=BT(n,r,o);this._drawStart=a,this._drawCount=l,jT(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:u},t),this.updateElements(r,a,l,t)}updateElements(t,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(n,r),f=o.axis,d=a.axis,{spanGaps:p,segment:g}=this.options,v=so(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||r==="none",m=n+i,w=t.length;let b=n>0&&this.getParsed(n-1);for(let x=0;x<w;++x){const _=t[x],E=y?_:{};if(x<n||x>=m){E.skip=!0;continue}const k=this.getParsed(x),P=rt(k[d]),T=E[f]=o.getPixelForValue(k[f],x),I=E[d]=s||P?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[d],x);E.skip=isNaN(T)||isNaN(I)||P,E.stop=x>0&&Math.abs(k[f]-b[f])>v,g&&(E.parsed=k,E.raw=u.data[x]),h&&(E.options=c||this.resolveDataElementOptions(x,_.active?"active":r)),y||this.updateElement(_,x,E,r),b=k}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}L(Pa,"id","line"),L(Pa,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),L(Pa,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Aa extends Sn{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Ul(n._parsed[t].r,i.options.locale);return{label:r[t]||"",value:s}}parseObjectData(t,n,i,r){return XT.bind(this)(t,n,i,r)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),a=(s-o)/t.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,i,r){const s=r==="reset",o=this.chart,l=o.options.animation,u=this._cachedMeta.rScale,c=u.xCenter,h=u.yCenter,f=u.getIndexAngle(0)-.5*kt;let d=f,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)d+=this._computeAngle(p,r,g);for(p=n;p<n+i;p++){const v=t[p];let y=d,m=d+this._computeAngle(p,r,g),w=o.getDataVisibility(p)?u.getDistanceFromCenterForValue(this.getParsed(p).r):0;d=m,s&&(l.animateScale&&(w=0),l.animateRotate&&(y=m=f));const b={x:c,y:h,innerRadius:0,outerRadius:w,startAngle:y,endAngle:m,options:this.resolveDataElementOptions(p,v.active?"active":r)};this.updateElement(v,p,b,r)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?wn(this.resolveDataElementOptions(t,n).angle||i):0}}L(Aa,"id","polarArea"),L(Aa,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),L(Aa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class _m extends Or{}L(_m,"id","pie"),L(_m,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class wc extends Sn{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,r){return XT.bind(this)(t,n,i,r)}update(t){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(r,0,r.length,t)}updateElements(t,n,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let a=n;a<n+i;a++){const l=t[a],u=this.resolveDataElementOptions(a,l.active?"active":r),c=s.getPointPositionForValue(a,this.getParsed(a).r),h=o?s.xCenter:c.x,f=o?s.yCenter:c.y,d={x:h,y:f,angle:c.angle,skip:isNaN(h)||isNaN(f),options:u};this.updateElement(l,a,d,r)}}}L(wc,"id","radar"),L(wc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),L(wc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class bc extends Sn{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(t),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:s,count:o}=BT(n,i,r);if(this._drawStart=s,this._drawCount=o,jT(n)&&(s=0,o=i.length),this.options.showLine){const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:u},t)}this.updateElements(i,s,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(n,r),h=this.getSharedOptions(c),f=this.includeOptions(r,h),d=o.axis,p=a.axis,{spanGaps:g,segment:v}=this.options,y=so(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||r==="none";let w=n>0&&this.getParsed(n-1);for(let b=n;b<n+i;++b){const x=t[b],_=this.getParsed(b),E=m?x:{},k=rt(_[p]),P=E[d]=o.getPixelForValue(_[d],b),T=E[p]=s||k?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,_,l):_[p],b);E.skip=isNaN(P)||isNaN(T)||k,E.stop=b>0&&Math.abs(_[d]-w[d])>y,v&&(E.parsed=_,E.raw=u.data[b]),f&&(E.options=h||this.resolveDataElementOptions(b,x.active?"active":r)),m||this.updateElement(x,b,E,r),w=_}this.updateSharedOptions(h,r,c)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,o)/2}}L(bc,"id","scatter"),L(bc,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),L(bc,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var sU=Object.freeze({__proto__:null,BarController:yc,BubbleController:vc,DoughnutController:Or,LineController:Pa,PolarAreaController:Aa,PieController:_m,RadarController:wc,ScatterController:bc});function br(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class l0{static override(t){Object.assign(l0.prototype,t)}constructor(t){this.options=t||{}}init(){}formats(){return br()}parse(){return br()}format(){return br()}add(){return br()}diff(){return br()}startOf(){return br()}endOf(){return br()}}var oU={_date:l0};function aU(e,t,n,i){const{controller:r,data:s,_sorted:o}=e,a=r._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const l=a._reversePixels?Dj:ti;if(i){if(r._sharedOptions){const u=s[0],c=typeof u.getRange=="function"&&u.getRange(t);if(c){const h=l(s,t,n-c),f=l(s,t,n+c);return{lo:h.lo,hi:f.hi}}}}else return l(s,t,n)}return{lo:0,hi:s.length-1}}function Hl(e,t,n,i,r){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:u,data:c}=s[a],{lo:h,hi:f}=aU(s[a],t,o,r);for(let d=h;d<=f;++d){const p=c[d];p.skip||i(p,u,d)}}}function lU(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function _p(e,t,n,i,r){const s=[];return!r&&!e.isPointInArea(t)||Hl(e,n,t,function(a,l,u){!r&&!cl(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function uU(e,t,n,i){let r=[];function s(o,a,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],i),{angle:h}=LT(o,{x:t.x,y:t.y});ul(h,u,c)&&r.push({element:o,datasetIndex:a,index:l})}return Hl(e,n,t,s),r}function cU(e,t,n,i,r,s){let o=[];const a=lU(n);let l=Number.POSITIVE_INFINITY;function u(c,h,f){const d=c.inRange(t.x,t.y,r);if(i&&!d)return;const p=c.getCenterPoint(r);if(!(!!s||e.isPointInArea(p))&&!d)return;const v=a(t,p);v<l?(o=[{element:c,datasetIndex:h,index:f}],l=v):v===l&&o.push({element:c,datasetIndex:h,index:f})}return Hl(e,n,t,u),o}function Sp(e,t,n,i,r,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!i?uU(e,t,n,r):cU(e,t,n,i,r,s)}function Dx(e,t,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Hl(e,n,t,(l,u,c)=>{l[o](t[n],r)&&(s.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(t.x,t.y,r))}),i&&!a?[]:s}var hU={evaluateInteractionItems:Hl,modes:{index(e,t,n,i){const r=Cr(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?_p(e,r,s,i,o):Sp(e,r,s,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,h=u.data[c];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:c})}),l):[]},dataset(e,t,n,i){const r=Cr(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?_p(e,r,s,i,o):Sp(e,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,u=e.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(e,t,n,i){const r=Cr(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return _p(e,r,s,i,o)},nearest(e,t,n,i){const r=Cr(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Sp(e,r,s,n.intersect,i,o)},x(e,t,n,i){const r=Cr(t,e);return Dx(e,r,"x",n.intersect,i)},y(e,t,n,i){const r=Cr(t,e);return Dx(e,r,"y",n.intersect,i)}}};const aP=["left","top","right","bottom"];function Uo(e,t){return e.filter(n=>n.pos===t)}function Mx(e,t){return e.filter(n=>aP.indexOf(n.pos)===-1&&n.box.axis===t)}function Ho(e,t){return e.sort((n,i)=>{const r=t?i:n,s=t?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function fU(e){const t=[];let n,i,r,s,o,a;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,t.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}function dU(e){const t={};for(const n of e){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!aP.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function pU(e,t){const n=dU(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,u=n[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*i:l&&t.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:l&&t.availableHeight)}return n}function gU(e){const t=fU(e),n=Ho(t.filter(u=>u.box.fullSize),!0),i=Ho(Uo(t,"left"),!0),r=Ho(Uo(t,"right")),s=Ho(Uo(t,"top"),!0),o=Ho(Uo(t,"bottom")),a=Mx(t,"x"),l=Mx(t,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Uo(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function Rx(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function lP(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function mU(e,t,n,i){const{pos:r,box:s}=n,o=e.maxPadding;if(!tt(r)){n.size&&(e[r]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,e[r]+=n.size}s.getPadding&&lP(o,s.getPadding());const a=Math.max(0,t.outerWidth-Rx(o,e,"left","right")),l=Math.max(0,t.outerHeight-Rx(o,e,"top","bottom")),u=a!==e.w,c=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function yU(e){const t=e.maxPadding;function n(i){const r=Math.max(t[i]-e[i],0);return e[i]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function vU(e,t){const n=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return i(e?["left","right"]:["top","bottom"])}function ia(e,t,n,i){const r=[];let s,o,a,l,u,c;for(s=0,o=e.length,u=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,vU(a.horizontal,t));const{same:h,other:f}=mU(t,n,a,i);u|=h&&r.length,c=c||f,l.fullSize||r.push(a)}return u&&ia(r,t,n,i)||c}function Ou(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function Ix(e,t,n,i){const r=n.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,u=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const h=t.w*c,f=u.size||l.height;hn(u.start)&&(o=u.start),l.fullSize?Ou(l,r.left,o,n.outerWidth-r.right-r.left,f):Ou(l,t.left+u.placed,o,h,f),u.start=o,u.placed+=h,o=l.bottom}else{const h=t.h*c,f=u.size||l.width;hn(u.start)&&(s=u.start),l.fullSize?Ou(l,s,r.top,f,n.outerHeight-r.bottom-r.top):Ou(l,s,t.top+u.placed,f,h),u.start=s,u.placed+=h,s=l.right}}t.x=s,t.y=o}var ve={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=_e(e.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(n-r.height,0),a=gU(e.boxes),l=a.vertical,u=a.horizontal;at(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const c=l.reduce((g,v)=>v.box.options&&v.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),f=Object.assign({},r);lP(f,_e(i));const d=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),p=pU(l.concat(u),h);ia(a.fullSize,d,h,p),ia(l,d,h,p),ia(u,d,h,p)&&ia(l,d,h,p),yU(d),Ix(a.leftAndTop,d,h,p),d.x+=d.w,d.y+=d.h,Ix(a.rightAndBottom,d,h,p),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},at(a.chartArea,g=>{const v=g.box;Object.assign(v,e.chartArea),v.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class uP{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,r){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(t){return!0}updateConfig(t){}}class wU extends uP{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const xc="$chartjs",bU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ox=e=>e===null||e==="";function xU(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[xc]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ox(r)){const s=mx(e,"width");s!==void 0&&(e.width=s)}if(Ox(i))if(e.style.height==="")e.height=e.width/(t||2);else{const s=mx(e,"height");s!==void 0&&(e.height=s)}return e}const cP=Sz?{passive:!0}:!1;function _U(e,t,n){e.addEventListener(t,n,cP)}function SU(e,t,n){e.canvas.removeEventListener(t,n,cP)}function EU(e,t){const n=bU[e.type]||e.type,{x:i,y:r}=Cr(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Ch(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function kU(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Ch(a.addedNodes,i),o=o&&!Ch(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function CU(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Ch(a.removedNodes,i),o=o&&!Ch(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const fl=new Map;let Lx=0;function hP(){const e=window.devicePixelRatio;e!==Lx&&(Lx=e,fl.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function TU(e,t){fl.size||window.addEventListener("resize",hP),fl.set(e,t)}function PU(e){fl.delete(e),fl.size||window.removeEventListener("resize",hP)}function AU(e,t,n){const i=e.canvas,r=i&&a0(i);if(!r)return;const s=VT((a,l)=>{const u=r.clientWidth;n(a,l),u<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||s(u,c)});return o.observe(r),TU(e,s),o}function Ep(e,t,n){n&&n.disconnect(),t==="resize"&&PU(e)}function DU(e,t,n){const i=e.canvas,r=VT(s=>{e.ctx!==null&&n(EU(s,e))},e);return _U(i,t,r),r}class MU extends uP{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(xU(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[xc])return!1;const i=n[xc].initial;["height","width"].forEach(s=>{const o=i[s];rt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[xc],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),o={attach:kU,detach:CU,resize:AU}[n]||DU;r[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),r=i[n];if(!r)return;({attach:Ep,detach:Ep,resize:Ep}[n]||SU)(t,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,r){return _z(t,n,i,r)}isAttached(t){const n=a0(t);return!!(n&&n.isConnected)}}function RU(e){return!JT()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?wU:MU}var Qu;let yi=(Qu=class{constructor(){L(this,"active",!1)}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return so(this.x)&&so(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},L(Qu,"defaults",{}),L(Qu,"defaultRoutes"),Qu);function IU(e,t){const n=e.options.ticks,i=OU(e),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?NU(t):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>r)return $U(t,u,s,o/r),u;const c=LU(s,t,r);if(o>0){let h,f;const d=o>1?Math.round((l-a)/(o-1)):null;for(Lu(t,u,c,rt(d)?0:a-d,a),h=0,f=o-1;h<f;h++)Lu(t,u,c,s[h],s[h+1]);return Lu(t,u,c,l,rt(d)?t.length:l+d),u}return Lu(t,u,c),u}function OU(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}function LU(e,t,n){const i=FU(e),r=t.length/n;if(!i)return Math.max(r,1);const s=Cj(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function NU(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function $U(e,t,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===s&&(t.push(e[o]),r++,s=n[r*i])}function Lu(e,t,n,i,r){const s=Y(i,0),o=Math.min(Y(r,e.length),e.length);let a=0,l,u,c;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),c=s;c<0;)a++,c=Math.round(s+a*n);for(u=Math.max(s,0);u<o;u++)u===c&&(t.push(e[u]),a++,c=Math.round(s+a*n))}function FU(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const VU=e=>e==="left"?"right":e==="right"?"left":e,Nx=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n;function $x(e,t){const n=[],i=e.length/t,r=e.length;let s=0;for(;s<r;s+=i)n.push(e[Math.floor(s)]);return n}function BU(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(r),u;if(!(n&&(i===1?u=Math.max(l-s,o-l):t===0?u=(e.getPixelForTick(1)-l)/2:u=(l-e.getPixelForTick(r-1))/2,l+=r<t?u:-u,l<s-a||l>o+a)))return l}function jU(e,t){at(e,n=>{const i=n.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function Wo(e){return e.drawTicks?e.tickLength:0}function Fx(e,t){if(!e.display)return 0;const n=qt(e.font,t),i=_e(e.padding);return(wt(e.text)?e.text.length:1)*n.lineHeight+i.height}function zU(e,t){return dr(e,{scale:t,type:"scale"})}function UU(e,t,n){return dr(e,{tick:n,index:t,type:"tick"})}function HU(e,t,n){let i=n0(e);return(n&&t!=="right"||!n&&t==="right")&&(i=VU(i)),i}function WU(e,t,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=e,{chartArea:u,scales:c}=l;let h=0,f,d,p;const g=o-r,v=a-s;if(e.isHorizontal()){if(d=de(i,s,a),tt(n)){const y=Object.keys(n)[0],m=n[y];p=c[y].getPixelForValue(m)+g-t}else n==="center"?p=(u.bottom+u.top)/2+g-t:p=Nx(e,n,t);f=a-s}else{if(tt(n)){const y=Object.keys(n)[0],m=n[y];d=c[y].getPixelForValue(m)-v+t}else n==="center"?d=(u.left+u.right)/2-v+t:d=Nx(e,n,t);p=de(i,o,r),h=n==="left"?-Ot:Ot}return{titleX:d,titleY:p,maxWidth:f,rotation:h}}class us extends yi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return t=ze(t,Number.POSITIVE_INFINITY),n=ze(n,Number.NEGATIVE_INFINITY),i=ze(i,Number.POSITIVE_INFINITY),r=ze(r,Number.NEGATIVE_INFINITY),{min:ze(t,i),max:ze(n,r),minDefined:It(t),maxDefined:It(n)}}getMinMax(t){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,t),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:ze(n,ze(i,n)),max:ze(i,ze(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){dt(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tz(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?$x(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=IU(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){dt(this.options.afterUpdate,[this])}beforeSetDimensions(){dt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){dt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),dt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){dt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=dt(n.callback,[s.value,i,t],this)}afterTickToLabelConversion(){dt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){dt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=this.ticks.length,r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,u;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const c=this._getLabelSizes(),h=c.widest.width,f=c.highest.height,d=Zt(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:d/(i-1),h+6>a&&(a=d/(i-(t.offset?.5:1)),l=this.maxHeight-Wo(t.grid)-n.padding-Fx(t.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),o=t0(Math.min(Math.asin(Zt((c.highest.height+6)/a,-1,1)),Math.asin(Zt(l/u,-1,1))-Math.asin(Zt(f/u,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){dt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){dt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Fx(r,n.options.font);if(a?(t.width=this.maxWidth,t.height=Wo(s)+l):(t.height=this.maxHeight,t.width=Wo(s)+l),i.display&&this.ticks.length){const{first:u,last:c,widest:h,highest:f}=this._getLabelSizes(),d=i.padding*2,p=wn(this.labelRotation),g=Math.cos(p),v=Math.sin(p);if(a){const y=i.mirror?0:v*h.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+y+d)}else{const y=i.mirror?0:g*h.width+v*f.height;t.width=Math.min(this.maxWidth,t.width+y+d)}this._calculatePadding(u,c,v,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;l?u?(f=r*t.width,d=i*n.height):(f=i*t.height,d=r*n.width):s==="start"?d=n.width:s==="end"?f=t.width:s!=="inner"&&(f=t.width/2,d=n.width/2),this.paddingLeft=Math.max((f-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let c=n.height/2,h=t.height/2;s==="start"?(c=0,h=t.height):s==="end"&&(c=n.height,h=0),this.paddingTop=c+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){dt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)rt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=$x(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,n){const{ctx:i,_longestTextCache:r}=this,s=[],o=[];let a=0,l=0,u,c,h,f,d,p,g,v,y,m,w;for(u=0;u<n;++u){if(f=t[u].label,d=this._resolveTickFontOptions(u),i.font=p=d.string,g=r[p]=r[p]||{data:{},gc:[]},v=d.lineHeight,y=m=0,!rt(f)&&!wt(f))y=Eh(i,g.data,g.gc,y,f),m=v;else if(wt(f))for(c=0,h=f.length;c<h;++c)w=f[c],!rt(w)&&!wt(w)&&(y=Eh(i,g.data,g.gc,y,w),m+=v);s.push(y),o.push(m),a=Math.max(y,a),l=Math.max(m,l)}jU(r,n);const b=s.indexOf(a),x=o.indexOf(l),_=E=>({width:s[E]||0,height:o[E]||0});return{first:_(0),last:_(n-1),widest:_(b),highest:_(x),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Aj(this._alignToPixels?wr(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=UU(this.getContext(),t,i))}return this.$context||(this.$context=zU(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=wn(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,u=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Wo(s),d=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,v=g/2,y=function(J){return wr(i,J,g)};let m,w,b,x,_,E,k,P,T,I,q,ht;if(o==="top")m=y(this.bottom),E=this.bottom-f,P=m-v,I=y(t.top)+v,ht=t.bottom;else if(o==="bottom")m=y(this.top),I=t.top,ht=y(t.bottom)-v,E=m+v,P=this.top+f;else if(o==="left")m=y(this.right),_=this.right-f,k=m-v,T=y(t.left)+v,q=t.right;else if(o==="right")m=y(this.left),T=t.left,q=y(t.right)-v,_=m+v,k=this.left+f;else if(n==="x"){if(o==="center")m=y((t.top+t.bottom)/2+.5);else if(tt(o)){const J=Object.keys(o)[0],Q=o[J];m=y(this.chart.scales[J].getPixelForValue(Q))}I=t.top,ht=t.bottom,E=m+v,P=E+f}else if(n==="y"){if(o==="center")m=y((t.left+t.right)/2);else if(tt(o)){const J=Object.keys(o)[0],Q=o[J];m=y(this.chart.scales[J].getPixelForValue(Q))}_=m-v,k=_-f,T=t.left,q=t.right}const At=Y(r.ticks.maxTicksLimit,h),V=Math.max(1,Math.ceil(h/At));for(w=0;w<h;w+=V){const J=this.getContext(w),Q=s.setContext(J),R=a.setContext(J),N=Q.lineWidth,z=Q.color,ft=R.dash||[],yt=R.dashOffset,kn=Q.tickWidth,Be=Q.tickColor,zn=Q.tickBorderDash||[],je=Q.tickBorderDashOffset;b=BU(this,w,l),b!==void 0&&(x=wr(i,b,N),u?_=k=T=q=x:E=P=I=ht=x,d.push({tx1:_,ty1:E,tx2:k,ty2:P,x1:T,y1:I,x2:q,y2:ht,width:N,color:z,borderDash:ft,borderDashOffset:yt,tickWidth:kn,tickColor:Be,tickBorderDash:zn,tickBorderDashOffset:je}))}return this._ticksLength=h,this._borderValue=m,d}_computeLabelItems(t){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:h}=s,f=Wo(i.grid),d=f+c,p=h?-c:d,g=-wn(this.labelRotation),v=[];let y,m,w,b,x,_,E,k,P,T,I,q,ht="middle";if(r==="top")_=this.bottom-p,E=this._getXAxisLabelAlignment();else if(r==="bottom")_=this.top+p,E=this._getXAxisLabelAlignment();else if(r==="left"){const V=this._getYAxisLabelAlignment(f);E=V.textAlign,x=V.x}else if(r==="right"){const V=this._getYAxisLabelAlignment(f);E=V.textAlign,x=V.x}else if(n==="x"){if(r==="center")_=(t.top+t.bottom)/2+d;else if(tt(r)){const V=Object.keys(r)[0],J=r[V];_=this.chart.scales[V].getPixelForValue(J)+d}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")x=(t.left+t.right)/2-d;else if(tt(r)){const V=Object.keys(r)[0],J=r[V];x=this.chart.scales[V].getPixelForValue(J)}E=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?ht="top":l==="end"&&(ht="bottom"));const At=this._getLabelSizes();for(y=0,m=a.length;y<m;++y){w=a[y],b=w.label;const V=s.setContext(this.getContext(y));k=this.getPixelForTick(y)+s.labelOffset,P=this._resolveTickFontOptions(y),T=P.lineHeight,I=wt(b)?b.length:1;const J=I/2,Q=V.color,R=V.textStrokeColor,N=V.textStrokeWidth;let z=E;o?(x=k,E==="inner"&&(y===m-1?z=this.options.reverse?"left":"right":y===0?z=this.options.reverse?"right":"left":z="center"),r==="top"?u==="near"||g!==0?q=-I*T+T/2:u==="center"?q=-At.highest.height/2-J*T+T:q=-At.highest.height+T/2:u==="near"||g!==0?q=T/2:u==="center"?q=At.highest.height/2-J*T:q=At.highest.height-I*T,h&&(q*=-1),g!==0&&!V.showLabelBackdrop&&(x+=T/2*Math.sin(g))):(_=k,q=(1-I)*T/2);let ft;if(V.showLabelBackdrop){const yt=_e(V.backdropPadding),kn=At.heights[y],Be=At.widths[y];let zn=q-yt.top,je=0-yt.left;switch(ht){case"middle":zn-=kn/2;break;case"bottom":zn-=kn;break}switch(E){case"center":je-=Be/2;break;case"right":je-=Be;break}ft={left:je,top:zn,width:Be+yt.width,height:kn+yt.height,color:V.backdropColor}}v.push({label:b,font:P,textOffset:q,options:{rotation:g,color:Q,strokeColor:R,strokeWidth:N,textAlign:z,textBaseline:ht,translation:[x,_],backdrop:ft}})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-wn(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let u,c;return n==="left"?r?(c=this.right+s,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?r?(c=this.left+s,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,u,c)=>{!c.width||!c.color||(i.save(),i.lineWidth=c.width,i.strokeStyle=c.color,i.setLineDash(c.borderDash||[]),i.lineDashOffset=c.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,h,f;this.isHorizontal()?(u=wr(t,this.left,o)-o/2,c=wr(t,this.right,a)+a/2,h=f=l):(h=wr(t,this.top,o)-o/2,f=wr(t,this.bottom,a)+a/2,u=c=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,h),n.lineTo(c,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Hf(i,r);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,u=o.label,c=o.textOffset;ts(i,u,0,c,l,a)}r&&Wf(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=qt(i.font),o=_e(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||tt(n)?(l+=o.bottom,wt(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:h,rotation:f}=WU(this,l,n,a);ts(t,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:f,textAlign:HU(a,n,r),textBaseline:"middle",translation:[u,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=Y(t.grid&&t.grid.z,-1),r=Y(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==us.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return qt(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Nu{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;GU(n)&&(i=this.register(n));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,KU(t,o,i),this.override&&Ft.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,r=this.scope;i in n&&delete n[i],r&&i in Ft[r]&&(delete Ft[r][i],this.override&&delete Zr[i])}}function KU(e,t,n){const i=ll(Object.create(null),[n?Ft.get(n):{},Ft.get(t),e.defaults]);Ft.set(t,i),e.defaultRoutes&&qU(t,e.defaultRoutes),e.descriptors&&Ft.describe(t,e.descriptors)}function qU(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),r=i.pop(),s=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Ft.route(s,r,l,a)})}function GU(e){return"id"in e&&"defaults"in e}class YU{constructor(){this.controllers=new Nu(Sn,"datasets",!0),this.elements=new Nu(yi,"elements"),this.plugins=new Nu(Object,"plugins"),this.scales=new Nu(us,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):at(r,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,i){const r=Zv(t);dt(i["before"+r],[],i),n[t](i),dt(i["after"+r],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Dn=new YU;class XU{constructor(){this._init=[]}notify(t,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,n,i);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,r){r=r||{};for(const s of t){const o=s.plugin,a=o[i],l=[n,r,s.options];if(dt(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){rt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,r=Y(i.options&&i.options.plugins,{}),s=QU(i);return r===!1&&!n?[]:ZU(t,s,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),t,"stop"),this._notify(r(i,n),t,"start")}}function QU(e){const t={},n=[],i=Object.keys(Dn.plugins.items);for(let s=0;s<i.length;s++)n.push(Dn.getPlugin(i[s]));const r=e.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function JU(e,t){return!t&&e===!1?null:e===!0?{}:e}function ZU(e,{plugins:t,localIds:n},i,r){const s=[],o=e.getContext();for(const a of t){const l=a.id,u=JU(i[l],r);u!==null&&s.push({plugin:a,options:t3(e.config,{plugin:a,local:n[l]},u,o)})}return s}function t3(e,{plugin:t,local:n},i,r){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(i,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Sm(e,t){const n=Ft.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function e3(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function n3(e,t){return e===t?"_index_":"_value_"}function i3(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Th(e,t){if(e==="x"||e==="y"||e==="r"||(e=t.axis||i3(t.position)||e.length>1&&Th(e[0].toLowerCase(),t),e))return e;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function r3(e,t){const n=Zr[e.type]||{scales:{}},i=t.scales||{},r=Sm(e.type,t),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!tt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Th(o,a),u=n3(l,r),c=n.scales||{};s[o]=Ea(Object.create(null),[{axis:l},a,c[l],c[u]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||Sm(a,t),c=(Zr[a]||{}).scales||{};Object.keys(c).forEach(h=>{const f=e3(h,l),d=o[f+"AxisID"]||f;s[d]=s[d]||Object.create(null),Ea(s[d],[{axis:f},i[d],c[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Ea(a,[Ft.scales[a.type],Ft.scale])}),s}function fP(e){const t=e.options||(e.options={});t.plugins=Y(t.plugins,{}),t.scales=r3(e,t)}function dP(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function s3(e){return e=e||{},e.data=dP(e.data),fP(e),e}const Vx=new Map,pP=new Set;function $u(e,t){let n=Vx.get(e);return n||(n=t(),Vx.set(e,n),pP.add(n)),n}const Ko=(e,t,n)=>{const i=rr(t,n);i!==void 0&&e.add(i)};class o3{constructor(t){this._config=s3(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=dP(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),fP(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return $u(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return $u(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return $u(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return $u(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let r=i.get(t);return(!r||n)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,n,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(c=>{t&&(l.add(t),c.forEach(h=>Ko(l,t,h))),c.forEach(h=>Ko(l,r,h)),c.forEach(h=>Ko(l,Zr[s]||{},h)),c.forEach(h=>Ko(l,Ft,h)),c.forEach(h=>Ko(l,bm,h))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),pP.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,Zr[n]||{},Ft.datasets[n]||{},{type:n},Ft,bm]}resolveNamedOptions(t,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Bx(this._resolverCache,t,r);let l=o;if(l3(o,n)){s.$shared=!1,i=sr(i)?i():i;const u=this.createResolver(t,i,a);l=oo(o,i,u)}for(const u of n)s[u]=l[u];return s}createResolver(t,n,i=[""],r){const{resolver:s}=Bx(this._resolverCache,t,i);return tt(n)?oo(s,n,void 0,r):s}}function Bx(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let s=i.get(r);return s||(s={resolver:r0(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const a3=e=>tt(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||sr(e[n]),!1);function l3(e,t){const{isScriptable:n,isIndexable:i}=KT(e);for(const r of t){const s=n(r),o=i(r),a=(o||s)&&e[r];if(s&&(sr(a)||a3(a))||o&&wt(a))return!0}return!1}var u3="4.2.0";const c3=["top","bottom","left","right","chartArea"];function jx(e,t){return e==="top"||e==="bottom"||c3.indexOf(e)===-1&&t==="x"}function zx(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function Ux(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),dt(n&&n.onComplete,[e],t)}function h3(e){const t=e.chart,n=t.options.animation;dt(n&&n.onProgress,[e],t)}function gP(e){return JT()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const _c={},Hx=e=>{const t=gP(e);return Object.values(_c).filter(n=>n.canvas===t).pop()};function f3(e,t,n){const i=Object.keys(e);for(const r of i){const s=+r;if(s>=t){const o=e[r];delete e[r],(n>0||s>t)&&(e[s+n]=o)}}}function d3(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function p3(e){const{xScale:t,yScale:n}=e;if(t&&n)return{left:t.left,right:t.right,top:n.top,bottom:n.bottom}}var wi;let qf=(wi=class{static register(...t){Dn.add(...t),Wx()}static unregister(...t){Dn.remove(...t),Wx()}constructor(t,n){const i=this.config=new o3(n),r=gP(t),s=Hx(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||RU(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=yj(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new XU,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ij(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],_c[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Kn.listen(this,"complete",Ux),Kn.listen(this,"progress",h3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return rt(t)?n&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Dn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():gx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return fx(this.canvas,this.ctx),this}stop(){return Kn.stop(this),this}resize(t,n){Kn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,gx(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),dt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};at(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Th(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),at(s,o=>{const a=o.options,l=a.id,u=Th(l,a),c=Y(a.type,o.dtype);(a.position===void 0||jx(a.position,u)!==jx(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in i&&i[l].type===c)h=i[l];else{const f=Dn.getScale(c);h=new f({id:l,type:c,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,t)}),at(r,(o,a)=>{o||delete i[a]}),at(i,o=>{ve.configure(this,o,o.options),ve.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(zx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||Sm(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Dn.getController(a),{datasetElementType:u,dataElementType:c}=Ft.datasets[a];Object.assign(l,{dataElementType:Dn.getElement(c),datasetElementType:u&&Dn.getElement(u)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){at(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:h}=this.getDatasetMeta(u),f=!r&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||at(s,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(zx("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){at(this.scales,t=>{ve.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!ix(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;f3(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!ix(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ve.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],at(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,sr(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Kn.has(this)?this.attached&&!Kn.running(this)&&Kn.start(this):(this.draw(),Ux({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,r=!i.disabled,s=p3(t)||this.chartArea,o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&Hf(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&Wf(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return cl(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,r){const s=hU.modes[n];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=dr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);hn(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Kn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),fx(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete _c[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};at(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,u)=>{n.addEventListener(this,l,u),t[l]=u},r=(l,u)=>{t[l]&&(n.removeEventListener(this,l,u),delete t[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){at(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},at(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!xh(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const r=this.options.hover,s=(l,u)=>l.filter(c=>!u.some(h=>c.datasetIndex===h.datasetIndex&&c.index===h.index)),o=s(n,t),a=i?t:s(t,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(t,r,i,o),l=Sj(t),u=d3(t,this._lastEvent,i,l);i&&(this._lastEvent=null,dt(s.onHover,[t,a,this],this),l&&dt(s.onClick,[t,a,this],this));const c=!xh(a,r);return(c||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=u,c}_getActiveElements(t,n,i,r){if(t.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}},L(wi,"defaults",Ft),L(wi,"instances",_c),L(wi,"overrides",Zr),L(wi,"registry",Dn),L(wi,"version",u3),L(wi,"getChart",Hx),wi);function Wx(){return at(qf.instances,e=>e._plugins.invalidate())}function g3(e,t,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=t;let u=r/a;e.beginPath(),e.arc(s,o,a,i-u,n+u),l>r?(u=r/l,e.arc(s,o,l,n+u,i-u,!0)):e.arc(s,o,r,n+Ot,i-Ot),e.closePath(),e.clip()}function m3(e){return i0(e,["outerStart","outerEnd","innerStart","innerEnd"])}function y3(e,t,n,i){const r=m3(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,i*t/2),a=l=>{const u=(n-Math.min(s,l))*i/2;return Zt(l,0,Math.min(s,u))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Zt(r.innerStart,0,o),innerEnd:Zt(r.innerEnd,0,o)}}function ms(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Ph(e,t,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:c}=t,h=Math.max(t.outerRadius+i+n-u,0),f=c>0?c+i+n+u:0;let d=0;const p=r-l;if(i){const V=c>0?c-i:0,J=h>0?h-i:0,Q=(V+J)/2,R=Q!==0?p*Q/(Q+i):p;d=(p-R)/2}const g=Math.max(.001,p*h-n/kt)/h,v=(p-g)/2,y=l+v+d,m=r-v-d,{outerStart:w,outerEnd:b,innerStart:x,innerEnd:_}=y3(t,f,h,m-y),E=h-w,k=h-b,P=y+w/E,T=m-b/k,I=f+x,q=f+_,ht=y+x/I,At=m-_/q;if(e.beginPath(),s){const V=(P+T)/2;if(e.arc(o,a,h,P,V),e.arc(o,a,h,V,T),b>0){const N=ms(k,T,o,a);e.arc(N.x,N.y,b,T,m+Ot)}const J=ms(q,m,o,a);if(e.lineTo(J.x,J.y),_>0){const N=ms(q,At,o,a);e.arc(N.x,N.y,_,m+Ot,At+Math.PI)}const Q=(m-_/f+(y+x/f))/2;if(e.arc(o,a,f,m-_/f,Q,!0),e.arc(o,a,f,Q,y+x/f,!0),x>0){const N=ms(I,ht,o,a);e.arc(N.x,N.y,x,ht+Math.PI,y-Ot)}const R=ms(E,y,o,a);if(e.lineTo(R.x,R.y),w>0){const N=ms(E,P,o,a);e.arc(N.x,N.y,w,y-Ot,P)}}else{e.moveTo(o,a);const V=Math.cos(P)*h+o,J=Math.sin(P)*h+a;e.lineTo(V,J);const Q=Math.cos(T)*h+o,R=Math.sin(T)*h+a;e.lineTo(Q,R)}e.closePath()}function v3(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){Ph(e,t,n,i,l,r);for(let u=0;u<s;++u)e.fill();isNaN(a)||(l=o+(a%xt||xt))}return Ph(e,t,n,i,l,r),e.fill(),l}function w3(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:u,borderJoinStyle:c}=l,h=l.borderAlign==="inner";if(!u)return;h?(e.lineWidth=u*2,e.lineJoin=c||"round"):(e.lineWidth=u,e.lineJoin=c||"bevel");let f=t.endAngle;if(s){Ph(e,t,n,i,f,r);for(let d=0;d<s;++d)e.stroke();isNaN(a)||(f=o+(a%xt||xt))}h&&g3(e,t,f),s||(Ph(e,t,n,i,f,r),e.stroke())}class Sc extends yi{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,i){const r=this.getProps(["x","y"],i),{angle:s,distance:o}=LT(r,{x:t,y:n}),{startAngle:a,endAngle:l,innerRadius:u,outerRadius:c,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=this.options.spacing/2,p=Y(h,l-a)>=xt||ul(s,a,l),g=Zn(o,u+f,c+f);return p&&g}getCenterPoint(t){const{x:n,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:l,spacing:u}=this.options,c=(r+s)/2,h=(o+a+u+l)/2;return{x:n+Math.cos(c)*h,y:i+Math.sin(c)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:i}=this,r=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>xt?Math.floor(i/xt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*r,Math.sin(a)*r);const l=1-Math.sin(Math.min(kt,i||0)),u=r*l;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,v3(t,this,u,s,o),w3(t,this,u,s,o),t.restore()}}L(Sc,"id","arc"),L(Sc,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),L(Sc,"defaultRoutes",{backgroundColor:"backgroundColor"});function mP(e,t,n=t){e.lineCap=Y(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Y(n.borderDash,t.borderDash)),e.lineDashOffset=Y(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Y(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Y(n.borderWidth,t.borderWidth),e.strokeStyle=Y(n.borderColor,t.borderColor)}function b3(e,t,n){e.lineTo(n.x,n.y)}function x3(e){return e.stepped?Wj:e.tension||e.cubicInterpolationMode==="monotone"?Kj:b3}function yP(e,t,n={}){const i=e.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=t,l=Math.max(r,o),u=Math.min(s,a),c=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:t.loop,ilen:u<l&&!c?i+u-l:u-l}}function _3(e,t,n,i){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:u}=yP(r,n,i),c=x3(s);let{move:h=!0,reverse:f}=i||{},d,p,g;for(d=0;d<=u;++d)p=r[(a+(f?u-d:d))%o],!p.skip&&(h?(e.moveTo(p.x,p.y),h=!1):c(e,g,p,f,s.stepped),g=p);return l&&(p=r[(a+(f?u:0))%o],c(e,g,p,f,s.stepped)),!!l}function S3(e,t,n,i){const r=t.points,{count:s,start:o,ilen:a}=yP(r,n,i),{move:l=!0,reverse:u}=i||{};let c=0,h=0,f,d,p,g,v,y;const m=b=>(o+(u?a-b:b))%s,w=()=>{g!==v&&(e.lineTo(c,v),e.lineTo(c,g),e.lineTo(c,y))};for(l&&(d=r[m(0)],e.moveTo(d.x,d.y)),f=0;f<=a;++f){if(d=r[m(f)],d.skip)continue;const b=d.x,x=d.y,_=b|0;_===p?(x<g?g=x:x>v&&(v=x),c=(h*c+b)/++h):(w(),e.lineTo(b,x),p=_,h=0,g=v=x),y=x}w()}function Em(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?S3:_3}function E3(e){return e.stepped?Ez:e.tension||e.cubicInterpolationMode==="monotone"?kz:Tr}function k3(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),mP(e,t.options),e.stroke(r)}function C3(e,t,n,i){const{segments:r,options:s}=t,o=Em(t);for(const a of r)mP(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const T3=typeof Path2D=="function";function P3(e,t,n,i){T3&&!t.options.segment?k3(e,t,n,i):C3(e,t,n,i)}class Oi extends yi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;mz(this._points,i,t,r,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Mz(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,r=t[n],s=this.points,o=iP(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=E3(i);let u,c;for(u=0,c=o.length;u<c;++u){const{start:h,end:f}=o[u],d=s[h],p=s[f];if(d===p){a.push(d);continue}const g=Math.abs((r-d[n])/(p[n]-d[n])),v=l(d,p,g,i.stepped);v[n]=t[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(t,n,i){return Em(this)(t,this,n,i)}path(t,n,i){const r=this.segments,s=Em(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(t,this,a,{start:n,end:n+i-1});return!!o}draw(t,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),P3(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}L(Oi,"id","line"),L(Oi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),L(Oi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),L(Oi,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Kx(e,t,n,i){const r=e.options,{[n]:s}=e.getProps([n],i);return Math.abs(t-s)<r.radius+r.hitRadius}class Ec extends yi{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,i){const r=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(n-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,n){return Kx(this,t,"x",n)}inYRange(t,n){return Kx(this,t,"y",n)}getCenterPoint(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const i=n&&t.borderWidth||0;return(n+i)*2}draw(t,n){const i=this.options;this.skip||i.radius<.1||!cl(this,n,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,xm(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}L(Ec,"id","point"),L(Ec,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),L(Ec,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function vP(e,t){const{x:n,y:i,base:r,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,u,c,h;return e.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),u=i-h,c=i+h):(h=s/2,a=n-h,l=n+h,u=Math.min(i,r),c=Math.max(i,r)),{left:a,top:u,right:l,bottom:c}}function Li(e,t,n,i){return e?0:Zt(t,n,i)}function A3(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,s=WT(i);return{t:Li(r.top,s.top,0,n),r:Li(r.right,s.right,0,t),b:Li(r.bottom,s.bottom,0,n),l:Li(r.left,s.left,0,t)}}function D3(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,s=zr(r),o=Math.min(t,n),a=e.borderSkipped,l=i||tt(r);return{topLeft:Li(!l||a.top||a.left,s.topLeft,0,o),topRight:Li(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Li(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Li(!l||a.bottom||a.right,s.bottomRight,0,o)}}function M3(e){const t=vP(e),n=t.right-t.left,i=t.bottom-t.top,r=A3(e,n/2,i/2),s=D3(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function kp(e,t,n,i){const r=t===null,s=n===null,a=e&&!(r&&s)&&vP(e,i);return a&&(r||Zn(t,a.left,a.right))&&(s||Zn(n,a.top,a.bottom))}function R3(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function I3(e,t){e.rect(t.x,t.y,t.w,t.h)}function Cp(e,t,n={}){const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+s,h:e.h+o,radius:e.radius}}class kc extends yi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=M3(this),a=R3(o.radius)?hl:I3;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,Cp(o,n,s)),t.clip(),a(t,Cp(s,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,Cp(s,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,i){return kp(this,t,n,i)}inXRange(t,n){return kp(this,t,null,n)}inYRange(t,n){return kp(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}L(kc,"id","bar"),L(kc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),L(kc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var O3=Object.freeze({__proto__:null,ArcElement:Sc,LineElement:Oi,PointElement:Ec,BarElement:kc});const km=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],qx=km.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function wP(e){return km[e%km.length]}function bP(e){return qx[e%qx.length]}function L3(e,t){return e.borderColor=wP(t),e.backgroundColor=bP(t),++t}function N3(e,t){return e.backgroundColor=e.data.map(()=>wP(t++)),t}function $3(e,t){return e.backgroundColor=e.data.map(()=>bP(t++)),t}function F3(e){let t=0;return(n,i)=>{const r=e.getDatasetMeta(i).controller;r instanceof Or?t=N3(n,t):r instanceof Aa?t=$3(n,t):r&&(t=L3(n,t))}}function Gx(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function V3(e){return e&&(e.borderColor||e.backgroundColor)}var B3={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=e.config,{elements:s}=r;if(!n.forceOverride&&(Gx(i)||V3(r)||s&&Gx(s)))return;const o=F3(e);i.forEach(o)}};function j3(e,t,n,i,r){const s=r.samples||i;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let l=0;const u=t+n-1;let c=t,h,f,d,p,g;for(o[l++]=e[c],h=0;h<s-2;h++){let v=0,y=0,m;const w=Math.floor((h+1)*a)+1+t,b=Math.min(Math.floor((h+2)*a)+1,n)+t,x=b-w;for(m=w;m<b;m++)v+=e[m].x,y+=e[m].y;v/=x,y/=x;const _=Math.floor(h*a)+1+t,E=Math.min(Math.floor((h+1)*a)+1,n)+t,{x:k,y:P}=e[c];for(d=p=-1,m=_;m<E;m++)p=.5*Math.abs((k-v)*(e[m].y-P)-(k-e[m].x)*(y-P)),p>d&&(d=p,f=e[m],g=m);o[l++]=f,c=g}return o[l++]=e[u],o}function z3(e,t,n,i){let r=0,s=0,o,a,l,u,c,h,f,d,p,g;const v=[],y=t+n-1,m=e[t].x,b=e[y].x-m;for(o=t;o<t+n;++o){a=e[o],l=(a.x-m)/b*i,u=a.y;const x=l|0;if(x===c)u<p?(p=u,h=o):u>g&&(g=u,f=o),r=(s*r+a.x)/++s;else{const _=o-1;if(!rt(h)&&!rt(f)){const E=Math.min(h,f),k=Math.max(h,f);E!==d&&E!==_&&v.push({...e[E],x:r}),k!==d&&k!==_&&v.push({...e[k],x:r})}o>0&&_!==d&&v.push(e[_]),v.push(a),c=x,s=0,p=g=u,h=f=d=o}}return v}function xP(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function Yx(e){e.data.datasets.forEach(t=>{xP(t)})}function U3(e,t){const n=t.length;let i=0,r;const{iScale:s}=e,{min:o,max:a,minDefined:l,maxDefined:u}=s.getUserBounds();return l&&(i=Zt(ti(t,s.axis,o).lo,0,n-1)),u?r=Zt(ti(t,s.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var H3={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){Yx(e);return}const i=e.width;e.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=e.getDatasetMeta(s),u=o||r.data;if(na([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const c=e.scales[l.xAxisID];if(c.type!=="linear"&&c.type!=="time"||e.options.parsing)return;let{start:h,count:f}=U3(l,u);const d=n.threshold||4*i;if(f<=d){xP(r);return}rt(o)&&(r._data=u,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=j3(u,h,f,i,n);break;case"min-max":p=z3(u,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=p})},destroy(e){Yx(e)}};function W3(e,t,n){const i=e.segments,r=e.points,s=t.points,o=[];for(const a of i){let{start:l,end:u}=a;u=u0(l,u,r);const c=Cm(n,r[l],r[u],a.loop);if(!t.segments){o.push({source:a,target:c,start:r[l],end:r[u]});continue}const h=iP(t,c);for(const f of h){const d=Cm(n,s[f.start],s[f.end],f.loop),p=nP(a,r,d);for(const g of p)o.push({source:g,target:f,start:{[n]:Xx(c,d,"start",Math.max)},end:{[n]:Xx(c,d,"end",Math.min)}})}}return o}function Cm(e,t,n,i){if(i)return;let r=t[e],s=n[e];return e==="angle"&&(r=He(r),s=He(s)),{property:e,start:r,end:s}}function K3(e,t){const{x:n=null,y:i=null}=e||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=u0(o,a,r);const l=r[o],u=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:u.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:u.y}))}),s}function u0(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Xx(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function _P(e,t){let n=[],i=!1;return wt(e)?(i=!0,n=e):n=K3(e,t),n.length?new Oi({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Qx(e){return e&&e.fill!==!1}function q3(e,t,n){let r=e[t].fill;const s=[t];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!It(r))return r;if(o=e[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function G3(e,t,n){const i=J3(e);if(tt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return It(r)&&Math.floor(r)===r?Y3(i[0],t,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Y3(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function X3(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:tt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function Q3(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:tt(e)?i=e.value:i=t.getBaseValue(),i}function J3(e){const t=e.options,n=t.fill;let i=Y(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Z3(e){const{scale:t,index:n,line:i}=e,r=[],s=i.segments,o=i.points,a=t5(t,n);a.push(_P({x:null,y:t.bottom},i));for(let l=0;l<s.length;l++){const u=s[l];for(let c=u.start;c<=u.end;c++)e5(r,o[c],a)}return new Oi({points:r,options:{}})}function t5(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function e5(e,t,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=n5(s,t,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(e.push(l),!a)break}}e.push(...i)}function n5(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const r=i[n],s=e.segments,o=e.points;let a=!1,l=!1;for(let u=0;u<s.length;u++){const c=s[u],h=o[c.start][n],f=o[c.end][n];if(Zn(r,h,f)){a=r===h,l=r===f;break}}return{first:a,last:l,point:i}}class SP{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:xt},t.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:r}=this,s=t.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function i5(e){const{chart:t,fill:n,line:i}=e;if(It(n))return r5(t,n);if(n==="stack")return Z3(e);if(n==="shape")return!0;const r=s5(e);return r instanceof SP?r:_P(r,i)}function r5(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function s5(e){return(e.scale||{}).getPointPositionForValue?a5(e):o5(e)}function o5(e){const{scale:t={},fill:n}=e,i=X3(n,t);if(It(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function a5(e){const{scale:t,fill:n}=e,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,o=Q3(n,t,s),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,s);return new SP({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(t.getPointPositionForValue(l,o));return a}function Tp(e,t,n){const i=i5(t),{line:r,scale:s,axis:o}=t,a=r.options,l=a.fill,u=a.backgroundColor,{above:c=u,below:h=u}=l||{};i&&r.points.length&&(Hf(e,n),l5(e,{line:r,target:i,above:c,below:h,area:n,scale:s,axis:o}),Wf(e))}function l5(e,t){const{line:n,target:i,above:r,below:s,area:o,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),l==="x"&&s!==r&&(Jx(e,i,o.top),Zx(e,{line:n,target:i,color:r,scale:a,property:l}),e.restore(),e.save(),Jx(e,i,o.bottom)),Zx(e,{line:n,target:i,color:s,scale:a,property:l}),e.restore()}function Jx(e,t,n){const{segments:i,points:r}=t;let s=!0,o=!1;e.beginPath();for(const a of i){const{start:l,end:u}=a,c=r[l],h=r[u0(l,u,r)];s?(e.moveTo(c.x,c.y),s=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Zx(e,t){const{line:n,target:i,property:r,color:s,scale:o}=t,a=W3(n,i,r);for(const{source:l,target:u,start:c,end:h}of a){const{style:{backgroundColor:f=s}={}}=l,d=i!==!0;e.save(),e.fillStyle=f,u5(e,o,d&&Cm(r,c,h)),e.beginPath();const p=!!n.pathSegment(e,l);let g;if(d){p?e.closePath():t_(e,i,h,r);const v=!!i.pathSegment(e,u,{move:p,reverse:!0});g=p&&v,g||t_(e,i,c,r)}e.closePath(),e.fill(g?"evenodd":"nonzero"),e.restore()}}function u5(e,t,n){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(e.beginPath(),e.rect(o,i,a-o,r-i),e.clip())}function t_(e,t,n,i){const r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}var c5={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Oi&&(l={visible:e.isDatasetVisible(o),index:o,fill:G3(a,o,i),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=q3(r,o,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",r=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&Tp(e.ctx,a,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;Qx(s)&&Tp(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!Qx(i)||n.drawTime!=="beforeDatasetDraw"||Tp(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const e_=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},h5=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class n_ extends yi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=dt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=qt(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=e_(i,s);let u,c;n.font=r.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,s,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,r,a,l)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=r+a;let h=t;s.textAlign="left",s.textBaseline="middle";let f=-1,d=-c;return this.legendItems.forEach((p,g)=>{const v=i+n/2+s.measureText(p.text).width;(g===0||u[u.length-1]+v+2*a>o)&&(h+=c,u[u.length-(g>0?0:1)]=0,d+=c,f++),l[g]={left:0,top:d,row:f,width:v,height:r},u[u.length-1]+=v+a}),h}_fitCols(t,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-t;let h=a,f=0,d=0,p=0,g=0;return this.legendItems.forEach((v,y)=>{const{itemWidth:m,itemHeight:w}=f5(i,n,s,v,r);y>0&&d+w+2*a>c&&(h+=f+a,u.push({width:f,height:d}),p+=f+a,g++,f=d=0),l[y]={left:p,top:d,col:g,width:m,height:w},f=Math.max(f,m),d+=w+a}),h+=f,u.push({width:f,height:d}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Ks(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=de(i,this.left+r,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=de(i,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+t+r,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+r}else{let a=0,l=de(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=de(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Hf(t,this),this._draw(),Wf(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,a=Ft.color,l=Ks(t.rtl,this.left,this.width),u=qt(o.font),{padding:c}=o,h=u.size,f=h/2;let d;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:p,boxHeight:g,itemHeight:v}=e_(o,h),y=function(_,E,k){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;r.save();const P=Y(k.lineWidth,1);if(r.fillStyle=Y(k.fillStyle,a),r.lineCap=Y(k.lineCap,"butt"),r.lineDashOffset=Y(k.lineDashOffset,0),r.lineJoin=Y(k.lineJoin,"miter"),r.lineWidth=P,r.strokeStyle=Y(k.strokeStyle,a),r.setLineDash(Y(k.lineDash,[])),o.usePointStyle){const T={radius:g*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:P},I=l.xPlus(_,p/2),q=E+f;HT(r,T,I,q,o.pointStyleWidth&&p)}else{const T=E+Math.max((h-g)/2,0),I=l.leftForLtr(_,p),q=zr(k.borderRadius);r.beginPath(),Object.values(q).some(ht=>ht!==0)?hl(r,{x:I,y:T,w:p,h:g,radius:q}):r.rect(I,T,p,g),r.fill(),P!==0&&r.stroke()}r.restore()},m=function(_,E,k){ts(r,k.text,_,E+v/2,u,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})},w=this.isHorizontal(),b=this._computeTitleHeight();w?d={x:de(s,this.left+c,this.right-i[0]),y:this.top+c+b,line:0}:d={x:this.left+c,y:de(s,this.top+b+c,this.bottom-n[0].height),line:0},ZT(this.ctx,t.textDirection);const x=v+c;this.legendItems.forEach((_,E)=>{r.strokeStyle=_.fontColor,r.fillStyle=_.fontColor;const k=r.measureText(_.text).width,P=l.textAlign(_.textAlign||(_.textAlign=o.textAlign)),T=p+f+k;let I=d.x,q=d.y;l.setWidth(this.width),w?E>0&&I+T+c>this.right&&(q=d.y+=x,d.line++,I=d.x=de(s,this.left+c,this.right-i[d.line])):E>0&&q+x>this.bottom&&(I=d.x=I+n[d.line].width+c,d.line++,q=d.y=de(s,this.top+b+c,this.bottom-n[d.line].height));const ht=l.x(I);if(y(ht,q,_),I=Oj(P,I+p+f,w?I+T:this.right,t.rtl),m(l.x(I),q,_),w)d.x+=T+c;else if(typeof _.text!="string"){const At=u.lineHeight;d.y+=EP(_,At)}else d.y+=x}),tP(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=qt(n.font),r=_e(n.padding);if(!n.display)return;const s=Ks(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,u=r.top+l;let c,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+u,h=de(t.align,h,this.right-f);else{const p=this.columnSizes.reduce((g,v)=>Math.max(g,v.height),0);c=u+de(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const d=de(a,h,h+f);o.textAlign=s.textAlign(n0(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,ts(o,n.text,d,c,i)}_computeTitleHeight(){const t=this.options.title,n=qt(t.font),i=_e(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,r,s;if(Zn(t,this.left,this.right)&&Zn(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Zn(t,r.left,r.left+r.width)&&Zn(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!g5(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=h5(r,i);r&&!s&&dt(n.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&dt(n.onHover,[t,i,this],this)}else i&&dt(n.onClick,[t,i,this],this)}}function f5(e,t,n,i,r){const s=d5(i,e,t,n),o=p5(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}function d5(e,t,n,i){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+i.measureText(r).width}function p5(e,t,n){let i=e;return typeof t.text!="string"&&(i=EP(t,n)),i}function EP(e,t){const n=e.text?e.text.length+.5:0;return t*n}function g5(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var m5={id:"legend",_element:n_,start(e,t,n){const i=e.legend=new n_({ctx:e.ctx,options:n,chart:e});ve.configure(e,i,n),ve.addBox(e,i)},stop(e){ve.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;ve.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),c=_e(u.borderWidth);return{text:t[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class c0 extends yi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=wt(i.text)?i.text.length:1;this._padding=_e(i.padding);const s=r*qt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,u,c,h;return this.isHorizontal()?(c=de(a,i,s),h=n+t,u=s-i):(o.position==="left"?(c=i+t,h=de(a,r,n),l=kt*-.5):(c=s-t,h=de(a,n,r),l=kt*.5),u=r-n),{titleX:c,titleY:h,maxWidth:u,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=qt(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);ts(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:u,textAlign:n0(n.align),textBaseline:"middle",translation:[o,a]})}}function y5(e,t){const n=new c0({ctx:e.ctx,options:t,chart:e});ve.configure(e,n,t),ve.addBox(e,n),e.titleBlock=n}var v5={id:"title",_element:c0,start(e,t,n){y5(e,n)},stop(e){const t=e.titleBlock;ve.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;ve.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Fu=new WeakMap;var w5={id:"subtitle",start(e,t,n){const i=new c0({ctx:e.ctx,options:n,chart:e});ve.configure(e,i,n),ve.addBox(e,i),Fu.set(e,i)},stop(e){ve.removeBox(e,Fu.get(e)),Fu.delete(e)},beforeUpdate(e,t,n){const i=Fu.get(e);ve.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ra={average(e){if(!e.length)return!1;let t,n,i=0,r=0,s=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,r+=a.y,++s}}return{x:i/s,y:r/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=wm(t,u);c<r&&(r=c,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Tn(e,t){return t&&(wt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function qn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function b5(e,t){const{element:n,datasetIndex:i,index:r}=t,s=e.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function i_(e,t){const n=e.chart.ctx,{body:i,footer:r,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=qt(t.bodyFont),u=qt(t.titleFont),c=qt(t.footerFont),h=s.length,f=r.length,d=i.length,p=_e(t.padding);let g=p.height,v=0,y=i.reduce((b,x)=>b+x.before.length+x.lines.length+x.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*u.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),y){const b=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=d*b+(y-d)*l.lineHeight+(y-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*c.lineHeight+(f-1)*t.footerSpacing);let m=0;const w=function(b){v=Math.max(v,n.measureText(b).width+m)};return n.save(),n.font=u.string,at(e.title,w),n.font=l.string,at(e.beforeBody.concat(e.afterBody),w),m=t.displayColors?o+2+t.boxPadding:0,at(i,b=>{at(b.before,w),at(b.lines,w),at(b.after,w)}),m=0,n.font=c.string,at(e.footer,w),n.restore(),v+=p.width,{width:v,height:g}}function x5(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function _5(e,t,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&r+s+o>t.width||e==="right"&&r-s-o<0)return!0}function S5(e,t,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let u="center";return i==="center"?u=r<=(a+l)/2?"left":"right":r<=s/2?u="left":r>=o-s/2&&(u="right"),_5(u,e,t,n)&&(u="center"),u}function r_(e,t,n){const i=n.yAlign||t.yAlign||x5(e,n);return{xAlign:n.xAlign||t.xAlign||S5(e,t,n,i),yAlign:i}}function E5(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function k5(e,t,n){let{y:i,height:r}=e;return t==="top"?i+=n:t==="bottom"?i-=r+n:i-=r/2,i}function s_(e,t,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,u=r+s,{topLeft:c,topRight:h,bottomLeft:f,bottomRight:d}=zr(o);let p=E5(t,a);const g=k5(t,l,u);return l==="center"?a==="left"?p+=u:a==="right"&&(p-=u):a==="left"?p-=Math.max(c,f)+r:a==="right"&&(p+=Math.max(h,d)+r),{x:Zt(p,0,i.width-t.width),y:Zt(g,0,i.height-t.height)}}function Vu(e,t,n){const i=_e(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function o_(e){return Tn([],qn(e))}function C5(e,t,n){return dr(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function a_(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const kP={beforeTitle:Wn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Wn,beforeBody:Wn,beforeLabel:Wn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return rt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Wn,afterBody:Wn,beforeFooter:Wn,footer:Wn,afterFooter:Wn};function Re(e,t,n,i){const r=e[t].call(n,i);return typeof r>"u"?kP[t].call(n,i):r}class Tm extends yi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new rP(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=C5(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,r=Re(i,"beforeTitle",this,t),s=Re(i,"title",this,t),o=Re(i,"afterTitle",this,t);let a=[];return a=Tn(a,qn(r)),a=Tn(a,qn(s)),a=Tn(a,qn(o)),a}getBeforeBody(t,n){return o_(Re(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,r=[];return at(t,s=>{const o={before:[],lines:[],after:[]},a=a_(i,s);Tn(o.before,qn(Re(a,"beforeLabel",this,s))),Tn(o.lines,Re(a,"label",this,s)),Tn(o.after,qn(Re(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(t,n){return o_(Re(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,r=Re(i,"beforeFooter",this,t),s=Re(i,"footer",this,t),o=Re(i,"afterFooter",this,t);let a=[];return a=Tn(a,qn(r)),a=Tn(a,qn(s)),a=Tn(a,qn(o)),a}_createItems(t){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(b5(this.chart,n[l]));return t.filter&&(a=a.filter((c,h,f)=>t.filter(c,h,f,i))),t.itemSort&&(a=a.sort((c,h)=>t.itemSort(c,h,i))),at(a,c=>{const h=a_(t.callbacks,c);r.push(Re(h,"labelColor",this,c)),s.push(Re(h,"labelPointStyle",this,c)),o.push(Re(h,"labelTextColor",this,c))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=ra[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=i_(this,i),u=Object.assign({},a,l),c=r_(this.chart,i,u),h=s_(i,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,r){const s=this.getCaretPosition(t,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:h}=zr(a),{x:f,y:d}=t,{width:p,height:g}=n;let v,y,m,w,b,x;return s==="center"?(b=d+g/2,r==="left"?(v=f,y=v-o,w=b+o,x=b-o):(v=f+p,y=v+o,w=b-o,x=b+o),m=v):(r==="left"?y=f+Math.max(l,c)+o:r==="right"?y=f+p-Math.max(u,h)-o:y=this.caretX,s==="top"?(w=d,b=w-o,v=y-o,m=y+o):(w=d+g,b=w+o,v=y+o,m=y-o),x=w),{x1:v,x2:y,x3:m,y1:w,y2:b,y3:x}}drawTitle(t,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const u=Ks(i.rtl,this.x,this.width);for(t.x=Vu(this,i.titleAlign,i),n.textAlign=u.textAlign(i.titleAlign),n.textBaseline="middle",o=qt(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:u,boxPadding:c}=s,h=qt(s.bodyFont),f=Vu(this,"left",s),d=r.x(f),p=l<h.lineHeight?(h.lineHeight-l)/2:0,g=n.y+p;if(s.usePointStyle){const v={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=r.leftForLtr(d,u)+u/2,m=g+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,xm(t,v,y,m),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,xm(t,v,y,m)}else{t.lineWidth=tt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const v=r.leftForLtr(d,u-c),y=r.leftForLtr(r.xPlus(d,1),u-c-2),m=zr(o.borderRadius);Object.values(m).some(w=>w!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,hl(t,{x:v,y:g,w:u,h:l,radius:m}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),hl(t,{x:y,y:g+1,w:u-2,h:l-2,radius:m}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(v,g,u,l),t.strokeRect(v,g,u,l),t.fillStyle=o.backgroundColor,t.fillRect(y,g+1,u-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=i,h=qt(i.bodyFont);let f=h.lineHeight,d=0;const p=Ks(i.rtl,this.x,this.width),g=function(k){n.fillText(k,p.x(t.x+d),t.y+f/2),t.y+=f+s},v=p.textAlign(o);let y,m,w,b,x,_,E;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=Vu(this,v,i),n.fillStyle=i.bodyColor,at(this.beforeBody,g),d=a&&v!=="right"?o==="center"?u/2+c:u+2+c:0,b=0,_=r.length;b<_;++b){for(y=r[b],m=this.labelTextColors[b],n.fillStyle=m,at(y.before,g),w=y.lines,a&&w.length&&(this._drawColorBox(n,t,b,p,i),f=Math.max(h.lineHeight,l)),x=0,E=w.length;x<E;++x)g(w[x]),f=h.lineHeight;at(y.after,g)}d=0,f=h.lineHeight,at(this.afterBody,g),t.y-=s}drawFooter(t,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=Ks(i.rtl,this.x,this.width);for(t.x=Vu(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=qt(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:u,height:c}=i,{topLeft:h,topRight:f,bottomLeft:d,bottomRight:p}=zr(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(t,n,i,r),n.lineTo(a+u-f,l),n.quadraticCurveTo(a+u,l,a+u,l+f),o==="center"&&s==="right"&&this.drawCaret(t,n,i,r),n.lineTo(a+u,l+c-p),n.quadraticCurveTo(a+u,l+c,a+u-p,l+c),o==="bottom"&&this.drawCaret(t,n,i,r),n.lineTo(a+d,l+c),n.quadraticCurveTo(a,l+c,a,l+c-d),o==="center"&&s==="left"&&this.drawCaret(t,n,i,r),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=ra[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=i_(this,t),l=Object.assign({},o,this._size),u=r_(n,t,l),c=s_(t,l,u,n);(r._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=_e(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,n),ZT(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),tP(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,r=t.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!xh(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,i),a=this._positionChanged(o,t),l=n||!xh(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return n;const o=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:r,options:s}=this,o=ra[s.position].call(this,t,n);return o!==!1&&(i!==o.x||r!==o.y)}}L(Tm,"positioners",ra);var T5={id:"tooltip",_element:Tm,positioners:ra,afterInit(e,t,n){n&&(e.tooltip=new Tm({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:kP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},P5=Object.freeze({__proto__:null,Colors:B3,Decimation:H3,Filler:c5,Legend:m5,SubTitle:w5,Title:v5,Tooltip:T5});const A5=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function D5(e,t,n,i){const r=e.indexOf(t);if(r===-1)return A5(e,t,n,i);const s=e.lastIndexOf(t);return r!==s?n:r}const M5=(e,t)=>e===null?null:Zt(Math.round(e),0,t);function l_(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Pm extends us{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(rt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:D5(i,t,Y(n,t),this._addedLabels),M5(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)r.push({value:o});return r}getLabelForValue(t){return l_.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}L(Pm,"id","category"),L(Pm,"defaults",{ticks:{callback:l_}});function R5(e,t){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:u,maxTicks:c,maxDigits:h,includeBounds:f}=e,d=s||1,p=c-1,{min:g,max:v}=t,y=!rt(o),m=!rt(a),w=!rt(u),b=(v-g)/(h+1);let x=sx((v-g)/p/d)*d,_,E,k,P;if(x<1e-14&&!y&&!m)return[{value:g},{value:v}];P=Math.ceil(v/x)-Math.floor(g/x),P>p&&(x=sx(P*x/p/d)*d),rt(l)||(_=Math.pow(10,l),x=Math.ceil(x*_)/_),r==="ticks"?(E=Math.floor(g/x)*x,k=Math.ceil(v/x)*x):(E=g,k=v),y&&m&&s&&Tj((a-o)/s,x/1e3)?(P=Math.round(Math.min((a-o)/x,c)),x=(a-o)/P,E=o,k=a):w?(E=y?o:E,k=m?a:k,P=u-1,x=(k-E)/P):(P=(k-E)/x,ka(P,Math.round(P),x/1e3)?P=Math.round(P):P=Math.ceil(P));const T=Math.max(ox(x),ox(E));_=Math.pow(10,rt(l)?T:l),E=Math.round(E*_)/_,k=Math.round(k*_)/_;let I=0;for(y&&(f&&E!==o?(n.push({value:o}),E<o&&I++,ka(Math.round((E+I*x)*_)/_,o,u_(o,b,e))&&I++):E<o&&I++);I<P;++I)n.push({value:Math.round((E+I*x)*_)/_});return m&&f&&k!==a?n.length&&ka(n[n.length-1].value,a,u_(a,b,e))?n[n.length-1].value=a:n.push({value:a}):(!m||k===a)&&n.push({value:k}),n}function u_(e,t,{horizontal:n,minRotation:i}){const r=wn(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class Ah extends us{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return rt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(t){const l=Fn(r),u=Fn(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(r-l)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=R5(r,s);return t.bounds==="ticks"&&OT(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-n)/Math.max(t.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return Ul(t,this.chart.options.locale,this.options.ticks.format)}}class Am extends Ah{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=It(t)?t:0,this.max=It(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=wn(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}L(Am,"id","linear"),L(Am,"defaults",{ticks:{callback:Uf.formatters.numeric}});const dl=e=>Math.floor(Ii(e)),xr=(e,t)=>Math.pow(10,dl(e)+t);function c_(e){return e/Math.pow(10,dl(e))===1}function h_(e,t,n){const i=Math.pow(10,n),r=Math.floor(e/i);return Math.ceil(t/i)-r}function I5(e,t){const n=t-e;let i=dl(n);for(;h_(e,t,i)>10;)i++;for(;h_(e,t,i)<10;)i--;return Math.min(i,dl(e))}function O5(e,{min:t,max:n}){t=ze(e.min,t);const i=[],r=dl(t);let s=I5(t,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,u=Math.round((t-l)*o)/o,c=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((u-c)/Math.pow(10,s)),f=ze(e.min,Math.round((l+c+h*Math.pow(10,s))*o)/o);for(;f<n;)i.push({value:f,major:c_(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),f=Math.round((l+c+h*Math.pow(10,s))*o)/o;const d=ze(e.max,f);return i.push({value:d,major:c_(d),significand:h}),i}class Dm extends us{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=Ah.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return It(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=It(t)?Math.max(0,t):null,this.max=It(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!It(this._userMin)&&(this.min=t===xr(this.min,0)?xr(this.min,-1):xr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=a=>i=t?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(xr(i,-1)),o(xr(r,1)))),i<=0&&s(xr(r,-1)),r<=0&&o(xr(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=O5(n,this);return t.bounds==="ticks"&&OT(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Ul(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ii(t),this._valueRange=Ii(this.max)-Ii(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ii(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}L(Dm,"id","logarithmic"),L(Dm,"defaults",{ticks:{callback:Uf.formatters.logarithmic,major:{enabled:!0}}});function Mm(e){const t=e.ticks;if(t.display&&e.display){const n=_e(t.backdropPadding);return Y(t.font&&t.font.size,Ft.font.size)+n.height}return 0}function L5(e,t,n){return n=wt(n)?n:[n],{w:Hj(e,t.string,n),h:n.length*t.lineHeight}}function f_(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function N5(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?kt/s:0;for(let l=0;l<s;l++){const u=o.setContext(e.getPointLabelContext(l));r[l]=u.padding;const c=e.getPointPosition(l,e.drawingArea+r[l],a),h=qt(u.font),f=L5(e.ctx,h,e._pointLabels[l]);i[l]=f;const d=He(e.getIndexAngle(l)+a),p=Math.round(t0(d)),g=f_(p,c.x,f.w,0,180),v=f_(p,c.y,f.h,90,270);$5(n,t,d,g,v)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=F5(e,i,r)}function $5(e,t,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/s,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function F5(e,t,n){const i=[],r=e._pointLabels.length,s=e.options,o=Mm(s)/2,a=e.drawingArea,l=s.pointLabels.centerPointLabels?kt/r:0;for(let u=0;u<r;u++){const c=e.getPointPosition(u,a+o+n[u],l),h=Math.round(t0(He(c.angle+Ot))),f=t[u],d=j5(c.y,f.h,h),p=V5(h),g=B5(c.x,f.w,p);i.push({x:c.x,y:d,textAlign:p,left:g,top:d,right:g+f.w,bottom:d+f.h})}return i}function V5(e){return e===0||e===180?"center":e<180?"left":"right"}function B5(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function j5(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function z5(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const s=i.setContext(e.getPointLabelContext(r)),o=qt(s.font),{x:a,y:l,textAlign:u,left:c,top:h,right:f,bottom:d}=e._pointLabelItems[r],{backdropColor:p}=s;if(!rt(p)){const g=zr(s.borderRadius),v=_e(s.backdropPadding);n.fillStyle=p;const y=c-v.left,m=h-v.top,w=f-c+v.width,b=d-h+v.height;Object.values(g).some(x=>x!==0)?(n.beginPath(),hl(n,{x:y,y:m,w,h:b,radius:g}),n.fill()):n.fillRect(y,m,w,b)}ts(n,e._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:u,textBaseline:"middle"})}}function CP(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,xt);else{let s=e.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=e.getPointPosition(o,t),r.lineTo(s.x,s.y)}}function U5(e,t,n,i,r){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),CP(e,n,o,i),s.closePath(),s.stroke(),s.restore())}function H5(e,t,n){return dr(e,{label:n,index:t,type:"pointLabel"})}class sa extends Ah{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=_e(Mm(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=It(t)&&!isNaN(t)?t:0,this.max=It(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Mm(this.options))}generateTickLabels(t){Ah.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const r=dt(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?N5(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,r){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,r))}getIndexAngle(t){const n=xt/(this._pointLabels.length||1),i=this.options.startAngle||0;return He(t*n+wn(i))}getDistanceFromCenterForValue(t){if(rt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(rt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return H5(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const r=this.getIndexAngle(t)-Ot+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),CP(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let a,l,u;if(n.pointLabels.display&&z5(this,o),r.display&&this.ticks.forEach((c,h)=>{if(h!==0){l=this.getDistanceFromCenterForValue(c.value);const f=this.getContext(h),d=r.setContext(f),p=s.setContext(f);U5(this,d,l,o,p)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const c=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=c;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),u=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const u=i.setContext(this.getContext(l)),c=qt(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){t.font=c.string,o=t.measureText(a.label).width,t.fillStyle=u.backdropColor;const h=_e(u.backdropPadding);t.fillRect(-o/2-h.left,-s-c.size/2-h.top,o+h.width,c.size+h.height)}ts(t,a.label,0,-s,c,{color:u.color})}),t.restore()}drawTitle(){}}L(sa,"id","radialLinear"),L(sa,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Uf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),L(sa,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),L(sa,"descriptors",{angleLines:{_fallback:"grid"}});const Gf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Oe=Object.keys(Gf);function W5(e,t){return e-t}function d_(e,t){if(rt(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:s}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),It(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(so(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function p_(e,t,n,i){const r=Oe.length;for(let s=Oe.indexOf(e);s<r-1;++s){const o=Gf[Oe[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=i)return Oe[s]}return Oe[r-1]}function K5(e,t,n,i,r){for(let s=Oe.length-1;s>=Oe.indexOf(n);s--){const o=Oe[s];if(Gf[o].common&&e._adapter.diff(r,i,o)>=t-1)return o}return Oe[n?Oe.indexOf(n):0]}function q5(e){for(let t=Oe.indexOf(e)+1,n=Oe.length;t<n;++t)if(Gf[Oe[t]].common)return Oe[t]}function g_(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:r}=e0(n,t),s=n[i]>=t?n[i]:n[r];e[s]=!0}}function G5(e,t,n,i){const r=e._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}function m_(e,t,n){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:G5(e,i,r,n)}class pl extends us{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),r=this._adapter=new oU._date(t.adapters.date);r.init(n),Ea(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:d_(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=It(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=It(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=Mj(r,s,o);return this._unit=n.unit||(i.autoSkip?p_(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):K5(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:q5(this._unit),this.initOffsets(r),t.reverse&&a.reverse(),m_(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Zt(n,0,o),i=Zt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||p_(s.minUnit,n,i,this._getLabelCapacity(n)),a=Y(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=so(l)||l===!0,c={};let h=n,f,d;if(u&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,u?"day":o),t.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,d=0;f<i;f=+t.add(f,a,o),d++)g_(c,f,p);return(f===i||r.bounds==="ticks"||d===1)&&g_(c,f,p),Object.keys(c).sort((g,v)=>g-v).map(g=>+g)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return dt(o,[t,n,i],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],h=u&&a[u],f=i[n],d=u&&h&&f&&f.major;return this._adapter.format(t,r||(d?h:c))}generateTickLabels(t){let n,i,r;for(n=0,i=t.length;n<i;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,r=wn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(t,0,m_(this,[t],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)t.push(d_(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return $T(t.sort(W5))}}L(pl,"id","time"),L(pl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Bu(e,t,n){let i=0,r=e.length-1,s,o,a,l;n?(t>=e[i].pos&&t<=e[r].pos&&({lo:i,hi:r}=ti(e,"pos",t)),{pos:s,time:a}=e[i],{pos:o,time:l}=e[r]):(t>=e[i].time&&t<=e[r].time&&({lo:i,hi:r}=ti(e,"time",t)),{time:s,pos:a}=e[i],{time:o,pos:l}=e[r]);const u=o-s;return u?a+(l-a)*(t-s)/u:a}class Rm extends pl{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Bu(n,this.min),this._tableRange=Bu(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,r=[],s=[];let o,a,l,u,c;for(o=0,a=t.length;o<a;++o)u=t[o],u>=n&&u<=i&&r.push(u);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)c=r[o+1],l=r[o-1],u=r[o],Math.round((c+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Bu(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Bu(this._table,i*this._tableRange+this._minPos,!0)}}L(Rm,"id","timeseries"),L(Rm,"defaults",pl.defaults);var Y5=Object.freeze({__proto__:null,CategoryScale:Pm,LinearScale:Am,LogarithmicScale:Dm,RadialLinearScale:sa,TimeScale:pl,TimeSeriesScale:Rm});const X5=[sU,O3,P5,Y5],TP="label";function y_(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Q5(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function PP(e,t){e.labels=t}function AP(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:TP;const i=[];e.datasets=t.map(r=>{const s=e.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function J5(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:TP;const n={labels:[],datasets:[]};return PP(n,e.labels),AP(n,e.datasets,t),n}function Z5(e,t){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:u=[],fallbackContent:c,updateMode:h,...f}=e,d=S.useRef(null),p=S.useRef(),g=()=>{d.current&&(p.current=new qf(d.current,{type:o,data:J5(a,s),options:l&&{...l},plugins:u}),y_(t,p.current))},v=()=>{y_(t,null),p.current&&(p.current.destroy(),p.current=null)};return S.useEffect(()=>{!r&&p.current&&l&&Q5(p.current,l)},[r,l]),S.useEffect(()=>{!r&&p.current&&PP(p.current.config.data,a.labels)},[r,a.labels]),S.useEffect(()=>{!r&&p.current&&a.datasets&&AP(p.current.config.data,a.datasets,s)},[r,a.datasets]),S.useEffect(()=>{p.current&&(r?(v(),setTimeout(g)):p.current.update(h))},[r,l,a.labels,a.datasets,h]),S.useEffect(()=>{p.current&&(v(),setTimeout(g))},[o]),S.useEffect(()=>(g(),()=>v()),[]),gi.createElement("canvas",Object.assign({ref:d,role:"img",height:n,width:i},f),c)}const t4=S.forwardRef(Z5);function e4(e,t){return qf.register(t),S.forwardRef((n,i)=>gi.createElement(t4,Object.assign({},n,{ref:i,type:e})))}const n4=e4("line",Pa);qf.register(...X5);function Pr({name:e,percentage:t,color:n}){return H("div",{className:"item-statistics",children:[C("p",{className:"name",children:e}),H("p",{className:"percentage",children:[t,"%"]}),C("div",{className:"progress",style:{backgroundImage:`linear-gradient(to right, ${n} ${t}%, #E0E0E0 ${t}%)`}})]})}Pr.proptypes={name:jr.PropTypes.string.isRequired,percentage:jr.PropTypes.number.isRequired,color:jr.PropTypes.string.isRequired};const i4={labels:["January","February","March","April","May","June","July"],datasets:[{label:"Summary",data:[144,52,34,65,31,18,38],borderColor:"#F9A109"}]};function r4({navShown:e}){return C(ko.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"statistics",style:{display:e?"none":"block"},children:H("div",{className:"container",children:[H("div",{className:"top-container",children:[H("div",{className:"top top-items",children:[C("h3",{children:"Top items"}),C(Pr,{name:"Banana",color:"#F9A109",percentage:12}),C(Pr,{name:"Rice",color:"#F9A109",percentage:10}),C(Pr,{name:"Chicken 1kg",color:"#F9A109",percentage:8})]}),H("div",{className:"top top-categories",children:[C("h3",{children:"Top Categories"}),C(Pr,{name:"Fruits and vegetables",color:"#56CCF2",percentage:23}),C(Pr,{name:"Meat and Fish",color:"#56CCF2",percentage:14}),C(Pr,{name:"Pets",color:"#56CCF2",percentage:11})]})]}),H("div",{className:"chart",children:[C("h3",{children:"Monthly Summary"}),C(n4,{data:i4})]})]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},s4=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],o=e[n++],a=e[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},MP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,a=o?e[r+1]:0,l=r+2<e.length,u=l?e[r+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(f=64)),i.push(n[c],n[h],n[f],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(DP(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):s4(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const u=r<e.length?n[e.charAt(r)]:64;++r;const h=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||a==null||u==null||h==null)throw Error();const f=s<<2|a>>4;if(i.push(f),u!==64){const d=a<<4&240|u>>2;if(i.push(d),h!==64){const p=u<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},o4=function(e){const t=DP(e);return MP.encodeByteArray(t,!0)},Dh=function(e){return o4(e).replace(/\./g,"")},a4=function(e){try{return MP.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=()=>l4().__FIREBASE_DEFAULTS__,c4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},h4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&a4(e[1]);return t&&JSON.parse(t)},h0=()=>{try{return u4()||c4()||h4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},f4=e=>{var t,n;return(n=(t=h0())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},RP=e=>{const t=f4(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},d4=()=>{var e;return(e=h0())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Dh(JSON.stringify(n)),Dh(JSON.stringify(o)),a].join(".")}function g4(){var e;const t=(e=h0())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m4(){try{return typeof indexedDB=="object"}catch{return!1}}function y4(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="FirebaseError";class cs extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=v4,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,OP.prototype.create)}}class OP{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?w4(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new cs(r,a,i)}}function w4(e,t){return e.replace(b4,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const b4=/\{\$([^}]+)}/g;function Im(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],o=t[r];if(v_(s)&&v_(o)){if(!Im(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function v_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(e){return e&&e._delegate?e._delegate:e}class lo{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new p4;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(S4(t))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Ar){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ar){return this.instances.has(t)}getOptions(t=Ar){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_4(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ar){return this.component?this.component.multipleInstances?t:Ar:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _4(e){return e===Ar?void 0:e}function S4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new x4(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(st||(st={}));const k4={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},C4=st.INFO,T4={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},P4=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=T4[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class LP{constructor(t){this.name=t,this._logLevel=C4,this._logHandler=P4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in st))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?k4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...t),this._logHandler(this,st.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...t),this._logHandler(this,st.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,st.INFO,...t),this._logHandler(this,st.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,st.WARN,...t),this._logHandler(this,st.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...t),this._logHandler(this,st.ERROR,...t)}}const A4=(e,t)=>t.some(n=>e instanceof n);let w_,b_;function D4(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M4(){return b_||(b_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NP=new WeakMap,Om=new WeakMap,$P=new WeakMap,Pp=new WeakMap,f0=new WeakMap;function R4(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Gi(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&NP.set(n,e)}).catch(()=>{}),f0.set(t,e),t}function I4(e){if(Om.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Om.set(e,t)}let Lm={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Om.get(e);if(t==="objectStoreNames")return e.objectStoreNames||$P.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function O4(e){Lm=e(Lm)}function L4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Ap(this),t,...n);return $P.set(i,t.sort?t.sort():[t]),Gi(i)}:M4().includes(e)?function(...t){return e.apply(Ap(this),t),Gi(NP.get(this))}:function(...t){return Gi(e.apply(Ap(this),t))}}function N4(e){return typeof e=="function"?L4(e):(e instanceof IDBTransaction&&I4(e),A4(e,D4())?new Proxy(e,Lm):e)}function Gi(e){if(e instanceof IDBRequest)return R4(e);if(Pp.has(e))return Pp.get(e);const t=N4(e);return t!==e&&(Pp.set(e,t),f0.set(t,e)),t}const Ap=e=>f0.get(e);function $4(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=Gi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Gi(o.result),l.oldVersion,l.newVersion,Gi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const F4=["get","getKey","getAll","getAllKeys","count"],V4=["put","add","delete","clear"],Dp=new Map;function x_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Dp.get(t))return Dp.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=V4.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||F4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return Dp.set(t,s),s}O4(e=>({...e,get:(t,n,i)=>x_(t,n)||e.get(t,n,i),has:(t,n)=>!!x_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(j4(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function j4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Nm="@firebase/app",__="0.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new LP("@firebase/app"),z4="@firebase/app-compat",U4="@firebase/analytics-compat",H4="@firebase/analytics",W4="@firebase/app-check-compat",K4="@firebase/app-check",q4="@firebase/auth",G4="@firebase/auth-compat",Y4="@firebase/database",X4="@firebase/database-compat",Q4="@firebase/functions",J4="@firebase/functions-compat",Z4="@firebase/installations",tH="@firebase/installations-compat",eH="@firebase/messaging",nH="@firebase/messaging-compat",iH="@firebase/performance",rH="@firebase/performance-compat",sH="@firebase/remote-config",oH="@firebase/remote-config-compat",aH="@firebase/storage",lH="@firebase/storage-compat",uH="@firebase/firestore",cH="@firebase/firestore-compat",hH="firebase",fH="9.16.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="[DEFAULT]",dH={[Nm]:"fire-core",[z4]:"fire-core-compat",[H4]:"fire-analytics",[U4]:"fire-analytics-compat",[K4]:"fire-app-check",[W4]:"fire-app-check-compat",[q4]:"fire-auth",[G4]:"fire-auth-compat",[Y4]:"fire-rtdb",[X4]:"fire-rtdb-compat",[Q4]:"fire-fn",[J4]:"fire-fn-compat",[Z4]:"fire-iid",[tH]:"fire-iid-compat",[eH]:"fire-fcm",[nH]:"fire-fcm-compat",[iH]:"fire-perf",[rH]:"fire-perf-compat",[sH]:"fire-rc",[oH]:"fire-rc-compat",[aH]:"fire-gcs",[lH]:"fire-gcs-compat",[uH]:"fire-fst",[cH]:"fire-fst-compat","fire-js":"fire-js",[hH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,Fm=new Map;function pH(e,t){try{e.container.addComponent(t)}catch(n){es.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function gl(e){const t=e.name;if(Fm.has(t))return es.debug(`There were multiple attempts to register component ${t}.`),!1;Fm.set(t,e);for(const n of Mh.values())pH(n,e);return!0}function FP(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Yi=new OP("app","Firebase",gH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=fH;function BP(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:$m,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw Yi.create("bad-app-name",{appName:String(r)});if(n||(n=d4()),!n)throw Yi.create("no-options");const s=Mh.get(r);if(s){if(Im(n,s.options)&&Im(i,s.config))return s;throw Yi.create("duplicate-app",{appName:r})}const o=new E4(r);for(const l of Fm.values())o.addComponent(l);const a=new mH(n,i,o);return Mh.set(r,a),a}function jP(e=$m){const t=Mh.get(e);if(!t&&e===$m)return BP();if(!t)throw Yi.create("no-app",{appName:e});return t}function Xi(e,t,n){var i;let r=(i=dH[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),es.warn(a.join(" "));return}gl(new lo(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH="firebase-heartbeat-database",vH=1,ml="firebase-heartbeat-store";let Mp=null;function zP(){return Mp||(Mp=$4(yH,vH,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ml)}}}).catch(e=>{throw Yi.create("idb-open",{originalErrorMessage:e.message})})),Mp}async function wH(e){try{return(await zP()).transaction(ml).objectStore(ml).get(UP(e))}catch(t){if(t instanceof cs)es.warn(t.message);else{const n=Yi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});es.warn(n.message)}}}async function S_(e,t){try{const i=(await zP()).transaction(ml,"readwrite");return await i.objectStore(ml).put(t,UP(e)),i.done}catch(n){if(n instanceof cs)es.warn(n.message);else{const i=Yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});es.warn(i.message)}}}function UP(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=1024,xH=30*24*60*60*1e3;class _H{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EH(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=E_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=xH}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=E_(),{heartbeatsToSend:n,unsentEntries:i}=SH(this._heartbeatsCache.heartbeats),r=Dh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function E_(){return new Date().toISOString().substring(0,10)}function SH(e,t=bH){const n=[];let i=e.slice();for(const r of e){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),k_(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),k_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class EH{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m4()?y4().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await wH(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return S_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return S_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function k_(e){return Dh(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kH(e){gl(new lo("platform-logger",t=>new B4(t),"PRIVATE")),gl(new lo("heartbeat",t=>new _H(t),"PRIVATE")),Xi(Nm,__,e),Xi(Nm,__,"esm2017"),Xi("fire-js","")}kH("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="firebasestorage.googleapis.com",WP="storageBucket",CH=2*60*1e3,TH=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt extends cs{constructor(t,n,i=0){super(Rp(t),`Firebase Storage: ${n} (${Rp(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nt.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Rp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function Rp(e){return"storage/"+e}function d0(){const e="An unknown error occurred, please check the error payload for server response.";return new Nt("unknown",e)}function PH(e){return new Nt("object-not-found","Object '"+e+"' does not exist.")}function AH(e){return new Nt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function DH(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nt("unauthenticated",e)}function MH(){return new Nt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function RH(e){return new Nt("unauthorized","User does not have permission to access '"+e+"'.")}function IH(){return new Nt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function OH(){return new Nt("canceled","User canceled the upload/download.")}function LH(e){return new Nt("invalid-url","Invalid URL '"+e+"'.")}function NH(e){return new Nt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function $H(){return new Nt("no-default-bucket","No default bucket found. Did you set the '"+WP+"' property when initializing the app?")}function FH(){return new Nt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function VH(){return new Nt("no-download-url","The given file does not have any download URLs.")}function BH(e){return new Nt("unsupported-environment",`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vm(e){return new Nt("invalid-argument",e)}function KP(){return new Nt("app-deleted","The Firebase app was deleted.")}function jH(e){return new Nt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Da(e,t){return new Nt("invalid-format","String does not match format '"+e+"': "+t)}function qo(e){throw new Nt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=Ke.makeFromUrl(t,n)}catch{return new Ke(t,"")}if(i.path==="")return i;throw NH(t)}static makeFromUrl(t,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function u(b){b.path_=decodeURIComponent(b.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",d=new RegExp(`^https?://${h}/${c}/b/${r}/o${f}`,"i"),p={bucket:1,path:3},g=n===HP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",y=new RegExp(`^https?://${g}/${r}/${v}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:d,indices:p,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let b=0;b<w.length;b++){const x=w[b],_=x.regex.exec(t);if(_){const E=_[x.indices.bucket];let k=_[x.indices.path];k||(k=""),i=new Ke(E,k),x.postModify(i);break}}if(i==null)throw LH(t);return i}}class zH{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UH(e,t,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...v){u||(u=!0,t.apply(null,v))}function h(v){r=setTimeout(()=>{r=null,e(d,l())},v)}function f(){s&&clearTimeout(s)}function d(v,...y){if(u){f();return}if(v){f(),c.call(null,v,...y);return}if(l()||o){f(),c.call(null,v,...y);return}i<64&&(i*=2);let w;a===1?(a=2,w=0):w=(i+Math.random())*1e3,h(w)}let p=!1;function g(v){p||(p=!0,f(),!u&&(r!==null?(v||(a=2),clearTimeout(r),h(0)):v||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function HH(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WH(e){return e!==void 0}function KH(e){return typeof e=="object"&&!Array.isArray(e)}function p0(e){return typeof e=="string"||e instanceof String}function C_(e){return g0()&&e instanceof Blob}function g0(){return typeof Blob<"u"&&!g4()}function T_(e,t,n,i){if(i<t)throw Vm(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw Vm(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(e,t,n){let i=t;return n==null&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function qP(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Hr||(Hr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(e,t){const n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(t,n,i,r,s,o,a,l,u,c,h,f=!0){this.url_=t,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((d,p)=>{this.resolve_=d,this.reject_=p,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new ju(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Hr.NO_ERROR,l=s.getStatus();if(!a||qH(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Hr.ABORT;i(!1,new ju(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;i(!0,new ju(u,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());WH(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=d0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){const l=this.appDelete_?KP():OH();o(l)}else{const l=IH();o(l)}};this.canceled_?n(!1,new ju(!1,null,!0)):this.backoffId_=UH(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&HH(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ju{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function YH(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function XH(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function QH(e,t){t&&(e["X-Firebase-GMPID"]=t)}function JH(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function ZH(e,t,n,i,r,s,o=!0){const a=qP(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return QH(u,t),YH(u,n),XH(u,s),JH(u,i),new GH(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function eW(...e){const t=tW();if(t!==void 0){const n=new t;for(let i=0;i<e.length;i++)n.append(e[i]);return n.getBlob()}else{if(g0())return new Blob(e);throw new Nt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function nW(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(e){if(typeof atob>"u")throw BH("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ip{constructor(t,n){this.data=t,this.contentType=n||null}}function rW(e,t){switch(e){case In.RAW:return new Ip(GP(t));case In.BASE64:case In.BASE64URL:return new Ip(YP(e,t));case In.DATA_URL:return new Ip(oW(t),aW(t))}throw d0()}function GP(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=i,o=e.charCodeAt(++n);i=65536|(s&1023)<<10|o&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function sW(e){let t;try{t=decodeURIComponent(e)}catch{throw Da(In.DATA_URL,"Malformed data URL.")}return GP(t)}function YP(e,t){switch(e){case In.BASE64:{const r=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(r||s)throw Da(e,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case In.BASE64URL:{const r=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(r||s)throw Da(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=iW(t)}catch(r){throw r.message.includes("polyfill")?r:Da(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class XP{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Da(In.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=lW(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function oW(e){const t=new XP(e);return t.base64?YP(In.BASE64,t.rest):sW(t.rest)}function aW(e){return new XP(e).contentType}function lW(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t,n){let i=0,r="";C_(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,n){if(C_(this.data_)){const i=this.data_,r=nW(i,t,n);return r===null?null:new Ti(r)}else{const i=new Uint8Array(this.data_.buffer,t,n-t);return new Ti(i,!0)}}static getBlob(...t){if(g0()){const n=t.map(i=>i instanceof Ti?i.data_:i);return new Ti(eW.apply(null,n))}else{const n=t.map(o=>p0(o)?rW(In.RAW,o).data:o.data_);let i=0;n.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new Ti(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(e){let t;try{t=JSON.parse(e)}catch{return null}return KH(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uW(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function cW(e,t){const n=t.split("/").filter(i=>i.length>0).join("/");return e.length===0?n:e+"/"+n}function JP(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(e,t){return t}class Ee{constructor(t,n,i,r){this.server=t,this.local=n||t,this.writable=!!i,this.xform=r||hW}}let zu=null;function fW(e){return!p0(e)||e.length<2?e:JP(e)}function ZP(){if(zu)return zu;const e=[];e.push(new Ee("bucket")),e.push(new Ee("generation")),e.push(new Ee("metageneration")),e.push(new Ee("name","fullPath",!0));function t(s,o){return fW(o)}const n=new Ee("name");n.xform=t,e.push(n);function i(s,o){return o!==void 0?Number(o):o}const r=new Ee("size");return r.xform=i,e.push(r),e.push(new Ee("timeCreated")),e.push(new Ee("updated")),e.push(new Ee("md5Hash",null,!0)),e.push(new Ee("cacheControl",null,!0)),e.push(new Ee("contentDisposition",null,!0)),e.push(new Ee("contentEncoding",null,!0)),e.push(new Ee("contentLanguage",null,!0)),e.push(new Ee("contentType",null,!0)),e.push(new Ee("metadata","customMetadata",!0)),zu=e,zu}function dW(e,t){function n(){const i=e.bucket,r=e.fullPath,s=new Ke(i,r);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function pW(e,t,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const o=n[s];i[o.local]=o.xform(i,t[o.server])}return dW(i,e),i}function tA(e,t,n){const i=QP(t);return i===null?null:pW(e,i,n)}function gW(e,t,n,i){const r=QP(t);if(r===null||!p0(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=e.bucket,h=e.fullPath,f="/b/"+o(c)+"/o/"+o(h),d=m0(f,n,i),p=qP({alt:"media",token:u});return d+p})[0]}function mW(e,t){const n={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class eA{constructor(t,n,i,r){this.url=t,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(e){if(!e)throw d0()}function yW(e,t){function n(i,r){const s=tA(e,r,t);return nA(s!==null),s}return n}function vW(e,t){function n(i,r){const s=tA(e,r,t);return nA(s!==null),gW(s,r,e.host,e._protocol)}return n}function iA(e){function t(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=MH():r=DH():n.getStatus()===402?r=AH(e.bucket):n.getStatus()===403?r=RH(e.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return t}function wW(e){const t=iA(e);function n(i,r){let s=t(i,r);return i.getStatus()===404&&(s=PH(e.path)),s.serverResponse=r.serverResponse,s}return n}function bW(e,t,n){const i=t.fullServerUrl(),r=m0(i,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new eA(r,s,vW(e,n),o);return a.errorHandler=wW(t),a}function xW(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function _W(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=xW(null,t)),i}function SW(e,t,n,i,r){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let b=0;b<2;b++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=_W(t,i,r),c=mW(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",d=Ti.getBlob(h,i,f);if(d===null)throw FH();const p={name:u.fullPath},g=m0(s,e.host,e._protocol),v="POST",y=e.maxUploadRetryTime,m=new eA(g,v,yW(e,n),y);return m.urlParams=p,m.headers=o,m.body=d.uploadData(),m.errorHandler=iA(t),m}class EW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Hr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Hr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Hr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,i,r){if(this.sent_)throw qo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),r!==void 0)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class kW extends EW{initXhr(){this.xhr_.responseType="text"}}function rA(){return new kW}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t,n){this._service=t,n instanceof Ke?this._location=n:this._location=Ke.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ns(t,n)}get root(){const t=new Ke(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JP(this._location.path)}get storage(){return this._service}get parent(){const t=uW(this._location.path);if(t===null)return null;const n=new Ke(this._location.bucket,t);return new ns(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw jH(t)}}function CW(e,t,n){e._throwIfRoot("uploadBytes");const i=SW(e.storage,e._location,ZP(),new Ti(t,!0),n);return e.storage.makeRequestWithTokens(i,rA).then(r=>({metadata:r,ref:e}))}function TW(e){e._throwIfRoot("getDownloadURL");const t=bW(e.storage,e._location,ZP());return e.storage.makeRequestWithTokens(t,rA).then(n=>{if(n===null)throw VH();return n})}function PW(e,t){const n=cW(e._location.path,t),i=new Ke(e._location.bucket,n);return new ns(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(e){return/^[A-Za-z]+:\/\//.test(e)}function DW(e,t){return new ns(e,t)}function sA(e,t){if(e instanceof y0){const n=e;if(n._bucket==null)throw $H();const i=new ns(n,n._bucket);return t!=null?sA(i,t):i}else return t!==void 0?PW(e,t):e}function MW(e,t){if(t&&AW(t)){if(e instanceof y0)return DW(e,t);throw Vm("To use ref(service, url), the first argument must be a Storage instance.")}else return sA(e,t)}function P_(e,t){const n=t==null?void 0:t[WP];return n==null?null:Ke.makeFromBucketSpec(n,e)}function RW(e,t,n,i={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:r}=i;r&&(e._overrideAuthToken=typeof r=="string"?r:IP(r,e.app.options.projectId))}class y0{constructor(t,n,i,r,s){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=HP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CH,this._maxUploadRetryTime=TH,this._requests=new Set,r!=null?this._bucket=Ke.makeFromBucketSpec(r,this._host):this._bucket=P_(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ke.makeFromBucketSpec(this._url,t):this._bucket=P_(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){T_("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){T_("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ns(this,t)}_makeRequest(t,n,i,r,s=!0){if(this._deleted)return new zH(KP());{const o=ZH(t,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,r).getPromise()}}const A_="@firebase/storage",D_="0.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="storage";function IW(e,t,n){return e=or(e),CW(e,t,n)}function OW(e){return e=or(e),TW(e)}function LW(e,t){return e=or(e),MW(e,t)}function NW(e=jP(),t){e=or(e);const i=FP(e,oA).getImmediate({identifier:t}),r=RP("storage");return r&&$W(i,...r),i}function $W(e,t,n,i={}){RW(e,t,n,i)}function FW(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new y0(n,i,r,t,VP)}function VW(){gl(new lo(oA,FW,"PUBLIC").setMultipleInstances(!0)),Xi(A_,D_,""),Xi(A_,D_,"esm2017")}VW();var BW="firebase",jW="9.16.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(BW,jW,"app");var zW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$,v0=v0||{},W=zW||self;function Rh(){}function Yf(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Wl(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function UW(e){return Object.prototype.hasOwnProperty.call(e,Op)&&e[Op]||(e[Op]=++HW)}var Op="closure_uid_"+(1e9*Math.random()>>>0),HW=0;function WW(e,t,n){return e.call.apply(e.bind,arguments)}function KW(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function we(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?we=WW:we=KW,we.apply(null,arguments)}function Uu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function ue(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(i,o)}}function pr(){this.s=this.s,this.o=this.o}var qW=0;pr.prototype.s=!1;pr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),qW!=0)&&UW(this)};pr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const aA=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function w0(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function M_(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Yf(i)){const r=e.length||0,s=i.length||0;e.length=r+s;for(let o=0;o<s;o++)e[r+o]=i[o]}else e.push(i)}}function be(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var GW=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{W.addEventListener("test",Rh,t),W.removeEventListener("test",Rh,t)}catch{}return e}();function Ih(e){return/^[\s\xa0]*$/.test(e)}var R_=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Lp(e,t){return e<t?-1:e>t?1:0}function Xf(){var e=W.navigator;return e&&(e=e.userAgent)?e:""}function Rn(e){return Xf().indexOf(e)!=-1}function b0(e){return b0[" "](e),e}b0[" "]=Rh;function YW(e){var t=JW;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var XW=Rn("Opera"),uo=Rn("Trident")||Rn("MSIE"),lA=Rn("Edge"),Bm=lA||uo,uA=Rn("Gecko")&&!(Xf().toLowerCase().indexOf("webkit")!=-1&&!Rn("Edge"))&&!(Rn("Trident")||Rn("MSIE"))&&!Rn("Edge"),QW=Xf().toLowerCase().indexOf("webkit")!=-1&&!Rn("Edge");function cA(){var e=W.document;return e?e.documentMode:void 0}var Oh;t:{var Np="",$p=function(){var e=Xf();if(uA)return/rv:([^\);]+)(\)|;)/.exec(e);if(lA)return/Edge\/([\d\.]+)/.exec(e);if(uo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(QW)return/WebKit\/(\S+)/.exec(e);if(XW)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if($p&&(Np=$p?$p[1]:""),uo){var Fp=cA();if(Fp!=null&&Fp>parseFloat(Np)){Oh=String(Fp);break t}}Oh=Np}var JW={};function ZW(){return YW(function(){let e=0;const t=R_(String(Oh)).split("."),n=R_("9").split("."),i=Math.max(t.length,n.length);for(let o=0;e==0&&o<i;o++){var r=t[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],r[0].length==0&&s[0].length==0)break;e=Lp(r[1].length==0?0:parseInt(r[1],10),s[1].length==0?0:parseInt(s[1],10))||Lp(r[2].length==0,s[2].length==0)||Lp(r[2],s[2]),r=r[3],s=s[3]}while(e==0)}return 0<=e})}var jm;if(W.document&&uo){var I_=cA();jm=I_||parseInt(Oh,10)||void 0}else jm=void 0;var t6=jm;function yl(e,t){if(be.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(uA){t:{try{b0(t.nodeName);var r=!0;break t}catch{}r=!1}r||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:e6[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&yl.X.h.call(this)}}ue(yl,be);var e6={2:"touch",3:"pen",4:"mouse"};yl.prototype.h=function(){yl.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Kl="closure_listenable_"+(1e6*Math.random()|0),n6=0;function i6(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ha=r,this.key=++n6,this.ba=this.ea=!1}function Qf(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function x0(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function hA(e){const t={};for(const n in e)t[n]=e[n];return t}const O_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fA(e,t){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)e[n]=i[n];for(let s=0;s<O_.length;s++)n=O_[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Jf(e){this.src=e,this.g={},this.h=0}Jf.prototype.add=function(e,t,n,i,r){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Um(e,t,i,r);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new i6(t,this.src,s,!!i,r),t.ea=n,e.push(t)),t};function zm(e,t){var n=t.type;if(n in e.g){var i=e.g[n],r=aA(i,t),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Qf(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Um(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==i)return r}return-1}var _0="closure_lm_"+(1e6*Math.random()|0),Vp={};function dA(e,t,n,i,r){if(i&&i.once)return gA(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)dA(e,t[s],n,i,r);return null}return n=k0(n),e&&e[Kl]?e.N(t,n,Wl(i)?!!i.capture:!!i,r):pA(e,t,n,!1,i,r)}function pA(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var o=Wl(r)?!!r.capture:!!r,a=E0(e);if(a||(e[_0]=a=new Jf(e)),n=a.add(t,n,i,o,s),n.proxy)return n;if(i=r6(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)GW||(r=o),r===void 0&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(yA(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function r6(){function e(n){return t.call(e.src,e.listener,n)}const t=s6;return e}function gA(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)gA(e,t[s],n,i,r);return null}return n=k0(n),e&&e[Kl]?e.O(t,n,Wl(i)?!!i.capture:!!i,r):pA(e,t,n,!0,i,r)}function mA(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)mA(e,t[s],n,i,r);else i=Wl(i)?!!i.capture:!!i,n=k0(n),e&&e[Kl]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Um(s,n,i,r),-1<n&&(Qf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=E0(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Um(t,n,i,r)),(n=-1<e?t[e]:null)&&S0(n))}function S0(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[Kl])zm(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(yA(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=E0(t))?(zm(n,e),n.h==0&&(n.src=null,t[_0]=null)):Qf(e)}}}function yA(e){return e in Vp?Vp[e]:Vp[e]="on"+e}function s6(e,t){if(e.ba)e=!0;else{t=new yl(t,this);var n=e.listener,i=e.ha||e.src;e.ea&&S0(e),e=n.call(i,t)}return e}function E0(e){return e=e[_0],e instanceof Jf?e:null}var Bp="__closure_events_fn_"+(1e9*Math.random()>>>0);function k0(e){return typeof e=="function"?e:(e[Bp]||(e[Bp]=function(t){return e.handleEvent(t)}),e[Bp])}function ee(){pr.call(this),this.i=new Jf(this),this.P=this,this.I=null}ue(ee,pr);ee.prototype[Kl]=!0;ee.prototype.removeEventListener=function(e,t,n,i){mA(this,e,t,n,i)};function ae(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new be(t,e);else if(t instanceof be)t.target=t.target||e;else{var r=t;t=new be(i,e),fA(t,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];r=Hu(o,i,!0,t)&&r}if(o=t.g=e,r=Hu(o,i,!0,t)&&r,r=Hu(o,i,!1,t)&&r,n)for(s=0;s<n.length;s++)o=t.g=n[s],r=Hu(o,i,!1,t)&&r}ee.prototype.M=function(){if(ee.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Qf(n[i]);delete e.g[t],e.h--}}this.I=null};ee.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};ee.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Hu(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&zm(e.i,o),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var C0=W.JSON.stringify;function o6(){var e=bA;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class a6{constructor(){this.h=this.g=null}add(t,n){const i=vA.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var vA=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new l6,e=>e.reset());class l6{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function u6(e){W.setTimeout(()=>{throw e},0)}function wA(e,t){Hm||c6(),Wm||(Hm(),Wm=!0),bA.add(e,t)}var Hm;function c6(){var e=W.Promise.resolve(void 0);Hm=function(){e.then(h6)}}var Wm=!1,bA=new a6;function h6(){for(var e;e=o6();){try{e.h.call(e.g)}catch(n){u6(n)}var t=vA;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Wm=!1}function Zf(e,t){ee.call(this),this.h=e||1,this.g=t||W,this.j=we(this.lb,this),this.l=Date.now()}ue(Zf,ee);$=Zf.prototype;$.ca=!1;$.R=null;$.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ae(this,"tick"),this.ca&&(T0(this),this.start()))}};$.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function T0(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}$.M=function(){Zf.X.M.call(this),T0(this),delete this.g};function P0(e,t,n){if(typeof e=="function")n&&(e=we(e,n));else if(e&&typeof e.handleEvent=="function")e=we(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:W.setTimeout(e,t||0)}function xA(e){e.g=P0(()=>{e.g=null,e.i&&(e.i=!1,xA(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class f6 extends pr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:xA(this)}M(){super.M(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vl(e){pr.call(this),this.h=e,this.g={}}ue(vl,pr);var L_=[];function _A(e,t,n,i){Array.isArray(n)||(n&&(L_[0]=n.toString()),n=L_);for(var r=0;r<n.length;r++){var s=dA(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function SA(e){x0(e.g,function(t,n){this.g.hasOwnProperty(n)&&S0(t)},e),e.g={}}vl.prototype.M=function(){vl.X.M.call(this),SA(this)};vl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function td(){this.g=!0}td.prototype.Aa=function(){this.g=!1};function d6(e,t,n,i,r,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+`
`+n+`
`+o})}function p6(e,t,n,i,r,s,o){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+`
`+n+`
`+s+" "+o})}function Ns(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+m6(e,n)+(i?" "+i:"")})}function g6(e,t){e.info(function(){return"TIMEOUT: "+t})}td.prototype.info=function(){};function m6(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return C0(n)}catch{return t}}var hs={},N_=null;function ed(){return N_=N_||new ee}hs.Pa="serverreachability";function EA(e){be.call(this,hs.Pa,e)}ue(EA,be);function wl(e){const t=ed();ae(t,new EA(t))}hs.STAT_EVENT="statevent";function kA(e,t){be.call(this,hs.STAT_EVENT,e),this.stat=t}ue(kA,be);function Te(e){const t=ed();ae(t,new kA(t,e))}hs.Qa="timingevent";function CA(e,t){be.call(this,hs.Qa,e),this.size=t}ue(CA,be);function ql(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){e()},t)}var nd={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},TA={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function A0(){}A0.prototype.h=null;function $_(e){return e.h||(e.h=e.i())}function PA(){}var Gl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function D0(){be.call(this,"d")}ue(D0,be);function M0(){be.call(this,"c")}ue(M0,be);var Km;function id(){}ue(id,A0);id.prototype.g=function(){return new XMLHttpRequest};id.prototype.i=function(){return{}};Km=new id;function Yl(e,t,n,i){this.l=e,this.j=t,this.m=n,this.U=i||1,this.S=new vl(this),this.O=y6,e=Bm?125:void 0,this.T=new Zf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new AA}function AA(){this.i=null,this.g="",this.h=!1}var y6=45e3,qm={},Lh={};$=Yl.prototype;$.setTimeout=function(e){this.O=e};function Gm(e,t,n){e.K=1,e.v=sd(hi(t)),e.s=n,e.P=!0,DA(e,null)}function DA(e,t){e.F=Date.now(),Xl(e),e.A=hi(e.v);var n=e.A,i=e.U;Array.isArray(i)||(i=[String(i)]),FA(n.i,"t",i),e.C=0,n=e.l.H,e.h=new AA,e.g=sD(e.l,n?t:null,!e.s),0<e.N&&(e.L=new f6(we(e.La,e,e.g),e.N)),_A(e.S,e.g,"readystatechange",e.ib),t=e.H?hA(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),wl(),d6(e.j,e.u,e.A,e.m,e.U,e.s)}$.ib=function(e){e=e.target;const t=this.L;t&&ei(e)==3?t.l():this.La(e)};$.La=function(e){try{if(e==this.g)t:{const c=ei(this.g);var t=this.g.Ea();const h=this.g.aa();if(!(3>c)&&(c!=3||Bm||this.g&&(this.h.h||this.g.fa()||j_(this.g)))){this.I||c!=4||t==7||(t==8||0>=h?wl(3):wl(2)),rd(this);var n=this.g.aa();this.Y=n;e:if(MA(this)){var i=j_(this.g);e="";var r=i.length,s=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lr(this),Ma(this);var o="";break e}this.h.i=new W.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,p6(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ih(a)){var u=a;break e}}u=null}if(n=u)Ns(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ym(this,n);else{this.i=!1,this.o=3,Te(12),Lr(this),Ma(this);break t}}this.P?(RA(this,c,o),Bm&&this.i&&c==3&&(_A(this.S,this.T,"tick",this.hb),this.T.start())):(Ns(this.j,this.m,o,null),Ym(this,o)),c==4&&Lr(this),this.i&&!this.I&&(c==4?eD(this.l,this):(this.i=!1,Xl(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Te(12)):(this.o=0,Te(13)),Lr(this),Ma(this)}}}catch{}finally{}};function MA(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function RA(e,t,n){let i=!0,r;for(;!e.I&&e.C<n.length;)if(r=v6(e,n),r==Lh){t==4&&(e.o=4,Te(14),i=!1),Ns(e.j,e.m,null,"[Incomplete Response]");break}else if(r==qm){e.o=4,Te(15),Ns(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Ns(e.j,e.m,r,null),Ym(e,r);MA(e)&&r!=Lh&&r!=qm&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Te(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),F0(t),t.K=!0,Te(11))):(Ns(e.j,e.m,n,"[Invalid Chunked Response]"),Lr(e),Ma(e))}$.hb=function(){if(this.g){var e=ei(this.g),t=this.g.fa();this.C<t.length&&(rd(this),RA(this,e,t),this.i&&e!=4&&Xl(this))}};function v6(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Lh:(n=Number(t.substring(n,i)),isNaN(n)?qm:(i+=1,i+n>t.length?Lh:(t=t.substr(i,n),e.C=i+n,t)))}$.cancel=function(){this.I=!0,Lr(this)};function Xl(e){e.V=Date.now()+e.O,IA(e,e.O)}function IA(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=ql(we(e.gb,e),t)}function rd(e){e.B&&(W.clearTimeout(e.B),e.B=null)}$.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(g6(this.j,this.A),this.K!=2&&(wl(),Te(17)),Lr(this),this.o=2,Ma(this)):IA(this,this.V-e)};function Ma(e){e.l.G==0||e.I||eD(e.l,e)}function Lr(e){rd(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,T0(e.T),SA(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ym(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Xm(n.h,e))){if(!e.J&&Xm(n.h,e)&&n.G==3){try{var i=n.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Fh(n),ld(n);else break t;$0(n),Te(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&n.A==0&&!n.v&&(n.v=ql(we(n.cb,n),6e3));if(1>=jA(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Nr(n,11)}else if((e.J||n.g==e)&&Fh(n),!Ih(t))for(r=n.Fa.g.parse(t),t=0;t<r.length;t++){let u=r[t];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const h=u[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.J=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const d=e.g;if(d){const p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.h;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(R0(s,s.h),s.h=null))}if(i.D){const g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.za=g,Et(i.F,i.D,g))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),i=n;var o=e;if(i.sa=rD(i,i.H?i.ka:null,i.V),o.J){zA(i.h,o);var a=o,l=i.J;l&&a.setTimeout(l),a.B&&(rd(a),Xl(a)),i.g=o}else ZA(i);0<n.i.length&&ud(n)}else u[0]!="stop"&&u[0]!="close"||Nr(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Nr(n,7):N0(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}wl(4)}catch{}}function w6(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Yf(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function b6(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Yf(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function OA(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Yf(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=b6(e),i=w6(e),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}var LA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function x6(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Wr(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Wr){this.h=t!==void 0?t:e.h,Nh(this,e.j),this.s=e.s,this.g=e.g,$h(this,e.m),this.l=e.l,t=e.i;var n=new bl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),F_(this,n),this.o=e.o}else e&&(n=String(e).match(LA))?(this.h=!!t,Nh(this,n[1]||"",!0),this.s=oa(n[2]||""),this.g=oa(n[3]||"",!0),$h(this,n[4]),this.l=oa(n[5]||"",!0),F_(this,n[6]||"",!0),this.o=oa(n[7]||"")):(this.h=!!t,this.i=new bl(null,this.h))}Wr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(aa(t,V_,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(aa(t,V_,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(aa(n,n.charAt(0)=="/"?E6:S6,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",aa(n,C6)),e.join("")};function hi(e){return new Wr(e)}function Nh(e,t,n){e.j=n?oa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function $h(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function F_(e,t,n){t instanceof bl?(e.i=t,T6(e.i,e.h)):(n||(t=aa(t,k6)),e.i=new bl(t,e.h))}function Et(e,t,n){e.i.set(t,n)}function sd(e){return Et(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function oa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function aa(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,_6),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function _6(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var V_=/[#\/\?@]/g,S6=/[#\?:]/g,E6=/[#\?]/g,k6=/[#\?@]/g,C6=/#/g;function bl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gr(e){e.g||(e.g=new Map,e.h=0,e.i&&x6(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}$=bl.prototype;$.add=function(e,t){gr(this),this.i=null,e=Co(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function NA(e,t){gr(e),t=Co(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function $A(e,t){return gr(e),t=Co(e,t),e.g.has(t)}$.forEach=function(e,t){gr(this),this.g.forEach(function(n,i){n.forEach(function(r){e.call(t,r,i,this)},this)},this)};$.oa=function(){gr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let s=0;s<r.length;s++)n.push(t[i])}return n};$.W=function(e){gr(this);let t=[];if(typeof e=="string")$A(this,e)&&(t=t.concat(this.g.get(Co(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};$.set=function(e,t){return gr(this),this.i=null,e=Co(this,e),$A(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};$.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function FA(e,t,n){NA(e,t),0<n.length&&(e.i=null,e.g.set(Co(e,t),w0(n)),e.h+=n.length)}$.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const s=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),e.push(r)}}return this.i=e.join("&")};function Co(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function T6(e,t){t&&!e.j&&(gr(e),e.i=null,e.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(NA(this,i),FA(this,r,n))},e)),e.j=t}var P6=class{constructor(t,n){this.h=t,this.g=n}};function VA(e){this.l=e||A6,W.PerformanceNavigationTiming?(e=W.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(W.g&&W.g.Ga&&W.g.Ga()&&W.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var A6=10;function BA(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function jA(e){return e.h?1:e.g?e.g.size:0}function Xm(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function R0(e,t){e.g?e.g.add(t):e.h=t}function zA(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}VA.prototype.cancel=function(){if(this.i=UA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function UA(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return w0(e.i)}function I0(){}I0.prototype.stringify=function(e){return W.JSON.stringify(e,void 0)};I0.prototype.parse=function(e){return W.JSON.parse(e,void 0)};function D6(){this.g=new I0}function M6(e,t,n){const i=n||"";try{OA(e,function(r,s){let o=r;Wl(r)&&(o=C0(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function R6(e,t){const n=new td;if(W.Image){const i=new Image;i.onload=Uu(Wu,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Uu(Wu,n,i,"TestLoadImage: error",!1,t),i.onabort=Uu(Wu,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Uu(Wu,n,i,"TestLoadImage: timeout",!1,t),W.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Wu(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Ql(e){this.l=e.ac||null,this.j=e.jb||!1}ue(Ql,A0);Ql.prototype.g=function(){return new od(this.l,this.j)};Ql.prototype.i=function(e){return function(){return e}}({});function od(e,t){ee.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=O0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ue(od,ee);var O0=0;$=od.prototype;$.open=function(e,t){if(this.readyState!=O0)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,xl(this)};$.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||W).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};$.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jl(this)),this.readyState=O0};$.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,xl(this)),this.g&&(this.readyState=3,xl(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof W.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HA(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function HA(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}$.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Jl(this):xl(this),this.readyState==3&&HA(this)}};$.Va=function(e){this.g&&(this.response=this.responseText=e,Jl(this))};$.Ua=function(e){this.g&&(this.response=e,Jl(this))};$.ga=function(){this.g&&Jl(this)};function Jl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,xl(e)}$.setRequestHeader=function(e,t){this.v.append(e,t)};$.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};$.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function xl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(od.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var I6=W.JSON.parse;function Lt(e){ee.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=WA,this.K=this.L=!1}ue(Lt,ee);var WA="",O6=/^https?$/i,L6=["POST","PUT"];$=Lt.prototype;$.Ka=function(e){this.L=e};$.da=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Km.g(),this.C=this.u?$_(this.u):$_(Km),this.g.onreadystatechange=we(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){B_(this,s);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=W.FormData&&e instanceof W.FormData,!(0<=aA(L6,t))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{GA(this),0<this.B&&((this.K=N6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=we(this.qa,this)):this.A=P0(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){B_(this,s)}};function N6(e){return uo&&ZW()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}$.qa=function(){typeof v0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ae(this,"timeout"),this.abort(8))};function B_(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,KA(e),ad(e)}function KA(e){e.D||(e.D=!0,ae(e,"complete"),ae(e,"error"))}$.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ae(this,"complete"),ae(this,"abort"),ad(this))};$.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ad(this,!0)),Lt.X.M.call(this)};$.Ha=function(){this.s||(this.F||this.v||this.l?qA(this):this.fb())};$.fb=function(){qA(this)};function qA(e){if(e.h&&typeof v0<"u"&&(!e.C[1]||ei(e)!=4||e.aa()!=2)){if(e.v&&ei(e)==4)P0(e.Ha,0,e);else if(ae(e,"readystatechange"),ei(e)==4){e.h=!1;try{const a=e.aa();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var i;if(i=a===0){var r=String(e.H).match(LA)[1]||null;if(!r&&W.self&&W.self.location){var s=W.self.location.protocol;r=s.substr(0,s.length-1)}i=!O6.test(r?r.toLowerCase():"")}n=i}if(n)ae(e,"complete"),ae(e,"success");else{e.m=6;try{var o=2<ei(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.aa()+"]",KA(e)}}finally{ad(e)}}}}function ad(e,t){if(e.g){GA(e);const n=e.g,i=e.C[0]?Rh:null;e.g=null,e.C=null,t||ae(e,"ready");try{n.onreadystatechange=i}catch{}}}function GA(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(W.clearTimeout(e.A),e.A=null)}function ei(e){return e.g?e.g.readyState:0}$.aa=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}};$.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};$.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),I6(t)}};function j_(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case WA:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}$.Ea=function(){return this.m};$.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function YA(e){let t="";return x0(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function L0(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=YA(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Et(e,t,n))}function Go(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function XA(e){this.Ca=0,this.i=[],this.j=new td,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Go("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Go("baseRetryDelayMs",5e3,e),this.bb=Go("retryDelaySeedMs",1e4,e),this.$a=Go("forwardChannelMaxRetries",2,e),this.ta=Go("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new VA(e&&e.concurrentRequestLimit),this.Fa=new D6,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}$=XA.prototype;$.ma=8;$.G=1;function N0(e){if(QA(e),e.G==3){var t=e.U++,n=hi(e.F);Et(n,"SID",e.I),Et(n,"RID",t),Et(n,"TYPE","terminate"),Zl(e,n),t=new Yl(e,e.j,t,void 0),t.K=2,t.v=sd(hi(n)),n=!1,W.navigator&&W.navigator.sendBeacon&&(n=W.navigator.sendBeacon(t.v.toString(),"")),!n&&W.Image&&(new Image().src=t.v,n=!0),n||(t.g=sD(t.l,null),t.g.da(t.v)),t.F=Date.now(),Xl(t)}iD(e)}function ld(e){e.g&&(F0(e),e.g.cancel(),e.g=null)}function QA(e){ld(e),e.u&&(W.clearTimeout(e.u),e.u=null),Fh(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&W.clearTimeout(e.m),e.m=null)}function ud(e){BA(e.h)||e.m||(e.m=!0,wA(e.Ja,e),e.C=0)}function $6(e,t){return jA(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=ql(we(e.Ja,e,t),nD(e,e.C)),e.C++,!0)}$.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const r=new Yl(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=hA(s),fA(s,this.S)):s=this.S),this.o!==null||this.N||(r.H=s,s=null),this.O)t:{for(var t=0,n=0;n<this.i.length;n++){e:{var i=this.i[n];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break t}if(t===4096||n===this.i.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=JA(this,r,t),n=hi(this.F),Et(n,"RID",e),Et(n,"CVER",22),this.D&&Et(n,"X-HTTP-Session-Id",this.D),Zl(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(YA(s)))+"&"+t:this.o&&L0(n,this.o,s)),R0(this.h,r),this.Ya&&Et(n,"TYPE","init"),this.O?(Et(n,"$req",t),Et(n,"SID","null"),r.Z=!0,Gm(r,n,null)):Gm(r,n,t),this.G=2}}else this.G==3&&(e?z_(this,e):this.i.length==0||BA(this.h)||z_(this))};function z_(e,t){var n;t?n=t.m:n=e.U++;const i=hi(e.F);Et(i,"SID",e.I),Et(i,"RID",n),Et(i,"AID",e.T),Zl(e,i),e.o&&e.s&&L0(i,e.o,e.s),n=new Yl(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=JA(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),R0(e.h,n),Gm(n,i,t)}function Zl(e,t){e.ia&&x0(e.ia,function(n,i){Et(t,i,n)}),e.l&&OA({},function(n,i){Et(t,i,n)})}function JA(e,t,n){n=Math.min(e.i.length,n);var i=e.l?we(e.l.Ra,e.l,e):null;t:{var r=e.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=r[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=r[l].h;const c=r[l].g;if(u-=s,0>u)s=Math.max(0,r[l].h-100),a=!1;else try{M6(c,o,"req"+u+"_")}catch{i&&i(c)}}if(a){i=o.join("&");break t}}}return e=e.i.splice(0,n),t.D=e,i}function ZA(e){e.g||e.u||(e.Z=1,wA(e.Ia,e),e.A=0)}function $0(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=ql(we(e.Ia,e),nD(e,e.A)),e.A++,!0)}$.Ia=function(){if(this.u=null,tD(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=ql(we(this.eb,this),e)}};$.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Te(10),ld(this),tD(this))};function F0(e){e.B!=null&&(W.clearTimeout(e.B),e.B=null)}function tD(e){e.g=new Yl(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=hi(e.sa);Et(t,"RID","rpc"),Et(t,"SID",e.I),Et(t,"CI",e.L?"0":"1"),Et(t,"AID",e.T),Et(t,"TYPE","xmlhttp"),Zl(e,t),e.o&&e.s&&L0(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=sd(hi(t)),n.s=null,n.P=!0,DA(n,e)}$.cb=function(){this.v!=null&&(this.v=null,ld(this),$0(this),Te(19))};function Fh(e){e.v!=null&&(W.clearTimeout(e.v),e.v=null)}function eD(e,t){var n=null;if(e.g==t){Fh(e),F0(e),e.g=null;var i=2}else if(Xm(e.h,t))n=t.D,zA(e.h,t),i=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var r=e.C;i=ed(),ae(i,new CA(i,n)),ud(e)}else ZA(e);else if(r=t.o,r==3||r==0&&0<e.pa||!(i==1&&$6(e,t)||i==2&&$0(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),r){case 1:Nr(e,5);break;case 4:Nr(e,10);break;case 3:Nr(e,6);break;default:Nr(e,2)}}}function nD(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Nr(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var i=we(e.kb,e);n||(n=new Wr("//www.google.com/images/cleardot.gif"),W.location&&W.location.protocol=="http"||Nh(n,"https"),sd(n)),R6(n.toString(),i)}else Te(2);e.G=0,e.l&&e.l.va(t),iD(e),QA(e)}$.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function iD(e){if(e.G=0,e.la=[],e.l){const t=UA(e.h);(t.length!=0||e.i.length!=0)&&(M_(e.la,t),M_(e.la,e.i),e.h.i.length=0,w0(e.i),e.i.length=0),e.l.ua()}}function rD(e,t,n){var i=n instanceof Wr?hi(n):new Wr(n,void 0);if(i.g!="")t&&(i.g=t+"."+i.g),$h(i,i.m);else{var r=W.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Wr(null,void 0);i&&Nh(s,i),t&&(s.g=t),r&&$h(s,r),n&&(s.l=n),i=s}return n=e.D,t=e.za,n&&t&&Et(i,n,t),Et(i,"VER",e.ma),Zl(e,i),i}function sD(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new Lt(new Ql({jb:!0})):new Lt(e.ra),t.Ka(e.H),t}function oD(){}$=oD.prototype;$.xa=function(){};$.wa=function(){};$.va=function(){};$.ua=function(){};$.Ra=function(){};function Vh(){if(uo&&!(10<=Number(t6)))throw Error("Environmental error: no available transport.")}Vh.prototype.g=function(e,t){return new Qe(e,t)};function Qe(e,t){ee.call(this),this.g=new XA(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Ih(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ih(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new To(this)}ue(Qe,ee);Qe.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Te(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=rD(e,null,e.V),ud(e)};Qe.prototype.close=function(){N0(this.g)};Qe.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=C0(e),e=n);t.i.push(new P6(t.ab++,e)),t.G==3&&ud(t)};Qe.prototype.M=function(){this.g.l=null,delete this.j,N0(this.g),delete this.g,Qe.X.M.call(this)};function aD(e){D0.call(this);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}ue(aD,D0);function lD(){M0.call(this),this.status=1}ue(lD,M0);function To(e){this.g=e}ue(To,oD);To.prototype.xa=function(){ae(this.g,"a")};To.prototype.wa=function(e){ae(this.g,new aD(e))};To.prototype.va=function(e){ae(this.g,new lD)};To.prototype.ua=function(){ae(this.g,"b")};Vh.prototype.createWebChannel=Vh.prototype.g;Qe.prototype.send=Qe.prototype.u;Qe.prototype.open=Qe.prototype.m;Qe.prototype.close=Qe.prototype.close;nd.NO_ERROR=0;nd.TIMEOUT=8;nd.HTTP_ERROR=6;TA.COMPLETE="complete";PA.EventType=Gl;Gl.OPEN="a";Gl.CLOSE="b";Gl.ERROR="c";Gl.MESSAGE="d";ee.prototype.listen=ee.prototype.N;Lt.prototype.listenOnce=Lt.prototype.O;Lt.prototype.getLastError=Lt.prototype.Oa;Lt.prototype.getLastErrorCode=Lt.prototype.Ea;Lt.prototype.getStatus=Lt.prototype.aa;Lt.prototype.getResponseJson=Lt.prototype.Sa;Lt.prototype.getResponseText=Lt.prototype.fa;Lt.prototype.send=Lt.prototype.da;Lt.prototype.setWithCredentials=Lt.prototype.Ka;var F6=function(){return new Vh},V6=function(){return ed()},jp=nd,B6=TA,j6=hs,U_={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},z6=Ql,Ku=PA,U6=Lt;const H_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pe.UNAUTHENTICATED=new pe(null),pe.GOOGLE_CREDENTIALS=new pe("google-credentials-uid"),pe.FIRST_PARTY=new pe("first-party-uid"),pe.MOCK_USER=new pe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="9.16.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new LP("@firebase/firestore");function W_(){return is.logLevel}function F(e,...t){if(is.logLevel<=st.DEBUG){const n=t.map(V0);is.debug(`Firestore (${Po}): ${e}`,...n)}}function fi(e,...t){if(is.logLevel<=st.ERROR){const n=t.map(V0);is.error(`Firestore (${Po}): ${e}`,...n)}}function Qm(e,...t){if(is.logLevel<=st.WARN){const n=t.map(V0);is.warn(`Firestore (${Po}): ${e}`,...n)}}function V0(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(e="Unexpected state"){const t=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: `+e;throw fi(t),new Error(t)}function mt(e,t){e||K()}function X(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends cs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class H6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(pe.UNAUTHENTICATED))}shutdown(){}}class W6{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class K6{constructor(t){this.t=t,this.currentUser=pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qi,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qi)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mt(typeof i.accessToken=="string"),new uD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return mt(t===null||typeof t=="string"),new pe(t)}}class q6{constructor(t,n,i,r){this.h=t,this.l=n,this.m=i,this.g=r,this.type="FirstParty",this.user=pe.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(mt(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class G6{constructor(t,n,i,r){this.h=t,this.l=n,this.m=i,this.g=r}getToken(){return Promise.resolve(new q6(this.h,this.l,this.m,this.g))}start(t,n){t.enqueueRetryable(()=>n(pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y6{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X6{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,n){const i=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(mt(typeof n.token=="string"),this.A=n.token,new Y6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=Q6(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%t.length))}return i}}function ot(e,t){return e<t?-1:e>t?1:0}function co(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Gt.fromMillis(Date.now())}static fromDate(t){return Gt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new Gt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ot(this.nanoseconds,t.nanoseconds):ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.timestamp=t}static fromTimestamp(t){return new G(t)}static min(){return new G(new Gt(0,0))}static max(){return new G(new Gt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(t,n,i){n===void 0?n=0:n>t.length&&K(),i===void 0?i=t.length-n:i>t.length-n&&K(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return _l.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof _l?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=t.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Mt extends _l{construct(t,n,i){return new Mt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new U(M.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Mt(n)}static emptyPath(){return new Mt([])}}const J6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ye extends _l{construct(t,n,i){return new ye(t,n,i)}static isValidIdentifier(t){return J6.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ye.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ye(["__name__"])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new U(M.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new U(M.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new U(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new U(M.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ye(n)}static emptyPath(){return new ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(t){this.path=t}static fromPath(t){return new B(Mt.fromString(t))}static fromName(t){return new B(Mt.fromString(t).popFirst(5))}static empty(){return new B(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Mt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Mt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new B(new Mt(t.slice()))}}function Z6(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=G.fromTimestamp(i===1e9?new Gt(n+1,0):new Gt(n,i));return new ar(r,B.empty(),t)}function t8(e){return new ar(e.readTime,e.key,-1)}class ar{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ar(G.min(),B.empty(),-1)}static max(){return new ar(G.max(),B.empty(),-1)}}function e8(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=B.comparator(e.documentKey,t.documentKey),n!==0?n:ot(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(e){if(e.code!==M.FAILED_PRECONDITION||e.message!==n8)throw e;F("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new D((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):D.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):D.reject(n)}static resolve(t){return new D((n,i)=>{n(t)})}static reject(t){return new D((n,i)=>{i(t)})}static waitFor(t){return new D((n,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(t){let n=D.resolve(!1);for(const i of t)n=n.next(r=>r?D.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new D((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&i(o)},c=>r(c))}})}static doWhile(t,n){return new D((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function eu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>n.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}B0.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(t,n,i,r,s,o,a,l){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Sl{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Sl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ao(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function hD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(e){return e==null}function Bh(e){return e===0&&1/e==-1/0}function s8(e){return typeof e=="number"&&Number.isInteger(e)&&!Bh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t){this.binaryString=t}static fromBase64String(t){const n=atob(t);return new Se(n)}static fromUint8Array(t){const n=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Se(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Se.EMPTY_BYTE_STRING=new Se("");const o8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(e){if(mt(!!e),typeof e=="string"){let t=0;const n=o8.exec(e);if(mt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Bt(e.seconds),nanos:Bt(e.nanos)}}function Bt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ho(e){return typeof e=="string"?Se.fromBase64String(e):Se.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dD(e){const t=e.mapValue.fields.__previous_value__;return fD(t)?dD(t):t}function El(e){const t=lr(e.mapValue.fields.__local_write_time__.timestampValue);return new Gt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function rs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fD(e)?4:a8(e)?9007199254740991:10:K()}function Bn(e,t){if(e===t)return!0;const n=rs(e);if(n!==rs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return El(e).isEqual(El(t));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=lr(i.timestampValue),o=lr(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,r){return ho(i.bytesValue).isEqual(ho(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,r){return Bt(i.geoPointValue.latitude)===Bt(r.geoPointValue.latitude)&&Bt(i.geoPointValue.longitude)===Bt(r.geoPointValue.longitude)}(e,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Bt(i.integerValue)===Bt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Bt(i.doubleValue),o=Bt(r.doubleValue);return s===o?Bh(s)===Bh(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return co(e.arrayValue.values||[],t.arrayValue.values||[],Bn);case 10:return function(i,r){const s=i.mapValue.fields||{},o=r.mapValue.fields||{};if(K_(s)!==K_(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Bn(s[a],o[a])))return!1;return!0}(e,t);default:return K()}}function kl(e,t){return(e.values||[]).find(n=>Bn(n,t))!==void 0}function fo(e,t){if(e===t)return 0;const n=rs(e),i=rs(t);if(n!==i)return ot(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(e.booleanValue,t.booleanValue);case 2:return function(r,s){const o=Bt(r.integerValue||r.doubleValue),a=Bt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return q_(e.timestampValue,t.timestampValue);case 4:return q_(El(e),El(t));case 5:return ot(e.stringValue,t.stringValue);case 6:return function(r,s){const o=ho(r),a=ho(s);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(r,s){const o=r.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=ot(o[l],a[l]);if(u!==0)return u}return ot(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,s){const o=ot(Bt(r.latitude),Bt(s.latitude));return o!==0?o:ot(Bt(r.longitude),Bt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(r,s){const o=r.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=fo(o[l],a[l]);if(u)return u}return ot(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===qu.mapValue&&s===qu.mapValue)return 0;if(r===qu.mapValue)return 1;if(s===qu.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=ot(a[c],u[c]);if(h!==0)return h;const f=fo(o[a[c]],l[u[c]]);if(f!==0)return f}return ot(a.length,u.length)}(e.mapValue,t.mapValue);default:throw K()}}function q_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ot(e,t);const n=lr(e),i=lr(t),r=ot(n.seconds,i.seconds);return r!==0?r:ot(n.nanos,i.nanos)}function po(e){return Jm(e)}function Jm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){const r=lr(i);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ho(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,B.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(i){let r="[",s=!0;for(const o of i.values||[])s?s=!1:r+=",",r+=Jm(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${Jm(i.fields[a])}`;return s+"}"}(e.mapValue):K();var t,n}function Zm(e){return!!e&&"integerValue"in e}function j0(e){return!!e&&"arrayValue"in e}function G_(e){return!!e&&"nullValue"in e}function Y_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Cc(e){return!!e&&"mapValue"in e}function Ra(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ao(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Ra(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ra(e.arrayValue.values[n]);return t}return Object.assign({},e)}function a8(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t,n){this.position=t,this.inclusive=n}}function X_(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(s.field.isKeyField()?i=B.comparator(B.fromName(o.referenceValue),n.key):i=fo(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Q_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Bn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{}class Wt extends pD{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new u8(t,n,i):n==="array-contains"?new f8(t,i):n==="in"?new d8(t,i):n==="not-in"?new p8(t,i):n==="array-contains-any"?new g8(t,i):new Wt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new c8(t,i):new h8(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fo(n,this.value)):n!==null&&rs(this.value)===rs(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class jn extends pD{constructor(t,n){super(),this.filters=t,this.op=n,this.ht=null}static create(t,n){return new jn(t,n)}matches(t){return gD(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(n=>n.isInequality());return t!==null?t.field:null}lt(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function gD(e){return e.op==="and"}function mD(e){return l8(e)&&gD(e)}function l8(e){for(const t of e.filters)if(t instanceof jn)return!1;return!0}function ty(e){if(e instanceof Wt)return e.field.canonicalString()+e.op.toString()+po(e.value);if(mD(e))return e.filters.map(t=>ty(t)).join(",");{const t=e.filters.map(n=>ty(n)).join(",");return`${e.op}(${t})`}}function yD(e,t){return e instanceof Wt?function(n,i){return i instanceof Wt&&n.op===i.op&&n.field.isEqual(i.field)&&Bn(n.value,i.value)}(e,t):e instanceof jn?function(n,i){return i instanceof jn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((r,s,o)=>r&&yD(s,i.filters[o]),!0):!1}(e,t):void K()}function vD(e){return e instanceof Wt?function(t){return`${t.field.canonicalString()} ${t.op} ${po(t.value)}`}(e):e instanceof jn?function(t){return t.op.toString()+" {"+t.getFilters().map(vD).join(" ,")+"}"}(e):"Filter"}class u8 extends Wt{constructor(t,n,i){super(t,n,i),this.key=B.fromName(i.referenceValue)}matches(t){const n=B.comparator(t.key,this.key);return this.matchesComparison(n)}}class c8 extends Wt{constructor(t,n){super(t,"in",n),this.keys=wD("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class h8 extends Wt{constructor(t,n){super(t,"not-in",n),this.keys=wD("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function wD(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>B.fromName(i.referenceValue))}class f8 extends Wt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return j0(n)&&kl(n.arrayValue,this.value)}}class d8 extends Wt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&kl(this.value.arrayValue,n)}}class p8 extends Wt{constructor(t,n){super(t,"not-in",n)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!kl(this.value.arrayValue,n)}}class g8 extends Wt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!j0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>kl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,n="asc"){this.field=t,this.dir=n}}function m8(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t,n){this.comparator=t,this.root=n||re.EMPTY}insert(t,n){return new Xt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,re.BLACK,null,null))}remove(t){return new Xt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,re.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gu(this.root,t,this.comparator,!0)}}class Gu{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class re{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??re.RED,this.left=r??re.EMPTY,this.right=s??re.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new re(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return re.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return re.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,re.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,re.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const t=this.left.check();if(t!==this.right.check())throw K();return t+(this.isRed()?0:1)}}re.EMPTY=null,re.RED=!0,re.BLACK=!1;re.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,t,n,i,r){return this}insert(e,t,n){return new re(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.comparator=t,this.data=new Xt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(t){return new J_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Yt)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Yt(this.comparator);return n.data=t,n}}class J_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.fields=t,t.sort(ye.comparator)}static empty(){return new bn([])}unionWith(t){let n=new Yt(ye.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new bn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return co(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.value=t}static empty(){return new sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Cc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ra(n)}setAll(t){let n=ye.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Ra(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());Cc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Bn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Cc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Ao(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new sn(Ra(this.value))}}function bD(e){const t=[];return Ao(e.fields,(n,i)=>{const r=new ye([n]);if(Cc(i)){const s=bD(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,n,i,r,s,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new me(t,0,G.min(),G.min(),G.min(),sn.empty(),0)}static newFoundDocument(t,n,i,r){return new me(t,1,n,G.min(),i,r,0)}static newNoDocument(t,n){return new me(t,2,n,G.min(),G.min(),sn.empty(),0)}static newUnknownDocument(t,n){return new me(t,3,n,G.min(),G.min(),sn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(G.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof me&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new me(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(t,n=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function Z_(e,t=null,n=[],i=[],r=null,s=null,o=null){return new y8(e,t,n,i,r,s,o)}function z0(e){const t=X(e);if(t.ft===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>ty(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),cd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>po(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>po(i)).join(",")),t.ft=n}return t.ft}function U0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!m8(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!yD(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Q_(e.startAt,t.startAt)&&Q_(e.endAt,t.endAt)}function ey(e){return B.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(t,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function v8(e,t,n,i,r,s,o,a){return new hd(e,t,n,i,r,s,o,a)}function H0(e){return new hd(e)}function tS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function w8(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function b8(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function x8(e){return e.collectionGroup!==null}function qs(e){const t=X(e);if(t.dt===null){t.dt=[];const n=b8(t),i=w8(t);if(n!==null&&i===null)n.isKeyField()||t.dt.push(new Ia(n)),t.dt.push(new Ia(ye.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.dt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Ia(ye.keyField(),s))}}}return t.dt}function di(e){const t=X(e);if(!t._t)if(t.limitType==="F")t._t=Z_(t.path,t.collectionGroup,qs(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of qs(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ia(s.field,o))}const i=t.endAt?new jh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jh(t.startAt.position,t.startAt.inclusive):null;t._t=Z_(t.path,t.collectionGroup,n,t.filters,t.limit,i,r)}return t._t}function ny(e,t,n){return new hd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function fd(e,t){return U0(di(e),di(t))&&e.limitType===t.limitType}function xD(e){return`${z0(di(e))}|lt:${e.limitType}`}function iy(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>vD(i)).join(", ")}]`),cd(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>po(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>po(i)).join(",")),`Target(${n})`}(di(e))}; limitType=${e.limitType})`}function W0(e,t){return t.isFoundDocument()&&function(n,i){const r=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):B.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(e,t)&&function(n,i){for(const r of qs(n))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const r of n.filters)if(!r.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(r,s,o){const a=X_(r,s,o);return r.inclusive?a<=0:a<0}(n.startAt,qs(n),i)||n.endAt&&!function(r,s,o){const a=X_(r,s,o);return r.inclusive?a>=0:a>0}(n.endAt,qs(n),i))}(e,t)}function _8(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _D(e){return(t,n)=>{let i=!1;for(const r of qs(e)){const s=S8(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function S8(e,t,n){const i=e.field.isKeyField()?B.comparator(t.key,n.key):function(r,s,o){const a=s.data.field(r),l=o.data.field(r);return a!==null&&l!==null?fo(a,l):K()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return K()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(t)?"-0":t}}function ED(e){return{integerValue:""+e}}function E8(e,t){return s8(t)?ED(t):SD(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this._=void 0}}function k8(e,t,n){return e instanceof zh?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,t):e instanceof Cl?CD(e,t):e instanceof Tl?TD(e,t):function(i,r){const s=kD(i,r),o=eS(s)+eS(i.gt);return Zm(s)&&Zm(i.gt)?ED(o):SD(i.yt,o)}(e,t)}function C8(e,t,n){return e instanceof Cl?CD(e,t):e instanceof Tl?TD(e,t):n}function kD(e,t){return e instanceof Uh?Zm(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}class zh extends dd{}class Cl extends dd{constructor(t){super(),this.elements=t}}function CD(e,t){const n=PD(t);for(const i of e.elements)n.some(r=>Bn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Tl extends dd{constructor(t){super(),this.elements=t}}function TD(e,t){let n=PD(t);for(const i of e.elements)n=n.filter(r=>!Bn(r,i));return{arrayValue:{values:n}}}class Uh extends dd{constructor(t,n){super(),this.yt=t,this.gt=n}}function eS(e){return Bt(e.integerValue||e.doubleValue)}function PD(e){return j0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function T8(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof Cl&&i instanceof Cl||n instanceof Tl&&i instanceof Tl?co(n.elements,i.elements,Bn):n instanceof Uh&&i instanceof Uh?Bn(n.gt,i.gt):n instanceof zh&&i instanceof zh}(e.transform,t.transform)}class P8{constructor(t,n){this.version=t,this.transformResults=n}}class si{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new si}static exists(t){return new si(void 0,t)}static updateTime(t){return new si(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tc(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class pd{}function AD(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new MD(e.key,si.none()):new nu(e.key,e.data,si.none());{const n=e.data,i=sn.empty();let r=new Yt(ye.comparator);for(let s of t.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new fs(e.key,i,new bn(r.toArray()),si.none())}}function A8(e,t,n){e instanceof nu?function(i,r,s){const o=i.value.clone(),a=iS(i.fieldTransforms,r,s.transformResults);o.setAll(a),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof fs?function(i,r,s){if(!Tc(i.precondition,r))return void r.convertToUnknownDocument(s.version);const o=iS(i.fieldTransforms,r,s.transformResults),a=r.data;a.setAll(DD(i)),a.setAll(o),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):function(i,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Oa(e,t,n,i){return e instanceof nu?function(r,s,o,a){if(!Tc(r.precondition,s))return o;const l=r.value.clone(),u=rS(r.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(e,t,n,i):e instanceof fs?function(r,s,o,a){if(!Tc(r.precondition,s))return o;const l=rS(r.fieldTransforms,a,s),u=s.data;return u.setAll(DD(r)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(c=>c.field))}(e,t,n,i):function(r,s,o){return Tc(r.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function D8(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=kD(i.transform,r||null);s!=null&&(n===null&&(n=sn.empty()),n.set(i.field,s))}return n||null}function nS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&co(n,i,(r,s)=>T8(r,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nu extends pd{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fs extends pd{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function DD(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function iS(e,t,n){const i=new Map;mt(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,C8(o,a,n[r]))}return i}function rS(e,t,n){const i=new Map;for(const r of e){const s=r.transform,o=n.data.field(r.field);i.set(r.field,k8(s,o,t))}return i}class MD extends pd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M8 extends pd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,nt;function I8(e){switch(e){default:return K();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function RD(e){if(e===void 0)return fi("GRPC error has no .code"),M.UNKNOWN;switch(e){case Vt.OK:return M.OK;case Vt.CANCELLED:return M.CANCELLED;case Vt.UNKNOWN:return M.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return M.INTERNAL;case Vt.UNAVAILABLE:return M.UNAVAILABLE;case Vt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Vt.NOT_FOUND:return M.NOT_FOUND;case Vt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Vt.ABORTED:return M.ABORTED;case Vt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Vt.DATA_LOSS:return M.DATA_LOSS;default:return K()}}(nt=Vt||(Vt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ao(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return hD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=new Xt(B.comparator);function pi(){return O8}const ID=new Xt(B.comparator);function la(...e){let t=ID;for(const n of e)t=t.insert(n.key,n);return t}function OD(e){let t=ID;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function $r(){return La()}function LD(){return La()}function La(){return new Do(e=>e.toString(),(e,t)=>e.isEqual(t))}const L8=new Xt(B.comparator),N8=new Yt(B.comparator);function Z(...e){let t=N8;for(const n of e)t=t.add(n);return t}const $8=new Yt(ot);function ND(){return $8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,iu.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new gd(G.min(),r,ND(),pi(),Z())}}class iu{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new iu(i,n,Z(),Z(),Z())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,n,i,r){this.It=t,this.removedTargetIds=n,this.key=i,this.Tt=r}}class $D{constructor(t,n){this.targetId=t,this.Et=n}}class FD{constructor(t,n,i=Se.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class sS{constructor(){this.At=0,this.Rt=aS(),this.bt=Se.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=Z(),n=Z(),i=Z();return this.Rt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:K()}}),new iu(this.bt,this.Pt,t,n,i)}xt(){this.vt=!1,this.Rt=aS()}Nt(t,n){this.vt=!0,this.Rt=this.Rt.insert(t,n)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class F8{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=pi(),this.qt=oS(),this.Ut=new Yt(ot)}Kt(t){for(const n of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(n,t.Tt):this.Qt(n,t.key,t.Tt);for(const n of t.removedTargetIds)this.Qt(n,t.key,t.Tt)}jt(t){this.forEachTarget(t,n=>{const i=this.Wt(n);switch(t.state){case 0:this.zt(n)&&i.Dt(t.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(t.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(i.Ft(),i.Dt(t.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),i.Dt(t.resumeToken));break;default:K()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Bt.forEach((i,r)=>{this.zt(r)&&n(r)})}Jt(t){const n=t.targetId,i=t.Et.count,r=this.Yt(n);if(r){const s=r.target;if(ey(s))if(i===0){const o=new B(s.path);this.Qt(n,o,me.newNoDocument(o,G.min()))}else mt(i===1);else this.Xt(n)!==i&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(t){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&ey(a.target)){const l=new B(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,me.newNoDocument(l,t))}s.St&&(n.set(o,s.Ct()),s.xt())}});let i=Z();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(i=i.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(t));const r=new gd(t,n,this.Ut,this.Lt,i);return this.Lt=pi(),this.qt=oS(),this.Ut=new Yt(ot),r}Gt(t,n){if(!this.zt(t))return;const i=this.te(t,n.key)?2:0;this.Wt(t).Nt(n.key,i),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(t))}Qt(t,n,i){if(!this.zt(t))return;const r=this.Wt(t);this.te(t,n)?r.Nt(n,1):r.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(t)),i&&(this.Lt=this.Lt.insert(n,i))}removeTarget(t){this.Bt.delete(t)}Xt(t){const n=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let n=this.Bt.get(t);return n||(n=new sS,this.Bt.set(t,n)),n}ee(t){let n=this.qt.get(t);return n||(n=new Yt(ot),this.qt=this.qt.insert(t,n)),n}zt(t){const n=this.Yt(t)!==null;return n||F("WatchChangeAggregator","Detected inactive target",t),n}Yt(t){const n=this.Bt.get(t);return n&&n.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new sS),this.$t.getRemoteKeysForTarget(t).forEach(n=>{this.Qt(t,n,null)})}te(t,n){return this.$t.getRemoteKeysForTarget(t).has(n)}}function oS(){return new Xt(B.comparator)}function aS(){return new Xt(B.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),B8=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),j8=(()=>({and:"AND",or:"OR"}))();class z8{constructor(t,n){this.databaseId=t,this.wt=n}}function Hh(e,t){return e.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function VD(e,t){return e.wt?t.toBase64():t.toUint8Array()}function U8(e,t){return Hh(e,t.toTimestamp())}function Vn(e){return mt(!!e),G.fromTimestamp(function(t){const n=lr(t);return new Gt(n.seconds,n.nanos)}(e))}function K0(e,t){return function(n){return new Mt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function BD(e){const t=Mt.fromString(e);return mt(HD(t)),t}function ry(e,t){return K0(e.databaseId,t.path)}function zp(e,t){const n=BD(t);if(n.get(1)!==e.databaseId.projectId)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new B(jD(n))}function sy(e,t){return K0(e.databaseId,t)}function H8(e){const t=BD(e);return t.length===4?Mt.emptyPath():jD(t)}function oy(e){return new Mt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function jD(e){return mt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function lS(e,t,n){return{name:ry(e,t),fields:n.value.mapValue.fields}}function W8(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(l,u){return l.wt?(mt(u===void 0||typeof u=="string"),Se.fromBase64String(u||"")):(mt(u===void 0||u instanceof Uint8Array),Se.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const u=l.code===void 0?M.UNKNOWN:RD(l.code);return new U(u,l.message||"")}(o);n=new FD(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=zp(e,i.document.name),s=Vn(i.document.updateTime),o=i.document.createTime?Vn(i.document.createTime):G.min(),a=new sn({mapValue:{fields:i.document.fields}}),l=me.newFoundDocument(r,s,o,a),u=i.targetIds||[],c=i.removedTargetIds||[];n=new Pc(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=zp(e,i.document),s=i.readTime?Vn(i.readTime):G.min(),o=me.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Pc([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=zp(e,i.document),s=i.removedTargetIds||[];n=new Pc([],s,r,null)}else{if(!("filter"in t))return K();{t.filter;const i=t.filter;i.targetId;const r=i.count||0,s=new R8(r),o=i.targetId;n=new $D(o,s)}}return n}function K8(e,t){let n;if(t instanceof nu)n={update:lS(e,t.key,t.value)};else if(t instanceof MD)n={delete:ry(e,t.key)};else if(t instanceof fs)n={update:lS(e,t.key,t.data),updateMask:eK(t.fieldMask)};else{if(!(t instanceof M8))return K();n={verify:ry(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof zh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Cl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Tl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Uh)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw K()}(0,i))),t.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:U8(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:K()}(e,t.precondition)),n}function q8(e,t){return e&&e.length>0?(mt(t!==void 0),e.map(n=>function(i,r){let s=i.updateTime?Vn(i.updateTime):Vn(r);return s.isEqual(G.min())&&(s=Vn(r)),new P8(s,i.transformResults||[])}(n,t))):[]}function G8(e,t){return{documents:[sy(e,t.path)]}}function Y8(e,t){const n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=sy(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=sy(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(l.length!==0)return UD(jn.create(l,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:ws(c.field),direction:J8(c.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.wt||cd(u)?u:{value:u}}(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function X8(e){let t=H8(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){mt(i===1);const c=n.from[0];c.allDescendants?r=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=zD(c);return h instanceof jn&&mD(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new Ia(bs(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,cd(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,f=c.values||[];return new jh(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,f=c.values||[];return new jh(f,h)}(n.endAt)),v8(t,r,o,s,a,"F",l,u)}function Q8(e,t){const n=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return K()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function zD(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=bs(t.unaryFilter.field);return Wt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=bs(t.unaryFilter.field);return Wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=bs(t.unaryFilter.field);return Wt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=bs(t.unaryFilter.field);return Wt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(e):e.fieldFilter!==void 0?function(t){return Wt.create(bs(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return jn.create(t.compositeFilter.filters.map(n=>zD(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return K()}}(t.compositeFilter.op))}(e):K()}function J8(e){return V8[e]}function Z8(e){return B8[e]}function tK(e){return j8[e]}function ws(e){return{fieldPath:e.canonicalString()}}function bs(e){return ye.fromServerFormat(e.fieldPath)}function UD(e){return e instanceof Wt?function(t){if(t.op==="=="){if(Y_(t.value))return{unaryFilter:{field:ws(t.field),op:"IS_NAN"}};if(G_(t.value))return{unaryFilter:{field:ws(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Y_(t.value))return{unaryFilter:{field:ws(t.field),op:"IS_NOT_NAN"}};if(G_(t.value))return{unaryFilter:{field:ws(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ws(t.field),op:Z8(t.op),value:t.value}}}(e):e instanceof jn?function(t){const n=t.getFilters().map(i=>UD(i));return n.length===1?n[0]:{compositeFilter:{op:tK(t.op),filters:n}}}(e):K()}function eK(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function HD(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&A8(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Oa(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Oa(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=LD();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=AD(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(G.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Z())}isEqual(t){return this.batchId===t.batchId&&co(this.mutations,t.mutations,(n,i)=>nS(n,i))&&co(this.baseMutations,t.baseMutations,(n,i)=>nS(n,i))}}class q0{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){mt(t.mutations.length===i.length);let r=L8;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new q0(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(t,n,i,r,s=G.min(),o=G.min(),a=Se.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new Kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(t){this.ie=t}}function sK(e){const t=X8({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ny(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(){this.Je=new aK}addToCollectionParentIndex(t,n){return this.Je.add(n),D.resolve()}getCollectionParents(t,n){return D.resolve(this.Je.getEntries(n))}addFieldIndex(t,n){return D.resolve()}deleteFieldIndex(t,n){return D.resolve()}getDocumentsMatchingTarget(t,n){return D.resolve(null)}getIndexType(t,n){return D.resolve(0)}getFieldIndexes(t,n){return D.resolve([])}getNextCollectionGroupToUpdate(t){return D.resolve(null)}getMinOffset(t,n){return D.resolve(ar.min())}getMinOffsetFromCollectionGroup(t,n){return D.resolve(ar.min())}updateCollectionGroup(t,n,i){return D.resolve()}updateIndexEntries(t,n){return D.resolve()}}class aK{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Yt(Mt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Yt(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new go(0)}static vn(){return new go(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(){this.changes=new Do(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,me.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?D.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&Oa(i.mutation,r,bn.empty(),Gt.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,Z()).next(()=>i))}getLocalViewOfDocuments(t,n,i=Z()){const r=$r();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let o=la();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=$r();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,Z()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,r){let s=pi();const o=La(),a=La();return n.forEach((l,u)=>{const c=i.get(u.key);r.has(u.key)&&(c===void 0||c.mutation instanceof fs)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Oa(c.mutation,u,c.mutation.getFieldMask(),Gt.now())):o.set(u.key,bn.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new uK(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const i=La();let r=new Xt((o,a)=>o-a),s=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=i.get(l)||bn.empty();c=a.applyToLocalView(u,c),i.set(l,c);const h=(r.get(a.batchId)||Z()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=LD();c.forEach(f=>{if(!s.has(f)){const d=AD(n.get(f),i.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return D.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i){return function(r){return B.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):x8(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i):this.getDocumentsMatchingCollectionQuery(t,n,i)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):D.resolve($r());let a=-1,l=s;return o.next(u=>D.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?D.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,Z())).next(c=>({batchId:a,changes:OD(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new B(n)).next(i=>{let r=la();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i){const r=n.collectionGroup;let s=la();return this.indexManager.getCollectionParents(t,r).next(o=>D.forEach(o,a=>{const l=function(u,c){return new hd(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(t,l,i).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,n.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();r.get(u)===null&&(r=r.insert(u,me.newInvalidDocument(u)))});let o=la();return r.forEach((a,l)=>{const u=s.get(a);u!==void 0&&Oa(u.mutation,l,bn.empty(),Gt.now()),W0(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,n){return D.resolve(this.Zn.get(n))}saveBundleMetadata(t,n){var i;return this.Zn.set(n.id,{id:(i=n).id,version:i.version,createTime:Vn(i.createTime)}),D.resolve()}getNamedQuery(t,n){return D.resolve(this.ts.get(n))}saveNamedQuery(t,n){return this.ts.set(n.name,function(i){return{name:i.name,query:sK(i.bundledQuery),readTime:Vn(i.readTime)}}(n)),D.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(){this.overlays=new Xt(B.comparator),this.es=new Map}getOverlay(t,n){return D.resolve(this.overlays.get(n))}getOverlays(t,n){const i=$r();return D.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.oe(t,n,s)}),D.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.es.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),D.resolve()}getOverlaysForCollection(t,n,i){const r=$r(),s=n.length+1,o=new B(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return D.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Xt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let c=s.get(u.largestBatchId);c===null&&(c=$r(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=$r(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=r)););return D.resolve(a)}oe(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new iK(n,i));let s=this.es.get(n);s===void 0&&(s=Z(),this.es.set(n,s)),this.es.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.ns=new Yt(Qt.ss),this.rs=new Yt(Qt.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,n){const i=new Qt(t,n);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.cs(new Qt(t,n))}hs(t,n){t.forEach(i=>this.removeReference(i,n))}ls(t){const n=new B(new Mt([])),i=new Qt(n,t),r=new Qt(n,t+1),s=[];return this.rs.forEachInRange([i,r],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const n=new B(new Mt([])),i=new Qt(n,t),r=new Qt(n,t+1);let s=Z();return this.rs.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Qt(t,0),i=this.ns.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Qt{constructor(t,n){this.key=t,this._s=n}static ss(t,n){return B.comparator(t.key,n.key)||ot(t._s,n._s)}static os(t,n){return ot(t._s,n._s)||B.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Yt(Qt.ss)}checkEmpty(t){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nK(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.gs=this.gs.add(new Qt(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return D.resolve(o)}lookupMutationBatch(t,n){return D.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ps(i),s=r<0?0:r;return D.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(t){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Qt(n,0),r=new Qt(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],o=>{const a=this.ys(o._s);s.push(a)}),D.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Yt(ot);return n.forEach(r=>{const s=new Qt(r,0),o=new Qt(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{i=i.add(a._s)})}),D.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;B.isDocumentKey(s)||(s=s.child(""));const o=new Qt(new B(s),0);let a=new Yt(ot);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l._s)),!0)},o),D.resolve(this.Is(a))}Is(t){const n=[];return t.forEach(i=>{const r=this.ys(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){mt(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.gs;return D.forEach(n.mutations,r=>{const s=new Qt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,n){const i=new Qt(n,0),r=this.gs.firstAfterOrEqual(i);return D.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,D.resolve()}Ts(t,n){return this.ps(t)}ps(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ys(t){const n=this.ps(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(t){this.Es=t,this.docs=new Xt(B.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Es(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return D.resolve(i?i.document.mutableCopy():me.newInvalidDocument(n))}getEntries(t,n){let i=pi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():me.newInvalidDocument(r))}),D.resolve(i)}getAllFromCollection(t,n,i){let r=pi();const s=new B(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||e8(t8(l),i)<=0||(r=r.insert(l.key,l.mutableCopy()))}return D.resolve(r)}getAllFromCollectionGroup(t,n,i,r){K()}As(t,n){return D.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new gK(this)}getSize(t){return D.resolve(this.size)}}class gK extends lK{constructor(t){super(),this.Yn=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),D.waitFor(n)}getFromCache(t,n){return this.Yn.getEntry(t,n)}getAllFromCache(t,n){return this.Yn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(t){this.persistence=t,this.Rs=new Do(n=>z0(n),U0),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.bs=0,this.Ps=new G0,this.targetCount=0,this.vs=go.Pn()}forEachTarget(t,n){return this.Rs.forEach((i,r)=>n(r)),D.resolve()}getLastRemoteSnapshotVersion(t){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return D.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.bs&&(this.bs=n),D.resolve()}Dn(t){this.Rs.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.vs=new go(n),this.highestTargetId=n),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,n){return this.Dn(n),this.targetCount+=1,D.resolve()}updateTargetData(t,n){return this.Dn(n),D.resolve()}removeTargetData(t,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),D.waitFor(s).next(()=>r)}getTargetCount(t){return D.resolve(this.targetCount)}getTargetData(t,n){const i=this.Rs.get(n)||null;return D.resolve(i)}addMatchingKeys(t,n,i){return this.Ps.us(n,i),D.resolve()}removeMatchingKeys(t,n,i){this.Ps.hs(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),D.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Ps.ls(n),D.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Ps.ds(n);return D.resolve(i)}containsKey(t,n){return D.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{constructor(t,n){this.Vs={},this.overlays={},this.Ss=new B0(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new mK(this),this.indexManager=new oK,this.remoteDocumentCache=function(i){return new pK(i)}(i=>this.referenceDelegate.xs(i)),this.yt=new rK(n),this.Ns=new hK(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new fK,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Vs[t.toKey()];return i||(i=new dK(n,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,n,i){F("MemoryPersistence","Starting transaction:",t);const r=new vK(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(t,n){return D.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,n)))}}class vK extends i8{constructor(t){super(),this.currentSequenceNumber=t}}class Y0{constructor(t){this.persistence=t,this.Fs=new G0,this.$s=null}static Bs(t){return new Y0(t)}get Ls(){if(this.$s)return this.$s;throw K()}addReference(t,n,i){return this.Fs.addReference(i,n),this.Ls.delete(i.toString()),D.resolve()}removeReference(t,n,i){return this.Fs.removeReference(i,n),this.Ls.add(i.toString()),D.resolve()}markPotentiallyOrphaned(t,n){return this.Ls.add(n.toString()),D.resolve()}removeTarget(t,n){this.Fs.ls(n.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}ks(){this.$s=new Set}Os(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Ls,i=>{const r=B.fromPath(i);return this.qs(t,r).next(s=>{s||n.removeEntry(r,G.min())})}).next(()=>(this.$s=null,n.apply(t)))}updateLimboDocument(t,n){return this.qs(t,n).next(i=>{i?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(t){return 0}qs(t,n){return D.or([()=>D.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ms(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Si=i,this.Di=r}static Ci(t,n){let i=Z(),r=Z();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new X0(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(){this.xi=!1}initialize(t,n){this.Ni=t,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(t,n,i,r){return this.ki(t,n).next(s=>s||this.Oi(t,n,r,i)).next(s=>s||this.Mi(t,n))}ki(t,n){if(tS(n))return D.resolve(null);let i=di(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=ny(n,null,"F"),i=di(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=Z(...s);return this.Ni.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(t,ny(n,null,"F")):this.Bi(t,u,n,l)}))})))}Oi(t,n,i,r){return tS(n)||r.isEqual(G.min())?this.Mi(t,n):this.Ni.getDocuments(t,i).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,i,r)?this.Mi(t,n):(W_()<=st.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),iy(n)),this.Bi(t,o,n,Z6(r,-1)))})}Fi(t,n){let i=new Yt(_D(t));return n.forEach((r,s)=>{W0(t,s)&&(i=i.add(s))}),i}$i(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(t,n){return W_()<=st.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",iy(n)),this.Ni.getDocumentsMatchingQuery(t,n,ar.min())}Bi(t,n,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(t,n,i,r){this.persistence=t,this.Li=n,this.yt=r,this.qi=new Xt(ot),this.Ui=new Do(s=>z0(s),U0),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cK(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.qi))}}function xK(e,t,n,i){return new bK(e,t,n,i)}async function WD(e,t){const n=X(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Qi(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Z();for(const u of r){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(i,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function _K(e,t){const n=X(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let f=D.resolve();return h.forEach(d=>{f=f.next(()=>u.getEntry(a,d)).next(p=>{const g=l.docVersions.get(d);mt(g!==null),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let a=Z();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function KD(e){const t=X(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Cs.getLastRemoteSnapshotVersion(n))}function SK(e,t){const n=X(e),i=t.snapshotVersion;let r=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});r=n.qi;const a=[];t.targetChanges.forEach((c,h)=>{const f=r.get(h);if(!f)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.has(h)?d=d.withResumeToken(Se.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,i)),r=r.insert(h,d),function(p,g,v){return p.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,d,c)&&a.push(n.Cs.updateTargetData(s,d))});let l=pi(),u=Z();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(EK(s,o,t.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!i.isEqual(G.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(h=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(c)}return D.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.qi=r,s))}function EK(e,t,n){let i=Z(),r=Z();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let o=pi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(G.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:r}})}function kK(e,t){const n=X(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function CK(e,t){const n=X(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Cs.getTargetData(i,t).next(s=>s?(r=s,D.resolve(r)):n.Cs.allocateTargetId(i).next(o=>(r=new Kr(t,o,0,i.currentSequenceNumber),n.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.qi.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(i.targetId,i),n.Ui.set(t,i.targetId)),i})}async function ay(e,t,n){const i=X(e),r=i.qi.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!eu(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.qi=i.qi.remove(t),i.Ui.delete(r.target)}function uS(e,t,n){const i=X(e);let r=G.min(),s=Z();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=X(a),h=c.Ui.get(u);return h!==void 0?D.resolve(c.qi.get(h)):c.Cs.getTargetData(l,u)}(i,o,di(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Li.getDocumentsMatchingQuery(o,t,n?r:G.min(),n?s:Z())).next(a=>(TK(i,_8(t),a),{documents:a,Hi:s})))}function TK(e,t,n){let i=e.Ki.get(t)||G.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Ki.set(t,i)}class cS{constructor(){this.activeTargetIds=ND()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PK{constructor(){this.Lr=new cS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,n,i){this.qr[t]=n}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new cS,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{Ur(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,n,i,r,s){const o=this.ho(t,n);F("RestConnection","Sending: ",o,i);const a={};return this.lo(a,r,s),this.fo(t,o,a,i).then(l=>(F("RestConnection","Received: ",l),l),l=>{throw Qm("RestConnection",`${t} failed with error: `,l,"url: ",o,"request:",i),l})}_o(t,n,i,r,s,o){return this.ao(t,n,i,r,s)}lo(t,n,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Po,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ho(t,n){const i=DK[t];return`${this.oo}/v1/${n}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,n,i,r){return new Promise((s,o)=>{const a=new U6;a.setWithCredentials(!0),a.listenOnce(B6.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case jp.NO_ERROR:const u=a.getResponseJson();F("Connection","XHR received:",JSON.stringify(u)),s(u);break;case jp.TIMEOUT:F("Connection",'RPC "'+t+'" timed out'),o(new U(M.DEADLINE_EXCEEDED,"Request time out"));break;case jp.HTTP_ERROR:const c=a.getStatus();if(F("Connection",'RPC "'+t+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const d=function(p){const g=p.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(g)>=0?g:M.UNKNOWN}(f.status);o(new U(d,f.message))}else o(new U(M.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new U(M.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{F("Connection",'RPC "'+t+'" completed.')}});const l=JSON.stringify(r);a.send(n,"POST",l,i,15)})}wo(t,n,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=F6(),o=V6(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new z6({})),this.lo(a.initMessageHeaders,n,i),a.encodeInitMessageHeaders=!0;const l=r.join("");F("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,h=!1;const f=new MK({Hr:p=>{h?F("Connection","Not sending because WebChannel is closed:",p):(c||(F("Connection","Opening WebChannel transport."),u.open(),c=!0),F("Connection","WebChannel sending:",p),u.send(p))},Jr:()=>u.close()}),d=(p,g,v)=>{p.listen(g,y=>{try{v(y)}catch(m){setTimeout(()=>{throw m},0)}})};return d(u,Ku.EventType.OPEN,()=>{h||F("Connection","WebChannel transport opened.")}),d(u,Ku.EventType.CLOSE,()=>{h||(h=!0,F("Connection","WebChannel transport closed"),f.io())}),d(u,Ku.EventType.ERROR,p=>{h||(h=!0,Qm("Connection","WebChannel transport errored:",p),f.io(new U(M.UNAVAILABLE,"The operation could not be completed")))}),d(u,Ku.EventType.MESSAGE,p=>{var g;if(!h){const v=p.data[0];mt(!!v);const y=v,m=y.error||((g=y[0])===null||g===void 0?void 0:g.error);if(m){F("Connection","WebChannel received error:",m);const w=m.status;let b=function(_){const E=Vt[_];if(E!==void 0)return RD(E)}(w),x=m.message;b===void 0&&(b=M.INTERNAL,x="Unknown error status: "+w+" with message "+m.message),h=!0,f.io(new U(b,x)),u.close()}else F("Connection","WebChannel received:",v),f.ro(v)}}),d(o,j6.STAT_EVENT,p=>{p.stat===U_.PROXY?F("Connection","Detected buffering proxy"):p.stat===U_.NOPROXY&&F("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.so()},0),f}}function Up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(e){return new z8(e,!0)}class qD{constructor(t,n,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=n,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const n=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,n-i);r>0&&F("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t,n,i,r,s,o,a,l){this.Hs=t,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new qD(t,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(t,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,t!==4?this.xo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(fi(n.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===n&&this.Go(i,r)},i=>{t(()=>{const r=new U(M.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,n){const i=this.Ko(this.So);this.stream=this.jo(t,n),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(t){return F("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return n=>{this.Hs.enqueueAndForget(()=>this.So===t?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IK extends GD{constructor(t,n,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.yt=s}jo(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.xo.reset();const n=W8(this.yt,t),i=function(r){if(!("targetChange"in r))return G.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?G.min():s.readTime?Vn(s.readTime):G.min()}(t);return this.listener.Wo(n,i)}zo(t){const n={};n.database=oy(this.yt),n.addTarget=function(r,s){let o;const a=s.target;return o=ey(a)?{documents:G8(r,a)}:{query:Y8(r,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=VD(r,s.resumeToken):s.snapshotVersion.compareTo(G.min())>0&&(o.readTime=Hh(r,s.snapshotVersion.toTimestamp())),o}(this.yt,t);const i=Q8(this.yt,t);i&&(n.labels=i),this.Bo(n)}Ho(t){const n={};n.database=oy(this.yt),n.removeTarget=t,this.Bo(n)}}class OK extends GD{constructor(t,n,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(mt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const n=q8(t.writeResults,t.commitTime),i=Vn(t.commitTime);return this.listener.Zo(i,n)}return mt(!t.writeResults||t.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=oy(this.yt),this.Bo(t)}Xo(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>K8(this.yt,i))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK extends class{}{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,n,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(t,n,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new U(M.UNKNOWN,r.toString())})}_o(t,n,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(t,n,i,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(M.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class NK{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,t==="Online"&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(fi(n),this.ou=!1):F("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{i.enqueueAndForget(async()=>{ds(this)&&(F("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=X(a);l._u.add(4),await ru(l),l.gu.set("Unknown"),l._u.delete(4),await yd(l)}(this))})}),this.gu=new NK(i,r)}}async function yd(e){if(ds(e))for(const t of e.wu)await t(!0)}async function ru(e){for(const t of e.wu)await t(!1)}function YD(e,t){const n=X(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Z0(n)?J0(n):Mo(n).ko()&&Q0(n,t))}function XD(e,t){const n=X(e),i=Mo(n);n.du.delete(t),i.ko()&&QD(n,t),n.du.size===0&&(i.ko()?i.Fo():ds(n)&&n.gu.set("Unknown"))}function Q0(e,t){e.yu.Ot(t.targetId),Mo(e).zo(t)}function QD(e,t){e.yu.Ot(t),Mo(e).Ho(t)}function J0(e){e.yu=new F8({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>e.du.get(t)||null}),Mo(e).start(),e.gu.uu()}function Z0(e){return ds(e)&&!Mo(e).No()&&e.du.size>0}function ds(e){return X(e)._u.size===0}function JD(e){e.yu=void 0}async function FK(e){e.du.forEach((t,n)=>{Q0(e,t)})}async function VK(e,t){JD(e),Z0(e)?(e.gu.hu(t),J0(e)):e.gu.set("Unknown")}async function BK(e,t,n){if(e.gu.set("Online"),t instanceof FD&&t.state===2&&t.cause)try{await async function(i,r){const s=r.cause;for(const o of r.targetIds)i.du.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.du.delete(o),i.yu.removeTarget(o))}(e,t)}catch(i){F("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Wh(e,i)}else if(t instanceof Pc?e.yu.Kt(t):t instanceof $D?e.yu.Jt(t):e.yu.jt(t),!n.isEqual(G.min()))try{const i=await KD(e.localStore);n.compareTo(i)>=0&&await function(r,s){const o=r.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=r.du.get(l);u&&r.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=r.du.get(a);if(!l)return;r.du.set(a,l.withResumeToken(Se.EMPTY_BYTE_STRING,l.snapshotVersion)),QD(r,a);const u=new Kr(l.target,a,1,l.sequenceNumber);Q0(r,u)}),r.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){F("RemoteStore","Failed to raise snapshot:",i),await Wh(e,i)}}async function Wh(e,t,n){if(!eu(t))throw t;e._u.add(1),await ru(e),e.gu.set("Offline"),n||(n=()=>KD(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{F("RemoteStore","Retrying IndexedDB access"),await n(),e._u.delete(1),await yd(e)})}function ZD(e,t){return t().catch(n=>Wh(e,n,t))}async function vd(e){const t=X(e),n=ur(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;jK(t);)try{const r=await kK(t.localStore,i);if(r===null){t.fu.length===0&&n.Fo();break}i=r.batchId,zK(t,r)}catch(r){await Wh(t,r)}tM(t)&&eM(t)}function jK(e){return ds(e)&&e.fu.length<10}function zK(e,t){e.fu.push(t);const n=ur(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function tM(e){return ds(e)&&!ur(e).No()&&e.fu.length>0}function eM(e){ur(e).start()}async function UK(e){ur(e).eu()}async function HK(e){const t=ur(e);for(const n of e.fu)t.Xo(n.mutations)}async function WK(e,t,n){const i=e.fu.shift(),r=q0.from(i,t,n);await ZD(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await vd(e)}async function KK(e,t){t&&ur(e).Yo&&await async function(n,i){if(r=i.code,I8(r)&&r!==M.ABORTED){const s=n.fu.shift();ur(n).Mo(),await ZD(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await vd(n)}var r}(e,t),tM(e)&&eM(e)}async function fS(e,t){const n=X(e);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");const i=ds(n);n._u.add(3),await ru(n),i&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n._u.delete(3),await yd(n)}async function qK(e,t){const n=X(e);t?(n._u.delete(2),await yd(n)):t||(n._u.add(2),await ru(n),n.gu.set("Unknown"))}function Mo(e){return e.pu||(e.pu=function(t,n,i){const r=X(t);return r.su(),new IK(n,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(e.datastore,e.asyncQueue,{Yr:FK.bind(null,e),Zr:VK.bind(null,e),Wo:BK.bind(null,e)}),e.wu.push(async t=>{t?(e.pu.Mo(),Z0(e)?J0(e):e.gu.set("Unknown")):(await e.pu.stop(),JD(e))})),e.pu}function ur(e){return e.Iu||(e.Iu=function(t,n,i){const r=X(t);return r.su(),new OK(n,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(e.datastore,e.asyncQueue,{Yr:UK.bind(null,e),Zr:KK.bind(null,e),tu:HK.bind(null,e),Zo:WK.bind(null,e)}),e.wu.push(async t=>{t?(e.Iu.Mo(),await vd(e)):(await e.Iu.stop(),e.fu.length>0&&(F("RemoteStore",`Stopping write stream with ${e.fu.length} pending writes`),e.fu=[]))})),e.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,i,r,s){const o=Date.now()+i,a=new tw(t,n,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(M.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ew(e,t){if(fi("AsyncQueue",`${t}: ${e}`),eu(e))return new U(M.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t){this.comparator=t?(n,i)=>t(n,i)||B.comparator(n.key,i.key):(n,i)=>B.comparator(n.key,i.key),this.keyedMap=la(),this.sortedSet=new Xt(this.comparator)}static emptySet(t){return new Gs(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Gs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Gs;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.Tu=new Xt(B.comparator)}track(t){const n=t.doc.key,i=this.Tu.get(n);i?t.type!==0&&i.type===3?this.Tu=this.Tu.insert(n,t):t.type===3&&i.type!==1?this.Tu=this.Tu.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Tu=this.Tu.remove(n):t.type===1&&i.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:t.doc}):K():this.Tu=this.Tu.insert(n,t)}Eu(){const t=[];return this.Tu.inorderTraversal((n,i)=>{t.push(i)}),t}}class mo{constructor(t,n,i,r,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new mo(t,n,Gs.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(){this.Au=void 0,this.listeners=[]}}class YK{constructor(){this.queries=new Do(t=>xD(t),fd),this.onlineState="Unknown",this.Ru=new Set}}async function XK(e,t){const n=X(e),i=t.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new GK),r)try{s.Au=await n.onListen(i)}catch(o){const a=ew(o,`Initialization of query '${iy(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.listeners.push(t),t.bu(n.onlineState),s.Au&&t.Pu(s.Au)&&nw(n)}async function QK(e,t){const n=X(e),i=t.query;let r=!1;const s=n.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=s.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function JK(e,t){const n=X(e);let i=!1;for(const r of t){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(r)&&(i=!0);o.Au=r}}i&&nw(n)}function ZK(e,t,n){const i=X(e),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(t)}function nw(e){e.Ru.forEach(t=>{t.next()})}class t9{constructor(t,n,i){this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new mo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),n=!0):this.Cu(t,this.onlineState)&&(this.xu(t),n=!0),this.Su=t,n}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),n=!0),n}Cu(t,n){if(!t.fromCache)return!0;const i=n!=="Offline";return(!this.options.Nu||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Du(t){if(t.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(t){t=mo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(t){this.key=t}}class iM{constructor(t){this.key=t}}class e9{constructor(t,n){this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Z(),this.mutatedKeys=Z(),this.Gu=_D(t),this.Qu=new Gs(this.Gu)}get ju(){return this.qu}Wu(t,n){const i=n?n.zu:new dS,r=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((c,h)=>{const f=r.get(c),d=W0(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let v=!1;f&&d?f.data.isEqual(d.data)?p!==g&&(i.track({type:3,doc:d}),v=!0):this.Hu(f,d)||(i.track({type:2,doc:d}),v=!0,(l&&this.Gu(d,l)>0||u&&this.Gu(d,u)<0)&&(a=!0)):!f&&d?(i.track({type:0,doc:d}),v=!0):f&&!d&&(i.track({type:1,doc:f}),v=!0,(l||u)&&(a=!0)),v&&(d?(o=o.add(d),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),i.track({type:1,doc:c})}return{Qu:o,zu:i,$i:a,mutatedKeys:s}}Hu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const s=t.zu.Eu();s.sort((u,c)=>function(h,f){const d=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return d(h)-d(f)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(i);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new mo(this.query,t.Qu,r,s,t.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new dS,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=Z(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const n=[];return t.forEach(i=>{this.Ku.has(i)||n.push(new iM(i))}),this.Ku.forEach(i=>{t.has(i)||n.push(new nM(i))}),n}tc(t){this.qu=t.Hi,this.Ku=Z();const n=this.Wu(t.documents);return this.applyChanges(n,!0)}ec(){return mo.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class n9{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class i9{constructor(t){this.key=t,this.nc=!1}}class r9{constructor(t,n,i,r,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Do(a=>xD(a),fd),this.rc=new Map,this.oc=new Set,this.uc=new Xt(B.comparator),this.cc=new Map,this.ac=new G0,this.hc={},this.lc=new Map,this.fc=go.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function s9(e,t){const n=g9(e);let i,r;const s=n.ic.get(t);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const o=await CK(n.localStore,di(t));n.isPrimaryClient&&YD(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=await o9(n,t,i,a==="current",o.resumeToken)}return r}async function o9(e,t,n,i,r){e._c=(h,f,d)=>async function(p,g,v,y){let m=g.view.Wu(v);m.$i&&(m=await uS(p.localStore,g.query,!1).then(({documents:x})=>g.view.Wu(x,m)));const w=y&&y.targetChanges.get(g.targetId),b=g.view.applyChanges(m,p.isPrimaryClient,w);return gS(p,g.targetId,b.Xu),b.snapshot}(e,h,f,d);const s=await uS(e.localStore,t,!0),o=new e9(t,s.Hi),a=o.Wu(s.documents),l=iu.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),u=o.applyChanges(a,e.isPrimaryClient,l);gS(e,n,u.Xu);const c=new n9(t,n,o);return e.ic.set(t,c),e.rc.has(n)?e.rc.get(n).push(t):e.rc.set(n,[t]),u.snapshot}async function a9(e,t){const n=X(e),i=n.ic.get(t),r=n.rc.get(i.targetId);if(r.length>1)return n.rc.set(i.targetId,r.filter(s=>!fd(s,t))),void n.ic.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await ay(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),XD(n.remoteStore,i.targetId),ly(n,i.targetId)}).catch(tu)):(ly(n,i.targetId),await ay(n.localStore,i.targetId,!0))}async function l9(e,t,n){const i=m9(e);try{const r=await function(s,o){const a=X(s),l=Gt.now(),u=o.reduce((f,d)=>f.add(d.key),Z());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let d=pi(),p=Z();return a.Gi.getEntries(f,u).next(g=>{d=g,d.forEach((v,y)=>{y.isValidDocument()||(p=p.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,d)).next(g=>{c=g;const v=[];for(const y of o){const m=D8(y,c.get(y.key).overlayedDocument);m!=null&&v.push(new fs(y.key,m,bD(m.value.mapValue),si.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,v,o)}).next(g=>{h=g;const v=g.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(f,g.batchId,v)})}).then(()=>({batchId:h.batchId,changes:OD(c)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new Xt(ot)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(i,r.batchId,n),await su(i,r.changes),await vd(i.remoteStore)}catch(r){const s=ew(r,"Failed to persist write");n.reject(s)}}async function rM(e,t){const n=X(e);try{const i=await SK(n.localStore,t);t.targetChanges.forEach((r,s)=>{const o=n.cc.get(s);o&&(mt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.nc=!0:r.modifiedDocuments.size>0?mt(o.nc):r.removedDocuments.size>0&&(mt(o.nc),o.nc=!1))}),await su(n,i,t)}catch(i){await tu(i)}}function pS(e,t,n){const i=X(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ic.forEach((s,o)=>{const a=o.view.bu(t);a.snapshot&&r.push(a.snapshot)}),function(s,o){const a=X(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.bu(o)&&(l=!0)}),l&&nw(a)}(i.eventManager,t),r.length&&i.sc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function u9(e,t,n){const i=X(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.cc.get(t),s=r&&r.key;if(s){let o=new Xt(B.comparator);o=o.insert(s,me.newNoDocument(s,G.min()));const a=Z().add(s),l=new gd(G.min(),new Map,new Yt(ot),o,a);await rM(i,l),i.uc=i.uc.remove(s),i.cc.delete(t),iw(i)}else await ay(i.localStore,t,!1).then(()=>ly(i,t,n)).catch(tu)}async function c9(e,t){const n=X(e),i=t.batch.batchId;try{const r=await _K(n.localStore,t);oM(n,i,null),sM(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await su(n,r)}catch(r){await tu(r)}}async function h9(e,t,n){const i=X(e);try{const r=await function(s,o){const a=X(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(mt(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(i.localStore,t);oM(i,t,n),sM(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await su(i,r)}catch(r){await tu(r)}}function sM(e,t){(e.lc.get(t)||[]).forEach(n=>{n.resolve()}),e.lc.delete(t)}function oM(e,t,n){const i=X(e);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function ly(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.rc.get(t))e.ic.delete(i),n&&e.sc.wc(i,n);e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach(i=>{e.ac.containsKey(i)||aM(e,i)})}function aM(e,t){e.oc.delete(t.path.canonicalString());const n=e.uc.get(t);n!==null&&(XD(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),iw(e))}function gS(e,t,n){for(const i of n)i instanceof nM?(e.ac.addReference(i.key,t),f9(e,i)):i instanceof iM?(F("SyncEngine","Document no longer in limbo: "+i.key),e.ac.removeReference(i.key,t),e.ac.containsKey(i.key)||aM(e,i.key)):K()}function f9(e,t){const n=t.key,i=n.path.canonicalString();e.uc.get(n)||e.oc.has(i)||(F("SyncEngine","New document in limbo: "+n),e.oc.add(i),iw(e))}function iw(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){const t=e.oc.values().next().value;e.oc.delete(t);const n=new B(Mt.fromString(t)),i=e.fc.next();e.cc.set(i,new i9(n)),e.uc=e.uc.insert(n,i),YD(e.remoteStore,new Kr(di(H0(n.path)),i,2,B0.at))}}async function su(e,t,n){const i=X(e),r=[],s=[],o=[];i.ic.isEmpty()||(i.ic.forEach((a,l)=>{o.push(i._c(l,t,n).then(u=>{if((u||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){r.push(u);const c=X0.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),i.sc.Wo(r),await async function(a,l){const u=X(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>D.forEach(l,h=>D.forEach(h.Si,f=>u.persistence.referenceDelegate.addReference(c,h.targetId,f)).next(()=>D.forEach(h.Di,f=>u.persistence.referenceDelegate.removeReference(c,h.targetId,f)))))}catch(c){if(!eu(c))throw c;F("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const f=u.qi.get(h),d=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(d);u.qi=u.qi.insert(h,p)}}}(i.localStore,s))}async function d9(e,t){const n=X(e);if(!n.currentUser.isEqual(t)){F("SyncEngine","User change. New user:",t.toKey());const i=await WD(n.localStore,t);n.currentUser=t,function(r,s){r.lc.forEach(o=>{o.forEach(a=>{a.reject(new U(M.CANCELLED,s))})}),r.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await su(n,i.ji)}}function p9(e,t){const n=X(e),i=n.cc.get(t);if(i&&i.nc)return Z().add(i.key);{let r=Z();const s=n.rc.get(t);if(!s)return r;for(const o of s){const a=n.ic.get(o);r=r.unionWith(a.view.ju)}return r}}function g9(e){const t=X(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rM.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=p9.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=u9.bind(null,t),t.sc.Wo=JK.bind(null,t.eventManager),t.sc.wc=ZK.bind(null,t.eventManager),t}function m9(e){const t=X(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=c9.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=h9.bind(null,t),t}class y9{constructor(){this.synchronizeTabs=!1}async initialize(t){this.yt=md(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),await this.persistence.start(),this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore)}Tc(t,n){return null}Ec(t,n){return null}Ic(t){return xK(this.persistence,new wK,t.initialUser,this.yt)}yc(t){return new yK(Y0.Bs,this.yt)}gc(t){return new PK}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class v9{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>pS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=d9.bind(null,this.syncEngine),await qK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new YK}createDatastore(t){const n=md(t.databaseInfo.databaseId),i=(r=t.databaseInfo,new RK(r));var r;return function(s,o,a,l){return new LK(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return n=this.localStore,i=this.datastore,r=t.asyncQueue,s=a=>pS(this.syncEngine,a,0),o=hS.C()?new hS:new AK,new $K(n,i,r,s,o);var n,i,r,s,o}createSyncEngine(t,n){return function(i,r,s,o,a,l,u){const c=new r9(i,r,s,o,a,l);return u&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=X(t);F("RemoteStore","RemoteStore shutting down."),n._u.add(5),await ru(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(e,t,n){if(!n)throw new U(M.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function b9(e,t,n,i){if(t===!0&&i===!0)throw new U(M.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function mS(e){if(!B.isDocumentKey(e))throw new U(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function rw(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":K()}function Pl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new U(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rw(e);throw new U(M.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=new Map;class vS{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new U(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new U(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,b9("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new U(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vS(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new H6;switch(n.type){case"gapi":const i=n.client;return new G6(i,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new U(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=yS.get(t);n&&(F("ComponentProvider","Removing Datastore"),yS.delete(t),n.terminate())}(this),Promise.resolve()}}function x9(e,t,n,i={}){var r;const s=(e=Pl(e,sw))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==t&&Qm("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),i.mockUserToken){let o,a;if(typeof i.mockUserToken=="string")o=i.mockUserToken,a=pe.MOCK_USER;else{o=IP(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new U(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new pe(l)}e._authCredentials=new W6(new uD(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Al(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ln(this.firestore,t,this._key)}}class ow{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ow(this.firestore,t,this._query)}}class Al extends ow{constructor(t,n,i){super(t,n,H0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ln(this.firestore,null,new B(t))}withConverter(t){return new Al(this.firestore,t,this._path)}}function lM(e,t,...n){if(e=or(e),arguments.length===1&&(t=cD.R()),w9("doc","path",t),e instanceof sw){const i=Mt.fromString(t,...n);return mS(i),new ln(e,null,new B(i))}{if(!(e instanceof ln||e instanceof Al))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Mt.fromString(t,...n));return mS(i),new ln(e.firestore,e instanceof Al?e.converter:null,new B(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):fi("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(t,n,i,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=pe.UNAUTHENTICATED,this.clientId=cD.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{F("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(F("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=ew(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function E9(e,t){e.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await WD(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function k9(e,t){e.asyncQueue.verifyOperationInProgress();const n=await C9(e);F("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener(r=>fS(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,s)=>fS(t.remoteStore,s)),e.onlineComponents=t}async function C9(e){return e.offlineComponents||(F("FirestoreClient","Using default OfflineComponentProvider"),await E9(e,new y9)),e.offlineComponents}async function uM(e){return e.onlineComponents||(F("FirestoreClient","Using default OnlineComponentProvider"),await k9(e,new v9)),e.onlineComponents}function T9(e){return uM(e).then(t=>t.syncEngine)}async function P9(e){const t=await uM(e),n=t.eventManager;return n.onListen=s9.bind(null,t.syncEngine),n.onUnlisten=a9.bind(null,t.syncEngine),n}function A9(e,t,n={}){const i=new Qi;return e.asyncQueue.enqueueAndForget(async()=>function(r,s,o,a,l){const u=new _9({next:h=>{s.enqueueAndForget(()=>QK(r,c));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new U(M.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new U(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new t9(H0(o.path),u,{includeMetadataChanges:!0,Nu:!0});return XK(r,c)}(await P9(e),e.asyncQueue,t,n,i)),i.promise}class D9{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new qD(this,"async_queue_retry"),this.Wc=()=>{const n=Up();n&&F("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const t=Up();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const n=Up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Qi;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(t){if(!eu(t))throw t;F("AsyncQueue","Operation failed with retryable error: "+t)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(t){const n=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{this.Kc=i,this.Gc=!1;const r=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(i);throw fi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Gc=!1,i))));return this.Bc=n,n}enqueueAfterDelay(t,n,i){this.zc(),this.jc.indexOf(t)>-1&&(n=0);const r=tw.createAndSchedule(this,t,n,i,s=>this.Yc(s));return this.Uc.push(r),r}zc(){this.Kc&&K()}verifyOperationInProgress(){}async Xc(){let t;do t=this.Bc,await t;while(t!==this.Bc)}Zc(t){for(const n of this.Uc)if(n.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.Uc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const n=this.Uc.indexOf(t);this.Uc.splice(n,1)}}class aw extends sw{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new D9,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hM(this),this._firestoreClient.terminate()}}function M9(e,t){const n=typeof e=="object"?e:jP(),i=typeof e=="string"?e:t||"(default)",r=FP(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=RP("firestore");s&&x9(r,...s)}return r}function cM(e){return e._firestoreClient||hM(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hM(e){var t;const n=e._freezeSettings(),i=function(r,s,o,a){return new r8(r,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new S9(e._authCredentials,e._appCheckCredentials,e._queue,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new yo(Se.fromBase64String(t))}catch(n){throw new U(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new yo(Se.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new U(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new U(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new U(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ot(this._lat,t._lat)||ot(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=/^__.*__$/;class I9{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new fs(t,this.data,this.fieldMask,n,this.fieldTransforms):new nu(t,this.data,n,this.fieldTransforms)}}function dM(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class cw{constructor(t,n,i,r,s,o){this.settings=t,this.databaseId=n,this.yt=i,this.ignoreUndefinedProperties=r,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new cw(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return Kh(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(t.length===0)throw this.ha("Document fields must not be empty");if(dM(this.sa)&&R9.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class O9{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=i||md(t)}da(t,n,i,r=!1){return new cw({sa:t,methodName:n,fa:i,path:ye.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function L9(e){const t=e._freezeSettings(),n=md(e._databaseId);return new O9(e._databaseId,!!t.ignoreUndefinedProperties,n)}function N9(e,t,n,i,r,s={}){const o=e.da(s.merge||s.mergeFields?2:0,t,n,r);yM("Data must be an object, but it was:",o,i);const a=gM(i,o);let l,u;if(s.merge)l=new bn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=$9(t,h,n);if(!o.contains(f))throw new U(M.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);V9(c,f)||c.push(f)}l=new bn(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new I9(new sn(a),l,u)}function pM(e,t){if(mM(e=or(e)))return yM("Unsupported field value:",t,e),gM(e,t);if(e instanceof fM)return function(n,i){if(!dM(i.sa))throw i.ha(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&t.sa!==4)throw t.ha("Nested arrays are not supported");return function(n,i){const r=[];let s=0;for(const o of n){let a=pM(o,i.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),s++}return{arrayValue:{values:r}}}(e,t)}return function(n,i){if((n=or(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return E8(i.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=Gt.fromDate(n);return{timestampValue:Hh(i.yt,r)}}if(n instanceof Gt){const r=new Gt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Hh(i.yt,r)}}if(n instanceof uw)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof yo)return{bytesValue:VD(i.yt,n._byteString)};if(n instanceof ln){const r=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:K0(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.ha(`Unsupported field value: ${rw(n)}`)}(e,t)}function gM(e,t){const n={};return hD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ao(e,(i,r)=>{const s=pM(r,t.ra(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function mM(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Gt||e instanceof uw||e instanceof yo||e instanceof ln||e instanceof fM)}function yM(e,t,n){if(!mM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=rw(n);throw i==="an object"?t.ha(e+" a custom object"):t.ha(e+" "+i)}}function $9(e,t,n){if((t=or(t))instanceof lw)return t._internalPath;if(typeof t=="string")return vM(e,t);throw Kh("Field path arguments must be of type string or ",e,!1,void 0,n)}const F9=new RegExp("[~\\*/\\[\\]]");function vM(e,t,n){if(t.search(F9)>=0)throw Kh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new lw(...t.split("."))._internalPath}catch{throw Kh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Kh(e,t,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new U(M.INVALID_ARGUMENT,a+e+l)}function V9(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new B9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(bM("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B9 extends wM{data(){return super.data()}}function bM(e,t){return typeof t=="string"?vM(e,t):t instanceof lw?t._internalPath:t._delegate._internalPath}class j9{convertValue(t,n="none"){switch(rs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Bt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ho(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw K()}}convertObject(t,n){const i={};return Ao(t.fields,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(t){return new uw(Bt(t.latitude),Bt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=dD(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(El(t));default:return null}}convertTimestamp(t){const n=lr(t);return new Gt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Mt.fromString(t);mt(HD(i));const r=new Sl(i.get(1),i.get(3)),s=new B(i.popFirst(5));return r.isEqual(n)||fi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xM extends wM{constructor(t,n,i,r,s,o){super(t,n,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new H9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(bM("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class H9 extends xM{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(e){e=Pl(e,ln);const t=Pl(e.firestore,aw);return A9(cM(t),e._key).then(n=>Y9(t,e,n))}class K9 extends j9{constructor(t){super(),this.firestore=t}convertBytes(t){return new yo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function q9(e,t,n){e=Pl(e,ln);const i=Pl(e.firestore,aw),r=z9(e.converter,t,n);return G9(i,[N9(L9(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,si.none())])}function G9(e,t){return function(n,i){const r=new Qi;return n.asyncQueue.enqueueAndForget(async()=>l9(await T9(n),i,r)),r.promise}(cM(e),t)}function Y9(e,t,n){const i=n.docs.get(t._key),r=new K9(e);return new xM(e,r,t._key,i,new U9(n.hasPendingWrites,n.fromCache),t.converter)}(function(e,t=!0){(function(n){Po=n})(VP),gl(new lo("firestore",(n,{instanceIdentifier:i,options:r})=>{const s=n.getProvider("app").getImmediate(),o=new aw(new K6(n.getProvider("auth-internal")),new X6(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new U(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(a.options.projectId,l)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Xi(H_,"3.8.1",e),Xi(H_,"3.8.1","esm2017")})();const X9={apiKey:"AIzaSyBvODCl8G9VGLUKLWPzdmqwoRF7CPm67-w",authDomain:"shoppingfy-1f789.firebaseapp.com",projectId:"shoppingfy-1f789",storageBucket:"shoppingfy-1f789.appspot.com",messagingSenderId:"199838555163",appId:"1:199838555163:web:b64c65c7d512074ab0acbe"},_M=BP(X9),Q9=NW(_M),SM=M9(_M);function J9({type:e,label:t,placeholder:n,textarea:i,children:r,onFocus:s,onBlur:o,className:a,readOnly:l,value:u},c){const h=S.useId();return H("label",{htmlFor:h,className:`input ${a}`,children:[t,r,i?C("textarea",{placeholder:n,onFocus:s,onBlur:o,ref:c}):C("input",{readOnly:l,type:e,id:h,placeholder:n,onFocus:s,onBlur:o,value:u,ref:c})]})}const Yu=gi.forwardRef(J9);function ni({children:e,onClick:t,style:n}){return C("button",{onClick:t,className:"button",style:{backgroundColor:n.bg,color:n.color},children:e})}ni.defaultProps={style:{bg:"#fff",color:"#000"}};const Z9="/assets/xmark-solid-80f8600c.svg";function tq({navShown:e,setAsideState:t,setNewItem:n}){const i=S.useRef(),r=S.useRef(),s=S.useRef(),o=S.useRef(),a=S.useRef(),l=S.useId(),u=$l(p=>Object.keys(p.items)),c=LW(Q9,"practise"),h=function(p){const g=i.current.children;Array.from(g).map(v=>v.classList.remove("active")),p.target.classList.add("active"),a.current.value=p.target.textContent},f=function(){if(r.current.value.trim()===""){r.current.focus();return}if(a.current.value.trim()===""){a.current.focus();return}n({name:r.current.value,url:o.current.value,note:s.current.value,category:a.current.value}),o.current.readOnly=!1,t("final")},d=async function(p){const g=p.target.files[0];if(console.log(g),g.type.slice(0,5)!=="image"){console.error("The selected file is not an image");return}o.current.readOnly=!0;try{const v=await IW(c,g);console.log(v);const y=await OW(v.ref);o.current.value=y}catch(v){console.log(g),console.dir(v)}};return C(ko.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",duration:.25},className:"addItem",style:{display:e?"block":"none"},children:H("div",{className:"container",children:[C("h2",{children:"Add a new item"}),C(Yu,{ref:r,label:"name",placeholder:"Enter a name"},se()),C(Yu,{ref:s,textarea:!0,placeholder:"Enter a note",label:"Note (optional)"},se()),C(Yu,{ref:o,label:"Image (optional)",placeholder:"Enter a url",children:H("label",{htmlFor:l,className:"upload",children:["Or upload an image",C("input",{type:"file",id:l,onChange:d})]})},se()),C(Yu,{ref:a,className:"category",label:"Category",readOnly:!0,placeholder:"Enter a category",onFocus:()=>i.current.classList.add("visible"),onBlur:()=>{setTimeout(()=>i.current.classList.remove("visible"),500)},children:C("img",{src:Z9,alt:"cancel"})},se()),C("div",{className:"drop-down",ref:i,children:u.map(p=>C("p",{onClick:h,children:p},se()))}),H("div",{className:"button-container",children:[C(ni,{onClick:()=>{t("list"),o.current.readOnly=!1},style:{bg:"transparent"},children:"cancel"}),C(ni,{onClick:f,style:{bg:"#F9A109",color:"#fff"},children:"Save"})]})]})})}const EM="/assets/arrow-left-20c10350.svg";function eq({navShown:e,newItem:t,setAsideState:n}){const i=If(),r=function(){i(Br.items.addItem({category:t.category,item:t.name})),n("list")};return C(ko.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",duration:.25},className:"item-preview",style:{display:e?"block":"none"},children:H("div",{className:"container",children:[H("div",{onClick:()=>n("add"),className:"back-btn",children:[C("img",{src:EM,alt:"back"}),C("p",{children:"back"})]}),C("img",{src:t.url||`https://source.unsplash.com/random/?${t.name.replace(" ",",")}} alt="food image" className="placeholder`}),C("h3",{children:"name"}),C("p",{children:t.name}),C("h3",{children:"category"}),C("p",{children:t.category}),C("h3",{children:"note"}),C("p",{children:t.note||`Nutrient-dense foods are those that provide substantial amounts of
          vitamins, minerals and other nutrients with relatively few calories.
          One-third of a medium avocado (50 g) has 80 calories and contributes
          nearly 20 vitamins and minerals, making it a great nutrient-dense food
          choice.`}),H("div",{className:"btn-container",children:[C(ni,{onClick:()=>n("list"),style:{bg:"transparent"},children:"delete"}),C(ni,{onClick:r,style:{bg:"#F9A109",color:"#fff"},children:"Add to list"})]})]})})}const nq="/assets/logo-5b151dc7.svg",iq="/assets/cart-c8539b59.svg",rq="/assets/list-09fa9a33.svg",sq="/assets/poll-2d85d8da.svg",oq="/assets/rotate-922f8a36.svg";function aq({setNavShown:e}){const t=$l(n=>Object.entries(n.items).map(r=>r[1].map(s=>s.count!==0)).flat().filter(r=>r).length);return H("nav",{className:"navigation",children:[C("img",{src:nq,alt:"logo",className:"logo"}),H("div",{className:"pages",children:[C(qd,{to:"/",children:C("img",{src:rq,alt:"list",title:"items"})}),C(qd,{to:"/history",children:C("img",{src:oq,alt:"history",title:"history"})}),C(qd,{to:"/statistics",children:C("img",{src:sq,alt:"statistics",title:"statistics"})})]}),H("div",{className:"cart",onClick:()=>e(n=>!n),children:[C("p",{children:t}),C("img",{src:iq,alt:"cart",className:"cart__img"})]})]})}const lq="/assets/source-0de770c6.svg",uq="/assets/shopping_app-f057a948.svg",cq="/assets/pen-solid-7596dc6b.svg";const hq="/assets/check-solid-ad87b899.svg",fq="/assets/minus-solid-96f53c78.svg";function dq({item:e,itemCount:t,selected:n}){const i=If();return H("div",{className:"items",children:[C("div",{className:"checkbox",onClick:r=>{const s=r.target.parentElement.closest(".items-container").firstElementChild;i(Br.items.toggleChecked({category:s.textContent,item:e}))},children:n&&C("img",{src:hq,alt:"check"})}),C("p",{style:{textDecoration:n?"line-through":"none"},children:e}),H("p",{className:"item-count",children:[t," pcs"," ",C("img",{src:fq,alt:"minus",onClick:r=>{const s=r.target.parentElement.closest(".items-container").firstElementChild;i(Br.items.removeItem({item:e,category:s.textContent}))}})]})]})}function pq({navShown:e,setAsideState:t,clickedEvent:n,setClickedEvent:i}){const r=S.useId(),s=Nl(),o=S.useRef(),a=If(),l=$l(h=>Object.entries(h.items)),u=l.every(h=>h[1].every(f=>f.count===0)),c=async function(){if(!u&&o.current.value.trim()){const h=new Date,f=new Intl.DateTimeFormat(["en","GB"]).format(h).split("/"),[d,,p]=new Intl.DateTimeFormat("en-GB",{weekday:"short",month:"long"}).format(h).split(" "),g=Date.now();a(Br.events.addEvent({day:`${d} ${f.join(".")}`,state:"pending",name:o.current.value,date:`${p.slice(0,-1)} ${f[2]}`,id:g}));const v=l.map(([y,m])=>{const w=m.filter(b=>b.count>0);return w.length?[y,w]:[]}).filter(y=>y.length!==0);try{const y=await q9(lM(SM,"selectedItems",`${g}`),{name:o.current.value,day:`${d} ${f.join(".")}`,...Object.fromEntries(v)})}catch(y){console.log(y.message)}s("/history")}};return C(ko.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",duration:.25},className:"shopping_list",style:{display:e?"block":"none"},children:H("div",{className:"container",children:[H("div",{className:"hero",children:[C("img",{src:lq,alt:"add-item"}),H("div",{children:[C("p",{children:"Didn’t find what you need?"}),C(ni,{onClick:()=>t("add"),children:"Add Item"})]})]}),u&&C("p",{className:"no-items",children:"No items"}),H("div",{className:"container",children:[H("div",{className:"heading",children:[C("p",{children:"Shopping list"}),C("img",{src:cq,alt:"add-item"})]}),l.map(h=>H("div",{className:"items-container",children:[C("h3",{children:h[0]}),h[1].map(f=>{if(f.count!==0)return C(dq,{item:f.item,itemCount:f.count,selected:f.checked,toggleSelect:f.checkToggle},se())})]},se()))]}),H("div",{className:`input ${u?"empty":""}`,children:[u&&C("img",{src:uq,alt:"shopper"}),n.length?H("label",{htmlFor:`a${r}`,className:"btn-container",children:[C(ni,{onClick:()=>{a(Br.events.editStatus({id:n[0],status:"cancelled",date:n[1]})),i([])},children:"cancel"}),C(ni,{onClick:()=>{a(Br.events.editStatus({id:n[0],status:"completed",date:n[1]})),i([])},style:{bg:"#56CCF2",color:"#fff"},children:"Complete"})]}):H("label",{htmlFor:r,children:[C("input",{type:"text",id:r,placeholder:"Enter a name",ref:o,disabled:u}),C(ni,{onClick:c,style:{bg:u?"#C1C1C4":"#F9A109",color:"#FFFFFF"},children:"Save"})]})]})]})})}function gq({item:e,count:t}){return H("div",{className:"event",children:[C("p",{className:"event__item",children:e}),H("p",{className:"event__count",children:[t," pcs"]})]})}let Xu;function mq(){const e=jO(),t=Nl(),[n,i]=S.useState();return S.useEffect(()=>{(async()=>{const r=lM(SM,"selectedItems",`${e.id.slice(1)}`),s=await W9(r);s.exists()?(Xu=Object.entries(s.data()).filter(o=>!["name","day"].includes(o[0])),i(s.data())):console.log("No such document!")})()},[]),C("div",{className:"event-info",children:H("div",{className:"container",children:[H("div",{className:"back-btn",onClick:()=>t(-1),children:[C("img",{src:EM,alt:"back"}),C("p",{children:"back"})]}),C("h2",{children:n==null?void 0:n.name}),H("div",{className:"date",children:[C("img",{src:TT,alt:"calender"}),C("p",{children:n==null?void 0:n.day})]}),C("div",{className:"events",children:Xu==null?void 0:Xu.map(r=>H("div",{children:[C("h3",{children:r[0]}),r[1].map(s=>C(gq,{...s},se()))]},se()))})]})})}function yq(){const[e,t]=S.useState(!1),[n,i]=S.useState("list"),[r,s]=S.useState({}),[o,a]=S.useState([]),l=Ll();return S.useEffect(()=>{t(!1)},[l]),C("main",{children:H(LB,{children:[C(aq,{navShown:e,setNavShown:t},se()),H(ZO,{location:l,children:[C(ys,{path:"/",element:C(GB,{navShown:e,setNavShown:t})}),C(ys,{path:"/history",element:C(UB,{setClickedEvent:a,navShown:e})}),C(ys,{path:"/history/:id",element:C(mq,{})}),C(ys,{path:"/statistics",element:C(r4,{navShown:e})}),C(ys,{path:"*",element:C(QO,{to:"/"})})]},l.path),n==="list"?C(pq,{navShown:e,setAsideState:i,clickedEvent:o,setClickedEvent:a},se()):n==="add"?C(tq,{navShown:e,setAsideState:i,setNewItem:s},se()):C(eq,{setAsideState:i,newItem:r,navShown:e},se())]})})}const vq=fN(cC);Wp.createRoot(document.getElementById("root")).render(C(gi.StrictMode,{children:C(qL,{store:cC,children:C(hC,{persistor:vq,children:C(rL,{children:C(yq,{})})})})}));
