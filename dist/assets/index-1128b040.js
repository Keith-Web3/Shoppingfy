var AO=Object.defineProperty;var RO=(t,e,n)=>e in t?AO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var L=(t,e,n)=>(RO(t,typeof e!="symbol"?e+"":e,n),n);function MO(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function OO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ul={},DO={get exports(){return ul},set exports(t){ul=t}},Ud={},x={},LO={get exports(){return x},set exports(t){x=t}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac=Symbol.for("react.element"),NO=Symbol.for("react.portal"),FO=Symbol.for("react.fragment"),$O=Symbol.for("react.strict_mode"),VO=Symbol.for("react.profiler"),BO=Symbol.for("react.provider"),UO=Symbol.for("react.context"),jO=Symbol.for("react.forward_ref"),zO=Symbol.for("react.suspense"),HO=Symbol.for("react.memo"),WO=Symbol.for("react.lazy"),E_=Symbol.iterator;function KO(t){return t===null||typeof t!="object"?null:(t=E_&&t[E_]||t["@@iterator"],typeof t=="function"?t:null)}var QE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JE=Object.assign,ZE={};function Vo(t,e,n){this.props=t,this.context=e,this.refs=ZE,this.updater=n||QE}Vo.prototype.isReactComponent={};Vo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ek(){}ek.prototype=Vo.prototype;function uv(t,e,n){this.props=t,this.context=e,this.refs=ZE,this.updater=n||QE}var hv=uv.prototype=new ek;hv.constructor=uv;JE(hv,Vo.prototype);hv.isPureReactComponent=!0;var k_=Array.isArray,tk=Object.prototype.hasOwnProperty,dv={current:null},nk={key:!0,ref:!0,__self:!0,__source:!0};function ik(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)tk.call(e,i)&&!nk.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:ac,type:t,key:s,ref:o,props:r,_owner:dv.current}}function qO(t,e){return{$$typeof:ac,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fv(t){return typeof t=="object"&&t!==null&&t.$$typeof===ac}function GO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var T_=/\/+/g;function yp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GO(""+t.key):e.toString(36)}function $u(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ac:case NO:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+yp(o,0):i,k_(r)?(n="",t!=null&&(n=t.replace(T_,"$&/")+"/"),$u(r,e,n,"",function(c){return c})):r!=null&&(fv(r)&&(r=qO(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(T_,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",k_(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+yp(s,a);o+=$u(s,e,n,l,r)}else if(l=KO(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+yp(s,a++),o+=$u(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kc(t,e,n){if(t==null)return t;var i=[],r=0;return $u(t,i,"","",function(s){return e.call(n,s,r++)}),i}function YO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},Vu={transition:null},XO={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:Vu,ReactCurrentOwner:dv};ne.Children={map:Kc,forEach:function(t,e,n){Kc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kc(t,function(){e++}),e},toArray:function(t){return Kc(t,function(e){return e})||[]},only:function(t){if(!fv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=Vo;ne.Fragment=FO;ne.Profiler=VO;ne.PureComponent=uv;ne.StrictMode=$O;ne.Suspense=zO;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XO;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=JE({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=dv.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)tk.call(e,l)&&!nk.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:ac,type:t.type,key:r,ref:s,props:i,_owner:o}};ne.createContext=function(t){return t={$$typeof:UO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BO,_context:t},t.Consumer=t};ne.createElement=ik;ne.createFactory=function(t){var e=ik.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:jO,render:t}};ne.isValidElement=fv;ne.lazy=function(t){return{$$typeof:WO,_payload:{_status:-1,_result:t},_init:YO}};ne.memo=function(t,e){return{$$typeof:HO,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=Vu.transition;Vu.transition={};try{t()}finally{Vu.transition=e}};ne.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ne.useCallback=function(t,e){return Ot.current.useCallback(t,e)};ne.useContext=function(t){return Ot.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};ne.useEffect=function(t,e){return Ot.current.useEffect(t,e)};ne.useId=function(){return Ot.current.useId()};ne.useImperativeHandle=function(t,e,n){return Ot.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return Ot.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return Ot.current.useReducer(t,e,n)};ne.useRef=function(t){return Ot.current.useRef(t)};ne.useState=function(t){return Ot.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return Ot.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return Ot.current.useTransition()};ne.version="18.2.0";(function(t){t.exports=ne})(LO);const Qn=OO(x),Hg=MO({__proto__:null,default:Qn},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QO=x,JO=Symbol.for("react.element"),ZO=Symbol.for("react.fragment"),eD=Object.prototype.hasOwnProperty,tD=QO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nD={key:!0,ref:!0,__self:!0,__source:!0};function rk(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)eD.call(e,i)&&!nD.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:JO,type:t,key:s,ref:o,props:r,_owner:tD.current}}Ud.Fragment=ZO;Ud.jsx=rk;Ud.jsxs=rk;(function(t){t.exports=Ud})(DO);const iD=ul.Fragment,T=ul.jsx,j=ul.jsxs;var Wg={},wh={},rD={get exports(){return wh},set exports(t){wh=t}},tn={},Kg={},sD={get exports(){return Kg},set exports(t){Kg=t}},sk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,N){var z=M.length;M.push(N);e:for(;0<z;){var fe=z-1>>>1,ve=M[fe];if(0<r(ve,N))M[fe]=N,M[z]=ve,z=fe;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var N=M[0],z=M.pop();if(z!==N){M[0]=z;e:for(var fe=0,ve=M.length,Pn=ve>>>1;fe<Pn;){var zt=2*(fe+1)-1,Zn=M[zt],Ht=zt+1,Wc=M[Ht];if(0>r(Zn,z))Ht<ve&&0>r(Wc,Zn)?(M[fe]=Wc,M[Ht]=z,fe=Ht):(M[fe]=Zn,M[zt]=z,fe=zt);else if(Ht<ve&&0>r(Wc,z))M[fe]=Wc,M[Ht]=z,fe=Ht;else break e}}return N}function r(M,N){var z=M.sortIndex-N.sortIndex;return z!==0?z:M.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var N=n(c);N!==null;){if(N.callback===null)i(c);else if(N.startTime<=M)i(c),N.sortIndex=N.expirationTime,e(l,N);else break;N=n(c)}}function _(M){if(g=!1,w(M),!p)if(n(l)!==null)p=!0,Z(b);else{var N=n(c);N!==null&&J(_,N.startTime-M)}}function b(M,N){p=!1,g&&(g=!1,y(k),k=-1),f=!0;var z=d;try{for(w(N),h=n(l);h!==null&&(!(h.expirationTime>N)||M&&!O());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,d=h.priorityLevel;var ve=fe(h.expirationTime<=N);N=t.unstable_now(),typeof ve=="function"?h.callback=ve:h===n(l)&&i(l),w(N)}else i(l);h=n(l)}if(h!==null)var Pn=!0;else{var zt=n(c);zt!==null&&J(_,zt.startTime-N),Pn=!1}return Pn}finally{h=null,d=z,f=!1}}var S=!1,E=null,k=-1,I=5,C=-1;function O(){return!(t.unstable_now()-C<I)}function G(){if(E!==null){var M=t.unstable_now();C=M;var N=!0;try{N=E(!0,M)}finally{N?de():(S=!1,E=null)}}else S=!1}var de;if(typeof m=="function")de=function(){m(G)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,V=Ae.port2;Ae.port1.onmessage=G,de=function(){V.postMessage(null)}}else de=function(){v(G,0)};function Z(M){E=M,S||(S=!0,de())}function J(M,N){k=v(function(){M(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Z(b))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(d){case 1:case 2:case 3:var N=3;break;default:N=d}var z=d;d=N;try{return M()}finally{d=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,N){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var z=d;d=M;try{return N()}finally{d=z}},t.unstable_scheduleCallback=function(M,N,z){var fe=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?fe+z:fe):z=fe,M){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=z+ve,M={id:u++,callback:N,priorityLevel:M,startTime:z,expirationTime:ve,sortIndex:-1},z>fe?(M.sortIndex=z,e(c,M),n(l)===null&&M===n(c)&&(g?(y(k),k=-1):g=!0,J(_,z-fe))):(M.sortIndex=ve,e(l,M),p||f||(p=!0,Z(b))),M},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(M){var N=d;return function(){var z=d;d=N;try{return M.apply(this,arguments)}finally{d=z}}}})(sk);(function(t){t.exports=sk})(sD);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ok=x,Qt=Kg;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ak=new Set,hl={};function ks(t,e){vo(t,e),vo(t+"Capture",e)}function vo(t,e){for(hl[t]=e,t=0;t<e.length;t++)ak.add(e[t])}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qg=Object.prototype.hasOwnProperty,oD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C_={},I_={};function aD(t){return qg.call(I_,t)?!0:qg.call(C_,t)?!1:oD.test(t)?I_[t]=!0:(C_[t]=!0,!1)}function lD(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cD(t,e,n,i){if(e===null||typeof e>"u"||lD(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ct[t]=new Dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ct[e]=new Dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ct[t]=new Dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ct[t]=new Dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ct[t]=new Dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ct[t]=new Dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ct[t]=new Dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ct[t]=new Dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ct[t]=new Dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var pv=/[\-:]([a-z])/g;function gv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pv,gv);ct[e]=new Dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pv,gv);ct[e]=new Dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pv,gv);ct[e]=new Dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ct[t]=new Dt(t,1,!1,t.toLowerCase(),null,!1,!1)});ct.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ct[t]=new Dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function mv(t,e,n,i){var r=ct.hasOwnProperty(e)?ct[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cD(e,n,r,i)&&(n=null),i||r===null?aD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Ii=ok.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qc=Symbol.for("react.element"),Vs=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),yv=Symbol.for("react.strict_mode"),Gg=Symbol.for("react.profiler"),lk=Symbol.for("react.provider"),ck=Symbol.for("react.context"),vv=Symbol.for("react.forward_ref"),Yg=Symbol.for("react.suspense"),Xg=Symbol.for("react.suspense_list"),wv=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),uk=Symbol.for("react.offscreen"),P_=Symbol.iterator;function ia(t){return t===null||typeof t!="object"?null:(t=P_&&t[P_]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,vp;function _a(t){if(vp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vp=e&&e[1]||""}return`
`+vp+t}var wp=!1;function _p(t,e){if(!t||wp)return"";wp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{wp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_a(t):""}function uD(t){switch(t.tag){case 5:return _a(t.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 2:case 15:return t=_p(t.type,!1),t;case 11:return t=_p(t.type.render,!1),t;case 1:return t=_p(t.type,!0),t;default:return""}}function Qg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bs:return"Fragment";case Vs:return"Portal";case Gg:return"Profiler";case yv:return"StrictMode";case Yg:return"Suspense";case Xg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ck:return(t.displayName||"Context")+".Consumer";case lk:return(t._context.displayName||"Context")+".Provider";case vv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wv:return e=t.displayName||null,e!==null?e:Qg(t.type)||"Memo";case Li:e=t._payload,t=t._init;try{return Qg(t(e))}catch{}}return null}function hD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qg(e);case 8:return e===yv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dD(t){var e=hk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gc(t){t._valueTracker||(t._valueTracker=dD(t))}function dk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=hk(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function _h(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jg(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function A_(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=gr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fk(t,e){e=e.checked,e!=null&&mv(t,"checked",e,!1)}function Zg(t,e){fk(t,e);var n=gr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?em(t,e.type,n):e.hasOwnProperty("defaultValue")&&em(t,e.type,gr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function R_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function em(t,e,n){(e!=="number"||_h(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ba=Array.isArray;function io(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+gr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function tm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function M_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(ba(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gr(n)}}function pk(t,e){var n=gr(e.value),i=gr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function O_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yc,mk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yc=Yc||document.createElement("div"),Yc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fD=["Webkit","ms","Moz","O"];Object.keys(Na).forEach(function(t){fD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Na[e]=Na[t]})});function yk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Na.hasOwnProperty(t)&&Na[t]?(""+e).trim():e+"px"}function vk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=yk(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var pD=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function im(t,e){if(e){if(pD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function rm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sm=null;function _v(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var om=null,ro=null,so=null;function D_(t){if(t=uc(t)){if(typeof om!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Kd(e),om(t.stateNode,t.type,e))}}function wk(t){ro?so?so.push(t):so=[t]:ro=t}function _k(){if(ro){var t=ro,e=so;if(so=ro=null,D_(t),e)for(t=0;t<e.length;t++)D_(e[t])}}function bk(t,e){return t(e)}function Sk(){}var bp=!1;function xk(t,e,n){if(bp)return t(e,n);bp=!0;try{return bk(t,e,n)}finally{bp=!1,(ro!==null||so!==null)&&(Sk(),_k())}}function fl(t,e){var n=t.stateNode;if(n===null)return null;var i=Kd(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var am=!1;if(vi)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){am=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{am=!1}function gD(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Fa=!1,bh=null,Sh=!1,lm=null,mD={onError:function(t){Fa=!0,bh=t}};function yD(t,e,n,i,r,s,o,a,l){Fa=!1,bh=null,gD.apply(mD,arguments)}function vD(t,e,n,i,r,s,o,a,l){if(yD.apply(this,arguments),Fa){if(Fa){var c=bh;Fa=!1,bh=null}else throw Error(P(198));Sh||(Sh=!0,lm=c)}}function Ts(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ek(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function L_(t){if(Ts(t)!==t)throw Error(P(188))}function wD(t){var e=t.alternate;if(!e){if(e=Ts(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return L_(r),t;if(s===i)return L_(r),e;s=s.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function kk(t){return t=wD(t),t!==null?Tk(t):null}function Tk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Tk(t);if(e!==null)return e;t=t.sibling}return null}var Ck=Qt.unstable_scheduleCallback,N_=Qt.unstable_cancelCallback,_D=Qt.unstable_shouldYield,bD=Qt.unstable_requestPaint,$e=Qt.unstable_now,SD=Qt.unstable_getCurrentPriorityLevel,bv=Qt.unstable_ImmediatePriority,Ik=Qt.unstable_UserBlockingPriority,xh=Qt.unstable_NormalPriority,xD=Qt.unstable_LowPriority,Pk=Qt.unstable_IdlePriority,jd=null,Bn=null;function ED(t){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(jd,t,void 0,(t.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:CD,kD=Math.log,TD=Math.LN2;function CD(t){return t>>>=0,t===0?32:31-(kD(t)/TD|0)|0}var Xc=64,Qc=4194304;function Sa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Eh(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Sa(a):(s&=o,s!==0&&(i=Sa(s)))}else o=n&~r,o!==0?i=Sa(o):s!==0&&(i=Sa(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-En(e),r=1<<n,i|=t[n],e&=~r;return i}function ID(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PD(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-En(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=ID(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function cm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ak(){var t=Xc;return Xc<<=1,!(Xc&4194240)&&(Xc=64),t}function Sp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-En(e),t[e]=n}function AD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-En(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function Sv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-En(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var ce=0;function Rk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mk,xv,Ok,Dk,Lk,um=!1,Jc=[],er=null,tr=null,nr=null,pl=new Map,gl=new Map,$i=[],RD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F_(t,e){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":pl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(e.pointerId)}}function sa(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=uc(e),e!==null&&xv(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function MD(t,e,n,i,r){switch(e){case"focusin":return er=sa(er,t,e,n,i,r),!0;case"dragenter":return tr=sa(tr,t,e,n,i,r),!0;case"mouseover":return nr=sa(nr,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return pl.set(s,sa(pl.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,gl.set(s,sa(gl.get(s)||null,t,e,n,i,r)),!0}return!1}function Nk(t){var e=qr(t.target);if(e!==null){var n=Ts(e);if(n!==null){if(e=n.tag,e===13){if(e=Ek(n),e!==null){t.blockedOn=e,Lk(t.priority,function(){Ok(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);sm=i,n.target.dispatchEvent(i),sm=null}else return e=uc(n),e!==null&&xv(e),t.blockedOn=n,!1;e.shift()}return!0}function $_(t,e,n){Bu(t)&&n.delete(e)}function OD(){um=!1,er!==null&&Bu(er)&&(er=null),tr!==null&&Bu(tr)&&(tr=null),nr!==null&&Bu(nr)&&(nr=null),pl.forEach($_),gl.forEach($_)}function oa(t,e){t.blockedOn===e&&(t.blockedOn=null,um||(um=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,OD)))}function ml(t){function e(r){return oa(r,t)}if(0<Jc.length){oa(Jc[0],t);for(var n=1;n<Jc.length;n++){var i=Jc[n];i.blockedOn===t&&(i.blockedOn=null)}}for(er!==null&&oa(er,t),tr!==null&&oa(tr,t),nr!==null&&oa(nr,t),pl.forEach(e),gl.forEach(e),n=0;n<$i.length;n++)i=$i[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<$i.length&&(n=$i[0],n.blockedOn===null);)Nk(n),n.blockedOn===null&&$i.shift()}var oo=Ii.ReactCurrentBatchConfig,kh=!0;function DD(t,e,n,i){var r=ce,s=oo.transition;oo.transition=null;try{ce=1,Ev(t,e,n,i)}finally{ce=r,oo.transition=s}}function LD(t,e,n,i){var r=ce,s=oo.transition;oo.transition=null;try{ce=4,Ev(t,e,n,i)}finally{ce=r,oo.transition=s}}function Ev(t,e,n,i){if(kh){var r=hm(t,e,n,i);if(r===null)Mp(t,e,i,Th,n),F_(t,i);else if(MD(r,t,e,n,i))i.stopPropagation();else if(F_(t,i),e&4&&-1<RD.indexOf(t)){for(;r!==null;){var s=uc(r);if(s!==null&&Mk(s),s=hm(t,e,n,i),s===null&&Mp(t,e,i,Th,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Mp(t,e,i,null,n)}}var Th=null;function hm(t,e,n,i){if(Th=null,t=_v(i),t=qr(t),t!==null)if(e=Ts(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ek(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Th=t,null}function Fk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SD()){case bv:return 1;case Ik:return 4;case xh:case xD:return 16;case Pk:return 536870912;default:return 16}default:return 16}}var Ki=null,kv=null,Uu=null;function $k(){if(Uu)return Uu;var t,e=kv,n=e.length,i,r="value"in Ki?Ki.value:Ki.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Uu=r.slice(t,1<i?1-i:void 0)}function ju(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zc(){return!0}function V_(){return!1}function nn(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zc:V_,this.isPropagationStopped=V_,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),e}var Bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tv=nn(Bo),cc=Pe({},Bo,{view:0,detail:0}),ND=nn(cc),xp,Ep,aa,zd=Pe({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==aa&&(aa&&t.type==="mousemove"?(xp=t.screenX-aa.screenX,Ep=t.screenY-aa.screenY):Ep=xp=0,aa=t),xp)},movementY:function(t){return"movementY"in t?t.movementY:Ep}}),B_=nn(zd),FD=Pe({},zd,{dataTransfer:0}),$D=nn(FD),VD=Pe({},cc,{relatedTarget:0}),kp=nn(VD),BD=Pe({},Bo,{animationName:0,elapsedTime:0,pseudoElement:0}),UD=nn(BD),jD=Pe({},Bo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zD=nn(jD),HD=Pe({},Bo,{data:0}),U_=nn(HD),WD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qD[t])?!!e[t]:!1}function Cv(){return GD}var YD=Pe({},cc,{key:function(t){if(t.key){var e=WD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ju(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cv,charCode:function(t){return t.type==="keypress"?ju(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ju(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XD=nn(YD),QD=Pe({},zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j_=nn(QD),JD=Pe({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cv}),ZD=nn(JD),eL=Pe({},Bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),tL=nn(eL),nL=Pe({},zd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iL=nn(nL),rL=[9,13,27,32],Iv=vi&&"CompositionEvent"in window,$a=null;vi&&"documentMode"in document&&($a=document.documentMode);var sL=vi&&"TextEvent"in window&&!$a,Vk=vi&&(!Iv||$a&&8<$a&&11>=$a),z_=String.fromCharCode(32),H_=!1;function Bk(t,e){switch(t){case"keyup":return rL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function oL(t,e){switch(t){case"compositionend":return Uk(e);case"keypress":return e.which!==32?null:(H_=!0,z_);case"textInput":return t=e.data,t===z_&&H_?null:t;default:return null}}function aL(t,e){if(Us)return t==="compositionend"||!Iv&&Bk(t,e)?(t=$k(),Uu=kv=Ki=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vk&&e.locale!=="ko"?null:e.data;default:return null}}var lL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lL[t.type]:e==="textarea"}function jk(t,e,n,i){wk(i),e=Ch(e,"onChange"),0<e.length&&(n=new Tv("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Va=null,yl=null;function cL(t){Zk(t,0)}function Hd(t){var e=Hs(t);if(dk(e))return t}function uL(t,e){if(t==="change")return e}var zk=!1;if(vi){var Tp;if(vi){var Cp="oninput"in document;if(!Cp){var K_=document.createElement("div");K_.setAttribute("oninput","return;"),Cp=typeof K_.oninput=="function"}Tp=Cp}else Tp=!1;zk=Tp&&(!document.documentMode||9<document.documentMode)}function q_(){Va&&(Va.detachEvent("onpropertychange",Hk),yl=Va=null)}function Hk(t){if(t.propertyName==="value"&&Hd(yl)){var e=[];jk(e,yl,t,_v(t)),xk(cL,e)}}function hL(t,e,n){t==="focusin"?(q_(),Va=e,yl=n,Va.attachEvent("onpropertychange",Hk)):t==="focusout"&&q_()}function dL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hd(yl)}function fL(t,e){if(t==="click")return Hd(e)}function pL(t,e){if(t==="input"||t==="change")return Hd(e)}function gL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:gL;function vl(t,e){if(Cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!qg.call(e,r)||!Cn(t[r],e[r]))return!1}return!0}function G_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Y_(t,e){var n=G_(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=G_(n)}}function Wk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Kk(){for(var t=window,e=_h();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_h(t.document)}return e}function Pv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mL(t){var e=Kk(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Wk(n.ownerDocument.documentElement,n)){if(i!==null&&Pv(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=Y_(n,s);var o=Y_(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yL=vi&&"documentMode"in document&&11>=document.documentMode,js=null,dm=null,Ba=null,fm=!1;function X_(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fm||js==null||js!==_h(i)||(i=js,"selectionStart"in i&&Pv(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ba&&vl(Ba,i)||(Ba=i,i=Ch(dm,"onSelect"),0<i.length&&(e=new Tv("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=js)))}function eu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zs={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},Ip={},qk={};vi&&(qk=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Wd(t){if(Ip[t])return Ip[t];if(!zs[t])return t;var e=zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qk)return Ip[t]=e[n];return t}var Gk=Wd("animationend"),Yk=Wd("animationiteration"),Xk=Wd("animationstart"),Qk=Wd("transitionend"),Jk=new Map,Q_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(t,e){Jk.set(t,e),ks(e,[t])}for(var Pp=0;Pp<Q_.length;Pp++){var Ap=Q_[Pp],vL=Ap.toLowerCase(),wL=Ap[0].toUpperCase()+Ap.slice(1);Cr(vL,"on"+wL)}Cr(Gk,"onAnimationEnd");Cr(Yk,"onAnimationIteration");Cr(Xk,"onAnimationStart");Cr("dblclick","onDoubleClick");Cr("focusin","onFocus");Cr("focusout","onBlur");Cr(Qk,"onTransitionEnd");vo("onMouseEnter",["mouseout","mouseover"]);vo("onMouseLeave",["mouseout","mouseover"]);vo("onPointerEnter",["pointerout","pointerover"]);vo("onPointerLeave",["pointerout","pointerover"]);ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_L=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function J_(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,vD(i,e,void 0,t),t.currentTarget=null}function Zk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;J_(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;J_(r,a,c),s=l}}}if(Sh)throw t=lm,Sh=!1,lm=null,t}function we(t,e){var n=e[vm];n===void 0&&(n=e[vm]=new Set);var i=t+"__bubble";n.has(i)||(eT(e,t,2,!1),n.add(i))}function Rp(t,e,n){var i=0;e&&(i|=4),eT(n,t,i,e)}var tu="_reactListening"+Math.random().toString(36).slice(2);function wl(t){if(!t[tu]){t[tu]=!0,ak.forEach(function(n){n!=="selectionchange"&&(_L.has(n)||Rp(n,!1,t),Rp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tu]||(e[tu]=!0,Rp("selectionchange",!1,e))}}function eT(t,e,n,i){switch(Fk(e)){case 1:var r=DD;break;case 4:r=LD;break;default:r=Ev}n=r.bind(null,e,n,t),r=void 0,!am||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Mp(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=qr(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}xk(function(){var c=s,u=_v(n),h=[];e:{var d=Jk.get(t);if(d!==void 0){var f=Tv,p=t;switch(t){case"keypress":if(ju(n)===0)break e;case"keydown":case"keyup":f=XD;break;case"focusin":p="focus",f=kp;break;case"focusout":p="blur",f=kp;break;case"beforeblur":case"afterblur":f=kp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=B_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=$D;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=ZD;break;case Gk:case Yk:case Xk:f=UD;break;case Qk:f=tL;break;case"scroll":f=ND;break;case"wheel":f=iL;break;case"copy":case"cut":case"paste":f=zD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=j_}var g=(e&4)!==0,v=!g&&t==="scroll",y=g?d!==null?d+"Capture":null:d;g=[];for(var m=c,w;m!==null;){w=m;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=fl(m,y),_!=null&&g.push(_l(m,_,w)))),v)break;m=m.return}0<g.length&&(d=new f(d,p,null,n,u),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==sm&&(p=n.relatedTarget||n.fromElement)&&(qr(p)||p[wi]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?qr(p):null,p!==null&&(v=Ts(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(g=B_,_="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=j_,_="onPointerLeave",y="onPointerEnter",m="pointer"),v=f==null?d:Hs(f),w=p==null?d:Hs(p),d=new g(_,m+"leave",f,n,u),d.target=v,d.relatedTarget=w,_=null,qr(u)===c&&(g=new g(y,m+"enter",p,n,u),g.target=w,g.relatedTarget=v,_=g),v=_,f&&p)t:{for(g=f,y=p,m=0,w=g;w;w=Os(w))m++;for(w=0,_=y;_;_=Os(_))w++;for(;0<m-w;)g=Os(g),m--;for(;0<w-m;)y=Os(y),w--;for(;m--;){if(g===y||y!==null&&g===y.alternate)break t;g=Os(g),y=Os(y)}g=null}else g=null;f!==null&&Z_(h,d,f,g,!1),p!==null&&v!==null&&Z_(h,v,p,g,!0)}}e:{if(d=c?Hs(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var b=uL;else if(W_(d))if(zk)b=pL;else{b=dL;var S=hL}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=fL);if(b&&(b=b(t,c))){jk(h,b,n,u);break e}S&&S(t,d,c),t==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&em(d,"number",d.value)}switch(S=c?Hs(c):window,t){case"focusin":(W_(S)||S.contentEditable==="true")&&(js=S,dm=c,Ba=null);break;case"focusout":Ba=dm=js=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,X_(h,n,u);break;case"selectionchange":if(yL)break;case"keydown":case"keyup":X_(h,n,u)}var E;if(Iv)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Us?Bk(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Vk&&n.locale!=="ko"&&(Us||k!=="onCompositionStart"?k==="onCompositionEnd"&&Us&&(E=$k()):(Ki=u,kv="value"in Ki?Ki.value:Ki.textContent,Us=!0)),S=Ch(c,k),0<S.length&&(k=new U_(k,t,null,n,u),h.push({event:k,listeners:S}),E?k.data=E:(E=Uk(n),E!==null&&(k.data=E)))),(E=sL?oL(t,n):aL(t,n))&&(c=Ch(c,"onBeforeInput"),0<c.length&&(u=new U_("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=E))}Zk(h,e)})}function _l(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ch(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=fl(t,n),s!=null&&i.unshift(_l(t,s,r)),s=fl(t,e),s!=null&&i.push(_l(t,s,r))),t=t.return}return i}function Os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Z_(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=fl(n,s),l!=null&&o.unshift(_l(n,l,a))):r||(l=fl(n,s),l!=null&&o.push(_l(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var bL=/\r\n?/g,SL=/\u0000|\uFFFD/g;function eb(t){return(typeof t=="string"?t:""+t).replace(bL,`
`).replace(SL,"")}function nu(t,e,n){if(e=eb(e),eb(t)!==e&&n)throw Error(P(425))}function Ih(){}var pm=null,gm=null;function mm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ym=typeof setTimeout=="function"?setTimeout:void 0,xL=typeof clearTimeout=="function"?clearTimeout:void 0,tb=typeof Promise=="function"?Promise:void 0,EL=typeof queueMicrotask=="function"?queueMicrotask:typeof tb<"u"?function(t){return tb.resolve(null).then(t).catch(kL)}:ym;function kL(t){setTimeout(function(){throw t})}function Op(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),ml(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);ml(e)}function ir(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Uo=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Uo,bl="__reactProps$"+Uo,wi="__reactContainer$"+Uo,vm="__reactEvents$"+Uo,TL="__reactListeners$"+Uo,CL="__reactHandles$"+Uo;function qr(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wi]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=nb(t);t!==null;){if(n=t[Ln])return n;t=nb(t)}return e}t=n,n=t.parentNode}return null}function uc(t){return t=t[Ln]||t[wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Kd(t){return t[bl]||null}var wm=[],Ws=-1;function Ir(t){return{current:t}}function be(t){0>Ws||(t.current=wm[Ws],wm[Ws]=null,Ws--)}function me(t,e){Ws++,wm[Ws]=t.current,t.current=e}var mr={},St=Ir(mr),Vt=Ir(!1),us=mr;function wo(t,e){var n=t.type.contextTypes;if(!n)return mr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Bt(t){return t=t.childContextTypes,t!=null}function Ph(){be(Vt),be(St)}function ib(t,e,n){if(St.current!==mr)throw Error(P(168));me(St,e),me(Vt,n)}function tT(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(P(108,hD(t)||"Unknown",r));return Pe({},n,i)}function Ah(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mr,us=St.current,me(St,t),me(Vt,Vt.current),!0}function rb(t,e,n){var i=t.stateNode;if(!i)throw Error(P(169));n?(t=tT(t,e,us),i.__reactInternalMemoizedMergedChildContext=t,be(Vt),be(St),me(St,t)):be(Vt),me(Vt,n)}var oi=null,qd=!1,Dp=!1;function nT(t){oi===null?oi=[t]:oi.push(t)}function IL(t){qd=!0,nT(t)}function Pr(){if(!Dp&&oi!==null){Dp=!0;var t=0,e=ce;try{var n=oi;for(ce=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}oi=null,qd=!1}catch(r){throw oi!==null&&(oi=oi.slice(t+1)),Ck(bv,Pr),r}finally{ce=e,Dp=!1}}return null}var Ks=[],qs=0,Rh=null,Mh=0,on=[],an=0,hs=null,li=1,ci="";function Vr(t,e){Ks[qs++]=Mh,Ks[qs++]=Rh,Rh=t,Mh=e}function iT(t,e,n){on[an++]=li,on[an++]=ci,on[an++]=hs,hs=t;var i=li;t=ci;var r=32-En(i)-1;i&=~(1<<r),n+=1;var s=32-En(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,li=1<<32-En(e)+r|n<<r|i,ci=s+t}else li=1<<s|n<<r|i,ci=t}function Av(t){t.return!==null&&(Vr(t,1),iT(t,1,0))}function Rv(t){for(;t===Rh;)Rh=Ks[--qs],Ks[qs]=null,Mh=Ks[--qs],Ks[qs]=null;for(;t===hs;)hs=on[--an],on[an]=null,ci=on[--an],on[an]=null,li=on[--an],on[an]=null}var Xt=null,Gt=null,Ee=!1,_n=null;function rT(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Gt=ir(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hs!==null?{id:li,overflow:ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Gt=null,!0):!1;default:return!1}}function _m(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bm(t){if(Ee){var e=Gt;if(e){var n=e;if(!sb(t,e)){if(_m(t))throw Error(P(418));e=ir(n.nextSibling);var i=Xt;e&&sb(t,e)?rT(i,n):(t.flags=t.flags&-4097|2,Ee=!1,Xt=t)}}else{if(_m(t))throw Error(P(418));t.flags=t.flags&-4097|2,Ee=!1,Xt=t}}}function ob(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function iu(t){if(t!==Xt)return!1;if(!Ee)return ob(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mm(t.type,t.memoizedProps)),e&&(e=Gt)){if(_m(t))throw sT(),Error(P(418));for(;e;)rT(t,e),e=ir(e.nextSibling)}if(ob(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gt=ir(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gt=null}}else Gt=Xt?ir(t.stateNode.nextSibling):null;return!0}function sT(){for(var t=Gt;t;)t=ir(t.nextSibling)}function _o(){Gt=Xt=null,Ee=!1}function Mv(t){_n===null?_n=[t]:_n.push(t)}var PL=Ii.ReactCurrentBatchConfig;function vn(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Oh=Ir(null),Dh=null,Gs=null,Ov=null;function Dv(){Ov=Gs=Dh=null}function Lv(t){var e=Oh.current;be(Oh),t._currentValue=e}function Sm(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ao(t,e){Dh=t,Ov=Gs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(Ov!==t)if(t={context:t,memoizedValue:e,next:null},Gs===null){if(Dh===null)throw Error(P(308));Gs=t,Dh.dependencies={lanes:0,firstContext:t}}else Gs=Gs.next=t;return e}var Gr=null;function Nv(t){Gr===null?Gr=[t]:Gr.push(t)}function oT(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Nv(e)):(n.next=r.next,r.next=n),e.interleaved=n,_i(t,i)}function _i(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ni=!1;function Fv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,re&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,_i(t,n)}return r=i.interleaved,r===null?(e.next=e,Nv(i)):(e.next=r.next,r.next=e),i.interleaved=e,_i(t,n)}function zu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Sv(t,n)}}function ab(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lh(t,e,n,i){var r=t.updateQueue;Ni=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(d=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Pe({},h,d);break e;case 2:Ni=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(1);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);fs|=o,t.lanes=o,t.memoizedState=h}}function lb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(P(191,r));r.call(i)}}}var lT=new ok.Component().refs;function xm(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gd={isMounted:function(t){return(t=t._reactInternals)?Ts(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=At(),r=or(t),s=gi(i,r);s.payload=e,n!=null&&(s.callback=n),e=rr(t,s,r),e!==null&&(kn(e,t,r,i),zu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=At(),r=or(t),s=gi(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=rr(t,s,r),e!==null&&(kn(e,t,r,i),zu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=At(),i=or(t),r=gi(n,i);r.tag=2,e!=null&&(r.callback=e),e=rr(t,r,i),e!==null&&(kn(e,t,i,n),zu(e,t,i))}};function cb(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!vl(n,i)||!vl(r,s):!0}function cT(t,e,n){var i=!1,r=mr,s=e.contextType;return typeof s=="object"&&s!==null?s=dn(s):(r=Bt(e)?us:St.current,i=e.contextTypes,s=(i=i!=null)?wo(t,r):mr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gd,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function ub(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Gd.enqueueReplaceState(e,e.state,null)}function Em(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=lT,Fv(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=dn(s):(s=Bt(e)?us:St.current,r.context=wo(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(xm(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Gd.enqueueReplaceState(r,r.state,null),Lh(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function la(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var i=n.stateNode}if(!i)throw Error(P(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===lT&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function ru(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hb(t){var e=t._init;return e(t._payload)}function uT(t){function e(y,m){if(t){var w=y.deletions;w===null?(y.deletions=[m],y.flags|=16):w.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function i(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function r(y,m){return y=ar(y,m),y.index=0,y.sibling=null,y}function s(y,m,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<m?(y.flags|=2,m):w):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,w,_){return m===null||m.tag!==6?(m=Up(w,y.mode,_),m.return=y,m):(m=r(m,w),m.return=y,m)}function l(y,m,w,_){var b=w.type;return b===Bs?u(y,m,w.props.children,_,w.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Li&&hb(b)===m.type)?(_=r(m,w.props),_.ref=la(y,m,w),_.return=y,_):(_=Yu(w.type,w.key,w.props,null,y.mode,_),_.ref=la(y,m,w),_.return=y,_)}function c(y,m,w,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=jp(w,y.mode,_),m.return=y,m):(m=r(m,w.children||[]),m.return=y,m)}function u(y,m,w,_,b){return m===null||m.tag!==7?(m=ns(w,y.mode,_,b),m.return=y,m):(m=r(m,w),m.return=y,m)}function h(y,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Up(""+m,y.mode,w),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case qc:return w=Yu(m.type,m.key,m.props,null,y.mode,w),w.ref=la(y,null,m),w.return=y,w;case Vs:return m=jp(m,y.mode,w),m.return=y,m;case Li:var _=m._init;return h(y,_(m._payload),w)}if(ba(m)||ia(m))return m=ns(m,y.mode,w,null),m.return=y,m;ru(y,m)}return null}function d(y,m,w,_){var b=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:a(y,m,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qc:return w.key===b?l(y,m,w,_):null;case Vs:return w.key===b?c(y,m,w,_):null;case Li:return b=w._init,d(y,m,b(w._payload),_)}if(ba(w)||ia(w))return b!==null?null:u(y,m,w,_,null);ru(y,w)}return null}function f(y,m,w,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,a(m,y,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case qc:return y=y.get(_.key===null?w:_.key)||null,l(m,y,_,b);case Vs:return y=y.get(_.key===null?w:_.key)||null,c(m,y,_,b);case Li:var S=_._init;return f(y,m,w,S(_._payload),b)}if(ba(_)||ia(_))return y=y.get(w)||null,u(m,y,_,b,null);ru(m,_)}return null}function p(y,m,w,_){for(var b=null,S=null,E=m,k=m=0,I=null;E!==null&&k<w.length;k++){E.index>k?(I=E,E=null):I=E.sibling;var C=d(y,E,w[k],_);if(C===null){E===null&&(E=I);break}t&&E&&C.alternate===null&&e(y,E),m=s(C,m,k),S===null?b=C:S.sibling=C,S=C,E=I}if(k===w.length)return n(y,E),Ee&&Vr(y,k),b;if(E===null){for(;k<w.length;k++)E=h(y,w[k],_),E!==null&&(m=s(E,m,k),S===null?b=E:S.sibling=E,S=E);return Ee&&Vr(y,k),b}for(E=i(y,E);k<w.length;k++)I=f(E,y,k,w[k],_),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?k:I.key),m=s(I,m,k),S===null?b=I:S.sibling=I,S=I);return t&&E.forEach(function(O){return e(y,O)}),Ee&&Vr(y,k),b}function g(y,m,w,_){var b=ia(w);if(typeof b!="function")throw Error(P(150));if(w=b.call(w),w==null)throw Error(P(151));for(var S=b=null,E=m,k=m=0,I=null,C=w.next();E!==null&&!C.done;k++,C=w.next()){E.index>k?(I=E,E=null):I=E.sibling;var O=d(y,E,C.value,_);if(O===null){E===null&&(E=I);break}t&&E&&O.alternate===null&&e(y,E),m=s(O,m,k),S===null?b=O:S.sibling=O,S=O,E=I}if(C.done)return n(y,E),Ee&&Vr(y,k),b;if(E===null){for(;!C.done;k++,C=w.next())C=h(y,C.value,_),C!==null&&(m=s(C,m,k),S===null?b=C:S.sibling=C,S=C);return Ee&&Vr(y,k),b}for(E=i(y,E);!C.done;k++,C=w.next())C=f(E,y,k,C.value,_),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?k:C.key),m=s(C,m,k),S===null?b=C:S.sibling=C,S=C);return t&&E.forEach(function(G){return e(y,G)}),Ee&&Vr(y,k),b}function v(y,m,w,_){if(typeof w=="object"&&w!==null&&w.type===Bs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case qc:e:{for(var b=w.key,S=m;S!==null;){if(S.key===b){if(b=w.type,b===Bs){if(S.tag===7){n(y,S.sibling),m=r(S,w.props.children),m.return=y,y=m;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Li&&hb(b)===S.type){n(y,S.sibling),m=r(S,w.props),m.ref=la(y,S,w),m.return=y,y=m;break e}n(y,S);break}else e(y,S);S=S.sibling}w.type===Bs?(m=ns(w.props.children,y.mode,_,w.key),m.return=y,y=m):(_=Yu(w.type,w.key,w.props,null,y.mode,_),_.ref=la(y,m,w),_.return=y,y=_)}return o(y);case Vs:e:{for(S=w.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(y,m.sibling),m=r(m,w.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=jp(w,y.mode,_),m.return=y,y=m}return o(y);case Li:return S=w._init,v(y,m,S(w._payload),_)}if(ba(w))return p(y,m,w,_);if(ia(w))return g(y,m,w,_);ru(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(y,m.sibling),m=r(m,w),m.return=y,y=m):(n(y,m),m=Up(w,y.mode,_),m.return=y,y=m),o(y)):n(y,m)}return v}var bo=uT(!0),hT=uT(!1),hc={},Un=Ir(hc),Sl=Ir(hc),xl=Ir(hc);function Yr(t){if(t===hc)throw Error(P(174));return t}function $v(t,e){switch(me(xl,e),me(Sl,t),me(Un,hc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nm(e,t)}be(Un),me(Un,e)}function So(){be(Un),be(Sl),be(xl)}function dT(t){Yr(xl.current);var e=Yr(Un.current),n=nm(e,t.type);e!==n&&(me(Sl,t),me(Un,n))}function Vv(t){Sl.current===t&&(be(Un),be(Sl))}var Ce=Ir(0);function Nh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lp=[];function Bv(){for(var t=0;t<Lp.length;t++)Lp[t]._workInProgressVersionPrimary=null;Lp.length=0}var Hu=Ii.ReactCurrentDispatcher,Np=Ii.ReactCurrentBatchConfig,ds=0,Ie=null,We=null,Ze=null,Fh=!1,Ua=!1,El=0,AL=0;function ht(){throw Error(P(321))}function Uv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cn(t[n],e[n]))return!1;return!0}function jv(t,e,n,i,r,s){if(ds=s,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hu.current=t===null||t.memoizedState===null?DL:LL,t=n(i,r),Ua){s=0;do{if(Ua=!1,El=0,25<=s)throw Error(P(301));s+=1,Ze=We=null,e.updateQueue=null,Hu.current=NL,t=n(i,r)}while(Ua)}if(Hu.current=$h,e=We!==null&&We.next!==null,ds=0,Ze=We=Ie=null,Fh=!1,e)throw Error(P(300));return t}function zv(){var t=El!==0;return El=0,t}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ie.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function fn(){if(We===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var e=Ze===null?Ie.memoizedState:Ze.next;if(e!==null)Ze=e,We=t;else{if(t===null)throw Error(P(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ze===null?Ie.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function kl(t,e){return typeof e=="function"?e(t):e}function Fp(t){var e=fn(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var i=We,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ds&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Ie.lanes|=u,fs|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Cn(i,e.memoizedState)||($t=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Ie.lanes|=s,fs|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $p(t){var e=fn(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Cn(s,e.memoizedState)||($t=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function fT(){}function pT(t,e){var n=Ie,i=fn(),r=e(),s=!Cn(i.memoizedState,r);if(s&&(i.memoizedState=r,$t=!0),i=i.queue,Hv(yT.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,Tl(9,mT.bind(null,n,i,r,e),void 0,null),tt===null)throw Error(P(349));ds&30||gT(n,e,r)}return r}function gT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mT(t,e,n,i){e.value=n,e.getSnapshot=i,vT(e)&&wT(t)}function yT(t,e,n){return n(function(){vT(e)&&wT(t)})}function vT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cn(t,n)}catch{return!0}}function wT(t){var e=_i(t,1);e!==null&&kn(e,t,1,-1)}function db(t){var e=Mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kl,lastRenderedState:t},e.queue=t,t=t.dispatch=OL.bind(null,Ie,t),[e.memoizedState,t]}function Tl(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function _T(){return fn().memoizedState}function Wu(t,e,n,i){var r=Mn();Ie.flags|=t,r.memoizedState=Tl(1|e,n,void 0,i===void 0?null:i)}function Yd(t,e,n,i){var r=fn();i=i===void 0?null:i;var s=void 0;if(We!==null){var o=We.memoizedState;if(s=o.destroy,i!==null&&Uv(i,o.deps)){r.memoizedState=Tl(e,n,s,i);return}}Ie.flags|=t,r.memoizedState=Tl(1|e,n,s,i)}function fb(t,e){return Wu(8390656,8,t,e)}function Hv(t,e){return Yd(2048,8,t,e)}function bT(t,e){return Yd(4,2,t,e)}function ST(t,e){return Yd(4,4,t,e)}function xT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ET(t,e,n){return n=n!=null?n.concat([t]):null,Yd(4,4,xT.bind(null,e,t),n)}function Wv(){}function kT(t,e){var n=fn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Uv(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function TT(t,e){var n=fn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Uv(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function CT(t,e,n){return ds&21?(Cn(n,e)||(n=Ak(),Ie.lanes|=n,fs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=n)}function RL(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var i=Np.transition;Np.transition={};try{t(!1),e()}finally{ce=n,Np.transition=i}}function IT(){return fn().memoizedState}function ML(t,e,n){var i=or(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},PT(t))AT(e,n);else if(n=oT(t,e,n,i),n!==null){var r=At();kn(n,t,i,r),RT(n,e,i)}}function OL(t,e,n){var i=or(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(PT(t))AT(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Cn(a,o)){var l=e.interleaved;l===null?(r.next=r,Nv(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=oT(t,e,r,i),n!==null&&(r=At(),kn(n,t,i,r),RT(n,e,i))}}function PT(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function AT(t,e){Ua=Fh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RT(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Sv(t,n)}}var $h={readContext:dn,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},DL={readContext:dn,useCallback:function(t,e){return Mn().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:fb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wu(4194308,4,xT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wu(4,2,t,e)},useMemo:function(t,e){var n=Mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Mn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=ML.bind(null,Ie,t),[i.memoizedState,t]},useRef:function(t){var e=Mn();return t={current:t},e.memoizedState=t},useState:db,useDebugValue:Wv,useDeferredValue:function(t){return Mn().memoizedState=t},useTransition:function(){var t=db(!1),e=t[0];return t=RL.bind(null,t[1]),Mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ie,r=Mn();if(Ee){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),tt===null)throw Error(P(349));ds&30||gT(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,fb(yT.bind(null,i,s,t),[t]),i.flags|=2048,Tl(9,mT.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Mn(),e=tt.identifierPrefix;if(Ee){var n=ci,i=li;n=(i&~(1<<32-En(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=El++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=AL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LL={readContext:dn,useCallback:kT,useContext:dn,useEffect:Hv,useImperativeHandle:ET,useInsertionEffect:bT,useLayoutEffect:ST,useMemo:TT,useReducer:Fp,useRef:_T,useState:function(){return Fp(kl)},useDebugValue:Wv,useDeferredValue:function(t){var e=fn();return CT(e,We.memoizedState,t)},useTransition:function(){var t=Fp(kl)[0],e=fn().memoizedState;return[t,e]},useMutableSource:fT,useSyncExternalStore:pT,useId:IT,unstable_isNewReconciler:!1},NL={readContext:dn,useCallback:kT,useContext:dn,useEffect:Hv,useImperativeHandle:ET,useInsertionEffect:bT,useLayoutEffect:ST,useMemo:TT,useReducer:$p,useRef:_T,useState:function(){return $p(kl)},useDebugValue:Wv,useDeferredValue:function(t){var e=fn();return We===null?e.memoizedState=t:CT(e,We.memoizedState,t)},useTransition:function(){var t=$p(kl)[0],e=fn().memoizedState;return[t,e]},useMutableSource:fT,useSyncExternalStore:pT,useId:IT,unstable_isNewReconciler:!1};function xo(t,e){try{var n="",i=e;do n+=uD(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function Vp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function km(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var FL=typeof WeakMap=="function"?WeakMap:Map;function MT(t,e,n){n=gi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Bh||(Bh=!0,Lm=i),km(t,e)},n}function OT(t,e,n){n=gi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){km(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){km(t,e),typeof i!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function pb(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new FL;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=QL.bind(null,t,e,n),e.then(t,t))}function gb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mb(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gi(-1,1),e.tag=2,rr(n,e,1))),n.lanes|=1),t)}var $L=Ii.ReactCurrentOwner,$t=!1;function It(t,e,n,i){e.child=t===null?hT(e,null,n,i):bo(e,t.child,n,i)}function yb(t,e,n,i,r){n=n.render;var s=e.ref;return ao(e,r),i=jv(t,e,n,i,s,r),n=zv(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,bi(t,e,r)):(Ee&&n&&Av(e),e.flags|=1,It(t,e,i,r),e.child)}function vb(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Zv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,DT(t,e,s,i,r)):(t=Yu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:vl,n(o,i)&&t.ref===e.ref)return bi(t,e,r)}return e.flags|=1,t=ar(s,i),t.ref=e.ref,t.return=e,e.child=t}function DT(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(vl(s,i)&&t.ref===e.ref)if($t=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&($t=!0);else return e.lanes=t.lanes,bi(t,e,r)}return Tm(t,e,n,i,r)}function LT(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Xs,Kt),Kt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(Xs,Kt),Kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,me(Xs,Kt),Kt|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,me(Xs,Kt),Kt|=i;return It(t,e,r,n),e.child}function NT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tm(t,e,n,i,r){var s=Bt(n)?us:St.current;return s=wo(e,s),ao(e,r),n=jv(t,e,n,i,s,r),i=zv(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,bi(t,e,r)):(Ee&&i&&Av(e),e.flags|=1,It(t,e,n,r),e.child)}function wb(t,e,n,i,r){if(Bt(n)){var s=!0;Ah(e)}else s=!1;if(ao(e,r),e.stateNode===null)Ku(t,e),cT(e,n,i),Em(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=dn(c):(c=Bt(n)?us:St.current,c=wo(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&ub(e,o,i,c),Ni=!1;var d=e.memoizedState;o.state=d,Lh(e,i,o,r),l=e.memoizedState,a!==i||d!==l||Vt.current||Ni?(typeof u=="function"&&(xm(e,n,u,i),l=e.memoizedState),(a=Ni||cb(e,n,a,i,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,aT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:vn(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=dn(l):(l=Bt(n)?us:St.current,l=wo(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&ub(e,o,i,l),Ni=!1,d=e.memoizedState,o.state=d,Lh(e,i,o,r);var p=e.memoizedState;a!==h||d!==p||Vt.current||Ni?(typeof f=="function"&&(xm(e,n,f,i),p=e.memoizedState),(c=Ni||cb(e,n,c,i,d,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Cm(t,e,n,i,s,r)}function Cm(t,e,n,i,r,s){NT(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&rb(e,n,!1),bi(t,e,s);i=e.stateNode,$L.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=bo(e,t.child,null,s),e.child=bo(e,null,a,s)):It(t,e,a,s),e.memoizedState=i.state,r&&rb(e,n,!0),e.child}function FT(t){var e=t.stateNode;e.pendingContext?ib(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ib(t,e.context,!1),$v(t,e.containerInfo)}function _b(t,e,n,i,r){return _o(),Mv(r),e.flags|=256,It(t,e,n,i),e.child}var Im={dehydrated:null,treeContext:null,retryLane:0};function Pm(t){return{baseLanes:t,cachePool:null,transitions:null}}function $T(t,e,n){var i=e.pendingProps,r=Ce.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),me(Ce,r&1),t===null)return bm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jd(o,i,0,null),t=ns(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Pm(n),e.memoizedState=Im,t):Kv(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return VL(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=ar(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=ar(a,s):(s=ns(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Pm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Im,i}return s=t.child,t=s.sibling,i=ar(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Kv(t,e){return e=Jd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function su(t,e,n,i){return i!==null&&Mv(i),bo(e,t.child,null,n),t=Kv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VL(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=Vp(Error(P(422))),su(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Jd({mode:"visible",children:i.children},r,0,null),s=ns(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&bo(e,t.child,null,o),e.child.memoizedState=Pm(o),e.memoizedState=Im,s);if(!(e.mode&1))return su(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(P(419)),i=Vp(s,i,void 0),su(t,e,o,i)}if(a=(o&t.childLanes)!==0,$t||a){if(i=tt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,_i(t,r),kn(i,t,r,-1))}return Jv(),i=Vp(Error(P(421))),su(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=JL.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Gt=ir(r.nextSibling),Xt=e,Ee=!0,_n=null,t!==null&&(on[an++]=li,on[an++]=ci,on[an++]=hs,li=t.id,ci=t.overflow,hs=e),e=Kv(e,i.children),e.flags|=4096,e)}function bb(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Sm(t.return,e,n)}function Bp(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function VT(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(It(t,e,i.children,n),i=Ce.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bb(t,n,e);else if(t.tag===19)bb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(me(Ce,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Nh(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Bp(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Nh(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Bp(e,!0,n,null,s);break;case"together":Bp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ku(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=ar(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ar(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BL(t,e,n){switch(e.tag){case 3:FT(e),_o();break;case 5:dT(e);break;case 1:Bt(e.type)&&Ah(e);break;case 4:$v(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;me(Oh,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(me(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?$T(t,e,n):(me(Ce,Ce.current&1),t=bi(t,e,n),t!==null?t.sibling:null);me(Ce,Ce.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return VT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),me(Ce,Ce.current),i)break;return null;case 22:case 23:return e.lanes=0,LT(t,e,n)}return bi(t,e,n)}var BT,Am,UT,jT;BT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Am=function(){};UT=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Yr(Un.current);var s=null;switch(n){case"input":r=Jg(t,r),i=Jg(t,i),s=[];break;case"select":r=Pe({},r,{value:void 0}),i=Pe({},i,{value:void 0}),s=[];break;case"textarea":r=tm(t,r),i=tm(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Ih)}im(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&we("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};jT=function(t,e,n,i){n!==i&&(e.flags|=4)};function ca(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function UL(t,e,n){var i=e.pendingProps;switch(Rv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(e),null;case 1:return Bt(e.type)&&Ph(),dt(e),null;case 3:return i=e.stateNode,So(),be(Vt),be(St),Bv(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(iu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_n!==null&&($m(_n),_n=null))),Am(t,e),dt(e),null;case 5:Vv(e);var r=Yr(xl.current);if(n=e.type,t!==null&&e.stateNode!=null)UT(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(P(166));return dt(e),null}if(t=Yr(Un.current),iu(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Ln]=e,i[bl]=s,t=(e.mode&1)!==0,n){case"dialog":we("cancel",i),we("close",i);break;case"iframe":case"object":case"embed":we("load",i);break;case"video":case"audio":for(r=0;r<xa.length;r++)we(xa[r],i);break;case"source":we("error",i);break;case"img":case"image":case"link":we("error",i),we("load",i);break;case"details":we("toggle",i);break;case"input":A_(i,s),we("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},we("invalid",i);break;case"textarea":M_(i,s),we("invalid",i)}im(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&nu(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&nu(i.textContent,a,t),r=["children",""+a]):hl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",i)}switch(n){case"input":Gc(i),R_(i,s,!0);break;case"textarea":Gc(i),O_(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Ih)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Ln]=e,t[bl]=i,BT(t,e,!1,!1),e.stateNode=t;e:{switch(o=rm(n,i),n){case"dialog":we("cancel",t),we("close",t),r=i;break;case"iframe":case"object":case"embed":we("load",t),r=i;break;case"video":case"audio":for(r=0;r<xa.length;r++)we(xa[r],t);r=i;break;case"source":we("error",t),r=i;break;case"img":case"image":case"link":we("error",t),we("load",t),r=i;break;case"details":we("toggle",t),r=i;break;case"input":A_(t,i),r=Jg(t,i),we("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Pe({},i,{value:void 0}),we("invalid",t);break;case"textarea":M_(t,i),r=tm(t,i),we("invalid",t);break;default:r=i}im(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?vk(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mk(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&dl(t,l):typeof l=="number"&&dl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&we("scroll",t):l!=null&&mv(t,s,l,o))}switch(n){case"input":Gc(t),R_(t,i,!1);break;case"textarea":Gc(t),O_(t);break;case"option":i.value!=null&&t.setAttribute("value",""+gr(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?io(t,!!i.multiple,s,!1):i.defaultValue!=null&&io(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Ih)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dt(e),null;case 6:if(t&&e.stateNode!=null)jT(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(P(166));if(n=Yr(xl.current),Yr(Un.current),iu(e)){if(i=e.stateNode,n=e.memoizedProps,i[Ln]=e,(s=i.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:nu(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nu(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Ln]=e,e.stateNode=i}return dt(e),null;case 13:if(be(Ce),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&Gt!==null&&e.mode&1&&!(e.flags&128))sT(),_o(),e.flags|=98560,s=!1;else if(s=iu(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[Ln]=e}else _o(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dt(e),s=!1}else _n!==null&&($m(_n),_n=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?qe===0&&(qe=3):Jv())),e.updateQueue!==null&&(e.flags|=4),dt(e),null);case 4:return So(),Am(t,e),t===null&&wl(e.stateNode.containerInfo),dt(e),null;case 10:return Lv(e.type._context),dt(e),null;case 17:return Bt(e.type)&&Ph(),dt(e),null;case 19:if(be(Ce),s=e.memoizedState,s===null)return dt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)ca(s,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Nh(t),o!==null){for(e.flags|=128,ca(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(Ce,Ce.current&1|2),e.child}t=t.sibling}s.tail!==null&&$e()>Eo&&(e.flags|=128,i=!0,ca(s,!1),e.lanes=4194304)}else{if(!i)if(t=Nh(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ca(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ee)return dt(e),null}else 2*$e()-s.renderingStartTime>Eo&&n!==1073741824&&(e.flags|=128,i=!0,ca(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$e(),e.sibling=null,n=Ce.current,me(Ce,i?n&1|2:n&1),e):(dt(e),null);case 22:case 23:return Qv(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Kt&1073741824&&(dt(e),e.subtreeFlags&6&&(e.flags|=8192)):dt(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function jL(t,e){switch(Rv(e),e.tag){case 1:return Bt(e.type)&&Ph(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return So(),be(Vt),be(St),Bv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vv(e),null;case 13:if(be(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));_o()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Ce),null;case 4:return So(),null;case 10:return Lv(e.type._context),null;case 22:case 23:return Qv(),null;case 24:return null;default:return null}}var ou=!1,mt=!1,zL=typeof WeakSet=="function"?WeakSet:Set,D=null;function Ys(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Re(t,e,i)}else n.current=null}function Rm(t,e,n){try{n()}catch(i){Re(t,e,i)}}var Sb=!1;function HL(t,e){if(pm=kh,t=Kk(),Pv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var f;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++c===r&&(a=o),d===s&&++u===i&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gm={focusedElem:t,selectionRange:n},kh=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:vn(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(_){Re(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return p=Sb,Sb=!1,p}function ja(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Rm(e,n,s)}r=r.next}while(r!==i)}}function Xd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Mm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zT(t){var e=t.alternate;e!==null&&(t.alternate=null,zT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[bl],delete e[vm],delete e[TL],delete e[CL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function HT(t){return t.tag===5||t.tag===3||t.tag===4}function xb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||HT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Om(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ih));else if(i!==4&&(t=t.child,t!==null))for(Om(t,e,n),t=t.sibling;t!==null;)Om(t,e,n),t=t.sibling}function Dm(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Dm(t,e,n),t=t.sibling;t!==null;)Dm(t,e,n),t=t.sibling}var rt=null,wn=!1;function Ai(t,e,n){for(n=n.child;n!==null;)WT(t,e,n),n=n.sibling}function WT(t,e,n){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(jd,n)}catch{}switch(n.tag){case 5:mt||Ys(n,e);case 6:var i=rt,r=wn;rt=null,Ai(t,e,n),rt=i,wn=r,rt!==null&&(wn?(t=rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(wn?(t=rt,n=n.stateNode,t.nodeType===8?Op(t.parentNode,n):t.nodeType===1&&Op(t,n),ml(t)):Op(rt,n.stateNode));break;case 4:i=rt,r=wn,rt=n.stateNode.containerInfo,wn=!0,Ai(t,e,n),rt=i,wn=r;break;case 0:case 11:case 14:case 15:if(!mt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Rm(n,e,o),r=r.next}while(r!==i)}Ai(t,e,n);break;case 1:if(!mt&&(Ys(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Re(n,e,a)}Ai(t,e,n);break;case 21:Ai(t,e,n);break;case 22:n.mode&1?(mt=(i=mt)||n.memoizedState!==null,Ai(t,e,n),mt=i):Ai(t,e,n);break;default:Ai(t,e,n)}}function Eb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zL),e.forEach(function(i){var r=ZL.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function mn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rt=a.stateNode,wn=!1;break e;case 3:rt=a.stateNode.containerInfo,wn=!0;break e;case 4:rt=a.stateNode.containerInfo,wn=!0;break e}a=a.return}if(rt===null)throw Error(P(160));WT(s,o,r),rt=null,wn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Re(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KT(e,t),e=e.sibling}function KT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mn(e,t),An(t),i&4){try{ja(3,t,t.return),Xd(3,t)}catch(g){Re(t,t.return,g)}try{ja(5,t,t.return)}catch(g){Re(t,t.return,g)}}break;case 1:mn(e,t),An(t),i&512&&n!==null&&Ys(n,n.return);break;case 5:if(mn(e,t),An(t),i&512&&n!==null&&Ys(n,n.return),t.flags&32){var r=t.stateNode;try{dl(r,"")}catch(g){Re(t,t.return,g)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&fk(r,s),rm(a,o);var c=rm(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?vk(r,h):u==="dangerouslySetInnerHTML"?mk(r,h):u==="children"?dl(r,h):mv(r,u,h,c)}switch(a){case"input":Zg(r,s);break;case"textarea":pk(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?io(r,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?io(r,!!s.multiple,s.defaultValue,!0):io(r,!!s.multiple,s.multiple?[]:"",!1))}r[bl]=s}catch(g){Re(t,t.return,g)}}break;case 6:if(mn(e,t),An(t),i&4){if(t.stateNode===null)throw Error(P(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(g){Re(t,t.return,g)}}break;case 3:if(mn(e,t),An(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ml(e.containerInfo)}catch(g){Re(t,t.return,g)}break;case 4:mn(e,t),An(t);break;case 13:mn(e,t),An(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Yv=$e())),i&4&&Eb(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(mt=(c=mt)||u,mn(e,t),mt=c):mn(e,t),An(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(D=t,u=t.child;u!==null;){for(h=D=u;D!==null;){switch(d=D,f=d.child,d.tag){case 0:case 11:case 14:case 15:ja(4,d,d.return);break;case 1:Ys(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Re(i,n,g)}}break;case 5:Ys(d,d.return);break;case 22:if(d.memoizedState!==null){Tb(h);continue}}f!==null?(f.return=d,D=f):Tb(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yk("display",o))}catch(g){Re(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Re(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mn(e,t),An(t),i&4&&Eb(t);break;case 21:break;default:mn(e,t),An(t)}}function An(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(HT(n)){var i=n;break e}n=n.return}throw Error(P(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(dl(r,""),i.flags&=-33);var s=xb(t);Dm(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=xb(t);Om(t,a,o);break;default:throw Error(P(161))}}catch(l){Re(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WL(t,e,n){D=t,qT(t)}function qT(t,e,n){for(var i=(t.mode&1)!==0;D!==null;){var r=D,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||ou;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||mt;a=ou;var c=mt;if(ou=o,(mt=l)&&!c)for(D=r;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?Cb(r):l!==null?(l.return=o,D=l):Cb(r);for(;s!==null;)D=s,qT(s),s=s.sibling;D=r,ou=a,mt=c}kb(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,D=s):kb(t)}}function kb(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mt||Xd(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!mt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:vn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&lb(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ml(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}mt||e.flags&512&&Mm(e)}catch(d){Re(e,e.return,d)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function Tb(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function Cb(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xd(4,e)}catch(l){Re(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Re(e,r,l)}}var s=e.return;try{Mm(e)}catch(l){Re(e,s,l)}break;case 5:var o=e.return;try{Mm(e)}catch(l){Re(e,o,l)}}}catch(l){Re(e,e.return,l)}if(e===t){D=null;break}var a=e.sibling;if(a!==null){a.return=e.return,D=a;break}D=e.return}}var KL=Math.ceil,Vh=Ii.ReactCurrentDispatcher,qv=Ii.ReactCurrentOwner,un=Ii.ReactCurrentBatchConfig,re=0,tt=null,je=null,at=0,Kt=0,Xs=Ir(0),qe=0,Cl=null,fs=0,Qd=0,Gv=0,za=null,Nt=null,Yv=0,Eo=1/0,si=null,Bh=!1,Lm=null,sr=null,au=!1,qi=null,Uh=0,Ha=0,Nm=null,qu=-1,Gu=0;function At(){return re&6?$e():qu!==-1?qu:qu=$e()}function or(t){return t.mode&1?re&2&&at!==0?at&-at:PL.transition!==null?(Gu===0&&(Gu=Ak()),Gu):(t=ce,t!==0||(t=window.event,t=t===void 0?16:Fk(t.type)),t):1}function kn(t,e,n,i){if(50<Ha)throw Ha=0,Nm=null,Error(P(185));lc(t,n,i),(!(re&2)||t!==tt)&&(t===tt&&(!(re&2)&&(Qd|=n),qe===4&&Vi(t,at)),Ut(t,i),n===1&&re===0&&!(e.mode&1)&&(Eo=$e()+500,qd&&Pr()))}function Ut(t,e){var n=t.callbackNode;PD(t,e);var i=Eh(t,t===tt?at:0);if(i===0)n!==null&&N_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&N_(n),e===1)t.tag===0?IL(Ib.bind(null,t)):nT(Ib.bind(null,t)),EL(function(){!(re&6)&&Pr()}),n=null;else{switch(Rk(i)){case 1:n=bv;break;case 4:n=Ik;break;case 16:n=xh;break;case 536870912:n=Pk;break;default:n=xh}n=tC(n,GT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GT(t,e){if(qu=-1,Gu=0,re&6)throw Error(P(327));var n=t.callbackNode;if(lo()&&t.callbackNode!==n)return null;var i=Eh(t,t===tt?at:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=jh(t,i);else{e=i;var r=re;re|=2;var s=XT();(tt!==t||at!==e)&&(si=null,Eo=$e()+500,ts(t,e));do try{YL();break}catch(a){YT(t,a)}while(1);Dv(),Vh.current=s,re=r,je!==null?e=0:(tt=null,at=0,e=qe)}if(e!==0){if(e===2&&(r=cm(t),r!==0&&(i=r,e=Fm(t,r))),e===1)throw n=Cl,ts(t,0),Vi(t,i),Ut(t,$e()),n;if(e===6)Vi(t,i);else{if(r=t.current.alternate,!(i&30)&&!qL(r)&&(e=jh(t,i),e===2&&(s=cm(t),s!==0&&(i=s,e=Fm(t,s))),e===1))throw n=Cl,ts(t,0),Vi(t,i),Ut(t,$e()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(P(345));case 2:Br(t,Nt,si);break;case 3:if(Vi(t,i),(i&130023424)===i&&(e=Yv+500-$e(),10<e)){if(Eh(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){At(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ym(Br.bind(null,t,Nt,si),e);break}Br(t,Nt,si);break;case 4:if(Vi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-En(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=$e()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*KL(i/1960))-i,10<i){t.timeoutHandle=ym(Br.bind(null,t,Nt,si),i);break}Br(t,Nt,si);break;case 5:Br(t,Nt,si);break;default:throw Error(P(329))}}}return Ut(t,$e()),t.callbackNode===n?GT.bind(null,t):null}function Fm(t,e){var n=za;return t.current.memoizedState.isDehydrated&&(ts(t,e).flags|=256),t=jh(t,e),t!==2&&(e=Nt,Nt=n,e!==null&&$m(e)),t}function $m(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function qL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Cn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vi(t,e){for(e&=~Gv,e&=~Qd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-En(e),i=1<<n;t[n]=-1,e&=~i}}function Ib(t){if(re&6)throw Error(P(327));lo();var e=Eh(t,0);if(!(e&1))return Ut(t,$e()),null;var n=jh(t,e);if(t.tag!==0&&n===2){var i=cm(t);i!==0&&(e=i,n=Fm(t,i))}if(n===1)throw n=Cl,ts(t,0),Vi(t,e),Ut(t,$e()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Br(t,Nt,si),Ut(t,$e()),null}function Xv(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(Eo=$e()+500,qd&&Pr())}}function ps(t){qi!==null&&qi.tag===0&&!(re&6)&&lo();var e=re;re|=1;var n=un.transition,i=ce;try{if(un.transition=null,ce=1,t)return t()}finally{ce=i,un.transition=n,re=e,!(re&6)&&Pr()}}function Qv(){Kt=Xs.current,be(Xs)}function ts(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xL(n)),je!==null)for(n=je.return;n!==null;){var i=n;switch(Rv(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ph();break;case 3:So(),be(Vt),be(St),Bv();break;case 5:Vv(i);break;case 4:So();break;case 13:be(Ce);break;case 19:be(Ce);break;case 10:Lv(i.type._context);break;case 22:case 23:Qv()}n=n.return}if(tt=t,je=t=ar(t.current,null),at=Kt=e,qe=0,Cl=null,Gv=Qd=fs=0,Nt=za=null,Gr!==null){for(e=0;e<Gr.length;e++)if(n=Gr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Gr=null}return t}function YT(t,e){do{var n=je;try{if(Dv(),Hu.current=$h,Fh){for(var i=Ie.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Fh=!1}if(ds=0,Ze=We=Ie=null,Ua=!1,El=0,qv.current=null,n===null||n.return===null){qe=1,Cl=e,je=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=at,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=gb(o);if(f!==null){f.flags&=-257,mb(f,o,a,s,e),f.mode&1&&pb(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){pb(s,c,e),Jv();break e}l=Error(P(426))}}else if(Ee&&a.mode&1){var v=gb(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),mb(v,o,a,s,e),Mv(xo(l,a));break e}}s=l=xo(l,a),qe!==4&&(qe=2),za===null?za=[s]:za.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=MT(s,l,e);ab(s,y);break e;case 1:a=l;var m=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(sr===null||!sr.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=OT(s,a,e);ab(s,_);break e}}s=s.return}while(s!==null)}JT(n)}catch(b){e=b,je===n&&n!==null&&(je=n=n.return);continue}break}while(1)}function XT(){var t=Vh.current;return Vh.current=$h,t===null?$h:t}function Jv(){(qe===0||qe===3||qe===2)&&(qe=4),tt===null||!(fs&268435455)&&!(Qd&268435455)||Vi(tt,at)}function jh(t,e){var n=re;re|=2;var i=XT();(tt!==t||at!==e)&&(si=null,ts(t,e));do try{GL();break}catch(r){YT(t,r)}while(1);if(Dv(),re=n,Vh.current=i,je!==null)throw Error(P(261));return tt=null,at=0,qe}function GL(){for(;je!==null;)QT(je)}function YL(){for(;je!==null&&!_D();)QT(je)}function QT(t){var e=eC(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?JT(t):je=e,qv.current=null}function JT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jL(n,e),n!==null){n.flags&=32767,je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,je=null;return}}else if(n=UL(n,e,Kt),n!==null){je=n;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);qe===0&&(qe=5)}function Br(t,e,n){var i=ce,r=un.transition;try{un.transition=null,ce=1,XL(t,e,n,i)}finally{un.transition=r,ce=i}return null}function XL(t,e,n,i){do lo();while(qi!==null);if(re&6)throw Error(P(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(AD(t,s),t===tt&&(je=tt=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||au||(au=!0,tC(xh,function(){return lo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=un.transition,un.transition=null;var o=ce;ce=1;var a=re;re|=4,qv.current=null,HL(t,n),KT(n,t),mL(gm),kh=!!pm,gm=pm=null,t.current=n,WL(n),bD(),re=a,ce=o,un.transition=s}else t.current=n;if(au&&(au=!1,qi=t,Uh=r),s=t.pendingLanes,s===0&&(sr=null),ED(n.stateNode),Ut(t,$e()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Bh)throw Bh=!1,t=Lm,Lm=null,t;return Uh&1&&t.tag!==0&&lo(),s=t.pendingLanes,s&1?t===Nm?Ha++:(Ha=0,Nm=t):Ha=0,Pr(),null}function lo(){if(qi!==null){var t=Rk(Uh),e=un.transition,n=ce;try{if(un.transition=null,ce=16>t?16:t,qi===null)var i=!1;else{if(t=qi,qi=null,Uh=0,re&6)throw Error(P(331));var r=re;for(re|=4,D=t.current;D!==null;){var s=D,o=s.child;if(D.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(D=c;D!==null;){var u=D;switch(u.tag){case 0:case 11:case 15:ja(8,u,s)}var h=u.child;if(h!==null)h.return=u,D=h;else for(;D!==null;){u=D;var d=u.sibling,f=u.return;if(zT(u),u===c){D=null;break}if(d!==null){d.return=f,D=d;break}D=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}D=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,D=o;else e:for(;D!==null;){if(s=D,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ja(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,D=y;break e}D=s.return}}var m=t.current;for(D=m;D!==null;){o=D;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,D=w;else e:for(o=m;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xd(9,a)}}catch(b){Re(a,a.return,b)}if(a===o){D=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,D=_;break e}D=a.return}}if(re=r,Pr(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(jd,t)}catch{}i=!0}return i}finally{ce=n,un.transition=e}}return!1}function Pb(t,e,n){e=xo(n,e),e=MT(t,e,1),t=rr(t,e,1),e=At(),t!==null&&(lc(t,1,e),Ut(t,e))}function Re(t,e,n){if(t.tag===3)Pb(t,t,n);else for(;e!==null;){if(e.tag===3){Pb(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(sr===null||!sr.has(i))){t=xo(n,t),t=OT(e,t,1),e=rr(e,t,1),t=At(),e!==null&&(lc(e,1,t),Ut(e,t));break}}e=e.return}}function QL(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=At(),t.pingedLanes|=t.suspendedLanes&n,tt===t&&(at&n)===n&&(qe===4||qe===3&&(at&130023424)===at&&500>$e()-Yv?ts(t,0):Gv|=n),Ut(t,e)}function ZT(t,e){e===0&&(t.mode&1?(e=Qc,Qc<<=1,!(Qc&130023424)&&(Qc=4194304)):e=1);var n=At();t=_i(t,e),t!==null&&(lc(t,e,n),Ut(t,n))}function JL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ZT(t,n)}function ZL(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(P(314))}i!==null&&i.delete(e),ZT(t,n)}var eC;eC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vt.current)$t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $t=!1,BL(t,e,n);$t=!!(t.flags&131072)}else $t=!1,Ee&&e.flags&1048576&&iT(e,Mh,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Ku(t,e),t=e.pendingProps;var r=wo(e,St.current);ao(e,n),r=jv(null,e,i,t,r,n);var s=zv();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(i)?(s=!0,Ah(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Fv(e),r.updater=Gd,e.stateNode=r,r._reactInternals=e,Em(e,i,t,n),e=Cm(null,e,i,!0,s,n)):(e.tag=0,Ee&&s&&Av(e),It(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Ku(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=tN(i),t=vn(i,t),r){case 0:e=Tm(null,e,i,t,n);break e;case 1:e=wb(null,e,i,t,n);break e;case 11:e=yb(null,e,i,t,n);break e;case 14:e=vb(null,e,i,vn(i.type,t),n);break e}throw Error(P(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:vn(i,r),Tm(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:vn(i,r),wb(t,e,i,r,n);case 3:e:{if(FT(e),t===null)throw Error(P(387));i=e.pendingProps,s=e.memoizedState,r=s.element,aT(t,e),Lh(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=xo(Error(P(423)),e),e=_b(t,e,i,n,r);break e}else if(i!==r){r=xo(Error(P(424)),e),e=_b(t,e,i,n,r);break e}else for(Gt=ir(e.stateNode.containerInfo.firstChild),Xt=e,Ee=!0,_n=null,n=hT(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_o(),i===r){e=bi(t,e,n);break e}It(t,e,i,n)}e=e.child}return e;case 5:return dT(e),t===null&&bm(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,mm(i,r)?o=null:s!==null&&mm(i,s)&&(e.flags|=32),NT(t,e),It(t,e,o,n),e.child;case 6:return t===null&&bm(e),null;case 13:return $T(t,e,n);case 4:return $v(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=bo(e,null,i,n):It(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:vn(i,r),yb(t,e,i,r,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,me(Oh,i._currentValue),i._currentValue=o,s!==null)if(Cn(s.value,o)){if(s.children===r.children&&!Vt.current){e=bi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=gi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Sm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}It(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,ao(e,n),r=dn(r),i=i(r),e.flags|=1,It(t,e,i,n),e.child;case 14:return i=e.type,r=vn(i,e.pendingProps),r=vn(i.type,r),vb(t,e,i,r,n);case 15:return DT(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:vn(i,r),Ku(t,e),e.tag=1,Bt(i)?(t=!0,Ah(e)):t=!1,ao(e,n),cT(e,i,r),Em(e,i,r,n),Cm(null,e,i,!0,t,n);case 19:return VT(t,e,n);case 22:return LT(t,e,n)}throw Error(P(156,e.tag))};function tC(t,e){return Ck(t,e)}function eN(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,i){return new eN(t,e,n,i)}function Zv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tN(t){if(typeof t=="function")return Zv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vv)return 11;if(t===wv)return 14}return 2}function ar(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yu(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Zv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bs:return ns(n.children,r,s,e);case yv:o=8,r|=8;break;case Gg:return t=cn(12,n,e,r|2),t.elementType=Gg,t.lanes=s,t;case Yg:return t=cn(13,n,e,r),t.elementType=Yg,t.lanes=s,t;case Xg:return t=cn(19,n,e,r),t.elementType=Xg,t.lanes=s,t;case uk:return Jd(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lk:o=10;break e;case ck:o=9;break e;case vv:o=11;break e;case wv:o=14;break e;case Li:o=16,i=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=cn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function ns(t,e,n,i){return t=cn(7,t,i,e),t.lanes=n,t}function Jd(t,e,n,i){return t=cn(22,t,i,e),t.elementType=uk,t.lanes=n,t.stateNode={isHidden:!1},t}function Up(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function jp(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nN(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sp(0),this.expirationTimes=Sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sp(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function e0(t,e,n,i,r,s,o,a,l){return t=new nN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fv(s),t}function iN(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vs,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function nC(t){if(!t)return mr;t=t._reactInternals;e:{if(Ts(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Bt(n))return tT(t,n,e)}return e}function iC(t,e,n,i,r,s,o,a,l){return t=e0(n,i,!0,t,r,s,o,a,l),t.context=nC(null),n=t.current,i=At(),r=or(n),s=gi(i,r),s.callback=e??null,rr(n,s,r),t.current.lanes=r,lc(t,r,i),Ut(t,i),t}function Zd(t,e,n,i){var r=e.current,s=At(),o=or(r);return n=nC(n),e.context===null?e.context=n:e.pendingContext=n,e=gi(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=rr(r,e,o),t!==null&&(kn(t,r,o,s),zu(t,r,o)),o}function zh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ab(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function t0(t,e){Ab(t,e),(t=t.alternate)&&Ab(t,e)}function rN(){return null}var rC=typeof reportError=="function"?reportError:function(t){console.error(t)};function n0(t){this._internalRoot=t}ef.prototype.render=n0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Zd(t,e,null,null)};ef.prototype.unmount=n0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ps(function(){Zd(null,t,null,null)}),e[wi]=null}};function ef(t){this._internalRoot=t}ef.prototype.unstable_scheduleHydration=function(t){if(t){var e=Dk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$i.length&&e!==0&&e<$i[n].priority;n++);$i.splice(n,0,t),n===0&&Nk(t)}};function i0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rb(){}function sN(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=zh(o);s.call(c)}}var o=iC(e,i,t,0,null,!1,!1,"",Rb);return t._reactRootContainer=o,t[wi]=o.current,wl(t.nodeType===8?t.parentNode:t),ps(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=zh(l);a.call(c)}}var l=e0(t,0,!1,null,null,!1,!1,"",Rb);return t._reactRootContainer=l,t[wi]=l.current,wl(t.nodeType===8?t.parentNode:t),ps(function(){Zd(e,l,n,i)}),l}function nf(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=zh(o);a.call(l)}}Zd(e,o,t,r)}else o=sN(n,e,t,r,i);return zh(o)}Mk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sa(e.pendingLanes);n!==0&&(Sv(e,n|1),Ut(e,$e()),!(re&6)&&(Eo=$e()+500,Pr()))}break;case 13:ps(function(){var i=_i(t,1);if(i!==null){var r=At();kn(i,t,1,r)}}),t0(t,1)}};xv=function(t){if(t.tag===13){var e=_i(t,134217728);if(e!==null){var n=At();kn(e,t,134217728,n)}t0(t,134217728)}};Ok=function(t){if(t.tag===13){var e=or(t),n=_i(t,e);if(n!==null){var i=At();kn(n,t,e,i)}t0(t,e)}};Dk=function(){return ce};Lk=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};om=function(t,e,n){switch(e){case"input":if(Zg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Kd(i);if(!r)throw Error(P(90));dk(i),Zg(i,r)}}}break;case"textarea":pk(t,n);break;case"select":e=n.value,e!=null&&io(t,!!n.multiple,e,!1)}};bk=Xv;Sk=ps;var oN={usingClientEntryPoint:!1,Events:[uc,Hs,Kd,wk,_k,Xv]},ua={findFiberByHostInstance:qr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aN={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kk(t),t===null?null:t.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||rN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{jd=lu.inject(aN),Bn=lu}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oN;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!i0(e))throw Error(P(200));return iN(t,e,null,n)};tn.createRoot=function(t,e){if(!i0(t))throw Error(P(299));var n=!1,i="",r=rC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=e0(t,1,!1,null,null,n,!1,i,r),t[wi]=e.current,wl(t.nodeType===8?t.parentNode:t),new n0(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=kk(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return ps(t)};tn.hydrate=function(t,e,n){if(!tf(e))throw Error(P(200));return nf(null,t,e,!0,n)};tn.hydrateRoot=function(t,e,n){if(!i0(t))throw Error(P(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=rC;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=iC(e,null,t,1,n??null,r,!1,s,o),t[wi]=e.current,wl(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new ef(e)};tn.render=function(t,e,n){if(!tf(e))throw Error(P(200));return nf(null,t,e,!1,n)};tn.unmountComponentAtNode=function(t){if(!tf(t))throw Error(P(40));return t._reactRootContainer?(ps(function(){nf(null,null,t,!1,function(){t._reactRootContainer=null,t[wi]=null})}),!0):!1};tn.unstable_batchedUpdates=Xv;tn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!tf(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return nf(t,e,n,!1,i)};tn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=tn})(rD);var Mb=wh;Wg.createRoot=Mb.createRoot,Wg.hydrateRoot=Mb.hydrateRoot;/**
 * @remix-run/router v1.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Il.apply(this,arguments)}var Gi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gi||(Gi={}));const Ob="popstate";function lN(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Vm("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Hh(r)}return hN(e,n,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uN(){return Math.random().toString(36).substr(2,8)}function Db(t,e){return{usr:t.state,key:t.key,idx:e}}function Vm(t,e,n,i){return n===void 0&&(n=null),Il({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?jo(e):e,{state:n,key:e&&e.key||i||uN()})}function Hh(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function jo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function hN(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Gi.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Il({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){let v=Gi.Pop,y=u();if(y!=null){let m=y-c;a=v,c=y,l&&l({action:a,location:g.location,delta:m})}else cN(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function d(v,y){a=Gi.Push;let m=Vm(g.location,v,y);n&&n(m,v),c=u()+1;let w=Db(m,c),_=g.createHref(m);try{o.pushState(w,"",_)}catch{r.location.assign(_)}s&&l&&l({action:a,location:g.location,delta:1})}function f(v,y){a=Gi.Replace;let m=Vm(g.location,v,y);n&&n(m,v),c=u();let w=Db(m,c),_=g.createHref(m);o.replaceState(w,"",_),s&&l&&l({action:a,location:g.location,delta:0})}function p(v){let y=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof v=="string"?v:Hh(v);return ze(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let g={get action(){return a},get location(){return t(r,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Ob,h),l=v,()=>{r.removeEventListener(Ob,h),l=null}},createHref(v){return e(r,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:f,go(v){return o.go(v)}};return g}var Lb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Lb||(Lb={}));function dN(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?jo(e):e,r=aC(i.pathname||"/",n);if(r==null)return null;let s=sC(t);fN(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=SN(s[a],kN(r));return o}function sC(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ze(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=lr([i,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),sC(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:_N(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of oC(s.path))r(s,o,l)}),e}function oC(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=oC(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function fN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bN(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const pN=/^:\w+$/,gN=3,mN=2,yN=1,vN=10,wN=-2,Nb=t=>t==="*";function _N(t,e){let n=t.split("/"),i=n.length;return n.some(Nb)&&(i+=wN),e&&(i+=mN),n.filter(r=>!Nb(r)).reduce((r,s)=>r+(pN.test(s)?gN:s===""?yN:vN),i)}function bN(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function SN(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=r==="/"?e:e.slice(r.length)||"/",u=xN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);let h=a.route;s.push({params:i,pathname:lr([r,u.pathname]),pathnameBase:PN(lr([r,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(r=lr([r,u.pathnameBase]))}return s}function xN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=EN(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,h)=>{if(u==="*"){let d=a[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return c[u]=TN(a[h]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:t}}function EN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),r0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return t.endsWith("*")?(i.push("*"),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function kN(t){try{return decodeURI(t)}catch(e){return r0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function TN(t,e){try{return decodeURIComponent(t)}catch(n){return r0(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function aC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function r0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CN(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?jo(t):t;return{pathname:n?n.startsWith("/")?n:IN(n,e):e,search:AN(i),hash:RN(r)}}function IN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function zp(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cC(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=jo(t):(r=Il({},t),ze(!r.pathname||!r.pathname.includes("?"),zp("?","pathname","search",r)),ze(!r.pathname||!r.pathname.includes("#"),zp("#","pathname","hash",r)),ze(!r.search||!r.search.includes("#"),zp("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;r.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=CN(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const lr=t=>t.join("/").replace(/\/\/+/g,"/"),PN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class MN{constructor(e,n,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=n||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function ON(t){return t instanceof MN}const DN=["post","put","patch","delete"];[...DN];/**
 * React Router v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bm(){return Bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bm.apply(this,arguments)}function LN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const NN=typeof Object.is=="function"?Object.is:LN,{useState:FN,useEffect:$N,useLayoutEffect:VN,useDebugValue:BN}=Hg;function UN(t,e,n){const i=e(),[{inst:r},s]=FN({inst:{value:i,getSnapshot:e}});return VN(()=>{r.value=i,r.getSnapshot=e,Hp(r)&&s({inst:r})},[t,i,e]),$N(()=>(Hp(r)&&s({inst:r}),t(()=>{Hp(r)&&s({inst:r})})),[t]),BN(i),i}function Hp(t){const e=t.getSnapshot,n=t.value;try{const i=e();return!NN(n,i)}catch{return!0}}function jN(t,e,n){return e()}const zN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HN=!zN,WN=HN?jN:UN;"useSyncExternalStore"in Hg&&(t=>t.useSyncExternalStore)(Hg);const uC=x.createContext(null),s0=x.createContext(null),rf=x.createContext(null),sf=x.createContext(null),Cs=x.createContext({outlet:null,matches:[]}),hC=x.createContext(null);function KN(t,e){let{relative:n}=e===void 0?{}:e;zo()||ze(!1);let{basename:i,navigator:r}=x.useContext(rf),{hash:s,pathname:o,search:a}=dC(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:lr([i,o])),r.createHref({pathname:l,search:a,hash:s})}function zo(){return x.useContext(sf)!=null}function dc(){return zo()||ze(!1),x.useContext(sf).location}function Ho(){zo()||ze(!1);let{basename:t,navigator:e}=x.useContext(rf),{matches:n}=x.useContext(Cs),{pathname:i}=dc(),r=JSON.stringify(lC(n).map(a=>a.pathnameBase)),s=x.useRef(!1);return x.useEffect(()=>{s.current=!0}),x.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let c=cC(a,JSON.parse(r),i,l.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:lr([t,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[t,e,r,i])}function qN(){let{matches:t}=x.useContext(Cs),e=t[t.length-1];return e?e.params:{}}function dC(t,e){let{relative:n}=e===void 0?{}:e,{matches:i}=x.useContext(Cs),{pathname:r}=dc(),s=JSON.stringify(lC(i).map(o=>o.pathnameBase));return x.useMemo(()=>cC(t,JSON.parse(s),r,n==="path"),[t,s,r,n])}function GN(t,e){zo()||ze(!1);let{navigator:n}=x.useContext(rf),i=x.useContext(s0),{matches:r}=x.useContext(Cs),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=dc(),c;if(e){var u;let g=typeof e=="string"?jo(e):e;a==="/"||(u=g.pathname)!=null&&u.startsWith(a)||ze(!1),c=g}else c=l;let h=c.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",f=dN(t,{pathname:d}),p=JN(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:lr([a,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:lr([a,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),r,i||void 0);return e&&p?x.createElement(sf.Provider,{value:{location:Bm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Gi.Pop}},p):p}function YN(){let t=n2(),e=ON(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unhandled Thrown Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:r},n):null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:s},"errorElement")," props on ",x.createElement("code",{style:s},"<Route>")))}class XN extends x.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?x.createElement(Cs.Provider,{value:this.props.routeContext},x.createElement(hC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QN(t){let{routeContext:e,match:n,children:i}=t,r=x.useContext(uC);return r&&r.static&&r.staticContext&&n.route.errorElement&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Cs.Provider,{value:e},i)}function JN(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let i=t,r=n==null?void 0:n.errors;if(r!=null){let s=i.findIndex(o=>o.route.id&&(r==null?void 0:r[o.route.id]));s>=0||ze(!1),i=i.slice(0,Math.min(i.length,s+1))}return i.reduceRight((s,o,a)=>{let l=o.route.id?r==null?void 0:r[o.route.id]:null,c=n?o.route.errorElement||x.createElement(YN,null):null,u=e.concat(i.slice(0,a+1)),h=()=>x.createElement(QN,{match:o,routeContext:{outlet:s,matches:u}},l?c:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?x.createElement(XN,{location:n.location,component:c,error:l,children:h(),routeContext:{outlet:null,matches:u}}):h()},null)}var Fb;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(Fb||(Fb={}));var Wh;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Wh||(Wh={}));function ZN(t){let e=x.useContext(s0);return e||ze(!1),e}function e2(t){let e=x.useContext(Cs);return e||ze(!1),e}function t2(t){let e=e2(),n=e.matches[e.matches.length-1];return n.route.id||ze(!1),n.route.id}function n2(){var t;let e=x.useContext(hC),n=ZN(Wh.UseRouteError),i=t2(Wh.UseRouteError);return e||((t=n.errors)==null?void 0:t[i])}function i2(t){let{to:e,replace:n,state:i,relative:r}=t;zo()||ze(!1);let s=x.useContext(s0),o=Ho();return x.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:i,relative:r})}),null}function Oi(t){ze(!1)}function r2(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Gi.Pop,navigator:s,static:o=!1}=t;zo()&&ze(!1);let a=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=jo(i));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:f="default"}=i,p=x.useMemo(()=>{let g=aC(c,a);return g==null?null:{pathname:g,search:u,hash:h,state:d,key:f}},[a,c,u,h,d,f]);return p==null?null:x.createElement(rf.Provider,{value:l},x.createElement(sf.Provider,{children:n,value:{location:p,navigationType:r}}))}function s2(t){let{children:e,location:n}=t,i=x.useContext(uC),r=i&&!e?i.router.routes:Um(e);return GN(r,n)}var $b;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})($b||($b={}));new Promise(()=>{});function Um(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(i,r)=>{if(!x.isValidElement(i))return;if(i.type===x.Fragment){n.push.apply(n,Um(i.props.children,e));return}i.type!==Oi&&ze(!1),!i.props.index||!i.props.children||ze(!1);let s=[...e,r],o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,hasErrorBoundary:i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle};i.props.children&&(o.children=Um(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jm(){return jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jm.apply(this,arguments)}function o2(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function a2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function l2(t,e){return t.button===0&&(!e||e==="_self")&&!a2(t)}const c2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function u2(t){let{basename:e,children:n,window:i}=t,r=x.useRef();r.current==null&&(r.current=lN({window:i,v5Compat:!0}));let s=r.current,[o,a]=x.useState({action:s.action,location:s.location});return x.useLayoutEffect(()=>s.listen(a),[s]),x.createElement(r2,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const Qs=x.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,h=o2(e,c2),d=KN(c,{relative:r}),f=h2(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r});function p(g){i&&i(g),g.defaultPrevented||f(g)}return x.createElement("a",jm({},h,{href:d,onClick:s?i:p,ref:n,target:l}))});var Vb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Vb||(Vb={}));var Bb;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Bb||(Bb={}));function h2(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Ho(),l=dc(),c=dC(t,{relative:o});return x.useCallback(u=>{if(l2(u,n)){u.preventDefault();let h=i!==void 0?i:Hh(l)===Hh(c);a(t,{replace:h,state:r,preventScrollReset:s,relative:o})}},[l,a,c,i,r,n,t,s,o])}var zm={},d2={get exports(){return zm},set exports(t){zm=t}},fC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ko=x;function f2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var p2=typeof Object.is=="function"?Object.is:f2,g2=ko.useState,m2=ko.useEffect,y2=ko.useLayoutEffect,v2=ko.useDebugValue;function w2(t,e){var n=e(),i=g2({inst:{value:n,getSnapshot:e}}),r=i[0].inst,s=i[1];return y2(function(){r.value=n,r.getSnapshot=e,Wp(r)&&s({inst:r})},[t,n,e]),m2(function(){return Wp(r)&&s({inst:r}),t(function(){Wp(r)&&s({inst:r})})},[t]),v2(n),n}function Wp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!p2(t,n)}catch{return!0}}function _2(t,e){return e()}var b2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_2:w2;fC.useSyncExternalStore=ko.useSyncExternalStore!==void 0?ko.useSyncExternalStore:b2;(function(t){t.exports=fC})(d2);var Hm={},S2={get exports(){return Hm},set exports(t){Hm=t}},pC={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var of=x,x2=zm;function E2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var k2=typeof Object.is=="function"?Object.is:E2,T2=x2.useSyncExternalStore,C2=of.useRef,I2=of.useEffect,P2=of.useMemo,A2=of.useDebugValue;pC.useSyncExternalStoreWithSelector=function(t,e,n,i,r){var s=C2(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=P2(function(){function l(f){if(!c){if(c=!0,u=f,f=i(f),r!==void 0&&o.hasValue){var p=o.value;if(r(p,f))return h=p}return h=f}if(p=h,k2(u,f))return p;var g=i(f);return r!==void 0&&r(p,g)?p:(u=f,h=g)}var c=!1,u,h,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,i,r]);var a=T2(t,s[0],s[1]);return I2(function(){o.hasValue=!0,o.value=a},[a]),A2(a),a};(function(t){t.exports=pC})(S2);function R2(t){t()}let gC=R2;const M2=t=>gC=t,O2=()=>gC,yr=x.createContext(null);function mC(){return x.useContext(yr)}const D2=()=>{throw new Error("uSES not initialized!")};let yC=D2;const L2=t=>{yC=t},N2=(t,e)=>t===e;function F2(t=yr){const e=t===yr?mC:()=>x.useContext(t);return function(i,r=N2){const{store:s,subscription:o,getServerState:a}=e(),l=yC(o.addNestedSub,s.getState,a||s.getState,i,r);return x.useDebugValue(l),l}}const Wo=F2();var Wm={},$2={get exports(){return Wm},set exports(t){Wm=t}},ue={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var it=typeof Symbol=="function"&&Symbol.for,o0=it?Symbol.for("react.element"):60103,a0=it?Symbol.for("react.portal"):60106,af=it?Symbol.for("react.fragment"):60107,lf=it?Symbol.for("react.strict_mode"):60108,cf=it?Symbol.for("react.profiler"):60114,uf=it?Symbol.for("react.provider"):60109,hf=it?Symbol.for("react.context"):60110,l0=it?Symbol.for("react.async_mode"):60111,df=it?Symbol.for("react.concurrent_mode"):60111,ff=it?Symbol.for("react.forward_ref"):60112,pf=it?Symbol.for("react.suspense"):60113,V2=it?Symbol.for("react.suspense_list"):60120,gf=it?Symbol.for("react.memo"):60115,mf=it?Symbol.for("react.lazy"):60116,B2=it?Symbol.for("react.block"):60121,U2=it?Symbol.for("react.fundamental"):60117,j2=it?Symbol.for("react.responder"):60118,z2=it?Symbol.for("react.scope"):60119;function rn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case o0:switch(t=t.type,t){case l0:case df:case af:case cf:case lf:case pf:return t;default:switch(t=t&&t.$$typeof,t){case hf:case ff:case mf:case gf:case uf:return t;default:return e}}case a0:return e}}}function vC(t){return rn(t)===df}ue.AsyncMode=l0;ue.ConcurrentMode=df;ue.ContextConsumer=hf;ue.ContextProvider=uf;ue.Element=o0;ue.ForwardRef=ff;ue.Fragment=af;ue.Lazy=mf;ue.Memo=gf;ue.Portal=a0;ue.Profiler=cf;ue.StrictMode=lf;ue.Suspense=pf;ue.isAsyncMode=function(t){return vC(t)||rn(t)===l0};ue.isConcurrentMode=vC;ue.isContextConsumer=function(t){return rn(t)===hf};ue.isContextProvider=function(t){return rn(t)===uf};ue.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===o0};ue.isForwardRef=function(t){return rn(t)===ff};ue.isFragment=function(t){return rn(t)===af};ue.isLazy=function(t){return rn(t)===mf};ue.isMemo=function(t){return rn(t)===gf};ue.isPortal=function(t){return rn(t)===a0};ue.isProfiler=function(t){return rn(t)===cf};ue.isStrictMode=function(t){return rn(t)===lf};ue.isSuspense=function(t){return rn(t)===pf};ue.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===af||t===df||t===cf||t===lf||t===pf||t===V2||typeof t=="object"&&t!==null&&(t.$$typeof===mf||t.$$typeof===gf||t.$$typeof===uf||t.$$typeof===hf||t.$$typeof===ff||t.$$typeof===U2||t.$$typeof===j2||t.$$typeof===z2||t.$$typeof===B2)};ue.typeOf=rn;(function(t){t.exports=ue})($2);var wC=Wm,H2={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},W2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_C={};_C[wC.ForwardRef]=H2;_C[wC.Memo]=W2;var Ub={},K2={get exports(){return Ub},set exports(t){Ub=t}},he={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0=Symbol.for("react.element"),u0=Symbol.for("react.portal"),yf=Symbol.for("react.fragment"),vf=Symbol.for("react.strict_mode"),wf=Symbol.for("react.profiler"),_f=Symbol.for("react.provider"),bf=Symbol.for("react.context"),q2=Symbol.for("react.server_context"),Sf=Symbol.for("react.forward_ref"),xf=Symbol.for("react.suspense"),Ef=Symbol.for("react.suspense_list"),kf=Symbol.for("react.memo"),Tf=Symbol.for("react.lazy"),G2=Symbol.for("react.offscreen"),bC;bC=Symbol.for("react.module.reference");function gn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case c0:switch(t=t.type,t){case yf:case wf:case vf:case xf:case Ef:return t;default:switch(t=t&&t.$$typeof,t){case q2:case bf:case Sf:case Tf:case kf:case _f:return t;default:return e}}case u0:return e}}}he.ContextConsumer=bf;he.ContextProvider=_f;he.Element=c0;he.ForwardRef=Sf;he.Fragment=yf;he.Lazy=Tf;he.Memo=kf;he.Portal=u0;he.Profiler=wf;he.StrictMode=vf;he.Suspense=xf;he.SuspenseList=Ef;he.isAsyncMode=function(){return!1};he.isConcurrentMode=function(){return!1};he.isContextConsumer=function(t){return gn(t)===bf};he.isContextProvider=function(t){return gn(t)===_f};he.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===c0};he.isForwardRef=function(t){return gn(t)===Sf};he.isFragment=function(t){return gn(t)===yf};he.isLazy=function(t){return gn(t)===Tf};he.isMemo=function(t){return gn(t)===kf};he.isPortal=function(t){return gn(t)===u0};he.isProfiler=function(t){return gn(t)===wf};he.isStrictMode=function(t){return gn(t)===vf};he.isSuspense=function(t){return gn(t)===xf};he.isSuspenseList=function(t){return gn(t)===Ef};he.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===yf||t===wf||t===vf||t===xf||t===Ef||t===G2||typeof t=="object"&&t!==null&&(t.$$typeof===Tf||t.$$typeof===kf||t.$$typeof===_f||t.$$typeof===bf||t.$$typeof===Sf||t.$$typeof===bC||t.getModuleId!==void 0)};he.typeOf=gn;(function(t){t.exports=he})(K2);function Y2(){const t=O2();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){let i=[],r=e;for(;r;)i.push(r),r=r.next;return i},subscribe(i){let r=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const jb={notify(){},get:()=>[]};function X2(t,e){let n,i=jb;function r(h){return l(),i.subscribe(h)}function s(){i.notify()}function o(){u.onStateChange&&u.onStateChange()}function a(){return Boolean(n)}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),i=Y2())}function c(){n&&(n(),n=void 0,i.clear(),i=jb)}const u={addNestedSub:r,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:()=>i};return u}const Q2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J2=Q2?x.useLayoutEffect:x.useEffect;function Z2({store:t,context:e,children:n,serverState:i}){const r=x.useMemo(()=>{const a=X2(t);return{store:t,subscription:a,getServerState:i?()=>i:void 0}},[t,i]),s=x.useMemo(()=>t.getState(),[t]);J2(()=>{const{subscription:a}=r;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[r,s]);const o=e||yr;return Qn.createElement(o.Provider,{value:r},n)}function SC(t=yr){const e=t===yr?mC:()=>x.useContext(t);return function(){const{store:i}=e();return i}}const eF=SC();function tF(t=yr){const e=t===yr?eF:SC(t);return function(){return e().dispatch}}const fc=tF();L2(Hm.useSyncExternalStoreWithSelector);M2(wh.unstable_batchedUpdates);function bn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(r){return"'"+r+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function vr(t){return!!t&&!!t[xe]}function Si(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var i=Object.getPrototypeOf(n);if(i===null)return!0;var r=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===uF}(t)||Array.isArray(t)||!!t[Yb]||!!(!((e=t.constructor)===null||e===void 0)&&e[Yb])||h0(t)||d0(t))}function gs(t,e,n){n===void 0&&(n=!1),Ko(t)===0?(n?Object.keys:uo)(t).forEach(function(i){n&&typeof i=="symbol"||e(i,t[i],t)}):t.forEach(function(i,r){return e(r,i,t)})}function Ko(t){var e=t[xe];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:h0(t)?2:d0(t)?3:0}function co(t,e){return Ko(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function nF(t,e){return Ko(t)===2?t.get(e):t[e]}function xC(t,e,n){var i=Ko(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function EC(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function h0(t){return lF&&t instanceof Map}function d0(t){return cF&&t instanceof Set}function Ur(t){return t.o||t.t}function f0(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=TC(t);delete e[xe];for(var n=uo(e),i=0;i<n.length;i++){var r=n[i],s=e[r];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[r]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[r]})}return Object.create(Object.getPrototypeOf(t),e)}function p0(t,e){return e===void 0&&(e=!1),g0(t)||vr(t)||!Si(t)||(Ko(t)>1&&(t.set=t.add=t.clear=t.delete=iF),Object.freeze(t),e&&gs(t,function(n,i){return p0(i,!0)},!0)),t}function iF(){bn(2)}function g0(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function jn(t){var e=Ym[t];return e||bn(18,t),e}function rF(t,e){Ym[t]||(Ym[t]=e)}function Km(){return Pl}function Kp(t,e){e&&(jn("Patches"),t.u=[],t.s=[],t.v=e)}function Kh(t){qm(t),t.p.forEach(sF),t.p=null}function qm(t){t===Pl&&(Pl=t.l)}function zb(t){return Pl={p:[],l:Pl,h:t,m:!0,_:0}}function sF(t){var e=t[xe];e.i===0||e.i===1?e.j():e.O=!0}function qp(t,e){e._=e.p.length;var n=e.p[0],i=t!==void 0&&t!==n;return e.h.g||jn("ES5").S(e,t,i),i?(n[xe].P&&(Kh(e),bn(4)),Si(t)&&(t=qh(e,t),e.l||Gh(e,t)),e.u&&jn("Patches").M(n[xe].t,t,e.u,e.s)):t=qh(e,n,[]),Kh(e),e.u&&e.v(e.u,e.s),t!==kC?t:void 0}function qh(t,e,n){if(g0(e))return e;var i=e[xe];if(!i)return gs(e,function(a,l){return Hb(t,i,e,a,l,n)},!0),e;if(i.A!==t)return e;if(!i.P)return Gh(t,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var r=i.i===4||i.i===5?i.o=f0(i.k):i.o,s=r,o=!1;i.i===3&&(s=new Set(r),r.clear(),o=!0),gs(s,function(a,l){return Hb(t,i,r,a,l,n,o)}),Gh(t,r,!1),n&&t.u&&jn("Patches").N(i,n,t.u,t.s)}return i.o}function Hb(t,e,n,i,r,s,o){if(vr(r)){var a=qh(t,r,s&&e&&e.i!==3&&!co(e.R,i)?s.concat(i):void 0);if(xC(n,i,a),!vr(a))return;t.m=!1}else o&&n.add(r);if(Si(r)&&!g0(r)){if(!t.h.D&&t._<1)return;qh(t,r),e&&e.A.l||Gh(t,r)}}function Gh(t,e,n){n===void 0&&(n=!1),t.h.D&&t.m&&p0(e,n)}function Gp(t,e){var n=t[xe];return(n?Ur(n):t)[e]}function Wb(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function Bi(t){t.P||(t.P=!0,t.l&&Bi(t.l))}function Yp(t){t.o||(t.o=f0(t.t))}function Gm(t,e,n){var i=h0(e)?jn("MapSet").F(e,n):d0(e)?jn("MapSet").T(e,n):t.g?function(r,s){var o=Array.isArray(r),a={i:o?1:0,A:s?s.A:Km(),P:!1,I:!1,R:{},l:s,t:r,k:null,o:null,j:null,C:!1},l=a,c=Al;o&&(l=[a],c=Ea);var u=Proxy.revocable(l,c),h=u.revoke,d=u.proxy;return a.k=d,a.j=h,d}(e,n):jn("ES5").J(e,n);return(n?n.A:Km()).p.push(i),i}function oF(t){return vr(t)||bn(22,t),function e(n){if(!Si(n))return n;var i,r=n[xe],s=Ko(n);if(r){if(!r.P&&(r.i<4||!jn("ES5").K(r)))return r.t;r.I=!0,i=Kb(n,s),r.I=!1}else i=Kb(n,s);return gs(i,function(o,a){r&&nF(r.t,o)===a||xC(i,o,e(a))}),s===3?new Set(i):i}(t)}function Kb(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return f0(t)}function aF(){function t(s,o){var a=r[s];return a?a.enumerable=o:r[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[xe];return Al.get(l,s)},set:function(l){var c=this[xe];Al.set(c,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][xe];if(!a.P)switch(a.i){case 5:i(a)&&Bi(a);break;case 4:n(a)&&Bi(a)}}}function n(s){for(var o=s.t,a=s.k,l=uo(a),c=l.length-1;c>=0;c--){var u=l[c];if(u!==xe){var h=o[u];if(h===void 0&&!co(o,u))return!0;var d=a[u],f=d&&d[xe];if(f?f.t!==h:!EC(d,h))return!0}}var p=!!o[xe];return l.length!==uo(o).length+(p?0:1)}function i(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var r={};rF("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(u,h){if(u){for(var d=Array(h.length),f=0;f<h.length;f++)Object.defineProperty(d,""+f,t(f,!0));return d}var p=TC(h);delete p[xe];for(var g=uo(p),v=0;v<g.length;v++){var y=g[v];p[y]=t(y,u||!!p[y].enumerable)}return Object.create(Object.getPrototypeOf(h),p)}(a,s),c={i:a?5:4,A:o?o.A:Km(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,xe,{value:c,writable:!0}),l},S:function(s,o,a){a?vr(o)&&o[xe].A===s&&e(s.p):(s.u&&function l(c){if(c&&typeof c=="object"){var u=c[xe];if(u){var h=u.t,d=u.k,f=u.R,p=u.i;if(p===4)gs(d,function(w){w!==xe&&(h[w]!==void 0||co(h,w)?f[w]||l(d[w]):(f[w]=!0,Bi(u)))}),gs(h,function(w){d[w]!==void 0||co(d,w)||(f[w]=!1,Bi(u))});else if(p===5){if(i(u)&&(Bi(u),f.length=!0),d.length<h.length)for(var g=d.length;g<h.length;g++)f[g]=!1;else for(var v=h.length;v<d.length;v++)f[v]=!0;for(var y=Math.min(d.length,h.length),m=0;m<y;m++)d.hasOwnProperty(m)||(f[m]=!0),f[m]===void 0&&l(d[m])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):i(s)}})}var qb,Pl,m0=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",lF=typeof Map<"u",cF=typeof Set<"u",Gb=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",kC=m0?Symbol.for("immer-nothing"):((qb={})["immer-nothing"]=!0,qb),Yb=m0?Symbol.for("immer-draftable"):"__$immer_draftable",xe=m0?Symbol.for("immer-state"):"__$immer_state",uF=""+Object.prototype.constructor,uo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,TC=Object.getOwnPropertyDescriptors||function(t){var e={};return uo(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Ym={},Al={get:function(t,e){if(e===xe)return t;var n=Ur(t);if(!co(n,e))return function(r,s,o){var a,l=Wb(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(r.k):void 0}(t,n,e);var i=n[e];return t.I||!Si(i)?i:i===Gp(t.t,e)?(Yp(t),t.o[e]=Gm(t.A.h,i,t)):i},has:function(t,e){return e in Ur(t)},ownKeys:function(t){return Reflect.ownKeys(Ur(t))},set:function(t,e,n){var i=Wb(Ur(t),e);if(i!=null&&i.set)return i.set.call(t.k,n),!0;if(!t.P){var r=Gp(Ur(t),e),s=r==null?void 0:r[xe];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(EC(n,r)&&(n!==void 0||co(t.t,e)))return!0;Yp(t),Bi(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Gp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Yp(t),Bi(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Ur(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty:function(){bn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){bn(12)}},Ea={};gs(Al,function(t,e){Ea[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ea.deleteProperty=function(t,e){return Ea.set.call(this,t,e,void 0)},Ea.set=function(t,e,n){return Al.set.call(this,t[0],e,n,t[0])};var hF=function(){function t(n){var i=this;this.g=Gb,this.D=!0,this.produce=function(r,s,o){if(typeof r=="function"&&typeof s!="function"){var a=s;s=r;var l=i;return function(g){var v=this;g===void 0&&(g=a);for(var y=arguments.length,m=Array(y>1?y-1:0),w=1;w<y;w++)m[w-1]=arguments[w];return l.produce(g,function(_){var b;return(b=s).call.apply(b,[v,_].concat(m))})}}var c;if(typeof s!="function"&&bn(6),o!==void 0&&typeof o!="function"&&bn(7),Si(r)){var u=zb(i),h=Gm(i,r,void 0),d=!0;try{c=s(h),d=!1}finally{d?Kh(u):qm(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(g){return Kp(u,o),qp(g,u)},function(g){throw Kh(u),g}):(Kp(u,o),qp(c,u))}if(!r||typeof r!="object"){if((c=s(r))===void 0&&(c=r),c===kC&&(c=void 0),i.D&&p0(c,!0),o){var f=[],p=[];jn("Patches").M(r,c,f,p),o(f,p)}return c}bn(21,r)},this.produceWithPatches=function(r,s){if(typeof r=="function")return function(c){for(var u=arguments.length,h=Array(u>1?u-1:0),d=1;d<u;d++)h[d-1]=arguments[d];return i.produceWithPatches(c,function(f){return r.apply(void 0,[f].concat(h))})};var o,a,l=i.produce(r,s,function(c,u){o=c,a=u});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Si(n)||bn(8),vr(n)&&(n=oF(n));var i=zb(this),r=Gm(this,n,void 0);return r[xe].C=!0,qm(i),r},e.finishDraft=function(n,i){var r=n&&n[xe],s=r.A;return Kp(s,i),qp(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Gb&&bn(20),this.g=n},e.applyPatches=function(n,i){var r;for(r=i.length-1;r>=0;r--){var s=i[r];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}r>-1&&(i=i.slice(r+1));var o=jn("Patches").$;return vr(n)?o(n,i):this.produce(n,function(a){return o(a,i)})},t}(),Jt=new hF,CC=Jt.produce;Jt.produceWithPatches.bind(Jt);Jt.setAutoFreeze.bind(Jt);Jt.setUseProxies.bind(Jt);Jt.applyPatches.bind(Jt);Jt.createDraft.bind(Jt);Jt.finishDraft.bind(Jt);function Rl(t){return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function dF(t,e){if(Rl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(Rl(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fF(t){var e=dF(t,"string");return Rl(e)==="symbol"?e:String(e)}function pF(t,e,n){return e=fF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Qb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xb(Object(n),!0).forEach(function(i){pF(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xb(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ft(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Jb=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Xp=function(){return Math.random().toString(36).substring(7).split("").join(".")},Yh={INIT:"@@redux/INIT"+Xp(),REPLACE:"@@redux/REPLACE"+Xp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Xp()}};function gF(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function y0(t,e,n){var i;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ft(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ft(1));return n(y0)(t,e)}if(typeof t!="function")throw new Error(ft(2));var r=t,s=e,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function u(){if(l)throw new Error(ft(3));return s}function h(g){if(typeof g!="function")throw new Error(ft(4));if(l)throw new Error(ft(5));var v=!0;return c(),a.push(g),function(){if(v){if(l)throw new Error(ft(6));v=!1,c();var m=a.indexOf(g);a.splice(m,1),o=null}}}function d(g){if(!gF(g))throw new Error(ft(7));if(typeof g.type>"u")throw new Error(ft(8));if(l)throw new Error(ft(9));try{l=!0,s=r(s,g)}finally{l=!1}for(var v=o=a,y=0;y<v.length;y++){var m=v[y];m()}return g}function f(g){if(typeof g!="function")throw new Error(ft(10));r=g,d({type:Yh.REPLACE})}function p(){var g,v=h;return g={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(ft(11));function w(){m.next&&m.next(u())}w();var _=v(w);return{unsubscribe:_}}},g[Jb]=function(){return this},g}return d({type:Yh.INIT}),i={dispatch:d,subscribe:h,getState:u,replaceReducer:f},i[Jb]=p,i}function mF(t){Object.keys(t).forEach(function(e){var n=t[e],i=n(void 0,{type:Yh.INIT});if(typeof i>"u")throw new Error(ft(12));if(typeof n(void 0,{type:Yh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ft(13))})}function IC(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++){var r=e[i];typeof t[r]=="function"&&(n[r]=t[r])}var s=Object.keys(n),o;try{mF(n)}catch(a){o=a}return function(l,c){if(l===void 0&&(l={}),o)throw o;for(var u=!1,h={},d=0;d<s.length;d++){var f=s[d],p=n[f],g=l[f],v=p(g,c);if(typeof v>"u")throw c&&c.type,new Error(ft(14));h[f]=v,u=u||v!==g}return u=u||s.length!==Object.keys(l).length,u?h:l}}function Xh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(i){return i}:e.length===1?e[0]:e.reduce(function(i,r){return function(){return i(r.apply(void 0,arguments))}})}function yF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){return function(){var r=i.apply(void 0,arguments),s=function(){throw new Error(ft(15))},o={getState:r.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Xh.apply(void 0,a)(r.dispatch),Qb(Qb({},r),{},{dispatch:s})}}}function PC(t){var e=function(i){var r=i.dispatch,s=i.getState;return function(o){return function(a){return typeof a=="function"?a(r,s,t):o(a)}}};return e}var AC=PC();AC.withExtraArgument=PC;const Zb=AC;var vF=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),wF=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,r=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],r=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Qh=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},_F=Object.defineProperty,bF=Object.defineProperties,SF=Object.getOwnPropertyDescriptors,e1=Object.getOwnPropertySymbols,xF=Object.prototype.hasOwnProperty,EF=Object.prototype.propertyIsEnumerable,t1=function(t,e,n){return e in t?_F(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},cr=function(t,e){for(var n in e||(e={}))xF.call(e,n)&&t1(t,n,e[n]);if(e1)for(var i=0,r=e1(e);i<r.length;i++){var n=r[i];EF.call(e,n)&&t1(t,n,e[n])}return t},Qp=function(t,e){return bF(t,SF(e))},kF=function(t,e,n){return new Promise(function(i,r){var s=function(l){try{a(n.next(l))}catch(c){r(c)}},o=function(l){try{a(n.throw(l))}catch(c){r(c)}},a=function(l){return l.done?i(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},TF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xh:Xh.apply(null,arguments)};function CF(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var IF=function(t){vF(e,t);function e(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=t.apply(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Qh([void 0],n[0].concat(this)))):new(e.bind.apply(e,Qh([void 0],n.concat(this))))},e}(Array);function Xm(t){return Si(t)?CC(t,function(){}):t}function PF(t){return typeof t=="boolean"}function AF(){return function(e){return RF(e)}}function RF(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var i=new IF;return n&&(PF(n)?i.push(Zb):i.push(Zb.withExtraArgument(n.extraArgument))),i}var MF=!0;function OF(t){var e=AF(),n=t||{},i=n.reducer,r=i===void 0?void 0:i,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,c=n.preloadedState,u=c===void 0?void 0:c,h=n.enhancers,d=h===void 0?void 0:h,f;if(typeof r=="function")f=r;else if(CF(r))f=IC(r);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(e));var g=yF.apply(void 0,p),v=Xh;l&&(v=TF(cr({trace:!MF},typeof l=="object"&&l)));var y=[g];Array.isArray(d)?y=Qh([g],d):typeof d=="function"&&(y=d(y));var m=v.apply(void 0,y);return y0(f,u,m)}function ur(t,e){function n(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(e){var s=e.apply(void 0,i);if(!s)throw new Error("prepareAction did not return an object");return cr(cr({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:i[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(i){return i.type===t},n}function RC(t){var e={},n=[],i,r={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,r},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),r},addDefaultCase:function(s){return i=s,r}};return t(r),[e,n,i]}function DF(t){return typeof t=="function"}function LF(t,e,n,i){n===void 0&&(n=[]);var r=typeof e=="function"?RC(e):[e,n,i],s=r[0],o=r[1],a=r[2],l;if(DF(t))l=function(){return Xm(t())};else{var c=Xm(t);l=function(){return c}}function u(h,d){h===void 0&&(h=l());var f=Qh([s[d.type]],o.filter(function(p){var g=p.matcher;return g(d)}).map(function(p){var g=p.reducer;return g}));return f.filter(function(p){return!!p}).length===0&&(f=[a]),f.reduce(function(p,g){if(g)if(vr(p)){var v=p,y=g(v,d);return y===void 0?p:y}else{if(Si(p))return CC(p,function(m){return g(m,d)});var y=g(p,d);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return p},h)}return u.getInitialState=l,u}function NF(t,e){return t+"/"+e}function v0(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Xm(t.initialState),i=t.reducers||{},r=Object.keys(i),s={},o={},a={};r.forEach(function(u){var h=i[u],d=NF(e,u),f,p;"reducer"in h?(f=h.reducer,p=h.prepare):f=h,s[u]=f,o[d]=f,a[u]=p?ur(d,p):ur(d)});function l(){var u=typeof t.extraReducers=="function"?RC(t.extraReducers):[t.extraReducers],h=u[0],d=h===void 0?{}:h,f=u[1],p=f===void 0?[]:f,g=u[2],v=g===void 0?void 0:g,y=cr(cr({},d),o);return LF(n,function(m){for(var w in y)m.addCase(w,y[w]);for(var _=0,b=p;_<b.length;_++){var S=b[_];m.addMatcher(S.matcher,S.reducer)}v&&m.addDefaultCase(v)})}var c;return{name:e,reducer:function(u,h){return c||(c=l()),c(u,h)},actions:a,caseReducers:s,getInitialState:function(){return c||(c=l()),c.getInitialState()}}}var FF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$F=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=FF[Math.random()*64|0];return e},VF=["name","message","stack","code"],Jp=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),n1=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),BF=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,i=VF;n<i.length;n++){var r=i[n];typeof t[r]=="string"&&(e[r]=t[r])}return e}return{message:String(t)}};(function(){function t(e,n,i){var r=ur(e+"/fulfilled",function(c,u,h,d){return{payload:c,meta:Qp(cr({},d||{}),{arg:h,requestId:u,requestStatus:"fulfilled"})}}),s=ur(e+"/pending",function(c,u,h){return{payload:void 0,meta:Qp(cr({},h||{}),{arg:u,requestId:c,requestStatus:"pending"})}}),o=ur(e+"/rejected",function(c,u,h,d,f){return{payload:d,error:(i&&i.serializeError||BF)(c||"Rejected"),meta:Qp(cr({},f||{}),{arg:h,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function l(c){return function(u,h,d){var f=i!=null&&i.idGenerator?i.idGenerator(c):$F(),p=new a,g;function v(m){g=m,p.abort()}var y=function(){return kF(this,null,function(){var m,w,_,b,S,E,k;return wF(this,function(I){switch(I.label){case 0:return I.trys.push([0,4,,5]),b=(m=i==null?void 0:i.condition)==null?void 0:m.call(i,c,{getState:h,extra:d}),jF(b)?[4,b]:[3,2];case 1:b=I.sent(),I.label=2;case 2:if(b===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(C,O){return p.signal.addEventListener("abort",function(){return O({name:"AbortError",message:g||"Aborted"})})}),u(s(f,c,(w=i==null?void 0:i.getPendingMeta)==null?void 0:w.call(i,{requestId:f,arg:c},{getState:h,extra:d}))),[4,Promise.race([S,Promise.resolve(n(c,{dispatch:u,getState:h,extra:d,requestId:f,signal:p.signal,abort:v,rejectWithValue:function(C,O){return new Jp(C,O)},fulfillWithValue:function(C,O){return new n1(C,O)}})).then(function(C){if(C instanceof Jp)throw C;return C instanceof n1?r(C.payload,f,c,C.meta):r(C,f,c)})])];case 3:return _=I.sent(),[3,5];case 4:return E=I.sent(),_=E instanceof Jp?o(null,f,c,E.payload,E.meta):o(E,f,c),[3,5];case 5:return k=i&&!i.dispatchConditionRejection&&o.match(_)&&_.meta.condition,k||u(_),[2,_]}})})}();return Object.assign(y,{abort:v,requestId:f,arg:c,unwrap:function(){return y.then(UF)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:r,typePrefix:e})}return t.withTypes=function(){return t},t})();function UF(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function jF(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var w0="listenerMiddleware";ur(w0+"/add");ur(w0+"/removeAll");ur(w0+"/remove");var i1;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);aF();var _0={},b0={};b0.__esModule=!0;b0.default=WF;function Xu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(n){return typeof n}:Xu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xu(t)}function Zp(){}var zF={getItem:Zp,setItem:Zp,removeItem:Zp};function HF(t){if((typeof self>"u"?"undefined":Xu(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function WF(t){var e="".concat(t,"Storage");return HF(e)?self[e]:zF}_0.__esModule=!0;_0.default=GF;var KF=qF(b0);function qF(t){return t&&t.__esModule?t:{default:t}}function GF(t){var e=(0,KF.default)(t);return{getItem:function(i){return new Promise(function(r,s){r(e.getItem(i))})},setItem:function(i,r){return new Promise(function(s,o){s(e.setItem(i,r))})},removeItem:function(i){return new Promise(function(r,s){r(e.removeItem(i))})}}}var MC=void 0,YF=XF(_0);function XF(t){return t&&t.__esModule?t:{default:t}}var QF=(0,YF.default)("local");MC=QF;var S0="persist:",OC="persist/FLUSH",x0="persist/REHYDRATE",DC="persist/PAUSE",LC="persist/PERSIST",NC="persist/PURGE",FC="persist/REGISTER",JF=-1;function Qu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qu=function(n){return typeof n}:Qu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qu(t)}function r1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ZF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r1(n,!0).forEach(function(i){e$(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r1(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function e$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t$(t,e,n,i){i.debug;var r=ZF({},n);return t&&Qu(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(r[s]=t[s])}),r}function n$(t){var e=t.blacklist||null,n=t.whitelist||null,i=t.transforms||[],r=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:S0).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(b){return b}:typeof t.serialize=="function"?a=t.serialize:a=i$;var l=t.writeFailHandler||null,c={},u={},h=[],d=null,f=null,p=function(b){Object.keys(b).forEach(function(S){y(S)&&c[S]!==b[S]&&h.indexOf(S)===-1&&h.push(S)}),Object.keys(c).forEach(function(S){b[S]===void 0&&y(S)&&h.indexOf(S)===-1&&c[S]!==void 0&&h.push(S)}),d===null&&(d=setInterval(g,r)),c=b};function g(){if(h.length===0){d&&clearInterval(d),d=null;return}var _=h.shift(),b=i.reduce(function(S,E){return E.in(S,_,c)},c[_]);if(b!==void 0)try{u[_]=a(b)}catch(S){console.error("redux-persist/createPersistoid: error serializing state",S)}else delete u[_];h.length===0&&v()}function v(){Object.keys(u).forEach(function(_){c[_]===void 0&&delete u[_]}),f=o.setItem(s,a(u)).catch(m)}function y(_){return!(n&&n.indexOf(_)===-1&&_!=="_persist"||e&&e.indexOf(_)!==-1)}function m(_){l&&l(_)}var w=function(){for(;h.length!==0;)g();return f||Promise.resolve()};return{update:p,flush:w}}function i$(t){return JSON.stringify(t)}function r$(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:S0).concat(t.key),i=t.storage;t.debug;var r;return t.deserialize===!1?r=function(o){return o}:typeof t.deserialize=="function"?r=t.deserialize:r=s$,i.getItem(n).then(function(s){if(s)try{var o={},a=r(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(c,u){return u.out(c,l,a)},r(a[l]))}),o}catch(l){throw l}else return})}function s$(t){return JSON.parse(t)}function o$(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:S0).concat(t.key);return e.removeItem(n,a$)}function a$(t){}function s1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s1(n,!0).forEach(function(i){l$(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s1(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function l$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c$(t,e){if(t==null)return{};var n=u$(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function u$(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var h$=5e3;function d$(t,e){var n=t.version!==void 0?t.version:JF;t.debug;var i=t.stateReconciler===void 0?t$:t.stateReconciler,r=t.getStoredState||r$,s=t.timeout!==void 0?t.timeout:h$,o=null,a=!1,l=!0,c=function(h){return h._persist.rehydrated&&o&&!l&&o.update(h),h};return function(u,h){var d=u||{},f=d._persist,p=c$(d,["_persist"]),g=p;if(h.type===LC){var v=!1,y=function(k,I){v||(h.rehydrate(t.key,k,I),v=!0)};if(s&&setTimeout(function(){!v&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=n$(t)),f)return ei({},e(g,h),{_persist:f});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),r(t).then(function(E){var k=t.migrate||function(I,C){return Promise.resolve(I)};k(E,n).then(function(I){y(I)},function(I){y(void 0,I)})},function(E){y(void 0,E)}),ei({},e(g,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===NC)return a=!0,h.result(o$(t)),ei({},e(g,h),{_persist:f});if(h.type===OC)return h.result(o&&o.flush()),ei({},e(g,h),{_persist:f});if(h.type===DC)l=!0;else if(h.type===x0){if(a)return ei({},g,{_persist:ei({},f,{rehydrated:!0})});if(h.key===t.key){var m=e(g,h),w=h.payload,_=i!==!1&&w!==void 0?i(w,u,m,t):m,b=ei({},_,{_persist:ei({},f,{rehydrated:!0})});return c(b)}}}if(!f)return e(u,h);var S=e(g,h);return S===g?u:c(ei({},S,{_persist:f}))}}function o1(t){return g$(t)||p$(t)||f$()}function f$(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p$(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function g$(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function a1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Qm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a1(n,!0).forEach(function(i){m$(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a1(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function m$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $C={registry:[],bootstrapped:!1},y$=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$C,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case FC:return Qm({},e,{registry:[].concat(o1(e.registry),[n.key])});case x0:var i=e.registry.indexOf(n.key),r=o1(e.registry);return r.splice(i,1),Qm({},e,{registry:r,bootstrapped:r.length===0});default:return e}};function v$(t,e,n){var i=n||!1,r=y0(y$,$C,e&&e.enhancer?e.enhancer:void 0),s=function(c){r.dispatch({type:FC,key:c})},o=function(c,u,h){var d={type:x0,payload:u,err:h,key:c};t.dispatch(d),r.dispatch(d),i&&a.getState().bootstrapped&&(i(),i=!1)},a=Qm({},r,{purge:function(){var c=[];return t.dispatch({type:NC,result:function(h){c.push(h)}}),Promise.all(c)},flush:function(){var c=[];return t.dispatch({type:OC,result:function(h){c.push(h)}}),Promise.all(c)},pause:function(){t.dispatch({type:DC})},persist:function(){t.dispatch({type:LC,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}let ot=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const w$={"Fruits and vegetables":[{item:"Avocado",count:0,checked:!1},{item:"Banana",count:0,checked:!1},{item:"Bunch of carrots 5pcs",count:0,checked:!1},{item:"Chicken 1kg",count:0,checked:!1},{item:"Pre-cooked corn 450g",count:0,checked:!1},{item:"Mandarin Nadorcott",count:0,checked:!1},{item:"Piele De Sapo Melon",count:0,checked:!1},{item:"Watermelon",count:0,checked:!1}],"Meat and Fish":[{item:"Chicken leg box",count:0,checked:!1},{item:"Chicken 1kg",count:0,checked:!1},{item:"Pork fillets 450g",count:0,checked:!1},{item:"Salmon 1kg",count:0,checked:!1}],Beverages:[{item:"Barley",count:0,checked:!1},{item:"Hot drinks",count:0,checked:!1},{item:"Wine",count:0,checked:!1},{item:"Cocktails",count:0,checked:!1},{item:"Cider",count:0,checked:!1},{item:"Beer",count:0,checked:!1},{item:"Chocolate",count:0,checked:!1},{item:"Mixed Drinks",count:0,checked:!1}],Pet:[{item:"Chicken",count:0,checked:!1},{item:"Pork",count:0,checked:!1},{item:"Whole grain",count:0,checked:!1},{item:"Hamster Feed",count:0,checked:!1}]},VC=v0({name:"Items",initialState:w$,reducers:{addItem(t,{payload:e}){if(t[e.category]){const n=t[e.category].findIndex(i=>i.item===e.item)+1;n?t[e.category][n-1]={...t[e.category][n-1],count:t[e.category][n-1].count+1}:t[e.category]=[...t[e.category],{item:e.item,count:0,checked:!1}]}else t[e.category]=[e.item]},removeItem(t,{payload:e}){const n=t[e.category].findIndex(i=>i.item===e.item);t[e.category][n]={item:e.item,count:t[e.category][n].count-1}},removeAllIems(t,e){for(const n in t)t[n].forEach(i=>i.count=0)},toggleChecked(t,{payload:e}){const n=t[e.category].findIndex(i=>i.item===e.item);t[e.category][n]={...t[e.category][n],checked:!t[e.category][n].checked}}}}),BC=v0({name:"Events",initialState:{},reducers:{addEvent(t,{payload:e}){t[e.date]?t[e.date]=[...t[e.date],{name:e.name,date:e.day,status:e.state,id:e.id}]:t[e.date]=[{name:e.name,date:e.day,status:e.state,id:e.id}]},editStatus(t,{payload:e}){t[e.date]=t[e.date].map(n=>n.id!==e.id?n:{...n,status:e.status})}}}),UC=v0({name:"user",initialState:{user:null},reducers:{setUser(t,{payload:e}){t.user=e.user}}}),_$={key:"root",version:1,storage:MC},b$=IC({items:VC.reducer,events:BC.reducer,user:UC.reducer}),S$=d$(_$,b$),Fn={items:VC.actions,events:BC.actions,user:UC.actions},jC=OF({reducer:S$});function Ju(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ju=function(n){return typeof n}:Ju=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ju(t)}function x$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l1(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function E$(t,e,n){return e&&l1(t.prototype,e),n&&l1(t,n),t}function k$(t,e){return e&&(Ju(e)==="object"||typeof e=="function")?e:Zu(t)}function Jm(t){return Jm=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Jm(t)}function Zu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zm(t,e)}function Zm(t,e){return Zm=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Zm(t,e)}function eh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zC=function(t){T$(e,t);function e(){var n,i;x$(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=k$(this,(n=Jm(e)).call.apply(n,[this].concat(s))),eh(Zu(i),"state",{bootstrapped:!1}),eh(Zu(i),"_unsubscribe",void 0),eh(Zu(i),"handlePersistorState",function(){var a=i.props.persistor,l=a.getState(),c=l.bootstrapped;c&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return E$(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(x.PureComponent);eh(zC,"defaultProps",{children:null,loading:null});const E0=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Cf=x.createContext({});function C$(){return x.useContext(Cf).visualElement}const pc=x.createContext(null),If=typeof document<"u",Jh=If?x.useLayoutEffect:x.useEffect,HC=x.createContext({strict:!1});function I$(t,e,n,i){const r=C$(),s=x.useContext(HC),o=x.useContext(pc),a=x.useContext(E0).reducedMotion,l=x.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(t,{visualState:e,parent:r,props:n,presenceId:o?o.id:void 0,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return Jh(()=>{c&&c.render()}),(window.HandoffAppearAnimations?Jh:x.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function Js(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function P$(t,e,n){return x.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Js(n)&&(n.current=i))},[e])}function Ml(t){return typeof t=="string"||Array.isArray(t)}function Pf(t){return typeof t=="object"&&typeof t.start=="function"}const A$=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function Af(t){return Pf(t.animate)||A$.some(e=>Ml(t[e]))}function WC(t){return Boolean(Af(t)||t.variants)}function R$(t,e){if(Af(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Ml(n)?n:void 0,animate:Ml(i)?i:void 0}}return t.inherit!==!1?e:{}}function M$(t){const{initial:e,animate:n}=R$(t,x.useContext(Cf));return x.useMemo(()=>({initial:e,animate:n}),[c1(e),c1(n)])}function c1(t){return Array.isArray(t)?t.join(" "):t}const ti=t=>({isEnabled:e=>t.some(n=>!!e[n])}),Ol={measureLayout:ti(["layout","layoutId","drag"]),animation:ti(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:ti(["exit"]),drag:ti(["drag","dragControls"]),focus:ti(["whileFocus"]),hover:ti(["whileHover","onHoverStart","onHoverEnd"]),tap:ti(["whileTap","onTap","onTapStart","onTapCancel"]),pan:ti(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:ti(["whileInView","onViewportEnter","onViewportLeave"])};function O$(t){for(const e in t)e==="projectionNodeConstructor"?Ol.projectionNodeConstructor=t[e]:Ol[e].Component=t[e]}function Rf(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const Wa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let D$=1;function L$(){return Rf(()=>{if(Wa.hasEverUpdated)return D$++})}const k0=x.createContext({});class N$ extends Qn.Component{getSnapshotBeforeUpdate(){const{visualElement:e,props:n}=this.props;return e&&e.setProps(n),null}componentDidUpdate(){}render(){return this.props.children}}const KC=x.createContext({}),F$=Symbol.for("motionComponentSymbol");function $$({preloadedFeatures:t,createVisualElement:e,projectionNodeConstructor:n,useRender:i,useVisualState:r,Component:s}){t&&O$(t);function o(l,c){const u={...x.useContext(E0),...l,layoutId:V$(l)},{isStatic:h}=u;let d=null;const f=M$(l),p=h?void 0:L$(),g=r(l,h);if(!h&&If){f.visualElement=I$(s,g,u,e);const v=x.useContext(HC).strict,y=x.useContext(KC);f.visualElement&&(d=f.visualElement.loadFeatures(u,v,t,p,n||Ol.projectionNodeConstructor,y))}return x.createElement(N$,{visualElement:f.visualElement,props:u},d,x.createElement(Cf.Provider,{value:f},i(s,l,p,P$(g,f.visualElement,c),g,h,f.visualElement)))}const a=x.forwardRef(o);return a[F$]=s,a}function V$({layoutId:t}){const e=x.useContext(k0).id;return e&&t!==void 0?e+"-"+t:t}function B$(t){function e(i,r={}){return $$(t(i,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(i,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const U$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function T0(t){return typeof t!="string"||t.includes("-")?!1:!!(U$.indexOf(t)>-1||/[A-Z]/.test(t))}const Zh={};function j$(t){Object.assign(Zh,t)}const ed=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qo=new Set(ed);function qC(t,{layout:e,layoutId:n}){return qo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Zh[t]||t==="opacity")}const jt=t=>!!(t!=null&&t.getVelocity),z$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},H$=(t,e)=>ed.indexOf(t)-ed.indexOf(e);function W$({transform:t,transformKeys:e},{enableHardwareAcceleration:n=!0,allowTransformNone:i=!0},r,s){let o="";e.sort(H$);for(const a of e)o+=`${z$[a]||a}(${t[a]}) `;return n&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,r?"":o):i&&r&&(o="none"),o}function GC(t){return t.startsWith("--")}const K$=(t,e)=>e&&typeof t=="number"?e.transform(t):t,To=(t,e,n)=>Math.min(Math.max(n,t),e),Is={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ka={...Is,transform:t=>To(0,1,t)},cu={...Is,default:1},qa=t=>Math.round(t*1e5)/1e5,Dl=/(-)?([\d]*\.?[\d])+/g,ey=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,q$=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function gc(t){return typeof t=="string"}const mc=t=>({test:e=>gc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Di=mc("deg"),zn=mc("%"),U=mc("px"),G$=mc("vh"),Y$=mc("vw"),u1={...zn,parse:t=>zn.parse(t)/100,transform:t=>zn.transform(t*100)},h1={...Is,transform:Math.round},YC={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,size:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,rotate:Di,rotateX:Di,rotateY:Di,rotateZ:Di,scale:cu,scaleX:cu,scaleY:cu,scaleZ:cu,skew:Di,skewX:Di,skewY:Di,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:Ka,originX:u1,originY:u1,originZ:U,zIndex:h1,fillOpacity:Ka,strokeOpacity:Ka,numOctaves:h1};function C0(t,e,n,i){const{style:r,vars:s,transform:o,transformKeys:a,transformOrigin:l}=t;a.length=0;let c=!1,u=!1,h=!0;for(const d in e){const f=e[d];if(GC(d)){s[d]=f;continue}const p=YC[d],g=K$(f,p);if(qo.has(d)){if(c=!0,o[d]=g,a.push(d),!h)continue;f!==(p.default||0)&&(h=!1)}else d.startsWith("origin")?(u=!0,l[d]=g):r[d]=g}if(e.transform||(c||i?r.transform=W$(t,n,h,i):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:p=0}=l;r.transformOrigin=`${d} ${f} ${p}`}}const I0=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function XC(t,e,n){for(const i in e)!jt(e[i])&&!qC(i,n)&&(t[i]=e[i])}function X$({transformTemplate:t},e,n){return x.useMemo(()=>{const i=I0();return C0(i,e,{enableHardwareAcceleration:!n},t),Object.assign({},i.vars,i.style)},[e])}function Q$(t,e,n){const i=t.style||{},r={};return XC(r,i,t),Object.assign(r,X$(t,e,n)),t.transformValues?t.transformValues(r):r}function J$(t,e,n){const i={},r=Q$(t,e,n);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),i.style=r,i}const Z$=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],eV=["whileTap","onTap","onTapStart","onTapCancel"],tV=["onPan","onPanStart","onPanSessionStart","onPanEnd"],nV=["whileInView","onViewportEnter","onViewportLeave","viewport"],iV=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","layoutScroll","layoutRoot","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd",...nV,...eV,...Z$,...tV]);function td(t){return iV.has(t)}let QC=t=>!td(t);function rV(t){t&&(QC=e=>e.startsWith("on")?!td(e):t(e))}try{rV(require("@emotion/is-prop-valid").default)}catch{}function sV(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(QC(r)||n===!0&&td(r)||!e&&!td(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function d1(t,e,n){return typeof t=="string"?t:U.transform(e+n*t)}function oV(t,e,n){const i=d1(e,t.x,t.width),r=d1(n,t.y,t.height);return`${i} ${r}`}const aV={offset:"stroke-dashoffset",array:"stroke-dasharray"},lV={offset:"strokeDashoffset",array:"strokeDasharray"};function cV(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?aV:lV;t[s.offset]=U.transform(-i);const o=U.transform(e),a=U.transform(n);t[s.array]=`${o} ${a}`}function P0(t,{attrX:e,attrY:n,originX:i,originY:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},c,u,h){if(C0(t,l,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f,dimensions:p}=t;d.transform&&(p&&(f.transform=d.transform),delete d.transform),p&&(i!==void 0||r!==void 0||f.transform)&&(f.transformOrigin=oV(p,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),s!==void 0&&cV(d,s,o,a,!1)}const JC=()=>({...I0(),attrs:{}}),A0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function uV(t,e,n,i){const r=x.useMemo(()=>{const s=JC();return P0(s,e,{enableHardwareAcceleration:!1},A0(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};XC(s,t.style,t),r.style={...s,...r.style}}return r}function hV(t=!1){return(n,i,r,s,{latestValues:o},a)=>{const c=(T0(n)?uV:J$)(i,o,a,n),h={...sV(i,typeof n=="string",t),...c,ref:s},{children:d}=i,f=x.useMemo(()=>jt(d)?d.get():d,[d]);return r&&(h["data-projection-id"]=r),x.createElement(n,{...h,children:f})}}const R0=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function ZC(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const eI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tI(t,e,n,i){ZC(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(eI.has(r)?r:R0(r),e.attrs[r])}function M0(t,e){const{style:n}=t,i={};for(const r in n)(jt(n[r])||e.style&&jt(e.style[r])||qC(r,t))&&(i[r]=n[r]);return i}function nI(t,e){const n=M0(t,e);for(const i in t)if(jt(t[i])||jt(e[i])){const r=i==="x"||i==="y"?"attr"+i.toUpperCase():i;n[r]=t[i]}return n}function O0(t,e,n,i={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),e}const nd=t=>Array.isArray(t),dV=t=>Boolean(t&&typeof t=="object"&&t.mix&&t.toValue),fV=t=>nd(t)?t[t.length-1]||0:t;function th(t){const e=jt(t)?t.get():t;return dV(e)?e.toValue():e}function pV({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},i,r,s){const o={latestValues:gV(i,r,s,t),renderState:e()};return n&&(o.mount=a=>n(i,a,o)),o}const iI=t=>(e,n)=>{const i=x.useContext(Cf),r=x.useContext(pc),s=()=>pV(t,e,i,r);return n?s():Rf(s)};function gV(t,e,n,i){const r={},s=i(t,{});for(const d in s)r[d]=th(s[d]);let{initial:o,animate:a}=t;const l=Af(t),c=WC(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;return h&&typeof h!="boolean"&&!Pf(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const p=O0(t,f);if(!p)return;const{transitionEnd:g,transition:v,...y}=p;for(const m in y){let w=y[m];if(Array.isArray(w)){const _=u?w.length-1:0;w=w[_]}w!==null&&(r[m]=w)}for(const m in g)r[m]=g[m]}),r}const mV={useVisualState:iI({scrapeMotionValuesFromProps:nI,createRenderState:JC,onMount:(t,e,{renderState:n,latestValues:i})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}P0(n,i,{enableHardwareAcceleration:!1},A0(e.tagName),t.transformTemplate),tI(e,n)}})},yV={useVisualState:iI({scrapeMotionValuesFromProps:M0,createRenderState:I0})};function vV(t,{forwardMotionProps:e=!1},n,i,r){return{...T0(t)?mV:yV,preloadedFeatures:n,useRender:hV(e),createVisualElement:i,projectionNodeConstructor:r,Component:t}}var ge;(function(t){t.Animate="animate",t.Hover="whileHover",t.Tap="whileTap",t.Drag="whileDrag",t.Focus="whileFocus",t.InView="whileInView",t.Exit="exit"})(ge||(ge={}));function Mf(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function ty(t,e,n,i){x.useEffect(()=>{const r=t.current;if(n&&r)return Mf(r,e,n,i)},[t,e,n,i])}function wV({whileFocus:t,visualElement:e}){const{animationState:n}=e,i=x.useCallback(()=>{n&&n.setActive(ge.Focus,!0)},[n]),r=x.useCallback(()=>{n&&n.setActive(ge.Focus,!1)},[n]);ty(e,"focus",t?i:void 0),ty(e,"blur",t?r:void 0)}const rI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function D0(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const sI=t=>e=>rI(e)&&t(e,D0(e));function ho(t,e,n,i){return Mf(t,e,sI(n),i)}function id(t,e,n,i){return ty(t,e,n&&sI(n),i)}function oI(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const f1=oI("dragHorizontal"),p1=oI("dragVertical");function aI(t){let e=!1;if(t==="y")e=p1();else if(t==="x")e=f1();else{const n=f1(),i=p1();n&&i?e=()=>{n(),i()}:(n&&n(),i&&i())}return e}function lI(){const t=aI(!0);return t?(t(),!1):!0}function g1(t,e,n,i){return(r,s)=>{r.type==="touch"||lI()||(n&&t.animationState&&t.animationState.setActive(ge.Hover,e),i&&i(r,s))}}function _V({onHoverStart:t,onHoverEnd:e,whileHover:n,visualElement:i}){id(i,"pointerenter",x.useMemo(()=>t||n?g1(i,!0,Boolean(n),t):void 0,[t,Boolean(n),i]),{passive:!t}),id(i,"pointerleave",x.useMemo(()=>e||n?g1(i,!1,Boolean(n),e):void 0,[t,Boolean(n),i]),{passive:!e})}const cI=(t,e)=>e?t===e?!0:cI(t,e.parentElement):!1;function L0(t){return x.useEffect(()=>()=>t(),[])}const bV=(t,e)=>n=>e(t(n)),Of=(...t)=>t.reduce(bV);function SV({onTap:t,onTapStart:e,onTapCancel:n,whileTap:i,visualElement:r,...s}){const o=t||e||n||i,a=x.useRef(!1),l=x.useRef(null),c={passive:!(e||t||n||s.onPointerDown)};function u(){l.current&&l.current(),l.current=null}function h(){return u(),a.current=!1,r.getProps().whileTap&&r.animationState&&r.animationState.setActive(ge.Tap,!1),!lI()}function d(g,v){var y,m,w,_;h()&&(cI(r.current,g.target)?(_=(w=r.getProps()).onTap)===null||_===void 0||_.call(w,g,v):(m=(y=r.getProps()).onTapCancel)===null||m===void 0||m.call(y,g,v))}function f(g,v){var y,m;h()&&((m=(y=r.getProps()).onTapCancel)===null||m===void 0||m.call(y,g,v))}const p=x.useCallback((g,v)=>{var y;if(u(),a.current)return;a.current=!0,l.current=Of(ho(window,"pointerup",d,c),ho(window,"pointercancel",f,c));const m=r.getProps();m.whileTap&&r.animationState&&r.animationState.setActive(ge.Tap,!0),(y=m.onTapStart)===null||y===void 0||y.call(m,g,v)},[Boolean(e),r]);id(r,"pointerdown",o?p:void 0,c),L0(u)}const ny=new WeakMap,eg=new WeakMap,xV=t=>{const e=ny.get(t.target);e&&e(t)},EV=t=>{t.forEach(xV)};function kV({root:t,...e}){const n=t||document;eg.has(n)||eg.set(n,{});const i=eg.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(EV,{root:t,...e})),i[r]}function TV(t,e,n){const i=kV(e);return ny.set(t,n),i.observe(t),()=>{ny.delete(t),i.unobserve(t)}}function CV({visualElement:t,whileInView:e,onViewportEnter:n,onViewportLeave:i,viewport:r={}}){const s=x.useRef({hasEnteredView:!1,isInView:!1});let o=Boolean(e||n||i);r.once&&s.current.hasEnteredView&&(o=!1),(typeof IntersectionObserver>"u"?AV:PV)(o,s.current,t,r)}const IV={some:0,all:1};function PV(t,e,n,{root:i,margin:r,amount:s="some",once:o}){x.useEffect(()=>{if(!t||!n.current)return;const a={root:i==null?void 0:i.current,rootMargin:r,threshold:typeof s=="number"?s:IV[s]},l=c=>{const{isIntersecting:u}=c;if(e.isInView===u||(e.isInView=u,o&&!u&&e.hasEnteredView))return;u&&(e.hasEnteredView=!0),n.animationState&&n.animationState.setActive(ge.InView,u);const h=n.getProps(),d=u?h.onViewportEnter:h.onViewportLeave;d&&d(c)};return TV(n.current,a,l)},[t,i,r,s])}function AV(t,e,n,{fallback:i=!0}){x.useEffect(()=>{!t||!i||requestAnimationFrame(()=>{e.hasEnteredView=!0;const{onViewportEnter:r}=n.getProps();r&&r(null),n.animationState&&n.animationState.setActive(ge.InView,!0)})},[t])}const Yi=t=>e=>(t(e),null),RV={inView:Yi(CV),tap:Yi(SV),focus:Yi(wV),hover:Yi(_V)};function uI(){const t=x.useContext(pc);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,r=x.useId();return x.useEffect(()=>i(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}function hI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const MV=t=>/^\-?\d*\.?\d+$/.test(t),OV=t=>/^0[^.\s]+$/.test(t),mi={delta:0,timestamp:0},dI=1/60*1e3,DV=typeof performance<"u"?()=>performance.now():()=>Date.now(),fI=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(DV()),dI);function LV(t){let e=[],n=[],i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const h=u&&r,d=h?e:n;return c&&o.add(l),d.indexOf(l)===-1&&(d.push(l),h&&r&&(i=e.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,n]=[n,e],n.length=0,i=e.length,i)for(let c=0;c<i;c++){const u=e[c];u(l),o.has(u)&&(a.schedule(u),t())}r=!1,s&&(s=!1,a.process(l))}};return a}const NV=40;let iy=!0,Ll=!1,ry=!1;const yc=["read","update","preRender","render","postRender"],Df=yc.reduce((t,e)=>(t[e]=LV(()=>Ll=!0),t),{}),Rt=yc.reduce((t,e)=>{const n=Df[e];return t[e]=(i,r=!1,s=!1)=>(Ll||$V(),n.schedule(i,r,s)),t},{}),wr=yc.reduce((t,e)=>(t[e]=Df[e].cancel,t),{}),tg=yc.reduce((t,e)=>(t[e]=()=>Df[e].process(mi),t),{}),FV=t=>Df[t].process(mi),pI=t=>{Ll=!1,mi.delta=iy?dI:Math.max(Math.min(t-mi.timestamp,NV),1),mi.timestamp=t,ry=!0,yc.forEach(FV),ry=!1,Ll&&(iy=!1,fI(pI))},$V=()=>{Ll=!0,iy=!0,ry||fI(pI)};function N0(t,e){t.indexOf(e)===-1&&t.push(e)}function F0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class $0{constructor(){this.subscriptions=[]}add(e){return N0(this.subscriptions,e),()=>F0(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function V0(t,e){return e?t*(1e3/e):0}const VV=t=>!isNaN(parseFloat(t));class BV{constructor(e,n={}){this.version="8.5.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=mi;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Rt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Rt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=VV(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new $0);const i=this.events[e].add(n);return e==="change"?()=>{i(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?V0(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Co(t,e){return new BV(t,e)}const B0=(t,e)=>n=>Boolean(gc(n)&&q$.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),gI=(t,e,n)=>i=>{if(!gc(i))return i;const[r,s,o,a]=i.match(Dl);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},UV=t=>To(0,255,t),ng={...Is,transform:t=>Math.round(UV(t))},Xr={test:B0("rgb","red"),parse:gI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+ng.transform(t)+", "+ng.transform(e)+", "+ng.transform(n)+", "+qa(Ka.transform(i))+")"};function jV(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const sy={test:B0("#"),parse:jV,transform:Xr.transform},Zs={test:B0("hsl","hue"),parse:gI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+zn.transform(qa(e))+", "+zn.transform(qa(n))+", "+qa(Ka.transform(i))+")"},Ct={test:t=>Xr.test(t)||sy.test(t)||Zs.test(t),parse:t=>Xr.test(t)?Xr.parse(t):Zs.test(t)?Zs.parse(t):sy.parse(t),transform:t=>gc(t)?t:t.hasOwnProperty("red")?Xr.transform(t):Zs.transform(t)},mI="${c}",yI="${n}";function zV(t){var e,n;return isNaN(t)&&gc(t)&&(((e=t.match(Dl))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(ey))===null||n===void 0?void 0:n.length)||0)>0}function rd(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0,i=0;const r=t.match(ey);r&&(n=r.length,t=t.replace(ey,mI),e.push(...r.map(Ct.parse)));const s=t.match(Dl);return s&&(i=s.length,t=t.replace(Dl,yI),e.push(...s.map(Is.parse))),{values:e,numColors:n,numNumbers:i,tokenised:t}}function vI(t){return rd(t).values}function wI(t){const{values:e,numColors:n,tokenised:i}=rd(t),r=e.length;return s=>{let o=i;for(let a=0;a<r;a++)o=o.replace(a<n?mI:yI,a<n?Ct.transform(s[a]):qa(s[a]));return o}}const HV=t=>typeof t=="number"?0:t;function WV(t){const e=vI(t);return wI(t)(e.map(HV))}const _r={test:zV,parse:vI,createTransformer:wI,getAnimatableNone:WV},KV=new Set(["brightness","contrast","saturate","opacity"]);function qV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Dl)||[];if(!i)return t;const r=n.replace(i,"");let s=KV.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const GV=/([a-z-]*)\(.*?\)/g,oy={..._r,getAnimatableNone:t=>{const e=t.match(GV);return e?e.map(qV).join(" "):t}},YV={...YC,color:Ct,backgroundColor:Ct,outlineColor:Ct,fill:Ct,stroke:Ct,borderColor:Ct,borderTopColor:Ct,borderRightColor:Ct,borderBottomColor:Ct,borderLeftColor:Ct,filter:oy,WebkitFilter:oy},U0=t=>YV[t];function j0(t,e){var n;let i=U0(t);return i!==oy&&(i=_r),(n=i.getAnimatableNone)===null||n===void 0?void 0:n.call(i,e)}const _I=t=>e=>e.test(t),XV={test:t=>t==="auto",parse:t=>t},bI=[Is,U,zn,Di,Y$,G$,XV],ha=t=>bI.find(_I(t)),QV=[...bI,Ct,_r],JV=t=>QV.find(_I(t));function ZV(t){const e={};return t.values.forEach((n,i)=>e[i]=n.get()),e}function eB(t){const e={};return t.values.forEach((n,i)=>e[i]=n.getVelocity()),e}function Lf(t,e,n){const i=t.getProps();return O0(i,e,n!==void 0?n:i.custom,ZV(t),eB(t))}function tB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Co(n))}function nB(t,e){const n=Lf(t,e);let{transitionEnd:i={},transition:r={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...i};for(const o in s){const a=fV(s[o]);tB(t,o,a)}}function iB(t,e,n){var i,r;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(r=(i=n[l])!==null&&i!==void 0?i:t.readValue(l))!==null&&r!==void 0?r:e[l]),u!=null&&(typeof u=="string"&&(MV(u)||OV(u))?u=parseFloat(u):!JV(u)&&_r.test(c)&&(u=j0(l,c)),t.addValue(l,Co(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function rB(t,e){return e?(e[t]||e.default||e).from:void 0}function sB(t,e,n){var i;const r={};for(const s in t){const o=rB(s,e);r[s]=o!==void 0?o:(i=n.getValue(s))===null||i===void 0?void 0:i.get()}return r}function sd(t){return Boolean(jt(t)&&t.add)}const oB="framerAppearId",aB="data-"+R0(oB);var lB=function(){},od=function(){};const nh=t=>t*1e3,cB={current:!1},z0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,H0=t=>e=>1-t(1-e),W0=t=>t*t,uB=H0(W0),K0=z0(W0),Oe=(t,e,n)=>-n*t+n*e+t;function ig(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hB({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=ig(l,a,t+1/3),s=ig(l,a,t),o=ig(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const rg=(t,e,n)=>{const i=t*t;return Math.sqrt(Math.max(0,n*(e*e-i)+i))},dB=[sy,Xr,Zs],fB=t=>dB.find(e=>e.test(t));function m1(t){const e=fB(t);let n=e.parse(t);return e===Zs&&(n=hB(n)),n}const SI=(t,e)=>{const n=m1(t),i=m1(e),r={...n};return s=>(r.red=rg(n.red,i.red,s),r.green=rg(n.green,i.green,s),r.blue=rg(n.blue,i.blue,s),r.alpha=Oe(n.alpha,i.alpha,s),Xr.transform(r))};function xI(t,e){return typeof t=="number"?n=>Oe(t,e,n):Ct.test(t)?SI(t,e):kI(t,e)}const EI=(t,e)=>{const n=[...t],i=n.length,r=t.map((s,o)=>xI(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}},pB=(t,e)=>{const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=xI(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}},kI=(t,e)=>{const n=_r.createTransformer(e),i=rd(t),r=rd(e);return i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?Of(EI(i.values,r.values),n):o=>`${o>0?e:t}`},ad=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},y1=(t,e)=>n=>Oe(t,e,n);function gB(t){return typeof t=="number"?y1:typeof t=="string"?Ct.test(t)?SI:kI:Array.isArray(t)?EI:typeof t=="object"?pB:y1}function mB(t,e,n){const i=[],r=n||gB(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=Of(l,a)}i.push(a)}return i}function TI(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;od(s===e.length),od(!i||!Array.isArray(i)||i.length===s-1),t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=mB(e,i,r),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const h=ad(t[u],t[u+1],c);return o[u](h)};return n?c=>l(To(t[0],t[s-1],c)):l}const q0=t=>t,CI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,yB=1e-7,vB=12;function wB(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=CI(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>yB&&++a<vB);return o}function II(t,e,n,i){if(t===e&&n===i)return q0;const r=s=>wB(s,0,1,t,n);return s=>s===0||s===1?s:CI(r(s),e,i)}const PI=t=>1-Math.sin(Math.acos(t)),G0=H0(PI),_B=z0(G0),AI=II(.33,1.53,.69,.99),Y0=H0(AI),bB=z0(Y0),SB=t=>(t*=2)<1?.5*Y0(t):.5*(2-Math.pow(2,-10*(t-1))),xB={linear:q0,easeIn:W0,easeInOut:K0,easeOut:uB,circIn:PI,circInOut:_B,circOut:G0,backIn:Y0,backInOut:bB,backOut:AI,anticipate:SB},v1=t=>{if(Array.isArray(t)){od(t.length===4);const[e,n,i,r]=t;return II(e,n,i,r)}else if(typeof t=="string")return xB[t];return t},EB=t=>Array.isArray(t)&&typeof t[0]!="number";function kB(t,e){return t.map(()=>e||K0).splice(0,t.length-1)}function TB(t){const e=t.length;return t.map((n,i)=>i!==0?i/(e-1):0)}function CB(t,e){return t.map(n=>n*e)}function ay({keyframes:t,ease:e=K0,times:n,duration:i=300}){t=[...t];const r=EB(e)?e.map(v1):v1(e),s={done:!1,value:t[0]},o=CB(n&&n.length===t.length?n:TB(t),i);function a(){return TI(o,t,{ease:Array.isArray(r)?r:kB(t,r)})}let l=a();return{next:c=>(s.value=l(c),s.done=c>=i,s),flipTarget:()=>{t.reverse(),l=a()}}}const sg=.001,IB=.01,w1=10,PB=.05,AB=1;function RB({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let r,s;lB(t<=w1*1e3);let o=1-e;o=To(PB,AB,o),t=To(IB,w1,t/1e3),o<1?(r=c=>{const u=c*o,h=u*t,d=u-n,f=ly(c,o),p=Math.exp(-h);return sg-d/f*p},s=c=>{const h=c*o*t,d=h*n+n,f=Math.pow(o,2)*Math.pow(c,2)*t,p=Math.exp(-h),g=ly(Math.pow(c,2),o);return(-r(c)+sg>0?-1:1)*((d-f)*p)/g}):(r=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-sg+u*h},s=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=OB(r,s,a);if(t=t*1e3,isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const MB=12;function OB(t,e,n){let i=n;for(let r=1;r<MB;r++)i=i-t(i)/e(i);return i}function ly(t,e){return t*Math.sqrt(1-e*e)}const DB=["duration","bounce"],LB=["stiffness","damping","mass"];function _1(t,e){return e.some(n=>t[n]!==void 0)}function NB(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!_1(t,LB)&&_1(t,DB)){const n=RB(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const FB=5;function RI({keyframes:t,restDelta:e,restSpeed:n,...i}){let r=t[0],s=t[t.length-1];const o={done:!1,value:r},{stiffness:a,damping:l,mass:c,velocity:u,duration:h,isResolvedFromDuration:d}=NB(i);let f=$B,p=u?-(u/1e3):0;const g=l/(2*Math.sqrt(a*c));function v(){const y=s-r,m=Math.sqrt(a/c)/1e3,w=Math.abs(y)<5;if(n||(n=w?.01:2),e||(e=w?.005:.5),g<1){const _=ly(m,g);f=b=>{const S=Math.exp(-g*m*b);return s-S*((p+g*m*y)/_*Math.sin(_*b)+y*Math.cos(_*b))}}else if(g===1)f=_=>s-Math.exp(-m*_)*(y+(p+m*y)*_);else{const _=m*Math.sqrt(g*g-1);f=b=>{const S=Math.exp(-g*m*b),E=Math.min(_*b,300);return s-S*((p+g*m*y)*Math.sinh(E)+_*y*Math.cosh(E))/_}}}return v(),{next:y=>{const m=f(y);if(d)o.done=y>=h;else{let w=p;if(y!==0)if(g<1){const S=Math.max(0,y-FB);w=V0(m-f(S),y-S)}else w=0;const _=Math.abs(w)<=n,b=Math.abs(s-m)<=e;o.done=_&&b}return o.value=o.done?s:m,o},flipTarget:()=>{p=-p,[r,s]=[s,r],v()}}}RI.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const $B=t=>0;function VB({keyframes:t=[0],velocity:e=0,power:n=.8,timeConstant:i=350,restDelta:r=.5,modifyTarget:s}){const o=t[0],a={done:!1,value:o};let l=n*e;const c=o+l,u=s===void 0?c:s(c);return u!==c&&(l=u-o),{next:h=>{const d=-l*Math.exp(-h/i);return a.done=!(d>r||d<-r),a.value=a.done?u:u+d,a},flipTarget:()=>{}}}const BB={decay:VB,keyframes:ay,tween:ay,spring:RI};function MI(t,e,n=0){return t-e-n}function UB(t,e=0,n=0,i=!0){return i?MI(e+-t,e,n):e-(t-e)+n}function jB(t,e,n,i){return i?t>=e+n:t<=-n}const zB=t=>{const e=({delta:n})=>t(n);return{start:()=>Rt.update(e,!0),stop:()=>wr.update(e)}};function ld({duration:t,driver:e=zB,elapsed:n=0,repeat:i=0,repeatType:r="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:l,onStop:c,onComplete:u,onRepeat:h,onUpdate:d,type:f="keyframes",...p}){var g,v;const y=n;let m,w=0,_=t,b=!1,S=!0,E;const k=BB[o.length>2?"keyframes":f]||ay,I=o[0],C=o[o.length-1];let O={done:!1,value:I};!((v=(g=k).needsInterpolation)===null||v===void 0)&&v.call(g,I,C)&&(E=TI([0,100],[I,C],{clamp:!1}),o=[0,100]);const G=k({...p,duration:t,keyframes:o});function de(){w++,r==="reverse"?(S=w%2===0,n=UB(n,_,s,S)):(n=MI(n,_,s),r==="mirror"&&G.flipTarget()),b=!1,h&&h()}function Ae(){m&&m.stop(),u&&u()}function V(J){S||(J=-J),n+=J,b||(O=G.next(Math.max(0,n)),E&&(O.value=E(O.value)),b=S?O.done:n<=0),d&&d(O.value),b&&(w===0&&(_=_!==void 0?_:n),w<i?jB(n,_,s,S)&&de():Ae())}function Z(){l&&l(),m=e(V),m.start()}return a&&Z(),{stop:()=>{c&&c(),m&&m.stop()},set currentTime(J){n=y,V(J)},sample:J=>{n=y;const M=t&&typeof t=="number"?Math.max(t*.5,50):50;let N=0;for(V(0);N<=J;){const z=J-N;V(Math.min(z,M)),N+=M}return O}}}function HB(t){return!t||Array.isArray(t)||typeof t=="string"&&OI[t]}const ka=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,OI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ka([0,.65,.55,1]),circOut:ka([.55,0,1,.45]),backIn:ka([.31,.01,.66,-.59]),backOut:ka([.33,1.53,.69,.99])};function WB(t){if(t)return Array.isArray(t)?ka(t):OI[t]}function KB(t,e,n,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){return t.animate({[e]:n,offset:l},{delay:i,duration:r,easing:WB(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const b1={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},og={},DI={};for(const t in b1)DI[t]=()=>(og[t]===void 0&&(og[t]=b1[t]()),og[t]);function qB(t,{repeat:e,repeatType:n="loop"}){const i=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[i]}const GB=new Set(["opacity"]),uu=10;function YB(t,e,{onUpdate:n,onComplete:i,...r}){if(!(DI.waapi()&&GB.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0))return!1;let{keyframes:o,duration:a=300,elapsed:l=0,ease:c}=r;if(r.type==="spring"||!HB(r.ease)){if(r.repeat===1/0)return;const h=ld({...r,elapsed:0});let d={done:!1,value:o[0]};const f=[];let p=0;for(;!d.done&&p<2e4;)d=h.sample(p),f.push(d.value),p+=uu;o=f,a=p-uu,c="linear"}const u=KB(t.owner.current,e,o,{...r,delay:-l,duration:a,ease:c});return u.onfinish=()=>{t.set(qB(o,r)),i&&i()},{get currentTime(){return u.currentTime||0},set currentTime(h){u.currentTime=h},stop:()=>{const{currentTime:h}=u;if(h){const d=ld({...r,autoplay:!1});t.setWithVelocity(d.sample(h-uu).value,d.sample(h).value,uu)}Rt.update(()=>u.cancel())}}}function LI(t,e){const n=performance.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(wr.read(i),t(s-e))};return Rt.read(i,!0),()=>wr.read(i)}function XB({keyframes:t,elapsed:e,onUpdate:n,onComplete:i}){const r=()=>{n&&n(t[t.length-1]),i&&i()};return e?{stop:LI(r,-e)}:r()}function QB({keyframes:t,velocity:e=0,min:n,max:i,power:r=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:c,driver:u,onUpdate:h,onComplete:d,onStop:f}){const p=t[0];let g;function v(_){return n!==void 0&&_<n||i!==void 0&&_>i}function y(_){return n===void 0?i:i===void 0||Math.abs(n-_)<Math.abs(i-_)?n:i}function m(_){g==null||g.stop(),g=ld({keyframes:[0,1],velocity:0,..._,driver:u,onUpdate:b=>{var S;h==null||h(b),(S=_.onUpdate)===null||S===void 0||S.call(_,b)},onComplete:d,onStop:f})}function w(_){m({type:"spring",stiffness:o,damping:a,restDelta:l,..._})}if(v(p))w({velocity:e,keyframes:[p,y(p)]});else{let _=r*e+p;typeof c<"u"&&(_=c(_));const b=y(_),S=b===n?-1:1;let E,k;const I=C=>{E=k,k=C,e=V0(C-E,mi.delta),(S===1&&C>b||S===-1&&C<b)&&w({keyframes:[C,b],velocity:e})};m({type:"decay",keyframes:[p,0],velocity:e,timeConstant:s,power:r,restDelta:l,modifyTarget:c,onUpdate:v(_)?I:void 0})}return{stop:()=>g==null?void 0:g.stop()}}const Or=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),hu=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ag=()=>({type:"keyframes",ease:"linear",duration:.3}),JB={type:"keyframes",duration:.8},S1={x:Or,y:Or,z:Or,rotate:Or,rotateX:Or,rotateY:Or,rotateZ:Or,scaleX:hu,scaleY:hu,scale:hu,opacity:ag,backgroundColor:ag,color:ag,default:hu},ZB=(t,{keyframes:e})=>e.length>2?JB:(S1[t]||S1.default)(e[1]),cy=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&_r.test(e)&&!e.startsWith("url("));function eU({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function x1(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function E1(t){return typeof t=="number"?0:j0("",t)}function NI(t,e){return t[e]||t.default||t}function tU(t,e,n,i){const r=cy(e,n);let s=i.from!==void 0?i.from:t.get();return s==="none"&&r&&typeof n=="string"?s=j0(e,n):x1(s)&&typeof n=="string"?s=E1(n):!Array.isArray(n)&&x1(n)&&typeof s=="string"&&(n=E1(s)),Array.isArray(n)?(n[0]===null&&(n[0]=s),n):[s,n]}const X0=(t,e,n,i={})=>r=>{const s=NI(i,t)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-nh(o);const l=tU(e,t,n,s),c=l[0],u=l[l.length-1],h=cy(t,c),d=cy(t,u);let f={keyframes:l,velocity:e.getVelocity(),...s,elapsed:a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(!h||!d||cB.current||s.type===!1)return XB(f);if(s.type==="inertia")return QB(f);eU(s)||(f={...f,...ZB(t,f)}),f.duration&&(f.duration=nh(f.duration)),f.repeatDelay&&(f.repeatDelay=nh(f.repeatDelay));const p=e.owner,g=p&&p.current;if(p&&g instanceof HTMLElement&&!(p!=null&&p.getProps().onUpdate)){const v=YB(e,t,f);if(v)return v}return ld(f)};function nU(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>uy(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=uy(t,e,n);else{const r=typeof e=="function"?Lf(t,e,n.custom):e;i=FI(t,r,n)}return i.then(()=>t.notify("AnimationComplete",e))}function uy(t,e,n={}){var i;const r=Lf(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>FI(t,r,n):()=>Promise.resolve(),a=!((i=t.variantChildren)===null||i===void 0)&&i.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:d}=s;return iU(t,e,u+c,h,d,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(u)}else return Promise.all([o(),a(n.delay)])}function FI(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");i&&(o=i);const u=[],h=r&&((s=t.animationState)===null||s===void 0?void 0:s.getState()[r]);for(const d in l){const f=t.getValue(d),p=l[d];if(!f||p===void 0||h&&sU(h,d))continue;const g={delay:n,elapsed:0,...o};if(window.HandoffAppearAnimations&&!f.hasAnimated){const y=t.getProps()[aB];y&&(g.elapsed=window.HandoffAppearAnimations(y,d,f,Rt))}let v=f.start(X0(d,f,p,t.shouldReduceMotion&&qo.has(d)?{type:!1}:g));sd(c)&&(c.add(d),v=v.then(()=>c.remove(d))),u.push(v)}return Promise.all(u).then(()=>{a&&nB(t,a)})}function iU(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(rU).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(uy(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function rU(t,e){return t.sortNodePosition(e)}function sU({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}const Q0=[ge.Animate,ge.InView,ge.Focus,ge.Hover,ge.Tap,ge.Drag,ge.Exit],oU=[...Q0].reverse(),aU=Q0.length;function lU(t){return e=>Promise.all(e.map(({animation:n,options:i})=>nU(t,n,i)))}function cU(t){let e=lU(t);const n=hU();let i=!0;const r=(l,c)=>{const u=Lf(t,c);if(u){const{transition:h,transitionEnd:d,...f}=u;l={...l,...f,...d}}return l};function s(l){e=l(t)}function o(l,c){const u=t.getProps(),h=t.getVariantContext(!0)||{},d=[],f=new Set;let p={},g=1/0;for(let y=0;y<aU;y++){const m=oU[y],w=n[m],_=u[m]!==void 0?u[m]:h[m],b=Ml(_),S=m===c?w.isActive:null;S===!1&&(g=y);let E=_===h[m]&&_!==u[m]&&b;if(E&&i&&t.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...p},!w.isActive&&S===null||!_&&!w.prevProp||Pf(_)||typeof _=="boolean")continue;const k=uU(w.prevProp,_);let I=k||m===c&&w.isActive&&!E&&b||y>g&&b;const C=Array.isArray(_)?_:[_];let O=C.reduce(r,{});S===!1&&(O={});const{prevResolvedValues:G={}}=w,de={...G,...O},Ae=V=>{I=!0,f.delete(V),w.needsAnimating[V]=!0};for(const V in de){const Z=O[V],J=G[V];p.hasOwnProperty(V)||(Z!==J?nd(Z)&&nd(J)?!hI(Z,J)||k?Ae(V):w.protectedKeys[V]=!0:Z!==void 0?Ae(V):f.add(V):Z!==void 0&&f.has(V)?Ae(V):w.protectedKeys[V]=!0)}w.prevProp=_,w.prevResolvedValues=O,w.isActive&&(p={...p,...O}),i&&t.blockInitialAnimation&&(I=!1),I&&!E&&d.push(...C.map(V=>({animation:V,options:{type:m,...l}})))}if(f.size){const y={};f.forEach(m=>{const w=t.getBaseTarget(m);w!==void 0&&(y[m]=w)}),d.push({animation:y})}let v=Boolean(d.length);return i&&u.initial===!1&&!t.manuallyAnimateOnMount&&(v=!1),i=!1,v?e(d):Promise.resolve()}function a(l,c,u){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const d=o(u,l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function uU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!hI(e,t):!1}function Dr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hU(){return{[ge.Animate]:Dr(!0),[ge.InView]:Dr(),[ge.Hover]:Dr(),[ge.Tap]:Dr(),[ge.Drag]:Dr(),[ge.Focus]:Dr(),[ge.Exit]:Dr()}}const dU={animation:Yi(({visualElement:t,animate:e})=>{t.animationState||(t.animationState=cU(t)),Pf(e)&&x.useEffect(()=>e.subscribe(t),[e])}),exit:Yi(t=>{const{custom:e,visualElement:n}=t,[i,r]=uI(),s=x.useContext(pc);x.useEffect(()=>{n.isPresent=i;const o=n.animationState&&n.animationState.setActive(ge.Exit,!i,{custom:s&&s.custom||e});o&&!i&&o.then(r)},[i])})},k1=(t,e)=>Math.abs(t-e);function fU(t,e){const n=k1(t.x,e.x),i=k1(t.y,e.y);return Math.sqrt(n**2+i**2)}class $I{constructor(e,n,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=cg(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,h=fU(c.offset,{x:0,y:0})>=3;if(!u&&!h)return;const{point:d}=c,{timestamp:f}=mi;this.history.push({...d,timestamp:f});const{onStart:p,onMove:g}=this.handlers;u||(p&&p(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=lg(u,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:d}=this.handlers,f=cg(c.type==="pointercancel"?this.lastMoveEventInfo:lg(u,this.transformPagePoint),this.history);this.startEvent&&h&&h(c,f),d&&d(c,f)},!rI(e))return;this.handlers=n,this.transformPagePoint=i;const r=D0(e),s=lg(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=mi;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,cg(s,this.history)),this.removeListeners=Of(ho(window,"pointermove",this.handlePointerMove),ho(window,"pointerup",this.handlePointerUp),ho(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wr.update(this.updatePoint)}}function lg(t,e){return e?{point:e(t.point)}:t}function T1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cg({point:t},e){return{point:t,delta:T1(t,VI(e)),offset:T1(t,pU(e)),velocity:gU(e,.1)}}function pU(t){return t[0]}function VI(t){return t[t.length-1]}function gU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=VI(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>nh(e)));)n--;if(!i)return{x:0,y:0};const s=(r.timestamp-i.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zt(t){return t.max-t.min}function hy(t,e=0,n=.01){return Math.abs(t-e)<=n}function C1(t,e,n,i=.5){t.origin=i,t.originPoint=Oe(e.min,e.max,t.origin),t.scale=Zt(n)/Zt(e),(hy(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Oe(n.min,n.max,t.origin)-t.originPoint,(hy(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ga(t,e,n,i){C1(t.x,e.x,n.x,i==null?void 0:i.originX),C1(t.y,e.y,n.y,i==null?void 0:i.originY)}function I1(t,e,n){t.min=n.min+e.min,t.max=t.min+Zt(e)}function mU(t,e,n){I1(t.x,e.x,n.x),I1(t.y,e.y,n.y)}function P1(t,e,n){t.min=e.min-n.min,t.max=t.min+Zt(e)}function Ya(t,e,n){P1(t.x,e.x,n.x),P1(t.y,e.y,n.y)}function yU(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Oe(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Oe(n,t,i.max):Math.min(t,n)),t}function A1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function vU(t,{top:e,left:n,bottom:i,right:r}){return{x:A1(t.x,n,r),y:A1(t.y,e,i)}}function R1(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function wU(t,e){return{x:R1(t.x,e.x),y:R1(t.y,e.y)}}function _U(t,e){let n=.5;const i=Zt(t),r=Zt(e);return r>i?n=ad(e.min,e.max-i,t.min):i>r&&(n=ad(t.min,t.max-r,e.min)),To(0,1,n)}function bU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dy=.35;function SU(t=dy){return t===!1?t=0:t===!0&&(t=dy),{x:M1(t,"left","right"),y:M1(t,"top","bottom")}}function M1(t,e,n){return{min:O1(t,e),max:O1(t,n)}}function O1(t,e){return typeof t=="number"?t:t[e]||0}const D1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xa=()=>({x:D1(),y:D1()}),L1=()=>({min:0,max:0}),He=()=>({x:L1(),y:L1()});function On(t){return[t("x"),t("y")]}function BI({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function xU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function EU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function ug(t){return t===void 0||t===1}function fy({scale:t,scaleX:e,scaleY:n}){return!ug(t)||!ug(e)||!ug(n)}function jr(t){return fy(t)||UI(t)||t.z||t.rotate||t.rotateX||t.rotateY}function UI(t){return N1(t.x)||N1(t.y)}function N1(t){return t&&t!=="0%"}function cd(t,e,n){const i=t-n,r=e*i;return n+r}function F1(t,e,n,i,r){return r!==void 0&&(t=cd(t,r,i)),cd(t,n,i)+e}function py(t,e=0,n=1,i,r){t.min=F1(t.min,e,n,i,r),t.max=F1(t.max,e,n,i,r)}function jI(t,{x:e,y:n}){py(t.x,e.translate,e.scale,e.originPoint),py(t.y,n.translate,n.scale,n.originPoint)}function kU(t,e,n,i=!1){var r,s;const o=n.length;if(!o)return;e.x=e.y=1;let a,l;for(let c=0;c<o;c++)a=n[c],l=a.projectionDelta,((s=(r=a.instance)===null||r===void 0?void 0:r.style)===null||s===void 0?void 0:s.display)!=="contents"&&(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&eo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,jI(t,l)),i&&jr(a.latestValues)&&eo(t,a.latestValues));e.x=$1(e.x),e.y=$1(e.y)}function $1(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Fi(t,e){t.min=t.min+e,t.max=t.max+e}function V1(t,e,[n,i,r]){const s=e[r]!==void 0?e[r]:.5,o=Oe(t.min,t.max,s);py(t,e[n],e[i],o,e.scale)}const TU=["x","scaleX","originX"],CU=["y","scaleY","originY"];function eo(t,e){V1(t.x,e,TU),V1(t.y,e,CU)}function zI(t,e){return BI(EU(t.getBoundingClientRect(),e))}function IU(t,e,n){const i=zI(t,n),{scroll:r}=e;return r&&(Fi(i.x,r.offset.x),Fi(i.y,r.offset.y)),i}const PU=new WeakMap;class AU{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){if(this.visualElement.isPresent===!1)return;const i=a=>{this.stopAnimation(),n&&this.snapToCursor(D0(a,"page").point)},r=(a,l)=>{var c;const{drag:u,dragPropagation:h,onDragStart:d}=this.getProps();u&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=aI(u),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),On(f=>{var p,g;let v=this.getAxisMotionValue(f).get()||0;if(zn.test(v)){const y=(g=(p=this.visualElement.projection)===null||p===void 0?void 0:p.layout)===null||g===void 0?void 0:g.layoutBox[f];y&&(v=Zt(y)*(parseFloat(v)/100))}this.originPoint[f]=v}),d==null||d(a,l),(c=this.visualElement.animationState)===null||c===void 0||c.setActive(ge.Drag,!0))},s=(a,l)=>{const{dragPropagation:c,dragDirectionLock:u,onDirectionLock:h,onDrag:d}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:f}=l;if(u&&this.currentDirection===null){this.currentDirection=RU(f),this.currentDirection!==null&&(h==null||h(this.currentDirection));return}this.updateAxis("x",l.point,f),this.updateAxis("y",l.point,f),this.visualElement.render(),d==null||d(a,l)},o=(a,l)=>this.stop(a,l);this.panSession=new $I(e,{onSessionStart:i,onStart:r,onMove:s,onSessionEnd:o},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s==null||s(e,n)}cancel(){var e,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(ge.Drag,!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!du(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=yU(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&Js(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=vU(i.layoutBox,e):this.constraints=!1,this.elastic=SU(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&On(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=bU(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Js(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=IU(i,r.root,this.visualElement.getTransformPagePoint());let o=wU(r.layout.layoutBox,s);if(n){const a=n(xU(o));this.hasMutatedConstraints=!!a,a&&(o=BI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=On(u=>{if(!du(u,n,this.currentDirection))return;let h=(l==null?void 0:l[u])||{};o&&(h={min:0,max:0});const d=r?200:1e6,f=r?40:1e7,p={type:"inertia",velocity:i?e[u]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return i.start(X0(e,i,0,n))}stopAnimation(){On(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){var n;const i="_drag"+e.toUpperCase(),r=this.visualElement.getProps()[i];return r||this.visualElement.getValue(e,((n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[e])||0)}snapToCursor(e){On(n=>{const{drag:i}=this.getProps();if(!du(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-Oe(o,a,.5))}})}scalePositionWithinConstraints(){var e;if(!this.visualElement.current)return;const{drag:n,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!Js(i)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};On(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=_U({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",(e=r.root)===null||e===void 0||e.updateScroll(),r.updateLayout(),this.resolveConstraints(),On(a=>{if(!du(a,n,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Oe(c,u,s[a]))})}addListeners(){var e;if(!this.visualElement.current)return;PU.set(this.visualElement,this);const n=this.visualElement.current,i=ho(n,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Js(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&((e=s.root)===null||e===void 0||e.updateScroll(),s.updateLayout()),r();const a=Mf(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(On(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=c[h].translate,d.set(d.get()+c[h].translate))}),this.visualElement.render())});return()=>{a(),i(),o(),l==null||l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=dy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function du(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function RU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}function MU(t){const{dragControls:e,visualElement:n}=t,i=Rf(()=>new AU(n));x.useEffect(()=>e&&e.subscribe(i),[i,e]),x.useEffect(()=>i.addListeners(),[i])}function OU({onPan:t,onPanStart:e,onPanEnd:n,onPanSessionStart:i,visualElement:r}){const s=t||e||n||i,o=x.useRef(null),{transformPagePoint:a}=x.useContext(E0),l={onSessionStart:i,onStart:e,onMove:t,onEnd:(u,h)=>{o.current=null,n&&n(u,h)}};x.useEffect(()=>{o.current!==null&&o.current.updateHandlers(l)});function c(u){o.current=new $I(u,l,{transformPagePoint:a})}id(r,"pointerdown",s&&c),L0(()=>o.current&&o.current.end())}const DU={pan:Yi(OU),drag:Yi(MU)};function gy(t){return typeof t=="string"&&t.startsWith("var(--")}const HI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function LU(t){const e=HI.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]}function my(t,e,n=1){const[i,r]=LU(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);return s?s.trim():gy(r)?my(r,e,n+1):r}function NU(t,{...e},n){const i=t.current;if(!(i instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const s=r.get();if(!gy(s))return;const o=my(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!gy(s))continue;const o=my(s,i);o&&(e[r]=o,n&&n[r]===void 0&&(n[r]=s))}return{target:e,transitionEnd:n}}const FU=new Set(["width","height","top","left","right","bottom","x","y"]),WI=t=>FU.has(t),$U=t=>Object.keys(t).some(WI),B1=t=>t===Is||t===U;var U1;(function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"})(U1||(U1={}));const j1=(t,e)=>parseFloat(t.split(", ")[e]),z1=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return j1(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?j1(s[1],t):0}},VU=new Set(["x","y","z"]),BU=ed.filter(t=>!VU.has(t));function UU(t){const e=[];return BU.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const H1={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:z1(4,13),y:z1(5,14)},jU=(t,e,n)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=H1[c](i,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=H1[c](l,s)}),t},zU=(t,e,n={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(WI);let s=[],o=!1;const a=[];if(r.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],h=ha(u);const d=e[l];let f;if(nd(d)){const p=d.length,g=d[0]===null?1:0;u=d[g],h=ha(u);for(let v=g;v<p;v++)f?od(ha(d[v])===f):f=ha(d[v])}else f=ha(d);if(h!==f)if(B1(h)&&B1(f)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&f===U&&(e[l]=d.map(parseFloat))}else h!=null&&h.transform&&(f!=null&&f.transform)&&(u===0||d===0)?u===0?c.set(f.transform(u)):e[l]=h.transform(d):(o||(s=UU(t),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=jU(e,t,a);return s.length&&s.forEach(([u,h])=>{t.getValue(u).set(h)}),t.render(),If&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function HU(t,e,n,i){return $U(e)?zU(t,e,n,i):{target:e,transitionEnd:i}}const WU=(t,e,n,i)=>{const r=NU(t,e,i);return e=r.target,i=r.transitionEnd,HU(t,e,n,i)},yy={current:null},KI={current:!1};function KU(){if(KI.current=!0,!!If)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yy.current=t.matches;t.addListener(e),e()}else yy.current=!1}function qU(t,e,n){const{willChange:i}=e;for(const r in e){const s=e[r],o=n[r];if(jt(s))t.addValue(r,s),sd(i)&&i.add(r);else if(jt(o))t.addValue(r,Co(s,{owner:t})),sd(i)&&i.remove(r);else if(o!==s)if(t.hasValue(r)){const a=t.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Co(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const qI=Object.keys(Ol),GU=qI.length,W1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class YU{constructor({parent:e,props:n,reducedMotionConfig:i,visualState:r},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Rt.render(this.render,!1,!0);const{latestValues:o,renderState:a}=r;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=a,this.parent=e,this.props=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=Af(n),this.isVariantNode=WC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:l,...c}=this.scrapeMotionValuesFromProps(n,{});for(const u in c){const h=c[u];o[u]!==void 0&&jt(h)&&(h.set(o[u],!1),sd(l)&&l.add(u))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){var n;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(n=this.parent)===null||n===void 0?void 0:n.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),KI.current||KU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yy.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var e,n,i;(e=this.projection)===null||e===void 0||e.unmount(),wr.update(this.notifyUpdate),wr.render(this.render),this.valueSubscriptions.forEach(r=>r()),(n=this.removeFromVariantTree)===null||n===void 0||n.call(this),(i=this.parent)===null||i===void 0||i.children.delete(this);for(const r in this.events)this.events[r].clear();this.current=null}bindToMotionValue(e,n){const i=qo.has(e),r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Rt.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},i,r,s,o,a){const l=[];for(let c=0;c<GU;c++){const u=qI[c],{isEnabled:h,Component:d}=Ol[u];h(n)&&d&&l.push(x.createElement(d,{key:u,...n,visualElement:this}))}if(!this.projection&&o){this.projection=new o(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:h,dragConstraints:d,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:Boolean(h)||d&&Js(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:f,layoutRoot:p})}return l}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}setProps(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender();const n=this.props;this.props=e;for(let i=0;i<W1.length;i++){const r=W1[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=qU(this,this.scrapeMotionValuesFromProps(e,n),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){var n;return(n=this.props.variants)===null||n===void 0?void 0:n[e]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var e;return this.isVariantNode?this:(e=this.parent)===null||e===void 0?void 0:e.getClosestVariantNode()}getVariantContext(e=!1){var n,i;if(e)return(n=this.parent)===null||n===void 0?void 0:n.getVariantContext();if(!this.isControllingVariants){const s=((i=this.parent)===null||i===void 0?void 0:i.getVariantContext())||{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const r={};for(let s=0;s<XU;s++){const o=GI[s],a=this.props[o];(Ml(a)||a===!1)&&(r[o]=a)}return r}addVariantChild(e){var n;const i=this.getClosestVariantNode();if(i)return(n=i.variantChildren)===null||n===void 0||n.add(e),()=>i.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){var n;this.values.delete(e),(n=this.valueSubscriptions.get(e))===null||n===void 0||n(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Co(n,{owner:this}),this.addValue(e,i)),i}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(n=O0(this.props,i))===null||n===void 0?void 0:n[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!jt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new $0),this.events[e].add(n)}notify(e,...n){var i;(i=this.events[e])===null||i===void 0||i.notify(...n)}}const GI=["initial",...Q0],XU=GI.length;class YI extends YU{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){var i;return(i=e.style)===null||i===void 0?void 0:i[n]}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...i},{transformValues:r},s){let o=sB(i,e||{},this);if(r&&(n&&(n=r(n)),i&&(i=r(i)),o&&(o=r(o))),s){iB(this,i,o);const a=WU(this,i,o,n);n=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:n,...i}}}function QU(t){return window.getComputedStyle(t)}class JU extends YI{readValueFromInstance(e,n){if(qo.has(n)){const i=U0(n);return i&&i.default||0}else{const i=QU(e),r=(GC(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return zI(e,n)}build(e,n,i,r){C0(e,n,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return M0(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;jt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,i,r){ZC(e,n,i,r)}}class ZU extends YI{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){var i;return qo.has(n)?((i=U0(n))===null||i===void 0?void 0:i.default)||0:(n=eI.has(n)?n:R0(n),e.getAttribute(n))}measureInstanceViewportBox(){return He()}scrapeMotionValuesFromProps(e,n){return nI(e,n)}build(e,n,i,r){P0(e,n,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,i,r){tI(e,n,i,r)}mount(e){this.isSVGTag=A0(e.tagName),super.mount(e)}}const ej=(t,e)=>T0(t)?new ZU(e,{enableHardwareAcceleration:!1}):new JU(e,{enableHardwareAcceleration:!0});function K1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const da={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(U.test(t))t=parseFloat(t);else return t;const n=K1(t,e.target.x),i=K1(t,e.target.y);return`${n}% ${i}%`}},q1="_$css",tj={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=t.includes("var("),s=[];r&&(t=t.replace(HI,f=>(s.push(f),q1)));const o=_r.parse(t);if(o.length>5)return i;const a=_r.createTransformer(t),l=typeof o[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;o[0+l]/=c,o[1+l]/=u;const h=Oe(c,u,.5);typeof o[2+l]=="number"&&(o[2+l]/=h),typeof o[3+l]=="number"&&(o[3+l]/=h);let d=a(o);if(r){let f=0;d=d.replace(q1,()=>{const p=s[f];return f++,p})}return d}};class nj extends Qn.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;j$(rj),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Wa.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Rt.postRender(()=>{var a;!((a=o.getStack())===null||a===void 0)&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n!=null&&n.group&&n.group.remove(r),i!=null&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e==null||e()}render(){return null}}function ij(t){const[e,n]=uI(),i=x.useContext(k0);return Qn.createElement(nj,{...t,layoutGroup:i,switchLayoutGroup:x.useContext(KC),isPresent:e,safeToRemove:n})}const rj={borderRadius:{...da,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:da,borderTopRightRadius:da,borderBottomLeftRadius:da,borderBottomRightRadius:da,boxShadow:tj},sj={measureLayout:ij};function oj(t,e,n={}){const i=jt(t)?t:Co(t);return i.start(X0("",i,e,n)),{stop:()=>i.stop(),isAnimating:()=>i.isAnimating()}}const XI=["TopLeft","TopRight","BottomLeft","BottomRight"],aj=XI.length,G1=t=>typeof t=="string"?parseFloat(t):t,Y1=t=>typeof t=="number"||U.test(t);function lj(t,e,n,i,r,s){r?(t.opacity=Oe(0,n.opacity!==void 0?n.opacity:1,cj(i)),t.opacityExit=Oe(e.opacity!==void 0?e.opacity:1,0,uj(i))):s&&(t.opacity=Oe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<aj;o++){const a=`border${XI[o]}Radius`;let l=X1(e,a),c=X1(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Y1(l)===Y1(c)?(t[a]=Math.max(Oe(G1(l),G1(c),i),0),(zn.test(c)||zn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Oe(e.rotate||0,n.rotate||0,i))}function X1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const cj=QI(0,.5,G0),uj=QI(.5,.95,q0);function QI(t,e,n){return i=>i<t?0:i>e?1:n(ad(t,e,i))}function Q1(t,e){t.min=e.min,t.max=e.max}function yn(t,e){Q1(t.x,e.x),Q1(t.y,e.y)}function J1(t,e,n,i,r){return t-=e,t=cd(t,1/n,i),r!==void 0&&(t=cd(t,1/r,i)),t}function hj(t,e=0,n=1,i=.5,r,s=t,o=t){if(zn.test(e)&&(e=parseFloat(e),e=Oe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Oe(s.min,s.max,i);t===s&&(a-=e),t.min=J1(t.min,e,n,a,r),t.max=J1(t.max,e,n,a,r)}function Z1(t,e,[n,i,r],s,o){hj(t,e[n],e[i],e[r],e.scale,s,o)}const dj=["x","scaleX","originX"],fj=["y","scaleY","originY"];function eS(t,e,n,i){Z1(t.x,e,dj,n==null?void 0:n.x,i==null?void 0:i.x),Z1(t.y,e,fj,n==null?void 0:n.y,i==null?void 0:i.y)}function tS(t){return t.translate===0&&t.scale===1}function JI(t){return tS(t.x)&&tS(t.y)}function ZI(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function nS(t){return Zt(t.x)/Zt(t.y)}class pj{constructor(){this.members=[]}add(e){N0(this.members,e),e.scheduleRender()}remove(e){if(F0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){var i;const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),!((i=e.root)===null||i===void 0)&&i.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{var n,i,r,s,o;(i=(n=e.options).onExitComplete)===null||i===void 0||i.call(n),(o=(r=e.resumingFrom)===null||r===void 0?void 0:(s=r.options).onExitComplete)===null||o===void 0||o.call(s)})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iS(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),u&&(i+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const gj=(t,e)=>t.depth-e.depth;class mj{constructor(){this.children=[],this.isDirty=!1}add(e){N0(this.children,e),this.isDirty=!0}remove(e){F0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gj),this.isDirty=!1,this.children.forEach(e)}}const rS=["","X","Y","Z"],sS=1e3;let yj=0;function eP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=yj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(_j),this.nodes.forEach(xj),this.nodes.forEach(Ej)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new mj)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new $0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l==null||l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){var l;if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),(l=this.parent)===null||l===void 0||l.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||c)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=LI(f,250),Wa.hasAnimatedSinceResize&&(Wa.hasAnimatedSinceResize=!1,this.nodes.forEach(aS))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:g})=>{var v,y,m,w,_;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=(y=(v=this.options.transition)!==null&&v!==void 0?v:h.getDefaultTransition())!==null&&y!==void 0?y:Pj,{onLayoutAnimationStart:S,onLayoutAnimationComplete:E}=h.getProps(),k=!this.targetLayout||!ZI(this.targetLayout,g)||p,I=!f&&p;if(this.options.layoutRoot||!((m=this.resumeFrom)===null||m===void 0)&&m.instance||I||f&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,I);const C={...NI(b,"layout"),onPlay:S,onComplete:E};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else!f&&this.animationProgress===0&&aS(this),this.isLead()&&((_=(w=this.options).onExitComplete)===null||_===void 0||_.call(w));this.targetLayout=g})}unmount(){var o,a;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(o=this.getStack())===null||o===void 0||o.remove(this),(a=this.parent)===null||a===void 0||a.children.delete(this),this.instance=void 0,wr.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var o;return this.isAnimationBlocked||((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimationBlocked())||!1}startUpdate(){var o;this.isUpdateBlocked()||(this.isUpdating=!0,(o=this.nodes)===null||o===void 0||o.forEach(kj),this.animationId++)}getTransformTemplate(){var o;return(o=this.options.visualElement)===null||o===void 0?void 0:o.getProps().transformTemplate}willUpdate(o=!0){var a,l,c;if(this.root.isUpdateBlocked()){(l=(a=this.options).onExitComplete)===null||l===void 0||l.call(a);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;u===void 0&&!h||(this.prevTransformTemplateValue=(c=this.getTransformTemplate())===null||c===void 0?void 0:c(this.latestValues,""),this.updateSnapshot(),o&&this.notifyListeners("willUpdate"))}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oS);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Aj),this.potentialNodes.clear()),this.nodes.forEach(Sj),this.nodes.forEach(vj),this.nodes.forEach(wj),this.clearAllSnapshots(),tg.update(),tg.preRender(),tg.render())}clearAllSnapshots(){this.nodes.forEach(bj),this.sharedNodes.forEach(Tj)}scheduleUpdateProjection(){Rt.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var o;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(o=this.options.visualElement)===null||o===void 0||o.notify("LayoutMeasure",this.layout.layoutBox,a==null?void 0:a.layoutBox)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:n(this.instance)})}resetTransform(){var o;if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!JI(this.projectionDelta),c=(o=this.getTransformTemplate())===null||o===void 0?void 0:o(this.latestValues,""),u=c!==this.prevTransformTemplateValue;a&&(l||jr(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Rj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return He();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Fi(a.x,l.offset.x),Fi(a.y,l.offset.y)),a}removeElementScroll(o){const a=He();yn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:h}=c;if(c!==this.root&&u&&h.layoutScroll){if(u.isRoot){yn(a,o);const{scroll:d}=this.root;d&&(Fi(a.x,-d.offset.x),Fi(a.y,-d.offset.y))}Fi(a.x,u.offset.x),Fi(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=He();yn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&eo(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),jr(u.latestValues)&&eo(l,u.latestValues)}return jr(this.latestValues)&&eo(l,this.latestValues),l}removeTransform(o){var a;const l=He();yn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!jr(u.latestValues))continue;fy(u.latestValues)&&u.updateSnapshot();const h=He(),d=u.measurePageBox();yn(h,d),eS(l,u.latestValues,(a=u.snapshot)===null||a===void 0?void 0:a.layoutBox,h)}return jr(this.latestValues)&&eS(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:l,layoutId:c}=this.options;if(!(!this.layout||!(l||c))){if(!this.targetDelta&&!this.relativeTarget){const u=this.getClosestProjectingParent();u&&u.layout?(this.relativeParent=u,this.relativeTarget=He(),this.relativeTargetOrigin=He(),Ya(this.relativeTargetOrigin,this.layout.layoutBox,u.layout.layoutBox),yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&(!((o=this.relativeParent)===null||o===void 0)&&o.target)?mU(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):yn(this.target,this.layout.layoutBox),jI(this.target,this.targetDelta)):yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const u=this.getClosestProjectingParent();u&&Boolean(u.resumingFrom)===Boolean(this.resumingFrom)&&!u.options.layoutScroll&&u.target?(this.relativeParent=u,this.relativeTarget=He(),this.relativeTargetOrigin=He(),Ya(this.relativeTargetOrigin,this.target,u.target),yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||fy(this.parent.latestValues)||UI(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta||this.parent.options.layoutRoot)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var o;const{isProjectionDirty:a,isTransformDirty:l}=this;this.isProjectionDirty=this.isTransformDirty=!1;const c=this.getLead(),u=Boolean(this.resumingFrom)||this!==c;let h=!0;if(a&&(h=!1),u&&l&&(h=!1),h)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=Boolean(((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;yn(this.layoutCorrected,this.layout.layoutBox),kU(this.layoutCorrected,this.treeScale,this.path,u);const{target:p}=c;if(!p)return;this.projectionDelta||(this.projectionDelta=Xa(),this.projectionDeltaWithTransform=Xa());const g=this.treeScale.x,v=this.treeScale.y,y=this.projectionTransform;Ga(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=iS(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==g||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a,l,c;(l=(a=this.options).scheduleRender)===null||l===void 0||l.call(a),o&&((c=this.getStack())===null||c===void 0||c.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){var l,c;const u=this.snapshot,h=(u==null?void 0:u.latestValues)||{},d={...this.latestValues},f=Xa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=He(),g=(u==null?void 0:u.source)!==((l=this.layout)===null||l===void 0?void 0:l.source),v=(((c=this.getStack())===null||c===void 0?void 0:c.members.length)||0)<=1,y=Boolean(g&&!v&&this.options.crossfade===!0&&!this.path.some(Ij));this.animationProgress=0,this.mixTargetDelta=m=>{var w;const _=m/1e3;lS(f.x,o.x,_),lS(f.y,o.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((w=this.relativeParent)===null||w===void 0)&&w.layout)&&(Ya(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Cj(this.relativeTarget,this.relativeTargetOrigin,p,_)),g&&(this.animationValues=d,lj(d,h,this.latestValues,_,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)===null||a===void 0||a.stop(),this.resumingFrom&&((l=this.resumingFrom.currentAnimation)===null||l===void 0||l.stop()),this.pendingAnimation&&(wr.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{Wa.hasAnimatedSinceResize=!0,this.currentAnimation=oj(0,sS,{...o,onUpdate:c=>{var u;this.mixTargetDelta(c),(u=o.onUpdate)===null||u===void 0||u.call(o,c)},onComplete:()=>{var c;(c=o.onComplete)===null||c===void 0||c.call(o),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var o;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(o=this.getStack())===null||o===void 0||o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var o;this.currentAnimation&&((o=this.mixTargetDelta)===null||o===void 0||o.call(this,sS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&tP(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||He();const h=Zt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=Zt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}yn(a,l),eo(a,u),Ga(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){var l,c,u;this.sharedNodes.has(o)||this.sharedNodes.set(o,new pj),this.sharedNodes.get(o).add(a),a.promote({transition:(l=a.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(u=(c=a.options.initialPromotionConfig)===null||c===void 0?void 0:c.shouldPreserveFollowOpacity)===null||u===void 0?void 0:u.call(c,a)})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<rS.length;u++){const h="rotate"+rS[u];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o==null||o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=th(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=th(o.pointerEvents)||""),this.hasProjected&&!jr(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=iS(this.projectionDeltaWithTransform,this.treeScale,d),u&&(c.transform=u(d,c.transform));const{x:f,y:p}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Zh){if(d[g]===void 0)continue;const{correct:v,applyTo:y}=Zh[g],m=c.transform==="none"?d[g]:v(d[g],h);if(y){const w=y.length;for(let _=0;_<w;_++)c[y[_]]=m}else c[g]=m}return this.options.layoutId&&(c.pointerEvents=h===this?th(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(oS),this.root.sharedNodes.clear()}}}function vj(t){t.updateLayout()}function wj(t){var e,n,i;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=t.layout,{animationType:a}=t.options,l=r.source!==t.layout.source;a==="size"?On(f=>{const p=l?r.measuredBox[f]:r.layoutBox[f],g=Zt(p);p.min=s[f].min,p.max=p.min+g}):tP(a,r.layoutBox,s)&&On(f=>{const p=l?r.measuredBox[f]:r.layoutBox[f],g=Zt(s[f]);p.max=p.min+g});const c=Xa();Ga(c,s,r.layoutBox);const u=Xa();l?Ga(u,t.applyTransform(o,!0),r.measuredBox):Ga(u,s,r.layoutBox);const h=!JI(c);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const v=He();Ya(v,r.layoutBox,p.layoutBox);const y=He();Ya(y,s,g.layoutBox),ZI(v,y)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeTargetChanged:d})}else t.isLead()&&((i=(n=t.options).onExitComplete)===null||i===void 0||i.call(n));t.options.transition=void 0}function _j(t){t.isProjectionDirty||(t.isProjectionDirty=Boolean(t.parent&&t.parent.isProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=Boolean(t.parent&&t.parent.isTransformDirty))}function bj(t){t.clearSnapshot()}function oS(t){t.clearMeasurements()}function Sj(t){const{visualElement:e}=t.options;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function aS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function xj(t){t.resolveTargetDelta()}function Ej(t){t.calcProjection()}function kj(t){t.resetRotation()}function Tj(t){t.removeLeadSnapshot()}function lS(t,e,n){t.translate=Oe(e.translate,0,n),t.scale=Oe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function cS(t,e,n,i){t.min=Oe(e.min,n.min,i),t.max=Oe(e.max,n.max,i)}function Cj(t,e,n,i){cS(t.x,e.x,n.x,i),cS(t.y,e.y,n.y,i)}function Ij(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Pj={duration:.45,ease:[.4,0,.1,1]};function Aj(t,e){let n=t.root;for(let s=t.path.length-1;s>=0;s--)if(Boolean(t.path[s].instance)){n=t.path[s];break}const r=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);r&&t.mount(r,!0)}function uS(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function Rj(t){uS(t.x),uS(t.y)}function tP(t,e,n){return t==="position"||t==="preserve-aspect"&&!hy(nS(e),nS(n),.2)}const Mj=eP({attachResizeListener:(t,e)=>Mf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hg={current:void 0},Oj=eP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!hg.current){const t=new Mj(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),hg.current=t}return hg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>Boolean(window.getComputedStyle(t).position==="fixed")}),Dj={...dU,...RV,...DU,...sj},Go=B$((t,e)=>vV(t,e,Dj,ej,Oj));function nP(){const t=x.useRef(!1);return Jh(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Lj(){const t=nP(),[e,n]=x.useState(0),i=x.useCallback(()=>{t.current&&n(e+1)},[e]);return[x.useCallback(()=>Rt.postRender(i),[i]),e]}class Nj extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Fj({children:t,isPresent:e}){const n=x.useId(),i=x.useRef(null),r=x.useRef({width:0,height:0,top:0,left:0});return x.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=r.current;if(e||!i.current||!s||!o)return;i.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),x.createElement(Nj,{isPresent:e,childRef:i,sizeRef:r},x.cloneElement(t,{ref:i}))}const dg=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=Rf($j),l=x.useId(),c=x.useMemo(()=>({id:l,initial:e,isPresent:n,custom:r,onExitComplete:u=>{a.set(u,!0);for(const h of a.values())if(!h)return;i&&i()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[n]);return x.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),x.useEffect(()=>{!n&&!a.size&&i&&i()},[n]),o==="popLayout"&&(t=x.createElement(Fj,{isPresent:n},t)),x.createElement(pc.Provider,{value:c},t)};function $j(){return new Map}const Ns=t=>t.key||"";function Vj(t,e){t.forEach(n=>{const i=Ns(n);e.set(i,n)})}function Bj(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const Uj=({children:t,custom:e,initial:n=!0,onExitComplete:i,exitBeforeEnter:r,presenceAffectsLayout:s=!0,mode:o="sync"})=>{r&&(o="wait");let[a]=Lj();const l=x.useContext(k0).forceRender;l&&(a=l);const c=nP(),u=Bj(t);let h=u;const d=new Set,f=x.useRef(h),p=x.useRef(new Map).current,g=x.useRef(!0);if(Jh(()=>{g.current=!1,Vj(u,p),f.current=h}),L0(()=>{g.current=!0,p.clear(),d.clear()}),g.current)return x.createElement(x.Fragment,null,h.map(w=>x.createElement(dg,{key:Ns(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},w)));h=[...h];const v=f.current.map(Ns),y=u.map(Ns),m=v.length;for(let w=0;w<m;w++){const _=v[w];y.indexOf(_)===-1&&d.add(_)}return o==="wait"&&d.size&&(h=[]),d.forEach(w=>{if(y.indexOf(w)!==-1)return;const _=p.get(w);if(!_)return;const b=v.indexOf(w),S=()=>{p.delete(w),d.delete(w);const E=f.current.findIndex(k=>k.key===w);if(f.current.splice(E,1),!d.size){if(f.current=u,c.current===!1)return;a(),i&&i()}};h.splice(b,0,x.createElement(dg,{key:Ns(_),isPresent:!1,onExitComplete:S,custom:e,presenceAffectsLayout:s,mode:o},_))}),h=h.map(w=>{const _=w.key;return d.has(_)?w:x.createElement(dg,{key:Ns(w),isPresent:!0,presenceAffectsLayout:s,mode:o},w)}),x.createElement(x.Fragment,null,d.size?h:h.map(w=>x.cloneElement(w)))};function J0(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}const jj="/assets/video-575a1e2e.mp4";var is={},zj={get exports(){return is},set exports(t){is=t}},Hj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Wj=Hj,Kj=Wj;function iP(){}function rP(){}rP.resetWarningCache=iP;var qj=function(){function t(i,r,s,o,a,l){if(l!==Kj){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:rP,resetWarningCache:iP};return n.PropTypes=n,n};zj.exports=qj();const Gj="/assets/chevron-daab74bd.svg",sP="/assets/date-b0a6b65f.svg";function oP({name:t,status:e,date:n,id:i,setClickedEvent:r}){const s=Ho();return j("div",{className:"previous-events",onClick:()=>{s(`/history/:${i}`)},children:[T("p",{className:"name",children:t}),T("img",{src:sP,alt:"calender"}),T("p",{className:"date",children:n}),T("div",{className:"status",onClick:o=>{o.stopPropagation(),r([i,o.currentTarget.parentElement.parentElement.firstElementChild.textContent])},children:T("p",{className:`${e}`,children:e})}),T("img",{src:Gj,alt:"chevron"})]})}oP.propTypes={name:is.string.isRequired,status:is.string.isRequired};function Yj({navShown:t,setClickedEvent:e}){const n=Wo(i=>Object.entries(i.events));return T(Go.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"history",style:{display:t?"none":"block"},children:j("div",{className:"container",children:[T("h2",{children:"Shopping History"}),j("div",{className:"video-container",children:[T("p",{children:"How to add events to history"}),T("video",{src:jj,controls:!0})]}),n.map(([i,r])=>j("div",{children:[T("h3",{children:i}),r.map(s=>T(oP,{setClickedEvent:e,...s},ot()))]},ot()))]})})}const Xj="/assets/search-25e2ae55.svg";function Qj(){const t=x.useId();return j("header",{className:"header",children:[j("p",{children:[T("span",{children:"Shoppingfy "}),"allows you take your shopping list wherever you go"]}),j("label",{htmlFor:t,children:[T("img",{src:Xj,alt:"search"}),T("input",{type:"text",id:t,placeholder:"search item"})]})]})}const Jj="/assets/plus-solid-30a6bdb2.svg";function Zj({children:t,onClick:e}){return j("div",{className:"item",children:[T("p",{children:t}),T("img",{src:Jj,alt:"add-item",onClick:e})]})}function ez({navShown:t}){const e=Wo(i=>Object.entries(i.items)),n=fc();return T(Go.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"homepage",style:{display:t?"none":"block"},children:j("div",{className:"container",children:[T(Qj,{}),T("section",{children:e.map(i=>j("div",{children:[T("h2",{children:i[0]}),i[1].map(r=>T(Zj,{onClick:()=>{n(Fn.items.addItem({category:i[0],item:r.item}))},children:r.item},ot()))]},ot()))})]})})}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function vc(t){return t+.5|0}const Xi=(t,e,n)=>Math.max(Math.min(t,n),e);function Ta(t){return Xi(vc(t*2.55),0,255)}function hr(t){return Xi(vc(t*255),0,255)}function ai(t){return Xi(vc(t/2.55)/100,0,1)}function hS(t){return Xi(vc(t*100),0,100)}const sn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},vy=[..."0123456789ABCDEF"],tz=t=>vy[t&15],nz=t=>vy[(t&240)>>4]+vy[t&15],fu=t=>(t&240)>>4===(t&15),iz=t=>fu(t.r)&&fu(t.g)&&fu(t.b)&&fu(t.a);function rz(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&sn[t[1]]*17,g:255&sn[t[2]]*17,b:255&sn[t[3]]*17,a:e===5?sn[t[4]]*17:255}:(e===7||e===9)&&(n={r:sn[t[1]]<<4|sn[t[2]],g:sn[t[3]]<<4|sn[t[4]],b:sn[t[5]]<<4|sn[t[6]],a:e===9?sn[t[7]]<<4|sn[t[8]]:255})),n}const sz=(t,e)=>t<255?e(t):"";function oz(t){var e=iz(t)?tz:nz;return t?"#"+e(t.r)+e(t.g)+e(t.b)+sz(t.a,e):void 0}const az=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function aP(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function lz(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function cz(t,e,n){const i=aP(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function uz(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function Z0(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=uz(n,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function ew(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(hr)}function tw(t,e,n){return ew(aP,t,e,n)}function hz(t,e,n){return ew(cz,t,e,n)}function dz(t,e,n){return ew(lz,t,e,n)}function lP(t){return(t%360+360)%360}function fz(t){const e=az.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Ta(+e[5]):hr(+e[5]));const r=lP(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=hz(r,s,o):e[1]==="hsv"?i=dz(r,s,o):i=tw(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function pz(t,e){var n=Z0(t);n[0]=lP(n[0]+e),n=tw(n),t.r=n[0],t.g=n[1],t.b=n[2]}function gz(t){if(!t)return;const e=Z0(t),n=e[0],i=hS(e[1]),r=hS(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${ai(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const dS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},fS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mz(){const t={},e=Object.keys(fS),n=Object.keys(dS);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,dS[s]);s=parseInt(fS[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let pu;function yz(t){pu||(pu=mz(),pu.transparent=[0,0,0,0]);const e=pu[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const vz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function wz(t){const e=vz.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?Ta(o):Xi(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Ta(i):Xi(i,0,255)),r=255&(e[4]?Ta(r):Xi(r,0,255)),s=255&(e[6]?Ta(s):Xi(s,0,255)),{r:i,g:r,b:s,a:n}}}function _z(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ai(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const fg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ds=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function bz(t,e,n){const i=Ds(ai(t.r)),r=Ds(ai(t.g)),s=Ds(ai(t.b));return{r:hr(fg(i+n*(Ds(ai(e.r))-i))),g:hr(fg(r+n*(Ds(ai(e.g))-r))),b:hr(fg(s+n*(Ds(ai(e.b))-s))),a:t.a+n*(e.a-t.a)}}function gu(t,e,n){if(t){let i=Z0(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=tw(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function cP(t,e){return t&&Object.assign(e||{},t)}function pS(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=hr(t[3]))):(e=cP(t,{r:0,g:0,b:0,a:1}),e.a=hr(e.a)),e}function Sz(t){return t.charAt(0)==="r"?wz(t):fz(t)}class Nl{constructor(e){if(e instanceof Nl)return e;const n=typeof e;let i;n==="object"?i=pS(e):n==="string"&&(i=rz(e)||yz(e)||Sz(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=cP(this._rgb);return e&&(e.a=ai(e.a)),e}set rgb(e){this._rgb=pS(e)}rgbString(){return this._valid?_z(this._rgb):void 0}hexString(){return this._valid?oz(this._rgb):void 0}hslString(){return this._valid?gz(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=bz(this._rgb,e._rgb,n)),this}clone(){return new Nl(this.rgb)}alpha(e){return this._rgb.a=hr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=vc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return gu(this._rgb,2,e),this}darken(e){return gu(this._rgb,2,-e),this}saturate(e){return gu(this._rgb,1,e),this}desaturate(e){return gu(this._rgb,1,-e),this}rotate(e){return pz(this._rgb,e),this}}/*!
 * Chart.js v4.2.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function ni(){}const xz=(()=>{let t=0;return()=>t++})();function se(t){return t===null||typeof t>"u"}function _e(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function te(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function De(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Wt(t,e){return De(t)?t:e}function X(t,e){return typeof t>"u"?e:t}const Ez=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,uP=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function pe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function le(t,e,n,i){let r,s,o;if(_e(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(te(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function ud(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function hd(t){if(_e(t))return t.map(hd);if(te(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=hd(t[n[r]]);return e}return t}function hP(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function kz(t,e,n,i){if(!hP(t))return;const r=e[t],s=n[t];te(r)&&te(s)?Fl(r,s,i):e[t]=hd(s)}function Fl(t,e,n){const i=_e(e)?e:[e],r=i.length;if(!te(t))return t;n=n||{};const s=n.merger||kz;let o;for(let a=0;a<r;++a){if(o=i[a],!te(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function Qa(t,e){return Fl(t,e,{merger:Tz})}function Tz(t,e,n){if(!hP(t))return;const i=e[t],r=n[t];te(i)&&te(r)?Qa(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=hd(r))}const gS={"":t=>t,x:t=>t.x,y:t=>t.y};function Cz(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Iz(t){const e=Cz(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function br(t,e){return(gS[e]||(gS[e]=Iz(e)))(t)}function nw(t){return t.charAt(0).toUpperCase()+t.slice(1)}const pn=t=>typeof t<"u",Sr=t=>typeof t=="function",mS=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Pz(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Te=Math.PI,Se=2*Te,Az=Se+Te,dd=Number.POSITIVE_INFINITY,Rz=Te/180,Le=Te/2,Lr=Te/4,yS=Te*2/3,Qi=Math.log10,Hn=Math.sign;function Ja(t,e,n){return Math.abs(t-e)<n}function vS(t){const e=Math.round(t);t=Ja(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Qi(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Mz(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function Io(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Oz(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function dP(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Sn(t){return t*(Te/180)}function iw(t){return t*(180/Te)}function wS(t){if(!De(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function fP(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Te&&(s+=Se),{angle:s,distance:r}}function wy(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Dz(t,e){return(t-e+Az)%Se-Te}function qt(t){return(t%Se+Se)%Se}function $l(t,e,n,i){const r=qt(t),s=qt(e),o=qt(n),a=qt(s-r),l=qt(o-r),c=qt(r-s),u=qt(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function et(t,e,n){return Math.max(e,Math.min(n,t))}function Lz(t){return et(t,-32768,32767)}function ui(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function rw(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const hi=(t,e,n,i)=>rw(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),Nz=(t,e,n)=>rw(t,n,i=>t[i][e]>=n);function Fz(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const pP=["push","pop","shift","splice","unshift"];function $z(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),pP.forEach(n=>{const i="_onData"+nw(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function _S(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(pP.forEach(s=>{delete t[s]}),delete t._chartjs)}function gP(t){const e=new Set;let n,i;for(n=0,i=t.length;n<i;++n)e.add(t[n]);return e.size===i?t:Array.from(e)}const mP=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function yP(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,mP.call(window,()=>{i=!1,t.apply(e,n)}))}}function Vz(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const sw=t=>t==="start"?"left":t==="end"?"right":"center",pt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Bz=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function vP(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(r=et(Math.min(hi(a,o.axis,c).lo,n?i:hi(e,l,o.getPixelForValue(c)).lo),0,i-1)),d?s=et(Math.max(hi(a,o.axis,u,!0).hi+1,n?0:hi(e,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function wP(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const mu=t=>t===0||t===1,bS=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Se/n)),SS=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Se/n)+1,Za={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Le)+1,easeOutSine:t=>Math.sin(t*Le),easeInOutSine:t=>-.5*(Math.cos(Te*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>mu(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>mu(t)?t:bS(t,.075,.3),easeOutElastic:t=>mu(t)?t:SS(t,.075,.3),easeInOutElastic(t){return mu(t)?t:t<.5?.5*bS(t*2,.1125,.45):.5+.5*SS(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Za.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Za.easeInBounce(t*2)*.5:Za.easeOutBounce(t*2-1)*.5+.5};function _P(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function xS(t){return _P(t)?t:new Nl(t)}function pg(t){return _P(t)?t:new Nl(t).saturate(.5).darken(.1).hexString()}const Uz=["x","y","borderWidth","radius","tension"],jz=["color","borderColor","backgroundColor"];function zz(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:jz},numbers:{type:"number",properties:Uz}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Hz(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ES=new Map;function Wz(t,e){e=e||{};const n=t+JSON.stringify(e);let i=ES.get(n);return i||(i=new Intl.NumberFormat(t,e),ES.set(n,i)),i}function wc(t,e,n){return Wz(e,n).format(t)}const bP={values(t){return _e(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=Kz(t,n)}const o=Qi(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),wc(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Qi(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?bP.numeric.call(this,t,e,n):""}};function Kz(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Nf={formatters:bP};function qz(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Nf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ms=Object.create(null),_y=Object.create(null);function el(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function gg(t,e,n){return typeof e=="string"?Fl(el(t,e),n):Fl(el(t,""),e)}class Gz{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>pg(r.backgroundColor),this.hoverBorderColor=(i,r)=>pg(r.borderColor),this.hoverColor=(i,r)=>pg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return gg(this,e,n)}get(e){return el(this,e)}describe(e,n){return gg(_y,e,n)}override(e,n){return gg(ms,e,n)}route(e,n,i,r){const s=el(this,e),o=el(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return te(l)?Object.assign({},c,l):X(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ve=new Gz({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[zz,Hz,qz]);function Yz(t){return!t||se(t.size)||se(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function fd(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function Xz(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&_e(h)!==!0)o=fd(t,r,s,o,h);else if(_e(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!_e(d)&&(o=fd(t,r,s,o,d));t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function Nr(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function kS(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function by(t,e,n,i){SP(t,e,n,i,null)}function SP(t,e,n,i,r){let s,o,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,g=e.radius;let v=(p||0)*Rz;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,g,0,0,Se):t.arc(n,i,g,0,Se),t.closePath();break;case"triangle":u=r?r/2:g,t.moveTo(n+Math.sin(v)*u,i-Math.cos(v)*g),v+=yS,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*g),v+=yS,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(v+Lr)*l,h=Math.cos(v+Lr)*(r?r/2-c:l),a=Math.sin(v+Lr)*l,d=Math.sin(v+Lr)*(r?r/2-c:l),t.arc(n-h,i-a,c,v-Te,v-Le),t.arc(n+d,i-o,c,v-Le,v),t.arc(n+h,i+a,c,v,v+Le),t.arc(n-d,i+o,c,v+Le,v+Te),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}v+=Lr;case"rectRot":h=Math.cos(v)*(r?r/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+d,i-o),t.lineTo(n+h,i+a),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":v+=Lr;case"cross":h=Math.cos(v)*(r?r/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":h=Math.cos(v)*(r?r/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),v+=Lr,h=Math.cos(v)*(r?r/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=r?r/2:Math.cos(v)*g,a=Math.sin(v)*g,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(v)*(r?r/2:g),i+Math.sin(v)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Vl(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Ff(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function $f(t){t.restore()}function Qz(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Jz(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function ys(t,e,n,i,r,s={}){const o=_e(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,Zz(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&t3(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),se(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),e3(t,n,i,c,s),i+=r.lineHeight;t.restore()}function Zz(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),se(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function e3(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function t3(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Bl(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-Le,Te,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Te,Le,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Le,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Le,!0),t.lineTo(n+o.topLeft,i)}const n3=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,i3=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function r3(t,e){const n=(""+t).match(n3);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const s3=t=>+t||0;function ow(t,e){const n={},i=te(e),r=i?Object.keys(e):e,s=te(t)?i?o=>X(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=s3(s(o));return n}function xP(t){return ow(t,{top:"y",right:"x",bottom:"y",left:"x"})}function rs(t){return ow(t,["topLeft","topRight","bottomLeft","bottomRight"])}function xt(t){const e=xP(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ge(t,e){t=t||{},e=e||Ve.font;let n=X(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=X(t.style,e.style);i&&!(""+i).match(i3)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:X(t.family,e.family),lineHeight:r3(X(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:X(t.weight,e.weight),string:""};return r.string=Yz(r),r}function Ca(t,e,n,i){let r=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),n!==void 0&&_e(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function o3(t,e,n){const{min:i,max:r}=t,s=uP(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Ar(t,e){return Object.assign(Object.create(t),e)}function aw(t,e=[""],n=t,i,r=()=>t[0]){pn(i)||(i=CP("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:i,_getTarget:r,override:o=>aw([o,...t],e,n,i)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete o._keys,delete t[0][a],!0},get(o,a){return kP(o,a,()=>p3(a,e,t,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,a){return CS(o).includes(a)},ownKeys(o){return CS(o)},set(o,a,l){const c=o._storage||(o._storage=r());return o[a]=c[a]=l,delete o._keys,!0}})}function Po(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:EP(t,i),setContext:s=>Po(t,s,n,i),override:s=>Po(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return kP(s,o,()=>l3(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function EP(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Sr(n)?n:()=>n,isIndexable:Sr(i)?i:()=>i}}const a3=(t,e)=>t?t+nw(e):e,lw=(t,e)=>te(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function kP(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function l3(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return Sr(a)&&o.isScriptable(e)&&(a=c3(e,a,t,n)),_e(a)&&a.length&&(a=u3(e,a,t,o.isIndexable)),lw(e,a)&&(a=Po(a,r,s&&s[e],o)),a}function c3(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(s,o||i),a.delete(t),lw(t,e)&&(e=cw(r._scopes,r,t,e)),e}function u3(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(pn(s.index)&&i(t))e=e[s.index%e.length];else if(te(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=cw(c,r,t,u);e.push(Po(h,s,o&&o[t],a))}}return e}function TP(t,e,n){return Sr(t)?t(e,n):t}const h3=(t,e)=>t===!0?e:typeof t=="string"?br(e,t):void 0;function d3(t,e,n,i,r){for(const s of e){const o=h3(n,s);if(o){t.add(o);const a=TP(o._fallback,n,r);if(pn(a)&&a!==n&&a!==i)return a}else if(o===!1&&pn(i)&&n!==i)return null}return!1}function cw(t,e,n,i){const r=e._rootScopes,s=TP(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=TS(a,o,n,s||n,i);return l===null||pn(s)&&s!==n&&(l=TS(a,o,s,l,i),l===null)?!1:aw(Array.from(a),[""],r,s,()=>f3(e,n,i))}function TS(t,e,n,i,r){for(;n;)n=d3(t,e,n,i,r);return n}function f3(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return _e(r)&&te(n)?n:r||{}}function p3(t,e,n,i){let r;for(const s of e)if(r=CP(a3(s,t),n),pn(r))return lw(t,r)?cw(n,i,t,r):r}function CP(t,e){for(const n of e){if(!n)continue;const i=n[t];if(pn(i))return i}}function CS(t){let e=t._keys;return e||(e=t._keys=g3(t._scopes)),e}function g3(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function IP(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:r.parse(br(u,s),c)};return o}const m3=Number.EPSILON||1e-14,Ao=(t,e)=>e<t.length&&!t[e].skip&&t[e],PP=t=>t==="x"?"y":"x";function y3(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=wy(s,r),l=wy(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+d*(o.x-r.x),y:s.y+d*(o.y-r.y)}}}function v3(t,e,n){const i=t.length;let r,s,o,a,l,c=Ao(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Ao(t,u+1),!(!l||!c)){if(Ja(e[u],0,m3)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])}}function w3(t,e,n="x"){const i=PP(n),r=t.length;let s,o,a,l=Ao(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Ao(t,c+1),!a)continue;const u=a[n],h=a[i];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${i}`]=h-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${i}`]=h+s*e[c])}}function _3(t,e="x"){const n=PP(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Ao(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Ao(t,o+1),!!l){if(c){const u=c[e]-l[e];r[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Hn(r[o-1])!==Hn(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}v3(t,r,s),w3(t,s,e)}function yu(t,e,n){return Math.max(Math.min(t,n),e)}function b3(t,e){let n,i,r,s,o,a=Vl(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&Vl(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=yu(r.cp1x,e.left,e.right),r.cp1y=yu(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=yu(r.cp2x,e.left,e.right),r.cp2y=yu(r.cp2y,e.top,e.bottom)))}function S3(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")_3(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=y3(c,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&b3(t,n)}function AP(){return typeof window<"u"&&typeof document<"u"}function uw(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function pd(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Vf=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function x3(t,e){return Vf(t).getPropertyValue(e)}const E3=["top","right","bottom","left"];function ss(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=E3[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const k3=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function T3(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(k3(r,s,t.target))a=r,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function zr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Vf(n),s=r.boxSizing==="border-box",o=ss(r,"padding"),a=ss(r,"border","width"),{x:l,y:c,box:u}=T3(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}function C3(t,e,n){let i,r;if(e===void 0||n===void 0){const s=uw(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Vf(s),l=ss(a,"border","width"),c=ss(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=pd(a.maxWidth,s,"clientWidth"),r=pd(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||dd,maxHeight:r||dd}}const vu=t=>Math.round(t*10)/10;function I3(t,e,n,i){const r=Vf(t),s=ss(r,"margin"),o=pd(r.maxWidth,t,"clientWidth")||dd,a=pd(r.maxHeight,t,"clientHeight")||dd,l=C3(t,e,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const d=ss(r,"border","width"),f=ss(r,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=vu(Math.min(c,o,l.maxWidth)),u=vu(Math.min(u,a,l.maxHeight)),c&&!u&&(u=vu(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=vu(Math.floor(u*i))),{width:c,height:u}}function IS(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const P3=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function PS(t,e){const n=x3(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Hr(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function A3(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function R3(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Hr(t,r,n),a=Hr(r,s,n),l=Hr(s,e,n),c=Hr(o,a,n),u=Hr(a,l,n);return Hr(c,u,n)}const M3=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},O3=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function fo(t,e,n){return t?M3(e,n):O3()}function RP(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function MP(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function OP(t){return t==="angle"?{between:$l,compare:Dz,normalize:qt}:{between:ui,compare:(e,n)=>e-n,normalize:e=>e}}function AS({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function D3(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=OP(i),l=e.length;let{start:c,end:u,loop:h}=t,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(e[c%l][i]),r,s);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function DP(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=OP(i),{start:u,end:h,loop:d,style:f}=D3(t,e,n),p=[];let g=!1,v=null,y,m,w;const _=()=>l(r,w,y)&&a(r,w)!==0,b=()=>a(s,y)===0||l(s,w,y),S=()=>g||_(),E=()=>!g||b();for(let k=u,I=u;k<=h;++k)m=e[k%o],!m.skip&&(y=c(m[i]),y!==w&&(g=l(y,r,s),v===null&&S()&&(v=a(y,r)===0?k:I),v!==null&&E()&&(p.push(AS({start:v,end:k,loop:d,count:o,style:f})),v=null),I=k,w=y));return v!==null&&p.push(AS({start:v,end:h,loop:d,count:o,style:f})),p}function LP(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=DP(i[r],t.points,e);s.length&&n.push(...s)}return n}function L3(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function N3(t,e,n,i){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function F3(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=L3(n,r,s,i);if(i===!0)return RS(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return RS(t,N3(n,o,l,c),n,e)}function RS(t,e,n,i){return!i||!i.setContext||!n?e:$3(t,e,n,i)}function $3(t,e,n,i){const r=t._chart.getContext(),s=MS(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,d=h;function f(p,g,v,y){const m=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=m;for(;n[g%l].skip;)g+=m;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:v,style:y}),u=y,h=g%l)}}for(const p of e){h=a?h:p.start;let g=n[h%l],v;for(d=h+1;d<=p.end;d++){const y=n[d%l];v=MS(i.setContext(Ar(r,{type:"segment",p0:g,p1:y,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),V3(v,u)&&f(h,d-1,p.loop,u),g=y,u=v}h<d-1&&f(h,d-1,p.loop,u)}return c}function MS(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function V3(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v4.2.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class B3{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=mP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ii=new B3;const OS="transparent",U3={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=xS(t||OS),r=i.valid&&xS(e||OS);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class j3{constructor(e,n,i,r){const s=n[i];r=Ca([e.to,r,s,e.from]);const o=Ca([e.from,s,r]);this._active=!0,this._fn=e.fn||U3[e.type||typeof o],this._easing=Za[e.easing]||Za.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Ca([e.to,n,r,e.from]),this._from=Ca([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class NP{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!te(e))return;const n=Object.keys(Ve.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!te(s))return;const o={};for(const a of n)o[a]=s[a];(_e(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=H3(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&z3(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[c];let h=s[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}s[c]=h=new j3(d,e,c,u),r.push(h)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return ii.add(this._chart,i),!0}}function z3(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function H3(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function DS(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function W3(t,e,n){if(n===!1)return!1;const i=DS(t,n),r=DS(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function K3(t){let e,n,i,r;return te(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function FP(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function LS(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=t.values[l],De(c)&&(s||e===0||Hn(e)===Hn(c))&&(e+=c)}return e}}function q3(t){const e=Object.keys(t),n=new Array(e.length);let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],n[i]={x:s,y:t[s]};return n}function NS(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function G3(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Y3(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function X3(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function FS(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function $S(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=G3(s,o,i),h=e.length;let d;for(let f=0;f<h;++f){const p=e[f],{[l]:g,[c]:v}=p,y=p._stacks||(p._stacks={});d=y[c]=X3(r,u,g),d[a]=v,d._top=FS(d,o,!0,i.type),d._bottom=FS(d,o,!1,i.type);const m=d._visualValues||(d._visualValues={});m[a]=v}}function mg(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function Q3(t,e){return Ar(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function J3(t,e,n){return Ar(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function fa(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const yg=t=>t==="reset"||t==="none",VS=(t,e)=>e?t:Object.assign({},t),Z3=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:FP(n,!0),values:null};class Tn{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=NS(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&fa(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,s=n.xAxisID=X(i.xAxisID,mg(e,"x")),o=n.yAxisID=X(i.yAxisID,mg(e,"y")),a=n.rAxisID=X(i.rAxisID,mg(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),u=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&_S(this._data,this),e._stacked&&fa(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(te(n))this._data=q3(n);else if(i!==n){if(i){_S(i,this);const r=this._cachedMeta;fa(r),r._parsed=[]}n&&Object.isExtensible(n)&&$z(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=NS(n.vScale,n),n.stack!==i.stack&&(r=!0,fa(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&$S(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,d;if(this._parsing===!1)i._parsed=r,i._sorted=!0,d=r;else{_e(r[e])?d=this.parseArrayData(i,r,e,n):te(r[e])?d=this.parseObjectData(i,r,e,n):d=this.parsePrimitiveData(i,r,e,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);i._sorted=l}o&&$S(this,d)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(r);let d,f,p;for(d=0,f=r;d<f;++d)p=d+i,h[d]={[a]:u||s.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,c,u,h;for(l=0,c=r;l<c;++l)u=l+i,h=n[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,h,d,f;for(u=0,h=r;u<h;++u)d=u+i,f=n[d],c[u]={x:s.parse(br(f,a),d),y:o.parse(br(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:FP(r,!0),values:n._stacks[e.axis]._visualValues};return LS(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=LS(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=Z3(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Y3(a);let d,f;function p(){f=r[d];const g=f[a.axis];return!De(f[e.axis])||u>g||h<g}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],De(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=K3(X(this.options.clip,W3(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const h=r[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=J3(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Q3(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&pn(i);if(a)return VS(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Ve.elements[e]),p=()=>this.getContext(i,r,n),g=c.resolveNamedOptions(d,f,p,h);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(VS(g,l))),g}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,i,n))}const c=new NP(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||yg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){yg(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!yg(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&fa(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}L(Tn,"defaults",{}),L(Tn,"datasetElementType",null),L(Tn,"dataElementType",null);function eH(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=gP(i.sort((r,s)=>r-s))}return t._cache.$bar}function tH(t){const e=t.iScale,n=eH(e,t.type);let i=e._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(pn(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function nH(t,e,n,i){const r=n.barThickness;let s,o;return se(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function iH(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function rH(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function $P(t,e,n,i){return _e(t)?rH(t,e,n,i):e[n.axis]=n.parse(t,i),e}function BS(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push($P(d,h,s,c));return l}function vg(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function sH(t,e,n){return t!==0?Hn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function oH(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function aH(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=oH(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[US(u,o,a,l)]=!0,r=c)),s[US(r,o,a,l)]=!0,t.borderSkipped=s}function US(t,e,n,i){return i?(t=lH(t,e,n),t=jS(t,n,e)):t=jS(t,e,n),t}function lH(t,e,n){return t===e?n:t===n?e:t}function jS(t,e,n){return t==="start"?e:t==="end"?n:t}function cH(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class ih extends Tn{parsePrimitiveData(e,n,i,r){return BS(e,n,i,r)}parseArrayData(e,n,i,r){return BS(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,p,g;for(d=i,f=i+r;d<f;++d)g=n[d],p={},p[s.axis]=s.parse(br(g,c),d),h.push($P(br(g,u),p,o,d));return h}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),o=s._custom,a=vg(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,r);for(let f=n;f<n+i;f++){const p=this.getParsed(f),g=s||se(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,u),y=(p._stacks||{})[a.axis],m={horizontal:c,base:g.base,enableBorderRadius:!y||vg(p._custom)||o===y._top||o===y._bottom,x:c?g.head:v.center,y:c?v.center:g.head,height:c?v.size:Math.abs(g.size),width:c?Math.abs(g.size):v.size};d&&(m.options=h||this.resolveDataElementOptions(f,e[f].active?"active":r));const w=m.options||e[f].options;aH(m,w,y,o),cH(m,w,u.ratio),this.updateElement(e[f],f,m,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(se(u)||isNaN(u))return!0};for(const l of r)if(!(n!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=e.barThickness;return{min:a||tH(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=vg(c);let h=l[n.axis],d=0,f=i?this.applyStack(n,l,i):h,p,g;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&Hn(h)!==Hn(c.barEnd)&&(d=0),d+=h);const v=!se(s)&&!u?s:d;let y=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(d+f):p=y,g=p-y,Math.abs(g)<o){g=sH(g,n,a)*o,h===a&&(y-=g/2);const m=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),_=Math.min(m,w),b=Math.max(m,w);y=Math.max(Math.min(y,b),_),p=y+g,i&&!u&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(p)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const m=Hn(g)*n.getLineWidthForValue(a)/2;y+=m,g-=m}return{size:g,base:y,head:p,center:p+g/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,o=X(r.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=r.barThickness==="flex"?iH(e,n,r,c):nH(e,n,r,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&i[s].draw(this._ctx)}}L(ih,"id","bar"),L(ih,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),L(ih,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class rh extends Tn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,r){const s=super.parsePrimitiveData(e,n,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(e,n,i,r){const s=super.parseArrayData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=X(a[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(e,n,i,r){const s=super.parseObjectData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=X(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,r),u=o.axis,h=a.axis;for(let d=n;d<n+i;d++){const f=e[d],p=!s&&this.getParsed(d),g={},v=g[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),y=g[h]=s?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(v)||isNaN(y),c&&(g.options=l||this.resolveDataElementOptions(d,f.active?"active":r),s&&(g.options.radius=0)),this.updateElement(f,d,g,r)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return n!=="active"&&(r.radius=0),r.radius+=X(i&&i._custom,s),r}}L(rh,"id","bubble"),L(rh,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),L(rh,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function uH(t,e,n){let i=1,r=1,s=0,o=0;if(e<Se){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(w,_,b)=>$l(w,a,l,!0)?1:Math.max(_,_*n,b,b*n),p=(w,_,b)=>$l(w,a,l,!0)?-1:Math.min(_,_*n,b,b*n),g=f(0,c,h),v=f(Le,u,d),y=p(Te,c,h),m=p(Te+Le,u,d);i=(g-y)/2,r=(v-m)/2,s=-(g+y)/2,o=-(v+m)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class Qr extends Tn{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(te(i[e])){const{key:l="value"}=this._parsing;s=c=>+br(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return Sn(this.options.rotation-90)}_getCircumference(){return Sn(this.options.circumference)}_getRotationExtents(){let e=Se,n=-Se;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(Ez(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:p,offsetY:g}=uH(h,u,l),v=(i.width-o)/d,y=(i.height-o)/f,m=Math.max(Math.min(v,y)/2,0),w=uP(this.options.radius,m),_=Math.max(w*l,0),b=(w-_)/this._getVisibleDatasetWeightTotal();this.offsetX=p*w,this.offsetY=g*w,r.total=this.calculateTotal(),this.outerRadius=w-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Se)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=s&&c.animateScale,f=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:g,includeOptions:v}=this._getSharedOptions(n,r);let y=this._getRotation(),m;for(m=0;m<n;++m)y+=this._circumference(m,s);for(m=n;m<n+i;++m){const w=this._circumference(m,s),_=e[m],b={x:u+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+w,circumference:w,outerRadius:p,innerRadius:f};v&&(b.options=g||this.resolveDataElementOptions(m,_.active?"active":r)),y+=w,this.updateElement(_,m,b,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Se*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=wc(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,a,l;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(X(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}L(Qr,"id","doughnut"),L(Qr,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),L(Qr,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"}),L(Qr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class tl extends Tn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=vP(n,r,o);this._drawStart=a,this._drawCount=l,wP(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,r),d=o.axis,f=a.axis,{spanGaps:p,segment:g}=this.options,v=Io(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||r==="none",m=n+i,w=e.length;let _=n>0&&this.getParsed(n-1);for(let b=0;b<w;++b){const S=e[b],E=y?S:{};if(b<n||b>=m){E.skip=!0;continue}const k=this.getParsed(b),I=se(k[f]),C=E[d]=o.getPixelForValue(k[d],b),O=E[f]=s||I?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[f],b);E.skip=isNaN(C)||isNaN(O)||I,E.stop=b>0&&Math.abs(k[d]-_[d])>v,g&&(E.parsed=k,E.raw=c.data[b]),h&&(E.options=u||this.resolveDataElementOptions(b,S.active?"active":r)),y||this.updateElement(S,b,E,r),_=k}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}L(tl,"id","line"),L(tl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),L(tl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class nl extends Tn{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=wc(n._parsed[e].r,i.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,n,i,r){return IP.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*Te;let f=d,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)f+=this._computeAngle(p,r,g);for(p=n;p<n+i;p++){const v=e[p];let y=f,m=f+this._computeAngle(p,r,g),w=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=m,s&&(l.animateScale&&(w=0),l.animateRotate&&(y=m=d));const _={x:u,y:h,innerRadius:0,outerRadius:w,startAngle:y,endAngle:m,options:this.resolveDataElementOptions(p,v.active?"active":r)};this.updateElement(v,p,_,r)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?Sn(this.resolveDataElementOptions(e,n).angle||i):0}}L(nl,"id","polarArea"),L(nl,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),L(nl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Sy extends Qr{}L(Sy,"id","pie"),L(Sy,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class sh extends Tn{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,r){return IP.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":r),u=s.getPointPositionForValue(a,this.getParsed(a).r),h=o?s.xCenter:u.x,d=o?s.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,r)}}}L(sh,"id","radar"),L(sh,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),L(sh,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class oh extends Tn{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:s,count:o}=vP(n,i,r);if(this._drawStart=s,this._drawCount=o,wP(n)&&(s=0,o=i.length),this.options.showLine){const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:c},e)}this.updateElements(i,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,r),h=this.getSharedOptions(u),d=this.includeOptions(r,h),f=o.axis,p=a.axis,{spanGaps:g,segment:v}=this.options,y=Io(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||r==="none";let w=n>0&&this.getParsed(n-1);for(let _=n;_<n+i;++_){const b=e[_],S=this.getParsed(_),E=m?b:{},k=se(S[p]),I=E[f]=o.getPixelForValue(S[f],_),C=E[p]=s||k?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[p],_);E.skip=isNaN(I)||isNaN(C)||k,E.stop=_>0&&Math.abs(S[f]-w[f])>y,v&&(E.parsed=S,E.raw=c.data[_]),d&&(E.options=h||this.resolveDataElementOptions(_,b.active?"active":r)),m||this.updateElement(b,_,E,r),w=S}this.updateSharedOptions(h,r,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,o)/2}}L(oh,"id","scatter"),L(oh,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),L(oh,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var hH=Object.freeze({__proto__:null,BarController:ih,BubbleController:rh,DoughnutController:Qr,LineController:tl,PolarAreaController:nl,PieController:Sy,RadarController:sh,ScatterController:oh});function Fr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hw{static override(e){Object.assign(hw.prototype,e)}constructor(e){this.options=e||{}}init(){}formats(){return Fr()}parse(){return Fr()}format(){return Fr()}add(){return Fr()}diff(){return Fr()}startOf(){return Fr()}endOf(){return Fr()}}var dH={_date:hw};function fH(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?Nz:hi;if(i){if(r._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(s,e,n-u),d=l(s,e,n+u);return{lo:h.lo,hi:d.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function _c(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:d}=fH(s[a],e,o,r);for(let f=h;f<=d;++f){const p=u[f];p.skip||i(p,c,f)}}}function pH(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function wg(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||_c(t,n,e,function(a,l,c){!r&&!Vl(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function gH(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=fP(o,{x:e.x,y:e.y});$l(h,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return _c(t,n,e,s),r}function mH(t,e,n,i,r,s){let o=[];const a=pH(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,r);if(i&&!f)return;const p=u.getCenterPoint(r);if(!(!!s||t.isPointInArea(p))&&!f)return;const v=a(e,p);v<l?(o=[{element:u,datasetIndex:h,index:d}],l=v):v===l&&o.push({element:u,datasetIndex:h,index:d})}return _c(t,n,e,c),o}function _g(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?gH(t,e,n,r):mH(t,e,n,i,r,s)}function zS(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return _c(t,n,e,(l,c,u)=>{l[o](e[n],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var yH={evaluateInteractionItems:_c,modes:{index(t,e,n,i){const r=zr(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?wg(t,r,s,i,o):_g(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const r=zr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?wg(t,r,s,i,o):_g(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const r=zr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return wg(t,r,s,i,o)},nearest(t,e,n,i){const r=zr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return _g(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=zr(e,t);return zS(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=zr(e,t);return zS(t,r,"y",n.intersect,i)}}};const VP=["left","top","right","bottom"];function pa(t,e){return t.filter(n=>n.pos===e)}function HS(t,e){return t.filter(n=>VP.indexOf(n.pos)===-1&&n.box.axis===e)}function ga(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function vH(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function wH(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!VP.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function _H(t,e){const n=wH(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return n}function bH(t){const e=vH(t),n=ga(e.filter(c=>c.box.fullSize),!0),i=ga(pa(e,"left"),!0),r=ga(pa(e,"right")),s=ga(pa(e,"top"),!0),o=ga(pa(e,"bottom")),a=HS(e,"x"),l=HS(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:pa(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function WS(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function BP(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function SH(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!te(r)){n.size&&(t[r]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[r]+=n.size}s.getPadding&&BP(o,s.getPadding());const a=Math.max(0,e.outerWidth-WS(o,t,"left","right")),l=Math.max(0,e.outerHeight-WS(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function xH(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function EH(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function Ia(t,e,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,EH(a.horizontal,e));const{same:h,other:d}=SH(e,n,a,i);c|=h&&r.length,u=u||d,l.fullSize||r.push(a)}return c&&Ia(r,e,n,i)||u}function wu(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function KS(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;pn(c.start)&&(o=c.start),l.fullSize?wu(l,r.left,o,n.outerWidth-r.right-r.left,d):wu(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;pn(c.start)&&(s=c.start),l.fullSize?wu(l,s,r.top,d,n.outerHeight-r.bottom-r.top):wu(l,s,e.top+c.placed,d,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}var wt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=xt(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=bH(t.boxes),l=a.vertical,c=a.horizontal;le(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,v)=>v.box.options&&v.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},r);BP(d,xt(i));const f=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),p=_H(l.concat(c),h);Ia(a.fullSize,f,h,p),Ia(l,f,h,p),Ia(c,f,h,p)&&Ia(l,f,h,p),xH(f),KS(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,KS(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},le(a.chartArea,g=>{const v=g.box;Object.assign(v,t.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class UP{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class kH extends UP{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ah="$chartjs",TH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qS=t=>t===null||t==="";function CH(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[ah]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",qS(r)){const s=PS(t,"width");s!==void 0&&(t.width=s)}if(qS(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=PS(t,"height");s!==void 0&&(t.height=s)}return t}const jP=P3?{passive:!0}:!1;function IH(t,e,n){t.addEventListener(e,n,jP)}function PH(t,e,n){t.canvas.removeEventListener(e,n,jP)}function AH(t,e){const n=TH[t.type]||t.type,{x:i,y:r}=zr(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function gd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function RH(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||gd(a.addedNodes,i),o=o&&!gd(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function MH(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||gd(a.removedNodes,i),o=o&&!gd(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ul=new Map;let GS=0;function zP(){const t=window.devicePixelRatio;t!==GS&&(GS=t,Ul.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function OH(t,e){Ul.size||window.addEventListener("resize",zP),Ul.set(t,e)}function DH(t){Ul.delete(t),Ul.size||window.removeEventListener("resize",zP)}function LH(t,e,n){const i=t.canvas,r=i&&uw(i);if(!r)return;const s=yP((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),OH(t,s),o}function bg(t,e,n){n&&n.disconnect(),e==="resize"&&DH(t)}function NH(t,e,n){const i=t.canvas,r=yP(s=>{t.ctx!==null&&n(AH(s,t))},t);return IH(i,e,r),r}class FH extends UP{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(CH(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[ah])return!1;const i=n[ah].initial;["height","width"].forEach(s=>{const o=i[s];se(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[ah],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:RH,detach:MH,resize:LH}[n]||NH;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:bg,detach:bg,resize:bg}[n]||PH)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return I3(e,n,i,r)}isAttached(e){const n=uw(e);return!!(n&&n.isConnected)}}function $H(t){return!AP()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?kH:FH}var Fu;let Pi=(Fu=class{constructor(){L(this,"active",!1)}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Io(this.x)&&Io(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},L(Fu,"defaults",{}),L(Fu,"defaultRoutes"),Fu);function VH(t,e){const n=t.options.ticks,i=BH(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?jH(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return zH(e,c,s,o/r),c;const u=UH(s,e,r);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(_u(e,c,u,se(f)?0:a-f,a),h=0,d=o-1;h<d;h++)_u(e,c,u,s[h],s[h+1]);return _u(e,c,u,l,se(f)?e.length:l+f),c}return _u(e,c,u),c}function BH(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function UH(t,e,n){const i=HH(t),r=e.length/n;if(!i)return Math.max(r,1);const s=Mz(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function jH(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function zH(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function _u(t,e,n,i,r){const s=X(i,0),o=Math.min(X(r,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function HH(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const WH=t=>t==="left"?"right":t==="right"?"left":t,YS=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n;function XS(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function KH(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function qH(t,e){le(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function ma(t){return t.drawTicks?t.tickLength:0}function QS(t,e){if(!t.display)return 0;const n=Ge(t.font,e),i=xt(t.padding);return(_e(t.text)?t.text.length:1)*n.lineHeight+i.height}function GH(t,e){return Ar(t,{scale:e,type:"scale"})}function YH(t,e,n){return Ar(t,{tick:n,index:e,type:"tick"})}function XH(t,e,n){let i=sw(t);return(n&&e!=="right"||!n&&e==="right")&&(i=WH(i)),i}function QH(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,d,f,p;const g=o-r,v=a-s;if(t.isHorizontal()){if(f=pt(i,s,a),te(n)){const y=Object.keys(n)[0],m=n[y];p=u[y].getPixelForValue(m)+g-e}else n==="center"?p=(c.bottom+c.top)/2+g-e:p=YS(t,n,e);d=a-s}else{if(te(n)){const y=Object.keys(n)[0],m=n[y];f=u[y].getPixelForValue(m)-v+e}else n==="center"?f=(c.left+c.right)/2-v+e:f=YS(t,n,e);p=pt(i,o,r),h=n==="left"?-Le:Le}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class Ps extends Pi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Wt(e,Number.POSITIVE_INFINITY),n=Wt(n,Number.NEGATIVE_INFINITY),i=Wt(i,Number.POSITIVE_INFINITY),r=Wt(r,Number.NEGATIVE_INFINITY),{min:Wt(e,i),max:Wt(n,r),minDefined:De(e),maxDefined:De(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Wt(n,Wt(i,n)),max:Wt(i,Wt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pe(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=o3(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?XS(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=VH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pe(this.options.afterUpdate,[this])}beforeSetDimensions(){pe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),pe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=pe(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){pe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=this.ticks.length,r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=et(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-ma(e.grid)-n.padding-QS(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=iw(Math.min(Math.asin(et((u.highest.height+6)/a,-1,1)),Math.asin(et(l/c,-1,1))-Math.asin(et(d/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){pe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=QS(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=ma(s)+l):(e.height=this.maxHeight,e.width=ma(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,p=Sn(this.labelRotation),g=Math.cos(p),v=Math.sin(p);if(a){const y=i.mirror?0:v*h.width+g*d.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=i.mirror?0:g*h.width+v*d.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,v,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=r*e.width,f=i*n.height):(d=i*e.height,f=r*n.width):s==="start"?f=n.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)se(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=XS(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length)}return e}_computeLabelSizes(e,n){const{ctx:i,_longestTextCache:r}=this,s=[],o=[];let a=0,l=0,c,u,h,d,f,p,g,v,y,m,w;for(c=0;c<n;++c){if(d=e[c].label,f=this._resolveTickFontOptions(c),i.font=p=f.string,g=r[p]=r[p]||{data:{},gc:[]},v=f.lineHeight,y=m=0,!se(d)&&!_e(d))y=fd(i,g.data,g.gc,y,d),m=v;else if(_e(d))for(u=0,h=d.length;u<h;++u)w=d[u],!se(w)&&!_e(w)&&(y=fd(i,g.data,g.gc,y,w),m+=v);s.push(y),o.push(m),a=Math.max(y,a),l=Math.max(m,l)}qH(r,n);const _=s.indexOf(a),b=o.indexOf(l),S=E=>({width:s[E]||0,height:o[E]||0});return{first:S(0),last:S(n-1),widest:S(_),highest:S(b),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Lz(this._alignToPixels?Nr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=YH(this.getContext(),e,i))}return this.$context||(this.$context=GH(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Sn(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=ma(s),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,v=g/2,y=function(Z){return Nr(i,Z,g)};let m,w,_,b,S,E,k,I,C,O,G,de;if(o==="top")m=y(this.bottom),E=this.bottom-d,I=m-v,O=y(e.top)+v,de=e.bottom;else if(o==="bottom")m=y(this.top),O=e.top,de=y(e.bottom)-v,E=m+v,I=this.top+d;else if(o==="left")m=y(this.right),S=this.right-d,k=m-v,C=y(e.left)+v,G=e.right;else if(o==="right")m=y(this.left),C=e.left,G=y(e.right)-v,S=m+v,k=this.left+d;else if(n==="x"){if(o==="center")m=y((e.top+e.bottom)/2+.5);else if(te(o)){const Z=Object.keys(o)[0],J=o[Z];m=y(this.chart.scales[Z].getPixelForValue(J))}O=e.top,de=e.bottom,E=m+v,I=E+d}else if(n==="y"){if(o==="center")m=y((e.left+e.right)/2);else if(te(o)){const Z=Object.keys(o)[0],J=o[Z];m=y(this.chart.scales[Z].getPixelForValue(J))}S=m-v,k=S-d,C=e.left,G=e.right}const Ae=X(r.ticks.maxTicksLimit,h),V=Math.max(1,Math.ceil(h/Ae));for(w=0;w<h;w+=V){const Z=this.getContext(w),J=s.setContext(Z),M=a.setContext(Z),N=J.lineWidth,z=J.color,fe=M.dash||[],ve=M.dashOffset,Pn=J.tickWidth,zt=J.tickColor,Zn=J.tickBorderDash||[],Ht=J.tickBorderDashOffset;_=KH(this,w,l),_!==void 0&&(b=Nr(i,_,N),c?S=k=C=G=b:E=I=O=de=b,f.push({tx1:S,ty1:E,tx2:k,ty2:I,x1:C,y1:O,x2:G,y2:de,width:N,color:z,borderDash:fe,borderDashOffset:ve,tickWidth:Pn,tickColor:zt,tickBorderDash:Zn,tickBorderDashOffset:Ht}))}return this._ticksLength=h,this._borderValue=m,f}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,d=ma(i.grid),f=d+u,p=h?-u:f,g=-Sn(this.labelRotation),v=[];let y,m,w,_,b,S,E,k,I,C,O,G,de="middle";if(r==="top")S=this.bottom-p,E=this._getXAxisLabelAlignment();else if(r==="bottom")S=this.top+p,E=this._getXAxisLabelAlignment();else if(r==="left"){const V=this._getYAxisLabelAlignment(d);E=V.textAlign,b=V.x}else if(r==="right"){const V=this._getYAxisLabelAlignment(d);E=V.textAlign,b=V.x}else if(n==="x"){if(r==="center")S=(e.top+e.bottom)/2+f;else if(te(r)){const V=Object.keys(r)[0],Z=r[V];S=this.chart.scales[V].getPixelForValue(Z)+f}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")b=(e.left+e.right)/2-f;else if(te(r)){const V=Object.keys(r)[0],Z=r[V];b=this.chart.scales[V].getPixelForValue(Z)}E=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?de="top":l==="end"&&(de="bottom"));const Ae=this._getLabelSizes();for(y=0,m=a.length;y<m;++y){w=a[y],_=w.label;const V=s.setContext(this.getContext(y));k=this.getPixelForTick(y)+s.labelOffset,I=this._resolveTickFontOptions(y),C=I.lineHeight,O=_e(_)?_.length:1;const Z=O/2,J=V.color,M=V.textStrokeColor,N=V.textStrokeWidth;let z=E;o?(b=k,E==="inner"&&(y===m-1?z=this.options.reverse?"left":"right":y===0?z=this.options.reverse?"right":"left":z="center"),r==="top"?c==="near"||g!==0?G=-O*C+C/2:c==="center"?G=-Ae.highest.height/2-Z*C+C:G=-Ae.highest.height+C/2:c==="near"||g!==0?G=C/2:c==="center"?G=Ae.highest.height/2-Z*C:G=Ae.highest.height-O*C,h&&(G*=-1),g!==0&&!V.showLabelBackdrop&&(b+=C/2*Math.sin(g))):(S=k,G=(1-O)*C/2);let fe;if(V.showLabelBackdrop){const ve=xt(V.backdropPadding),Pn=Ae.heights[y],zt=Ae.widths[y];let Zn=G-ve.top,Ht=0-ve.left;switch(de){case"middle":Zn-=Pn/2;break;case"bottom":Zn-=Pn;break}switch(E){case"center":Ht-=zt/2;break;case"right":Ht-=zt;break}fe={left:Ht,top:Zn,width:zt+ve.width,height:Pn+ve.height,color:V.backdropColor}}v.push({label:_,font:I,textOffset:G,options:{rotation:g,color:J,strokeColor:M,strokeWidth:N,textAlign:z,textBaseline:de,translation:[b,S],backdrop:fe}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Sn(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=Nr(e,this.left,o)-o/2,u=Nr(e,this.right,a)+a/2,h=d=l):(h=Nr(e,this.top,o)-o/2,d=Nr(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Ff(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;ys(i,c,0,u,l,a)}r&&$f(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=Ge(i.font),o=xt(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||te(n)?(l+=o.bottom,_e(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=QH(this,l,n,a);ys(e,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:d,textAlign:XH(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=X(e.grid&&e.grid.z,-1),r=X(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ps.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ge(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class bu{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;eW(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,JH(e,o,i),this.override&&Ve.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Ve[r]&&(delete Ve[r][i],this.override&&delete ms[i])}}function JH(t,e,n){const i=Fl(Object.create(null),[n?Ve.get(n):{},Ve.get(e),t.defaults]);Ve.set(e,i),t.defaultRoutes&&ZH(e,t.defaultRoutes),t.descriptors&&Ve.describe(e,t.descriptors)}function ZH(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Ve.route(s,r,l,a)})}function eW(t){return"id"in t&&"defaults"in t}class tW{constructor(){this.controllers=new bu(Tn,"datasets",!0),this.elements=new bu(Pi,"elements"),this.plugins=new bu(Object,"plugins"),this.scales=new bu(Ps,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):le(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=nw(e);pe(i["before"+r],[],i),n[e](i),pe(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Dn=new tW;class nW{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(pe(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=X(i.options&&i.options.plugins,{}),s=iW(i);return r===!1&&!n?[]:sW(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function iW(t){const e={},n=[],i=Object.keys(Dn.plugins.items);for(let s=0;s<i.length;s++)n.push(Dn.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function rW(t,e){return!e&&t===!1?null:t===!0?{}:t}function sW(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=rW(i[l],r);c!==null&&s.push({plugin:a,options:oW(t.config,{plugin:a,local:n[l]},c,o)})}return s}function oW(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xy(t,e){const n=Ve.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function aW(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function lW(t,e){return t===e?"_index_":"_value_"}function cW(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function md(t,e){if(t==="x"||t==="y"||t==="r"||(t=e.axis||cW(e.position)||t.length>1&&md(t[0].toLowerCase(),e),t))return t;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function uW(t,e){const n=ms[t.type]||{scales:{}},i=e.scales||{},r=xy(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!te(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=md(o,a),c=lW(l,r),u=n.scales||{};s[o]=Qa(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||xy(a,e),u=(ms[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=aW(h,l),f=o[d+"AxisID"]||d;s[f]=s[f]||Object.create(null),Qa(s[f],[{axis:d},i[f],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Qa(a,[Ve.scales[a.type],Ve.scale])}),s}function HP(t){const e=t.options||(t.options={});e.plugins=X(e.plugins,{}),e.scales=uW(t,e)}function WP(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function hW(t){return t=t||{},t.data=WP(t.data),HP(t),t}const JS=new Map,KP=new Set;function Su(t,e){let n=JS.get(t);return n||(n=e(),JS.set(t,n),KP.add(n)),n}const ya=(t,e,n)=>{const i=br(e,n);i!==void 0&&t.add(i)};class dW{constructor(e){this._config=hW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=WP(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),HP(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Su(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Su(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Su(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Su(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>ya(l,e,h))),u.forEach(h=>ya(l,r,h)),u.forEach(h=>ya(l,ms[s]||{},h)),u.forEach(h=>ya(l,Ve,h)),u.forEach(h=>ya(l,_y,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),KP.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,ms[n]||{},Ve.datasets[n]||{},{type:n},Ve,_y]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=ZS(this._resolverCache,e,r);let l=o;if(pW(o,n)){s.$shared=!1,i=Sr(i)?i():i;const c=this.createResolver(e,i,a);l=Po(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=ZS(this._resolverCache,e,i);return te(n)?Po(s,n,void 0,r):s}}function ZS(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:aw(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const fW=t=>te(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||Sr(t[n]),!1);function pW(t,e){const{isScriptable:n,isIndexable:i}=EP(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(Sr(a)||fW(a))||o&&_e(a))return!0}return!1}var gW="4.2.0";const mW=["top","bottom","left","right","chartArea"];function ex(t,e){return t==="top"||t==="bottom"||mW.indexOf(t)===-1&&e==="x"}function tx(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function nx(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),pe(n&&n.onComplete,[t],e)}function yW(t){const e=t.chart,n=e.options.animation;pe(n&&n.onProgress,[t],e)}function qP(t){return AP()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const lh={},ix=t=>{const e=qP(t);return Object.values(lh).filter(n=>n.canvas===e).pop()};function vW(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function wW(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function _W(t){const{xScale:e,yScale:n}=t;if(e&&n)return{left:e.left,right:e.right,top:n.top,bottom:n.bottom}}var Mi;let Bf=(Mi=class{static register(...e){Dn.add(...e),rx()}static unregister(...e){Dn.remove(...e),rx()}constructor(e,n){const i=this.config=new dW(n),r=qP(e),s=ix(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||$H(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=xz(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new nW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Vz(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],lh[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ii.listen(this,"complete",nx),ii.listen(this,"progress",yW),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return se(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Dn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():IS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kS(this.canvas,this.ctx),this}stop(){return ii.stop(this),this}resize(e,n){ii.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,IS(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),pe(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};le(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=md(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),le(s,o=>{const a=o.options,l=a.id,c=md(l,a),u=X(a.type,o.dtype);(a.position===void 0||ex(a.position,c)!==ex(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const d=Dn.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,e)}),le(r,(o,a)=>{o||delete i[a]}),le(i,o=>{wt.configure(this,o,o.options),wt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(tx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||xy(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Dn.getController(a),{datasetElementType:c,dataElementType:u}=Ve.datasets[a];Object.assign(l,{dataElementType:Dn.getElement(u),datasetElementType:c&&Dn.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){le(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!r&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||le(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(tx("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){le(this.scales,e=>{wt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!mS(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;vW(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!mS(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;wt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],le(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Sr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ii.has(this)?this.attached&&!ii.running(this)&&ii.start(this):(this.draw(),nx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,s=_W(e)||this.chartArea,o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&Ff(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&$f(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Vl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=yH.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ar(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);pn(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ii.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),kS(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete lh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};le(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){le(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},le(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!ud(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=Pz(e),c=wW(e,this._lastEvent,i,l);i&&(this._lastEvent=null,pe(s.onHover,[e,a,this],this),l&&pe(s.onClick,[e,a,this],this));const u=!ud(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},L(Mi,"defaults",Ve),L(Mi,"instances",lh),L(Mi,"overrides",ms),L(Mi,"registry",Dn),L(Mi,"version",gW),L(Mi,"getChart",ix),Mi);function rx(){return le(Bf.instances,t=>t._plugins.invalidate())}function bW(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+Le,i-Le),t.closePath(),t.clip()}function SW(t){return ow(t,["outerStart","outerEnd","innerStart","innerEnd"])}function xW(t,e,n,i){const r=SW(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=l=>{const c=(n-Math.min(s,l))*i/2;return et(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:et(r.innerStart,0,o),innerEnd:et(r.innerEnd,0,o)}}function Ls(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function yd(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=r-l;if(i){const V=u>0?u-i:0,Z=h>0?h-i:0,J=(V+Z)/2,M=J!==0?p*J/(J+i):p;f=(p-M)/2}const g=Math.max(.001,p*h-n/Te)/h,v=(p-g)/2,y=l+v+f,m=r-v-f,{outerStart:w,outerEnd:_,innerStart:b,innerEnd:S}=xW(e,d,h,m-y),E=h-w,k=h-_,I=y+w/E,C=m-_/k,O=d+b,G=d+S,de=y+b/O,Ae=m-S/G;if(t.beginPath(),s){const V=(I+C)/2;if(t.arc(o,a,h,I,V),t.arc(o,a,h,V,C),_>0){const N=Ls(k,C,o,a);t.arc(N.x,N.y,_,C,m+Le)}const Z=Ls(G,m,o,a);if(t.lineTo(Z.x,Z.y),S>0){const N=Ls(G,Ae,o,a);t.arc(N.x,N.y,S,m+Le,Ae+Math.PI)}const J=(m-S/d+(y+b/d))/2;if(t.arc(o,a,d,m-S/d,J,!0),t.arc(o,a,d,J,y+b/d,!0),b>0){const N=Ls(O,de,o,a);t.arc(N.x,N.y,b,de+Math.PI,y-Le)}const M=Ls(E,y,o,a);if(t.lineTo(M.x,M.y),w>0){const N=Ls(E,I,o,a);t.arc(N.x,N.y,w,y-Le,I)}}else{t.moveTo(o,a);const V=Math.cos(I)*h+o,Z=Math.sin(I)*h+a;t.lineTo(V,Z);const J=Math.cos(C)*h+o,M=Math.sin(C)*h+a;t.lineTo(J,M)}t.closePath()}function EW(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){yd(t,e,n,i,l,r);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%Se||Se))}return yd(t,e,n,i,l,r),t.fill(),l}function kW(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,h=l.borderAlign==="inner";if(!c)return;h?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let d=e.endAngle;if(s){yd(t,e,n,i,d,r);for(let f=0;f<s;++f)t.stroke();isNaN(a)||(d=o+(a%Se||Se))}h&&bW(t,e,d),s||(yd(t,e,n,i,d,r),t.stroke())}class ch extends Pi{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.getProps(["x","y"],i),{angle:s,distance:o}=fP(r,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=this.options.spacing/2,p=X(h,l-a)>=Se||$l(s,a,l),g=ui(o,c+d,u+d);return p&&g}getCenterPoint(e){const{x:n,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:l,spacing:c}=this.options,u=(r+s)/2,h=(o+a+c+l)/2;return{x:n+Math.cos(u)*h,y:i+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,r=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Se?Math.floor(i/Se):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);const l=1-Math.sin(Math.min(Te,i||0)),c=r*l;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,EW(e,this,c,s,o),kW(e,this,c,s,o),e.restore()}}L(ch,"id","arc"),L(ch,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),L(ch,"defaultRoutes",{backgroundColor:"backgroundColor"});function GP(t,e,n=e){t.lineCap=X(n.borderCapStyle,e.borderCapStyle),t.setLineDash(X(n.borderDash,e.borderDash)),t.lineDashOffset=X(n.borderDashOffset,e.borderDashOffset),t.lineJoin=X(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=X(n.borderWidth,e.borderWidth),t.strokeStyle=X(n.borderColor,e.borderColor)}function TW(t,e,n){t.lineTo(n.x,n.y)}function CW(t){return t.stepped?Qz:t.tension||t.cubicInterpolationMode==="monotone"?Jz:TW}function YP(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function IW(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=YP(r,n,i),u=CW(s);let{move:h=!0,reverse:d}=i||{},f,p,g;for(f=0;f<=c;++f)p=r[(a+(d?c-f:f))%o],!p.skip&&(h?(t.moveTo(p.x,p.y),h=!1):u(t,g,p,d,s.stepped),g=p);return l&&(p=r[(a+(d?c:0))%o],u(t,g,p,d,s.stepped)),!!l}function PW(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=YP(r,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,d,f,p,g,v,y;const m=_=>(o+(c?a-_:_))%s,w=()=>{g!==v&&(t.lineTo(u,v),t.lineTo(u,g),t.lineTo(u,y))};for(l&&(f=r[m(0)],t.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=r[m(d)],f.skip)continue;const _=f.x,b=f.y,S=_|0;S===p?(b<g?g=b:b>v&&(v=b),u=(h*u+_)/++h):(w(),t.lineTo(_,b),p=S,h=0,g=v=b),y=b}w()}function Ey(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?PW:IW}function AW(t){return t.stepped?A3:t.tension||t.cubicInterpolationMode==="monotone"?R3:Hr}function RW(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),GP(t,e.options),t.stroke(r)}function MW(t,e,n,i){const{segments:r,options:s}=e,o=Ey(e);for(const a of r)GP(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const OW=typeof Path2D=="function";function DW(t,e,n,i){OW&&!e.options.segment?RW(t,e,n,i):MW(t,e,n,i)}class Ji extends Pi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;S3(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=F3(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=LP(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=AW(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=s[h],p=s[d];if(f===p){a.push(f);continue}const g=Math.abs((r-f[n])/(p[n]-f[n])),v=l(f,p,g,i.stepped);v[n]=e[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Ey(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=Ey(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),DW(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}L(Ji,"id","line"),L(Ji,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),L(Ji,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),L(Ji,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function sx(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class uh extends Pi{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(n-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,n){return sx(this,e,"x",n)}inYRange(e,n){return sx(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!Vl(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,by(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}L(uh,"id","point"),L(uh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),L(uh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function XP(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=s/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Zi(t,e,n,i){return t?0:et(e,n,i)}function LW(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=xP(i);return{t:Zi(r.top,s.top,0,n),r:Zi(r.right,s.right,0,e),b:Zi(r.bottom,s.bottom,0,n),l:Zi(r.left,s.left,0,e)}}function NW(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=rs(r),o=Math.min(e,n),a=t.borderSkipped,l=i||te(r);return{topLeft:Zi(!l||a.top||a.left,s.topLeft,0,o),topRight:Zi(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Zi(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Zi(!l||a.bottom||a.right,s.bottomRight,0,o)}}function FW(t){const e=XP(t),n=e.right-e.left,i=e.bottom-e.top,r=LW(t,n/2,i/2),s=NW(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Sg(t,e,n,i){const r=e===null,s=n===null,a=t&&!(r&&s)&&XP(t,i);return a&&(r||ui(e,a.left,a.right))&&(s||ui(n,a.top,a.bottom))}function $W(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function VW(t,e){t.rect(e.x,e.y,e.w,e.h)}function xg(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class hh extends Pi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=FW(this),a=$W(o.radius)?Bl:VW;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,xg(o,n,s)),e.clip(),a(e,xg(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,xg(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return Sg(this,e,n,i)}inXRange(e,n){return Sg(this,e,null,n)}inYRange(e,n){return Sg(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}L(hh,"id","bar"),L(hh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),L(hh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var BW=Object.freeze({__proto__:null,ArcElement:ch,LineElement:Ji,PointElement:uh,BarElement:hh});const ky=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ox=ky.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function QP(t){return ky[t%ky.length]}function JP(t){return ox[t%ox.length]}function UW(t,e){return t.borderColor=QP(e),t.backgroundColor=JP(e),++e}function jW(t,e){return t.backgroundColor=t.data.map(()=>QP(e++)),e}function zW(t,e){return t.backgroundColor=t.data.map(()=>JP(e++)),e}function HW(t){let e=0;return(n,i)=>{const r=t.getDatasetMeta(i).controller;r instanceof Qr?e=jW(n,e):r instanceof nl?e=zW(n,e):r&&(e=UW(n,e))}}function ax(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function WW(t){return t&&(t.borderColor||t.backgroundColor)}var KW={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=t.config,{elements:s}=r;if(!n.forceOverride&&(ax(i)||WW(r)||s&&ax(s)))return;const o=HW(t);i.forEach(o)}};function qW(t,e,n,i,r){const s=r.samples||i;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let l=0;const c=e+n-1;let u=e,h,d,f,p,g;for(o[l++]=t[u],h=0;h<s-2;h++){let v=0,y=0,m;const w=Math.floor((h+1)*a)+1+e,_=Math.min(Math.floor((h+2)*a)+1,n)+e,b=_-w;for(m=w;m<_;m++)v+=t[m].x,y+=t[m].y;v/=b,y/=b;const S=Math.floor(h*a)+1+e,E=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:k,y:I}=t[u];for(f=p=-1,m=S;m<E;m++)p=.5*Math.abs((k-v)*(t[m].y-I)-(k-t[m].x)*(y-I)),p>f&&(f=p,d=t[m],g=m);o[l++]=d,u=g}return o[l++]=t[c],o}function GW(t,e,n,i){let r=0,s=0,o,a,l,c,u,h,d,f,p,g;const v=[],y=e+n-1,m=t[e].x,_=t[y].x-m;for(o=e;o<e+n;++o){a=t[o],l=(a.x-m)/_*i,c=a.y;const b=l|0;if(b===u)c<p?(p=c,h=o):c>g&&(g=c,d=o),r=(s*r+a.x)/++s;else{const S=o-1;if(!se(h)&&!se(d)){const E=Math.min(h,d),k=Math.max(h,d);E!==f&&E!==S&&v.push({...t[E],x:r}),k!==f&&k!==S&&v.push({...t[k],x:r})}o>0&&S!==f&&v.push(t[S]),v.push(a),u=b,s=0,p=g=c,h=d=f=o}}return v}function ZP(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function lx(t){t.data.datasets.forEach(e=>{ZP(e)})}function YW(t,e){const n=e.length;let i=0,r;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=et(hi(e,s.axis,o).lo,0,n-1)),c?r=et(hi(e,s.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var XW={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){lx(t);return}const i=t.width;t.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=t.getDatasetMeta(s),c=o||r.data;if(Ca([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:h,count:d}=YW(l,c);const f=n.threshold||4*i;if(d<=f){ZP(r);return}se(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=qW(c,h,d,i,n);break;case"min-max":p=GW(c,h,d,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=p})},destroy(t){lx(t)}};function QW(t,e,n){const i=t.segments,r=t.points,s=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=dw(l,c,r);const u=Ty(n,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const h=LP(e,u);for(const d of h){const f=Ty(n,s[d.start],s[d.end],d.loop),p=DP(a,r,f);for(const g of p)o.push({source:g,target:d,start:{[n]:cx(u,f,"start",Math.max)},end:{[n]:cx(u,f,"end",Math.min)}})}}return o}function Ty(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=qt(r),s=qt(s)),{property:t,start:r,end:s}}function JW(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=dw(o,a,r);const l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function dw(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function cx(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function eA(t,e){let n=[],i=!1;return _e(t)?(i=!0,n=t):n=JW(t,e),n.length?new Ji({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function ux(t){return t&&t.fill!==!1}function ZW(t,e,n){let r=t[e].fill;const s=[e];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!De(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function e5(t,e,n){const i=r5(t);if(te(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return De(r)&&Math.floor(r)===r?t5(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function t5(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function n5(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:te(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function i5(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:te(t)?i=t.value:i=e.getBaseValue(),i}function r5(t){const e=t.options,n=e.fill;let i=X(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function s5(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=o5(e,n);a.push(eA({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)a5(r,o[u],a)}return new Ji({points:r,options:{}})}function o5(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function a5(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=l5(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function l5(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],h=o[u.start][n],d=o[u.end][n];if(ui(r,h,d)){a=r===h,l=r===d;break}}return{first:a,last:l,point:i}}class tA{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:Se},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function c5(t){const{chart:e,fill:n,line:i}=t;if(De(n))return u5(e,n);if(n==="stack")return s5(t);if(n==="shape")return!0;const r=h5(t);return r instanceof tA?r:eA(r,i)}function u5(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function h5(t){return(t.scale||{}).getPointPositionForValue?f5(t):d5(t)}function d5(t){const{scale:e={},fill:n}=t,i=n5(n,e);if(De(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function f5(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=i5(n,e,s),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new tA({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function Eg(t,e,n){const i=c5(e),{line:r,scale:s,axis:o}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&r.points.length&&(Ff(t,n),p5(t,{line:r,target:i,above:u,below:h,area:n,scale:s,axis:o}),$f(t))}function p5(t,e){const{line:n,target:i,above:r,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&s!==r&&(hx(t,i,o.top),dx(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),hx(t,i,o.bottom)),dx(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore()}function hx(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],h=r[dw(l,c,r)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function dx(t,e){const{line:n,target:i,property:r,color:s,scale:o}=e,a=QW(n,i,r);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:d=s}={}}=l,f=i!==!0;t.save(),t.fillStyle=d,g5(t,o,f&&Ty(r,u,h)),t.beginPath();const p=!!n.pathSegment(t,l);let g;if(f){p?t.closePath():fx(t,i,h,r);const v=!!i.pathSegment(t,c,{move:p,reverse:!0});g=p&&v,g||fx(t,i,u,r)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function g5(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,i,a-o,r-i),t.clip())}function fx(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var m5={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Ji&&(l={visible:t.isDatasetVisible(o),index:o,fill:e5(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=ZW(r,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&Eg(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;ux(s)&&Eg(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!ux(i)||n.drawTime!=="beforeDatasetDraw"||Eg(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const px=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},y5=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class gx extends Pi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=pe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Ge(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=px(i,s);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let h=e;s.textAlign="left",s.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((p,g)=>{const v=i+n/2+s.measureText(p.text).width;(g===0||c[c.length-1]+v+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,f+=u,d++),l[g]={left:0,top:f,row:d,width:v,height:r},c[c.length-1]+=v+a}),h}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,f=0,p=0,g=0;return this.legendItems.forEach((v,y)=>{const{itemWidth:m,itemHeight:w}=v5(i,n,s,v,r);y>0&&f+w+2*a>u&&(h+=d+a,c.push({width:d,height:f}),p+=d+a,g++,d=f=0),l[y]={left:p,top:f,col:g,width:m,height:w},d=Math.max(d,m),f+=w+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=fo(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=pt(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=pt(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=pt(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=pt(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ff(e,this),this._draw(),$f(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=Ve.color,l=fo(e.rtl,this.left,this.width),c=Ge(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:v}=px(o,h),y=function(S,E,k){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;r.save();const I=X(k.lineWidth,1);if(r.fillStyle=X(k.fillStyle,a),r.lineCap=X(k.lineCap,"butt"),r.lineDashOffset=X(k.lineDashOffset,0),r.lineJoin=X(k.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=X(k.strokeStyle,a),r.setLineDash(X(k.lineDash,[])),o.usePointStyle){const C={radius:g*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:I},O=l.xPlus(S,p/2),G=E+d;SP(r,C,O,G,o.pointStyleWidth&&p)}else{const C=E+Math.max((h-g)/2,0),O=l.leftForLtr(S,p),G=rs(k.borderRadius);r.beginPath(),Object.values(G).some(de=>de!==0)?Bl(r,{x:O,y:C,w:p,h:g,radius:G}):r.rect(O,C,p,g),r.fill(),I!==0&&r.stroke()}r.restore()},m=function(S,E,k){ys(r,k.text,S,E+v/2,c,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})},w=this.isHorizontal(),_=this._computeTitleHeight();w?f={x:pt(s,this.left+u,this.right-i[0]),y:this.top+u+_,line:0}:f={x:this.left+u,y:pt(s,this.top+_+u,this.bottom-n[0].height),line:0},RP(this.ctx,e.textDirection);const b=v+u;this.legendItems.forEach((S,E)=>{r.strokeStyle=S.fontColor,r.fillStyle=S.fontColor;const k=r.measureText(S.text).width,I=l.textAlign(S.textAlign||(S.textAlign=o.textAlign)),C=p+d+k;let O=f.x,G=f.y;l.setWidth(this.width),w?E>0&&O+C+u>this.right&&(G=f.y+=b,f.line++,O=f.x=pt(s,this.left+u,this.right-i[f.line])):E>0&&G+b>this.bottom&&(O=f.x=O+n[f.line].width+u,f.line++,G=f.y=pt(s,this.top+_+u,this.bottom-n[f.line].height));const de=l.x(O);if(y(de,G,S),O=Bz(I,O+p+d,w?O+C:this.right,e.rtl),m(l.x(O),G,S),w)f.x+=C+u;else if(typeof S.text!="string"){const Ae=c.lineHeight;f.y+=nA(S,Ae)}else f.y+=b}),MP(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Ge(n.font),r=xt(n.padding);if(!n.display)return;const s=fo(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=pt(e.align,h,this.right-d);else{const p=this.columnSizes.reduce((g,v)=>Math.max(g,v.height),0);u=c+pt(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=pt(a,h,h+d);o.textAlign=s.textAlign(sw(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,ys(o,n.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,n=Ge(e.font),i=xt(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(ui(e,this.left,this.right)&&ui(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],ui(e,r.left,r.left+r.width)&&ui(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!b5(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=y5(r,i);r&&!s&&pe(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&pe(n.onHover,[e,i,this],this)}else i&&pe(n.onClick,[e,i,this],this)}}function v5(t,e,n,i,r){const s=w5(i,t,e,n),o=_5(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function w5(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function _5(t,e,n){let i=t;return typeof e.text!="string"&&(i=nA(e,n)),i}function nA(t,e){const n=t.text?t.text.length+.5:0;return e*n}function b5(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var S5={id:"legend",_element:gx,start(t,e,n){const i=t.legend=new gx({ctx:t.ctx,options:n,chart:t});wt.configure(t,i,n),wt.addBox(t,i)},stop(t){wt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;wt.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=xt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class fw extends Pi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=_e(i.text)?i.text.length:1;this._padding=xt(i.padding);const s=r*Ge(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=pt(a,i,s),h=n+e,c=s-i):(o.position==="left"?(u=i+e,h=pt(a,r,n),l=Te*-.5):(u=s-e,h=pt(a,n,r),l=Te*.5),c=r-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Ge(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);ys(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:sw(n.align),textBaseline:"middle",translation:[o,a]})}}function x5(t,e){const n=new fw({ctx:t.ctx,options:e,chart:t});wt.configure(t,n,e),wt.addBox(t,n),t.titleBlock=n}var E5={id:"title",_element:fw,start(t,e,n){x5(t,n)},stop(t){const e=t.titleBlock;wt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;wt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xu=new WeakMap;var k5={id:"subtitle",start(t,e,n){const i=new fw({ctx:t.ctx,options:n,chart:t});wt.configure(t,i,n),wt.addBox(t,i),xu.set(t,i)},stop(t){wt.removeBox(t,xu.get(t)),xu.delete(t)},beforeUpdate(t,e,n){const i=xu.get(t);wt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Pa={average(t){if(!t.length)return!1;let e,n,i=0,r=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,r+=a.y,++s}}return{x:i/s,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=wy(e,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Rn(t,e){return e&&(_e(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ri(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function T5(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function mx(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Ge(e.bodyFont),c=Ge(e.titleFont),u=Ge(e.footerFont),h=s.length,d=r.length,f=i.length,p=xt(e.padding);let g=p.height,v=0,y=i.reduce((_,b)=>_+b.before.length+b.lines.length+b.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const _=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*_+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let m=0;const w=function(_){v=Math.max(v,n.measureText(_).width+m)};return n.save(),n.font=c.string,le(t.title,w),n.font=l.string,le(t.beforeBody.concat(t.afterBody),w),m=e.displayColors?o+2+e.boxPadding:0,le(i,_=>{le(_.before,w),le(_.lines,w),le(_.after,w)}),m=0,n.font=u.string,le(t.footer,w),n.restore(),v+=p.width,{width:v,height:g}}function C5(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function I5(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function P5(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),I5(c,t,e,n)&&(c="center"),c}function yx(t,e,n){const i=n.yAlign||e.yAlign||C5(t,n);return{xAlign:n.xAlign||e.xAlign||P5(t,e,n,i),yAlign:i}}function A5(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function R5(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function vx(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=rs(o);let p=A5(e,a);const g=R5(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,d)+r:a==="right"&&(p+=Math.max(h,f)+r),{x:et(p,0,i.width-e.width),y:et(g,0,i.height-e.height)}}function Eu(t,e,n){const i=xt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function wx(t){return Rn([],ri(t))}function M5(t,e,n){return Ar(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function _x(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const iA={beforeTitle:ni,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:ni,beforeBody:ni,beforeLabel:ni,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return se(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ni,afterBody:ni,beforeFooter:ni,footer:ni,afterFooter:ni};function Lt(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?iA[e].call(n,i):r}class Cy extends Pi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new NP(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=M5(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Lt(i,"beforeTitle",this,e),s=Lt(i,"title",this,e),o=Lt(i,"afterTitle",this,e);let a=[];return a=Rn(a,ri(r)),a=Rn(a,ri(s)),a=Rn(a,ri(o)),a}getBeforeBody(e,n){return wx(Lt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return le(e,s=>{const o={before:[],lines:[],after:[]},a=_x(i,s);Rn(o.before,ri(Lt(a,"beforeLabel",this,s))),Rn(o.lines,Lt(a,"label",this,s)),Rn(o.after,ri(Lt(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return wx(Lt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Lt(i,"beforeFooter",this,e),s=Lt(i,"footer",this,e),o=Lt(i,"afterFooter",this,e);let a=[];return a=Rn(a,ri(r)),a=Rn(a,ri(s)),a=Rn(a,ri(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(T5(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,i))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,i))),le(a,u=>{const h=_x(e.callbacks,u);r.push(Lt(h,"labelColor",this,u)),s.push(Lt(h,"labelPointStyle",this,u)),o.push(Lt(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=Pa[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=mx(this,i),c=Object.assign({},a,l),u=yx(this.chart,i,c),h=vx(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=rs(a),{x:d,y:f}=e,{width:p,height:g}=n;let v,y,m,w,_,b;return s==="center"?(_=f+g/2,r==="left"?(v=d,y=v-o,w=_+o,b=_-o):(v=d+p,y=v+o,w=_-o,b=_+o),m=v):(r==="left"?y=d+Math.max(l,u)+o:r==="right"?y=d+p-Math.max(c,h)-o:y=this.caretX,s==="top"?(w=f,_=w-o,v=y-o,m=y+o):(w=f+g,_=w+o,v=y+o,m=y-o),b=w),{x1:v,x2:y,x3:m,y1:w,y2:_,y3:b}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=fo(i.rtl,this.x,this.width);for(e.x=Eu(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=Ge(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c,boxPadding:u}=s,h=Ge(s.bodyFont),d=Eu(this,"left",s),f=r.x(d),p=l<h.lineHeight?(h.lineHeight-l)/2:0,g=n.y+p;if(s.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=r.leftForLtr(f,c)+c/2,m=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,by(e,v,y,m),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,by(e,v,y,m)}else{e.lineWidth=te(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=r.leftForLtr(f,c-u),y=r.leftForLtr(r.xPlus(f,1),c-u-2),m=rs(o.borderRadius);Object.values(m).some(w=>w!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Bl(e,{x:v,y:g,w:c,h:l,radius:m}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Bl(e,{x:y,y:g+1,w:c-2,h:l-2,radius:m}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(v,g,c,l),e.strokeRect(v,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=Ge(i.bodyFont);let d=h.lineHeight,f=0;const p=fo(i.rtl,this.x,this.width),g=function(k){n.fillText(k,p.x(e.x+f),e.y+d/2),e.y+=d+s},v=p.textAlign(o);let y,m,w,_,b,S,E;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Eu(this,v,i),n.fillStyle=i.bodyColor,le(this.beforeBody,g),f=a&&v!=="right"?o==="center"?c/2+u:c+2+u:0,_=0,S=r.length;_<S;++_){for(y=r[_],m=this.labelTextColors[_],n.fillStyle=m,le(y.before,g),w=y.lines,a&&w.length&&(this._drawColorBox(n,e,_,p,i),d=Math.max(h.lineHeight,l)),b=0,E=w.length;b<E;++b)g(w[b]),d=h.lineHeight;le(y.after,g)}f=0,d=h.lineHeight,le(this.afterBody,g),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=fo(i.rtl,this.x,this.width);for(e.x=Eu(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=Ge(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=rs(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Pa[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=mx(this,e),l=Object.assign({},o,this._size),c=yx(n,e,l),u=vx(e,l,c,n);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=xt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),RP(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),MP(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!ud(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!ud(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n;const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=Pa[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}L(Cy,"positioners",Pa);var O5={id:"tooltip",_element:Cy,positioners:Pa,afterInit(t,e,n){n&&(t.tooltip=new Cy({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:iA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},D5=Object.freeze({__proto__:null,Colors:KW,Decimation:XW,Filler:m5,Legend:S5,SubTitle:k5,Title:E5,Tooltip:O5});const L5=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function N5(t,e,n,i){const r=t.indexOf(e);if(r===-1)return L5(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const F5=(t,e)=>t===null?null:et(Math.round(t),0,e);function bx(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Iy extends Ps{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(se(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:N5(i,e,X(n,e),this._addedLabels),F5(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return bx.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}L(Iy,"id","category"),L(Iy,"defaults",{ticks:{callback:bx}});function $5(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,f=s||1,p=u-1,{min:g,max:v}=e,y=!se(o),m=!se(a),w=!se(c),_=(v-g)/(h+1);let b=vS((v-g)/p/f)*f,S,E,k,I;if(b<1e-14&&!y&&!m)return[{value:g},{value:v}];I=Math.ceil(v/b)-Math.floor(g/b),I>p&&(b=vS(I*b/p/f)*f),se(l)||(S=Math.pow(10,l),b=Math.ceil(b*S)/S),r==="ticks"?(E=Math.floor(g/b)*b,k=Math.ceil(v/b)*b):(E=g,k=v),y&&m&&s&&Oz((a-o)/s,b/1e3)?(I=Math.round(Math.min((a-o)/b,u)),b=(a-o)/I,E=o,k=a):w?(E=y?o:E,k=m?a:k,I=c-1,b=(k-E)/I):(I=(k-E)/b,Ja(I,Math.round(I),b/1e3)?I=Math.round(I):I=Math.ceil(I));const C=Math.max(wS(b),wS(E));S=Math.pow(10,se(l)?C:l),E=Math.round(E*S)/S,k=Math.round(k*S)/S;let O=0;for(y&&(d&&E!==o?(n.push({value:o}),E<o&&O++,Ja(Math.round((E+O*b)*S)/S,o,Sx(o,_,t))&&O++):E<o&&O++);O<I;++O)n.push({value:Math.round((E+O*b)*S)/S});return m&&d&&k!==a?n.length&&Ja(n[n.length-1].value,a,Sx(a,_,t))?n[n.length-1].value=a:n.push({value:a}):(!m||k===a)&&n.push({value:k}),n}function Sx(t,e,{horizontal:n,minRotation:i}){const r=Sn(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class vd extends Ps{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return se(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=Hn(r),c=Hn(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=$5(r,s);return e.bounds==="ticks"&&dP(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return wc(e,this.chart.options.locale,this.options.ticks.format)}}class Py extends vd{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=De(e)?e:0,this.max=De(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Sn(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}L(Py,"id","linear"),L(Py,"defaults",{ticks:{callback:Nf.formatters.numeric}});const jl=t=>Math.floor(Qi(t)),$r=(t,e)=>Math.pow(10,jl(t)+e);function xx(t){return t/Math.pow(10,jl(t))===1}function Ex(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function V5(t,e){const n=e-t;let i=jl(n);for(;Ex(t,e,i)>10;)i++;for(;Ex(t,e,i)<10;)i--;return Math.min(i,jl(t))}function B5(t,{min:e,max:n}){e=Wt(t.min,e);const i=[],r=jl(e);let s=V5(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,s)),d=Wt(t.min,Math.round((l+u+h*Math.pow(10,s))*o)/o);for(;d<n;)i.push({value:d,major:xx(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),d=Math.round((l+u+h*Math.pow(10,s))*o)/o;const f=Wt(t.max,d);return i.push({value:f,major:xx(f),significand:h}),i}class Ay extends Ps{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=vd.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return De(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=De(e)?Math.max(0,e):null,this.max=De(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!De(this._userMin)&&(this.min=e===$r(this.min,0)?$r(this.min,-1):$r(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=a=>i=e?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s($r(i,-1)),o($r(r,1)))),i<=0&&s($r(r,-1)),r<=0&&o($r(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=B5(n,this);return e.bounds==="ticks"&&dP(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":wc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Qi(e),this._valueRange=Qi(this.max)-Qi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Qi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}L(Ay,"id","logarithmic"),L(Ay,"defaults",{ticks:{callback:Nf.formatters.logarithmic,major:{enabled:!0}}});function Ry(t){const e=t.ticks;if(e.display&&t.display){const n=xt(e.backdropPadding);return X(e.font&&e.font.size,Ve.font.size)+n.height}return 0}function U5(t,e,n){return n=_e(n)?n:[n],{w:Xz(t,e.string,n),h:n.length*e.lineHeight}}function kx(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function j5(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Te/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));r[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+r[l],a),h=Ge(c.font),d=U5(t.ctx,h,t._pointLabels[l]);i[l]=d;const f=qt(t.getIndexAngle(l)+a),p=Math.round(iw(f)),g=kx(p,u.x,d.w,0,180),v=kx(p,u.y,d.h,90,270);z5(n,e,f,g,v)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=H5(t,i,r)}function z5(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function H5(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,o=Ry(s)/2,a=t.drawingArea,l=s.pointLabels.centerPointLabels?Te/r:0;for(let c=0;c<r;c++){const u=t.getPointPosition(c,a+o+n[c],l),h=Math.round(iw(qt(u.angle+Le))),d=e[c],f=q5(u.y,d.h,h),p=W5(h),g=K5(u.x,d.w,p);i.push({x:u.x,y:f,textAlign:p,left:g,top:f,right:g+d.w,bottom:f+d.h})}return i}function W5(t){return t===0||t===180?"center":t<180?"left":"right"}function K5(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function q5(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function G5(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const s=i.setContext(t.getPointLabelContext(r)),o=Ge(s.font),{x:a,y:l,textAlign:c,left:u,top:h,right:d,bottom:f}=t._pointLabelItems[r],{backdropColor:p}=s;if(!se(p)){const g=rs(s.borderRadius),v=xt(s.backdropPadding);n.fillStyle=p;const y=u-v.left,m=h-v.top,w=d-u+v.width,_=f-h+v.height;Object.values(g).some(b=>b!==0)?(n.beginPath(),Bl(n,{x:y,y:m,w,h:_,radius:g}),n.fill()):n.fillRect(y,m,w,_)}ys(n,t._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}function rA(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,Se);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function Y5(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),rA(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function X5(t,e,n){return Ar(t,{label:n,index:e,type:"pointLabel"})}class Aa extends vd{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=xt(Ry(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=De(e)&&!isNaN(e)?e:0,this.max=De(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ry(this.options))}generateTickLabels(e){vd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const r=pe(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?j5(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){const n=Se/(this._pointLabels.length||1),i=this.options.startAngle||0;return qt(e*n+Sn(i))}getDistanceFromCenterForValue(e){if(se(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(se(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return X5(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const r=this.getIndexAngle(e)-Le+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),rA(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&G5(this,o),r.display&&this.ticks.forEach((u,h)=>{if(h!==0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=r.setContext(d),p=s.setContext(d);Y5(this,f,l,o,p)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(e.lineWidth=d,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=Ge(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=xt(c.backdropPadding);e.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}ys(e,a.label,0,-s,u,{color:c.color})}),e.restore()}drawTitle(){}}L(Aa,"id","radialLinear"),L(Aa,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Nf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),L(Aa,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),L(Aa,"descriptors",{angleLines:{_fallback:"grid"}});const Uf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ft=Object.keys(Uf);function Q5(t,e){return t-e}function Tx(t,e){if(se(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),De(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Io(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function Cx(t,e,n,i){const r=Ft.length;for(let s=Ft.indexOf(t);s<r-1;++s){const o=Uf[Ft[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Ft[s]}return Ft[r-1]}function J5(t,e,n,i,r){for(let s=Ft.length-1;s>=Ft.indexOf(n);s--){const o=Ft[s];if(Uf[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Ft[n?Ft.indexOf(n):0]}function Z5(t){for(let e=Ft.indexOf(t)+1,n=Ft.length;e<n;++e)if(Uf[Ft[e]].common)return Ft[e]}function Ix(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=rw(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function e4(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function Px(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:e4(t,i,r,n)}class zl extends Ps{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new dH._date(e.adapters.date);r.init(n),Qa(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Tx(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=De(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=De(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=Fz(r,s,o);return this._unit=n.unit||(i.autoSkip?Cx(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):J5(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Z5(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),Px(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=et(n,0,o),i=et(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||Cx(s.minUnit,n,i,this._getLabelCapacity(n)),a=X(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=Io(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=r.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+e.add(d,a,o),f++)Ix(u,d,p);return(d===i||r.bounds==="ticks"||f===1)&&Ix(u,d,p),Object.keys(u).sort((g,v)=>g-v).map(g=>+g)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return pe(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=i[n],f=c&&h&&d&&d.major;return this._adapter.format(e,r||(f?h:u))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Sn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Px(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(Tx(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return gP(e.sort(Q5))}}L(zl,"id","time"),L(zl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ku(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=hi(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=hi(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class My extends zl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ku(n,this.min),this._tableRange=ku(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(ku(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return ku(this._table,i*this._tableRange+this._minPos,!0)}}L(My,"id","timeseries"),L(My,"defaults",zl.defaults);var t4=Object.freeze({__proto__:null,CategoryScale:Iy,LinearScale:Py,LogarithmicScale:Ay,RadialLinearScale:Aa,TimeScale:zl,TimeSeriesScale:My});const n4=[hH,BW,D5,t4],sA="label";function Ax(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function i4(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function oA(t,e){t.labels=e}function aA(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sA;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function r4(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sA;const n={labels:[],datasets:[]};return oA(n,t.labels),aA(n,t.datasets,e),n}function s4(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...d}=t,f=x.useRef(null),p=x.useRef(),g=()=>{f.current&&(p.current=new Bf(f.current,{type:o,data:r4(a,s),options:l&&{...l},plugins:c}),Ax(e,p.current))},v=()=>{Ax(e,null),p.current&&(p.current.destroy(),p.current=null)};return x.useEffect(()=>{!r&&p.current&&l&&i4(p.current,l)},[r,l]),x.useEffect(()=>{!r&&p.current&&oA(p.current.config.data,a.labels)},[r,a.labels]),x.useEffect(()=>{!r&&p.current&&a.datasets&&aA(p.current.config.data,a.datasets,s)},[r,a.datasets]),x.useEffect(()=>{p.current&&(r?(v(),setTimeout(g)):p.current.update(h))},[r,l,a.labels,a.datasets,h]),x.useEffect(()=>{p.current&&(v(),setTimeout(g))},[o]),x.useEffect(()=>(g(),()=>v()),[]),Qn.createElement("canvas",Object.assign({ref:f,role:"img",height:n,width:i},d),u)}const o4=x.forwardRef(s4);function a4(t,e){return Bf.register(e),x.forwardRef((n,i)=>Qn.createElement(o4,Object.assign({},n,{ref:i,type:t})))}const l4=a4("line",tl);Bf.register(...n4);function Wr({name:t,percentage:e,color:n}){return j("div",{className:"item-statistics",children:[T("p",{className:"name",children:t}),j("p",{className:"percentage",children:[e,"%"]}),T("div",{className:"progress",style:{backgroundImage:`linear-gradient(to right, ${n} ${e}%, #E0E0E0 ${e}%)`}})]})}Wr.proptypes={name:is.PropTypes.string.isRequired,percentage:is.PropTypes.number.isRequired,color:is.PropTypes.string.isRequired};const c4={labels:["January","February","March","April","May","June","July"],datasets:[{label:"Summary",data:[144,52,34,65,31,18,38],borderColor:"#F9A109"}]};function u4({navShown:t}){return T(Go.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"statistics",style:{display:t?"none":"block"},children:j("div",{className:"container",children:[j("div",{className:"top-container",children:[j("div",{className:"top top-items",children:[T("h3",{children:"Top items"}),T(Wr,{name:"Banana",color:"#F9A109",percentage:12}),T(Wr,{name:"Rice",color:"#F9A109",percentage:10}),T(Wr,{name:"Chicken 1kg",color:"#F9A109",percentage:8})]}),j("div",{className:"top top-categories",children:[T("h3",{children:"Top Categories"}),T(Wr,{name:"Fruits and vegetables",color:"#56CCF2",percentage:23}),T(Wr,{name:"Meat and Fish",color:"#56CCF2",percentage:14}),T(Wr,{name:"Pets",color:"#56CCF2",percentage:11})]})]}),j("div",{className:"chart",children:[T("h3",{children:"Monthly Summary"}),T(l4,{data:c4})]})]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},h4=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),i.push(n[u],n[h],n[d],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw Error();const d=s<<2|a>>4;if(i.push(d),c!==64){const f=a<<4&240|c>>2;if(i.push(f),h!==64){const p=c<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},d4=function(t){const e=lA(t);return cA.encodeByteArray(e,!0)},wd=function(t){return d4(t).replace(/\./g,"")},uA=function(t){try{return cA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=()=>f4().__FIREBASE_DEFAULTS__,g4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},m4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uA(t[1]);return e&&JSON.parse(e)},jf=()=>{try{return p4()||g4()||m4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hA=t=>{var e,n;return(n=(e=jf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dA=t=>{const e=hA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},y4=()=>{var t;return(t=jf())===null||t===void 0?void 0:t.config},fA=t=>{var e;return(e=jf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[wd(JSON.stringify(n)),wd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function _4(){var t;const e=(t=jf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function S4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x4(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E4(){try{return typeof indexedDB=="object"}catch{return!1}}function k4(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="FirebaseError";class Jn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=T4,Object.setPrototypeOf(this,Jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bc.prototype.create)}}class bc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?C4(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Jn(r,a,i)}}function C4(t,e){return t.replace(I4,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const I4=/\{\$([^}]+)}/g;function P4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _d(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Rx(s)&&Rx(o)){if(!_d(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Rx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ra(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Ma(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function A4(t,e){const n=new R4(t,e);return n.subscribe.bind(n)}class R4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");M4(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=kg),r.error===void 0&&(r.error=kg),r.complete===void 0&&(r.complete=kg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class xr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new v4;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L4(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:D4(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D4(t){return t===Kr?void 0:t}function L4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const F4={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},$4=oe.INFO,V4={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},B4=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=V4[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pw{constructor(e){this.name=e,this._logLevel=$4,this._logHandler=B4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const U4=(t,e)=>e.some(n=>t instanceof n);let Mx,Ox;function j4(){return Mx||(Mx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z4(){return Ox||(Ox=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gA=new WeakMap,Oy=new WeakMap,mA=new WeakMap,Tg=new WeakMap,gw=new WeakMap;function H4(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(dr(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gA.set(n,t)}).catch(()=>{}),gw.set(e,t),e}function W4(t){if(Oy.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Oy.set(t,e)}let Dy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Oy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K4(t){Dy=t(Dy)}function q4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Cg(this),e,...n);return mA.set(i,e.sort?e.sort():[e]),dr(i)}:z4().includes(t)?function(...e){return t.apply(Cg(this),e),dr(gA.get(this))}:function(...e){return dr(t.apply(Cg(this),e))}}function G4(t){return typeof t=="function"?q4(t):(t instanceof IDBTransaction&&W4(t),U4(t,j4())?new Proxy(t,Dy):t)}function dr(t){if(t instanceof IDBRequest)return H4(t);if(Tg.has(t))return Tg.get(t);const e=G4(t);return e!==t&&(Tg.set(t,e),gw.set(e,t)),e}const Cg=t=>gw.get(t);function Y4(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=dr(o);return i&&o.addEventListener("upgradeneeded",l=>{i(dr(o.result),l.oldVersion,l.newVersion,dr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const X4=["get","getKey","getAll","getAllKeys","count"],Q4=["put","add","delete","clear"],Ig=new Map;function Dx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ig.get(e))return Ig.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Q4.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||X4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Ig.set(e,s),s}K4(t=>({...t,get:(e,n,i)=>Dx(e,n)||t.get(e,n,i),has:(e,n)=>!!Dx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z4(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Z4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ly="@firebase/app",Lx="0.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new pw("@firebase/app"),e6="@firebase/app-compat",t6="@firebase/analytics-compat",n6="@firebase/analytics",i6="@firebase/app-check-compat",r6="@firebase/app-check",s6="@firebase/auth",o6="@firebase/auth-compat",a6="@firebase/database",l6="@firebase/database-compat",c6="@firebase/functions",u6="@firebase/functions-compat",h6="@firebase/installations",d6="@firebase/installations-compat",f6="@firebase/messaging",p6="@firebase/messaging-compat",g6="@firebase/performance",m6="@firebase/performance-compat",y6="@firebase/remote-config",v6="@firebase/remote-config-compat",w6="@firebase/storage",_6="@firebase/storage-compat",b6="@firebase/firestore",S6="@firebase/firestore-compat",x6="firebase",E6="9.16.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="[DEFAULT]",k6={[Ly]:"fire-core",[e6]:"fire-core-compat",[n6]:"fire-analytics",[t6]:"fire-analytics-compat",[r6]:"fire-app-check",[i6]:"fire-app-check-compat",[s6]:"fire-auth",[o6]:"fire-auth-compat",[a6]:"fire-rtdb",[l6]:"fire-rtdb-compat",[c6]:"fire-fn",[u6]:"fire-fn-compat",[h6]:"fire-iid",[d6]:"fire-iid-compat",[f6]:"fire-fcm",[p6]:"fire-fcm-compat",[g6]:"fire-perf",[m6]:"fire-perf-compat",[y6]:"fire-rc",[v6]:"fire-rc-compat",[w6]:"fire-gcs",[_6]:"fire-gcs-compat",[b6]:"fire-fst",[S6]:"fire-fst-compat","fire-js":"fire-js",[x6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new Map,Fy=new Map;function T6(t,e){try{t.container.addComponent(e)}catch(n){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ws(t){const e=t.name;if(Fy.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;Fy.set(e,t);for(const n of bd.values())T6(n,t);return!0}function zf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},fr=new bc("app","Firebase",C6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=E6;function yA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ny,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw fr.create("bad-app-name",{appName:String(r)});if(n||(n=y4()),!n)throw fr.create("no-options");const s=bd.get(r);if(s){if(_d(n,s.options)&&_d(i,s.config))return s;throw fr.create("duplicate-app",{appName:r})}const o=new N4(r);for(const l of Fy.values())o.addComponent(l);const a=new I6(n,i,o);return bd.set(r,a),a}function mw(t=Ny){const e=bd.get(t);if(!e&&t===Ny)return yA();if(!e)throw fr.create("no-app",{appName:t});return e}function Wn(t,e,n){var i;let r=(i=k6[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(a.join(" "));return}ws(new xr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="firebase-heartbeat-database",A6=1,Hl="firebase-heartbeat-store";let Pg=null;function vA(){return Pg||(Pg=Y4(P6,A6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Hl)}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),Pg}async function R6(t){try{return(await vA()).transaction(Hl).objectStore(Hl).get(wA(t))}catch(e){if(e instanceof Jn)vs.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vs.warn(n.message)}}}async function Nx(t,e){try{const i=(await vA()).transaction(Hl,"readwrite");return await i.objectStore(Hl).put(e,wA(t)),i.done}catch(n){if(n instanceof Jn)vs.warn(n.message);else{const i=fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vs.warn(i.message)}}}function wA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=1024,O6=30*24*60*60*1e3;class D6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new N6(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Fx();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=O6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fx(),{heartbeatsToSend:n,unsentEntries:i}=L6(this._heartbeatsCache.heartbeats),r=wd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Fx(){return new Date().toISOString().substring(0,10)}function L6(t,e=M6){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),$x(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),$x(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class N6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E4()?k4().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await R6(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Nx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Nx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $x(t){return wd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t){ws(new xr("platform-logger",e=>new J4(e),"PRIVATE")),ws(new xr("heartbeat",e=>new D6(e),"PRIVATE")),Wn(Ly,Lx,t),Wn(Ly,Lx,"esm2017"),Wn("fire-js","")}F6("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="firebasestorage.googleapis.com",bA="storageBucket",$6=2*60*1e3,V6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe extends Jn{constructor(e,n,i=0){super(Ag(e),`Firebase Storage: ${n} (${Ag(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ag(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function Ag(t){return"storage/"+t}function yw(){const t="An unknown error occurred, please check the error payload for server response.";return new Fe("unknown",t)}function B6(t){return new Fe("object-not-found","Object '"+t+"' does not exist.")}function U6(t){return new Fe("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function j6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Fe("unauthenticated",t)}function z6(){return new Fe("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function H6(t){return new Fe("unauthorized","User does not have permission to access '"+t+"'.")}function W6(){return new Fe("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function K6(){return new Fe("canceled","User canceled the upload/download.")}function q6(t){return new Fe("invalid-url","Invalid URL '"+t+"'.")}function G6(t){return new Fe("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function Y6(){return new Fe("no-default-bucket","No default bucket found. Did you set the '"+bA+"' property when initializing the app?")}function X6(){return new Fe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Q6(){return new Fe("no-download-url","The given file does not have any download URLs.")}function J6(t){return new Fe("unsupported-environment",`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $y(t){return new Fe("invalid-argument",t)}function SA(){return new Fe("app-deleted","The Firebase app was deleted.")}function Z6(t){return new Fe("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function il(t,e){return new Fe("invalid-format","String does not match format '"+t+"': "+e)}function va(t){throw new Fe("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Yt.makeFromUrl(e,n)}catch{return new Yt(e,"")}if(i.path==="")return i;throw G6(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function c(_){_.path_=decodeURIComponent(_.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${u}/b/${r}/o${d}`,"i"),p={bucket:1,path:3},g=n===_A?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",y=new RegExp(`^https?://${g}/${r}/${v}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let _=0;_<w.length;_++){const b=w[_],S=b.regex.exec(e);if(S){const E=S[b.indices.bucket];let k=S[b.indices.path];k||(k=""),i=new Yt(E,k),b.postModify(i);break}}if(i==null)throw q6(e);return i}}class e8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(t,e,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function h(v){r=setTimeout(()=>{r=null,t(f,l())},v)}function d(){s&&clearTimeout(s)}function f(v,...y){if(c){d();return}if(v){d(),u.call(null,v,...y);return}if(l()||o){d(),u.call(null,v,...y);return}i<64&&(i*=2);let w;a===1?(a=2,w=0):w=(i+Math.random())*1e3,h(w)}let p=!1;function g(v){p||(p=!0,d(),!c&&(r!==null?(v||(a=2),clearTimeout(r),h(0)):v||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function n8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(t){return t!==void 0}function r8(t){return typeof t=="object"&&!Array.isArray(t)}function vw(t){return typeof t=="string"||t instanceof String}function Vx(t){return ww()&&t instanceof Blob}function ww(){return typeof Blob<"u"&&!_4()}function Bx(t,e,n,i){if(i<e)throw $y(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw $y(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function xA(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var os;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(os||(os={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e,n,i,r,s,o,a,l,c,u,h,d=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new Tu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===os.NO_ERROR,l=s.getStatus();if(!a||s8(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===os.ABORT;i(!1,new Tu(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;i(!0,new Tu(c,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());i8(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=yw();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){const l=this.appDelete_?SA():K6();o(l)}else{const l=W6();o(l)}};this.canceled_?n(!1,new Tu(!1,null,!0)):this.backoffId_=t8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&n8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Tu{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function a8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function l8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function c8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function u8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function h8(t,e,n,i,r,s,o=!0){const a=xA(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return c8(c,e),a8(c,n),l8(c,s),u8(c,i),new o8(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function f8(...t){const e=d8();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(ww())return new Blob(t);throw new Fe("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function p8(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(t){if(typeof atob>"u")throw J6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Rg{constructor(e,n){this.data=e,this.contentType=n||null}}function m8(t,e){switch(t){case $n.RAW:return new Rg(EA(e));case $n.BASE64:case $n.BASE64URL:return new Rg(kA(t,e));case $n.DATA_URL:return new Rg(v8(e),w8(e))}throw yw()}function EA(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=i,o=t.charCodeAt(++n);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function y8(t){let e;try{e=decodeURIComponent(t)}catch{throw il($n.DATA_URL,"Malformed data URL.")}return EA(e)}function kA(t,e){switch(t){case $n.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw il(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case $n.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw il(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=g8(e)}catch(r){throw r.message.includes("polyfill")?r:il(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class TA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw il($n.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=_8(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function v8(t){const e=new TA(t);return e.base64?kA($n.BASE64,e.rest):y8(e.rest)}function w8(t){return new TA(t).contentType}function _8(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){let i=0,r="";Vx(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(Vx(this.data_)){const i=this.data_,r=p8(i,e,n);return r===null?null:new Ui(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Ui(i,!0)}}static getBlob(...e){if(ww()){const n=e.map(i=>i instanceof Ui?i.data_:i);return new Ui(f8.apply(null,n))}else{const n=e.map(o=>vw(o)?m8($n.RAW,o).data:o.data_);let i=0;n.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new Ui(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t){let e;try{e=JSON.parse(t)}catch{return null}return r8(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function S8(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function IA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t,e){return e}class Tt{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||x8}}let Cu=null;function E8(t){return!vw(t)||t.length<2?t:IA(t)}function PA(){if(Cu)return Cu;const t=[];t.push(new Tt("bucket")),t.push(new Tt("generation")),t.push(new Tt("metageneration")),t.push(new Tt("name","fullPath",!0));function e(s,o){return E8(o)}const n=new Tt("name");n.xform=e,t.push(n);function i(s,o){return o!==void 0?Number(o):o}const r=new Tt("size");return r.xform=i,t.push(r),t.push(new Tt("timeCreated")),t.push(new Tt("updated")),t.push(new Tt("md5Hash",null,!0)),t.push(new Tt("cacheControl",null,!0)),t.push(new Tt("contentDisposition",null,!0)),t.push(new Tt("contentEncoding",null,!0)),t.push(new Tt("contentLanguage",null,!0)),t.push(new Tt("contentType",null,!0)),t.push(new Tt("metadata","customMetadata",!0)),Cu=t,Cu}function k8(t,e){function n(){const i=t.bucket,r=t.fullPath,s=new Yt(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function T8(t,e,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const o=n[s];i[o.local]=o.xform(i,e[o.server])}return k8(i,t),i}function AA(t,e,n){const i=CA(e);return i===null?null:T8(t,i,n)}function C8(t,e,n,i){const r=CA(e);if(r===null||!vw(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,h=t.fullPath,d="/b/"+o(u)+"/o/"+o(h),f=_w(d,n,i),p=xA({alt:"media",token:c});return f+p})[0]}function I8(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class RA{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(t){if(!t)throw yw()}function P8(t,e){function n(i,r){const s=AA(t,r,e);return MA(s!==null),s}return n}function A8(t,e){function n(i,r){const s=AA(t,r,e);return MA(s!==null),C8(s,r,t.host,t._protocol)}return n}function OA(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=z6():r=j6():n.getStatus()===402?r=U6(t.bucket):n.getStatus()===403?r=H6(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function R8(t){const e=OA(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=B6(t.path)),s.serverResponse=r.serverResponse,s}return n}function M8(t,e,n){const i=e.fullServerUrl(),r=_w(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new RA(r,s,A8(t,n),o);return a.errorHandler=R8(e),a}function O8(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function D8(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=O8(null,e)),i}function L8(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let _=0;_<2;_++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=D8(e,i,r),u=I8(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+l+"--",f=Ui.getBlob(h,i,d);if(f===null)throw X6();const p={name:c.fullPath},g=_w(s,t.host,t._protocol),v="POST",y=t.maxUploadRetryTime,m=new RA(g,v,P8(t,n),y);return m.urlParams=p,m.headers=o,m.body=f.uploadData(),m.errorHandler=OA(e),m}class N8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=os.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=os.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=os.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw va("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw va("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw va("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw va("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw va("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class F8 extends N8{initXhr(){this.xhr_.responseType="text"}}function DA(){return new F8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n){this._service=e,n instanceof Yt?this._location=n:this._location=Yt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _s(e,n)}get root(){const e=new Yt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IA(this._location.path)}get storage(){return this._service}get parent(){const e=b8(this._location.path);if(e===null)return null;const n=new Yt(this._location.bucket,e);return new _s(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Z6(e)}}function $8(t,e,n){t._throwIfRoot("uploadBytes");const i=L8(t.storage,t._location,PA(),new Ui(e,!0),n);return t.storage.makeRequestWithTokens(i,DA).then(r=>({metadata:r,ref:t}))}function V8(t){t._throwIfRoot("getDownloadURL");const e=M8(t.storage,t._location,PA());return t.storage.makeRequestWithTokens(e,DA).then(n=>{if(n===null)throw Q6();return n})}function B8(t,e){const n=S8(t._location.path,e),i=new Yt(t._location.bucket,n);return new _s(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(t){return/^[A-Za-z]+:\/\//.test(t)}function j8(t,e){return new _s(t,e)}function LA(t,e){if(t instanceof bw){const n=t;if(n._bucket==null)throw Y6();const i=new _s(n,n._bucket);return e!=null?LA(i,e):i}else return e!==void 0?B8(t,e):t}function z8(t,e){if(e&&U8(e)){if(t instanceof bw)return j8(t,e);throw $y("To use ref(service, url), the first argument must be a Storage instance.")}else return LA(t,e)}function Ux(t,e){const n=e==null?void 0:e[bA];return n==null?null:Yt.makeFromBucketSpec(n,t)}function H8(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:pA(r,t.app.options.projectId))}class bw{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=_A,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$6,this._maxUploadRetryTime=V6,this._requests=new Set,r!=null?this._bucket=Yt.makeFromBucketSpec(r,this._host):this._bucket=Ux(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yt.makeFromBucketSpec(this._url,e):this._bucket=Ux(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Bx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Bx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _s(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new e8(SA());{const o=h8(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const jx="@firebase/storage",zx="0.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="storage";function W8(t,e,n){return t=Mt(t),$8(t,e,n)}function K8(t){return t=Mt(t),V8(t)}function q8(t,e){return t=Mt(t),z8(t,e)}function G8(t=mw(),e){t=Mt(t);const i=zf(t,NA).getImmediate({identifier:e}),r=dA("storage");return r&&Y8(i,...r),i}function Y8(t,e,n,i={}){H8(t,e,n,i)}function X8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new bw(n,i,r,e,Yo)}function Q8(){ws(new xr(NA,X8,"PUBLIC").setMultipleInstances(!0)),Wn(jx,zx,""),Wn(jx,zx,"esm2017")}Q8();var J8="firebase",Z8="9.16.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(J8,Z8,"app");var eK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F,Sw=Sw||{},K=eK||self;function Sd(){}function Hf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function xc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function tK(t){return Object.prototype.hasOwnProperty.call(t,Mg)&&t[Mg]||(t[Mg]=++nK)}var Mg="closure_uid_"+(1e9*Math.random()>>>0),nK=0;function iK(t,e,n){return t.call.apply(t.bind,arguments)}function rK(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function _t(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_t=iK:_t=rK,_t.apply(null,arguments)}function Iu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function ut(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function Rr(){this.s=this.s,this.o=this.o}var sK=0;Rr.prototype.s=!1;Rr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),sK!=0)&&tK(this)};Rr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const FA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function xw(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function Hx(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Hf(i)){const r=t.length||0,s=i.length||0;t.length=r+s;for(let o=0;o<s;o++)t[r+o]=i[o]}else t.push(i)}}function bt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}bt.prototype.h=function(){this.defaultPrevented=!0};var oK=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{K.addEventListener("test",Sd,e),K.removeEventListener("test",Sd,e)}catch{}return t}();function xd(t){return/^[\s\xa0]*$/.test(t)}var Wx=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Og(t,e){return t<e?-1:t>e?1:0}function Wf(){var t=K.navigator;return t&&(t=t.userAgent)?t:""}function Nn(t){return Wf().indexOf(t)!=-1}function Ew(t){return Ew[" "](t),t}Ew[" "]=Sd;function aK(t){var e=uK;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var lK=Nn("Opera"),Ro=Nn("Trident")||Nn("MSIE"),$A=Nn("Edge"),Vy=$A||Ro,VA=Nn("Gecko")&&!(Wf().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge"))&&!(Nn("Trident")||Nn("MSIE"))&&!Nn("Edge"),cK=Wf().toLowerCase().indexOf("webkit")!=-1&&!Nn("Edge");function BA(){var t=K.document;return t?t.documentMode:void 0}var Ed;e:{var Dg="",Lg=function(){var t=Wf();if(VA)return/rv:([^\);]+)(\)|;)/.exec(t);if($A)return/Edge\/([\d\.]+)/.exec(t);if(Ro)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(cK)return/WebKit\/(\S+)/.exec(t);if(lK)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Lg&&(Dg=Lg?Lg[1]:""),Ro){var Ng=BA();if(Ng!=null&&Ng>parseFloat(Dg)){Ed=String(Ng);break e}}Ed=Dg}var uK={};function hK(){return aK(function(){let t=0;const e=Wx(String(Ed)).split("."),n=Wx("9").split("."),i=Math.max(e.length,n.length);for(let o=0;t==0&&o<i;o++){var r=e[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],r[0].length==0&&s[0].length==0)break;t=Og(r[1].length==0?0:parseInt(r[1],10),s[1].length==0?0:parseInt(s[1],10))||Og(r[2].length==0,s[2].length==0)||Og(r[2],s[2]),r=r[3],s=s[3]}while(t==0)}return 0<=t})}var By;if(K.document&&Ro){var Kx=BA();By=Kx||parseInt(Ed,10)||void 0}else By=void 0;var dK=By;function Wl(t,e){if(bt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(VA){e:{try{Ew(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:fK[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wl.X.h.call(this)}}ut(Wl,bt);var fK={2:"touch",3:"pen",4:"mouse"};Wl.prototype.h=function(){Wl.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ec="closure_listenable_"+(1e6*Math.random()|0),pK=0;function gK(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ha=r,this.key=++pK,this.ba=this.ea=!1}function Kf(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function kw(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function UA(t){const e={};for(const n in t)e[n]=t[n];return e}const qx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jA(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<qx.length;s++)n=qx[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function qf(t){this.src=t,this.g={},this.h=0}qf.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=jy(t,e,i,r);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new gK(e,this.src,s,!!i,r),e.ea=n,t.push(e)),e};function Uy(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=FA(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Kf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function jy(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==i)return r}return-1}var Tw="closure_lm_"+(1e6*Math.random()|0),Fg={};function zA(t,e,n,i,r){if(i&&i.once)return WA(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)zA(t,e[s],n,i,r);return null}return n=Pw(n),t&&t[Ec]?t.N(e,n,xc(i)?!!i.capture:!!i,r):HA(t,e,n,!1,i,r)}function HA(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=xc(r)?!!r.capture:!!r,a=Iw(t);if(a||(t[Tw]=a=new qf(t)),n=a.add(e,n,i,o,s),n.proxy)return n;if(i=mK(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)oK||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(qA(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function mK(){function t(n){return e.call(t.src,t.listener,n)}const e=yK;return t}function WA(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)WA(t,e[s],n,i,r);return null}return n=Pw(n),t&&t[Ec]?t.O(e,n,xc(i)?!!i.capture:!!i,r):HA(t,e,n,!0,i,r)}function KA(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)KA(t,e[s],n,i,r);else i=xc(i)?!!i.capture:!!i,n=Pw(n),t&&t[Ec]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=jy(s,n,i,r),-1<n&&(Kf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Iw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=jy(e,n,i,r)),(n=-1<t?e[t]:null)&&Cw(n))}function Cw(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Ec])Uy(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(qA(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Iw(e))?(Uy(n,t),n.h==0&&(n.src=null,e[Tw]=null)):Kf(t)}}}function qA(t){return t in Fg?Fg[t]:Fg[t]="on"+t}function yK(t,e){if(t.ba)t=!0;else{e=new Wl(e,this);var n=t.listener,i=t.ha||t.src;t.ea&&Cw(t),t=n.call(i,e)}return t}function Iw(t){return t=t[Tw],t instanceof qf?t:null}var $g="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pw(t){return typeof t=="function"?t:(t[$g]||(t[$g]=function(e){return t.handleEvent(e)}),t[$g])}function nt(){Rr.call(this),this.i=new qf(this),this.P=this,this.I=null}ut(nt,Rr);nt.prototype[Ec]=!0;nt.prototype.removeEventListener=function(t,e,n,i){KA(this,t,e,n,i)};function lt(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new bt(e,t);else if(e instanceof bt)e.target=e.target||t;else{var r=e;e=new bt(i,t),jA(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=Pu(o,i,!0,e)&&r}if(o=e.g=t,r=Pu(o,i,!0,e)&&r,r=Pu(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)o=e.g=n[s],r=Pu(o,i,!1,e)&&r}nt.prototype.M=function(){if(nt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Kf(n[i]);delete t.g[e],t.h--}}this.I=null};nt.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};nt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Pu(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Uy(t.i,o),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var Aw=K.JSON.stringify;function vK(){var t=XA;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class wK{constructor(){this.h=this.g=null}add(e,n){const i=GA.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var GA=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new _K,t=>t.reset());class _K{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function bK(t){K.setTimeout(()=>{throw t},0)}function YA(t,e){zy||SK(),Hy||(zy(),Hy=!0),XA.add(t,e)}var zy;function SK(){var t=K.Promise.resolve(void 0);zy=function(){t.then(xK)}}var Hy=!1,XA=new wK;function xK(){for(var t;t=vK();){try{t.h.call(t.g)}catch(n){bK(n)}var e=GA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Hy=!1}function Gf(t,e){nt.call(this),this.h=t||1,this.g=e||K,this.j=_t(this.lb,this),this.l=Date.now()}ut(Gf,nt);F=Gf.prototype;F.ca=!1;F.R=null;F.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),lt(this,"tick"),this.ca&&(Rw(this),this.start()))}};F.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Rw(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}F.M=function(){Gf.X.M.call(this),Rw(this),delete this.g};function Mw(t,e,n){if(typeof t=="function")n&&(t=_t(t,n));else if(t&&typeof t.handleEvent=="function")t=_t(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:K.setTimeout(t,e||0)}function QA(t){t.g=Mw(()=>{t.g=null,t.i&&(t.i=!1,QA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class EK extends Rr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:QA(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kl(t){Rr.call(this),this.h=t,this.g={}}ut(Kl,Rr);var Gx=[];function JA(t,e,n,i){Array.isArray(n)||(n&&(Gx[0]=n.toString()),n=Gx);for(var r=0;r<n.length;r++){var s=zA(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function ZA(t){kw(t.g,function(e,n){this.g.hasOwnProperty(n)&&Cw(e)},t),t.g={}}Kl.prototype.M=function(){Kl.X.M.call(this),ZA(this)};Kl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Yf(){this.g=!0}Yf.prototype.Aa=function(){this.g=!1};function kK(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function TK(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+o})}function to(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+IK(t,n)+(i?" "+i:"")})}function CK(t,e){t.info(function(){return"TIMEOUT: "+e})}Yf.prototype.info=function(){};function IK(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Aw(n)}catch{return e}}var As={},Yx=null;function Xf(){return Yx=Yx||new nt}As.Pa="serverreachability";function eR(t){bt.call(this,As.Pa,t)}ut(eR,bt);function ql(t){const e=Xf();lt(e,new eR(e))}As.STAT_EVENT="statevent";function tR(t,e){bt.call(this,As.STAT_EVENT,t),this.stat=e}ut(tR,bt);function Pt(t){const e=Xf();lt(e,new tR(e,t))}As.Qa="timingevent";function nR(t,e){bt.call(this,As.Qa,t),this.size=e}ut(nR,bt);function kc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){t()},e)}var Qf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},iR={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ow(){}Ow.prototype.h=null;function Xx(t){return t.h||(t.h=t.i())}function rR(){}var Tc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Dw(){bt.call(this,"d")}ut(Dw,bt);function Lw(){bt.call(this,"c")}ut(Lw,bt);var Wy;function Jf(){}ut(Jf,Ow);Jf.prototype.g=function(){return new XMLHttpRequest};Jf.prototype.i=function(){return{}};Wy=new Jf;function Cc(t,e,n,i){this.l=t,this.j=e,this.m=n,this.U=i||1,this.S=new Kl(this),this.O=PK,t=Vy?125:void 0,this.T=new Gf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new sR}function sR(){this.i=null,this.g="",this.h=!1}var PK=45e3,Ky={},kd={};F=Cc.prototype;F.setTimeout=function(t){this.O=t};function qy(t,e,n){t.K=1,t.v=ep(xi(e)),t.s=n,t.P=!0,oR(t,null)}function oR(t,e){t.F=Date.now(),Ic(t),t.A=xi(t.v);var n=t.A,i=t.U;Array.isArray(i)||(i=[String(i)]),pR(n.i,"t",i),t.C=0,n=t.l.H,t.h=new sR,t.g=LR(t.l,n?e:null,!t.s),0<t.N&&(t.L=new EK(_t(t.La,t,t.g),t.N)),JA(t.S,t.g,"readystatechange",t.ib),e=t.H?UA(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),ql(),kK(t.j,t.u,t.A,t.m,t.U,t.s)}F.ib=function(t){t=t.target;const e=this.L;e&&di(t)==3?e.l():this.La(t)};F.La=function(t){try{if(t==this.g)e:{const u=di(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>u)&&(u!=3||Vy||this.g&&(this.h.h||this.g.fa()||eE(this.g)))){this.I||u!=4||e==7||(e==8||0>=h?ql(3):ql(2)),Zf(this);var n=this.g.aa();this.Y=n;t:if(aR(this)){var i=eE(this.g);t="";var r=i.length,s=di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jr(this),rl(this);var o="";break t}this.h.i=new K.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,TK(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xd(a)){var c=a;break t}}c=null}if(n=c)to(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Gy(this,n);else{this.i=!1,this.o=3,Pt(12),Jr(this),rl(this);break e}}this.P?(lR(this,u,o),Vy&&this.i&&u==3&&(JA(this.S,this.T,"tick",this.hb),this.T.start())):(to(this.j,this.m,o,null),Gy(this,o)),u==4&&Jr(this),this.i&&!this.I&&(u==4?RR(this.l,this):(this.i=!1,Ic(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Pt(12)):(this.o=0,Pt(13)),Jr(this),rl(this)}}}catch{}finally{}};function aR(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function lR(t,e,n){let i=!0,r;for(;!t.I&&t.C<n.length;)if(r=AK(t,n),r==kd){e==4&&(t.o=4,Pt(14),i=!1),to(t.j,t.m,null,"[Incomplete Response]");break}else if(r==Ky){t.o=4,Pt(15),to(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else to(t.j,t.m,r,null),Gy(t,r);aR(t)&&r!=kd&&r!=Ky&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Pt(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),jw(e),e.K=!0,Pt(11))):(to(t.j,t.m,n,"[Invalid Chunked Response]"),Jr(t),rl(t))}F.hb=function(){if(this.g){var t=di(this.g),e=this.g.fa();this.C<e.length&&(Zf(this),lR(this,t,e),this.i&&t!=4&&Ic(this))}};function AK(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?kd:(n=Number(e.substring(n,i)),isNaN(n)?Ky:(i+=1,i+n>e.length?kd:(e=e.substr(i,n),t.C=i+n,e)))}F.cancel=function(){this.I=!0,Jr(this)};function Ic(t){t.V=Date.now()+t.O,cR(t,t.O)}function cR(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=kc(_t(t.gb,t),e)}function Zf(t){t.B&&(K.clearTimeout(t.B),t.B=null)}F.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(CK(this.j,this.A),this.K!=2&&(ql(),Pt(17)),Jr(this),this.o=2,rl(this)):cR(this,this.V-t)};function rl(t){t.l.G==0||t.I||RR(t.l,t)}function Jr(t){Zf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Rw(t.T),ZA(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Gy(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Yy(n.h,t))){if(!t.J&&Yy(n.h,t)&&n.G==3){try{var i=n.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Id(n),ip(n);else break e;Uw(n),Pt(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&n.A==0&&!n.v&&(n.v=kc(_t(n.cb,n),6e3));if(1>=yR(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Zr(n,11)}else if((t.J||n.g==t)&&Id(n),!xd(e))for(r=n.Fa.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.T=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.I=c[1],n.ka=c[2];const u=c[3];u!=null&&(n.ma=u,n.j.info("VER="+n.ma));const h=c[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(i=1.5*d,n.J=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.h;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Nw(s,s.h),s.h=null))}if(i.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.za=g,ke(i.F,i.D,g))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),i=n;var o=t;if(i.sa=DR(i,i.H?i.ka:null,i.V),o.J){vR(i.h,o);var a=o,l=i.J;l&&a.setTimeout(l),a.B&&(Zf(a),Ic(a)),i.g=o}else PR(i);0<n.i.length&&rp(n)}else c[0]!="stop"&&c[0]!="close"||Zr(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Zr(n,7):Bw(n):c[0]!="noop"&&n.l&&n.l.wa(c),n.A=0)}}ql(4)}catch{}}function RK(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Hf(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function MK(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Hf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function uR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Hf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=MK(t),i=RK(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}var hR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OK(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function as(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof as){this.h=e!==void 0?e:t.h,Td(this,t.j),this.s=t.s,this.g=t.g,Cd(this,t.m),this.l=t.l,e=t.i;var n=new Gl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Qx(this,n),this.o=t.o}else t&&(n=String(t).match(hR))?(this.h=!!e,Td(this,n[1]||"",!0),this.s=Oa(n[2]||""),this.g=Oa(n[3]||"",!0),Cd(this,n[4]),this.l=Oa(n[5]||"",!0),Qx(this,n[6]||"",!0),this.o=Oa(n[7]||"")):(this.h=!!e,this.i=new Gl(null,this.h))}as.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Da(e,Jx,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Da(e,Jx,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Da(n,n.charAt(0)=="/"?NK:LK,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Da(n,$K)),t.join("")};function xi(t){return new as(t)}function Td(t,e,n){t.j=n?Oa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Cd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Qx(t,e,n){e instanceof Gl?(t.i=e,VK(t.i,t.h)):(n||(e=Da(e,FK)),t.i=new Gl(e,t.h))}function ke(t,e,n){t.i.set(e,n)}function ep(t){return ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Oa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Da(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,DK),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function DK(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Jx=/[#\/\?@]/g,LK=/[#\?:]/g,NK=/[#\?]/g,FK=/[#\?@]/g,$K=/#/g;function Gl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Mr(t){t.g||(t.g=new Map,t.h=0,t.i&&OK(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}F=Gl.prototype;F.add=function(t,e){Mr(this),this.i=null,t=Xo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function dR(t,e){Mr(t),e=Xo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function fR(t,e){return Mr(t),e=Xo(t,e),t.g.has(e)}F.forEach=function(t,e){Mr(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};F.oa=function(){Mr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n};F.W=function(t){Mr(this);let e=[];if(typeof t=="string")fR(this,t)&&(e=e.concat(this.g.get(Xo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};F.set=function(t,e){return Mr(this),this.i=null,t=Xo(this,t),fR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};F.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function pR(t,e,n){dR(t,e),0<n.length&&(t.i=null,t.g.set(Xo(t,e),xw(n)),t.h+=n.length)}F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};function Xo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function VK(t,e){e&&!t.j&&(Mr(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(dR(this,i),pR(this,r,n))},t)),t.j=e}var BK=class{constructor(e,n){this.h=e,this.g=n}};function gR(t){this.l=t||UK,K.PerformanceNavigationTiming?(t=K.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(K.g&&K.g.Ga&&K.g.Ga()&&K.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var UK=10;function mR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function yR(t){return t.h?1:t.g?t.g.size:0}function Yy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Nw(t,e){t.g?t.g.add(e):t.h=e}function vR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}gR.prototype.cancel=function(){if(this.i=wR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function wR(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return xw(t.i)}function Fw(){}Fw.prototype.stringify=function(t){return K.JSON.stringify(t,void 0)};Fw.prototype.parse=function(t){return K.JSON.parse(t,void 0)};function jK(){this.g=new Fw}function zK(t,e,n){const i=n||"";try{uR(t,function(r,s){let o=r;xc(r)&&(o=Aw(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function HK(t,e){const n=new Yf;if(K.Image){const i=new Image;i.onload=Iu(Au,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Iu(Au,n,i,"TestLoadImage: error",!1,e),i.onabort=Iu(Au,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Iu(Au,n,i,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Au(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Pc(t){this.l=t.ac||null,this.j=t.jb||!1}ut(Pc,Ow);Pc.prototype.g=function(){return new tp(this.l,this.j)};Pc.prototype.i=function(t){return function(){return t}}({});function tp(t,e){nt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=$w,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ut(tp,nt);var $w=0;F=tp.prototype;F.open=function(t,e){if(this.readyState!=$w)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Yl(this)};F.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||K).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ac(this)),this.readyState=$w};F.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Yl(this)),this.g&&(this.readyState=3,Yl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_R(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function _R(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}F.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ac(this):Yl(this),this.readyState==3&&_R(this)}};F.Va=function(t){this.g&&(this.response=this.responseText=t,Ac(this))};F.Ua=function(t){this.g&&(this.response=t,Ac(this))};F.ga=function(){this.g&&Ac(this)};function Ac(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Yl(t)}F.setRequestHeader=function(t,e){this.v.append(t,e)};F.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};F.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Yl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(tp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var WK=K.JSON.parse;function Ne(t){nt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bR,this.K=this.L=!1}ut(Ne,nt);var bR="",KK=/^https?$/i,qK=["POST","PUT"];F=Ne.prototype;F.Ka=function(t){this.L=t};F.da=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Wy.g(),this.C=this.u?Xx(this.u):Xx(Wy),this.g.onreadystatechange=_t(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){Zx(this,s);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=K.FormData&&t instanceof K.FormData,!(0<=FA(qK,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ER(this),0<this.B&&((this.K=GK(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_t(this.qa,this)):this.A=Mw(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Zx(this,s)}};function GK(t){return Ro&&hK()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}F.qa=function(){typeof Sw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lt(this,"timeout"),this.abort(8))};function Zx(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,SR(t),np(t)}function SR(t){t.D||(t.D=!0,lt(t,"complete"),lt(t,"error"))}F.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,lt(this,"complete"),lt(this,"abort"),np(this))};F.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),np(this,!0)),Ne.X.M.call(this)};F.Ha=function(){this.s||(this.F||this.v||this.l?xR(this):this.fb())};F.fb=function(){xR(this)};function xR(t){if(t.h&&typeof Sw<"u"&&(!t.C[1]||di(t)!=4||t.aa()!=2)){if(t.v&&di(t)==4)Mw(t.Ha,0,t);else if(lt(t,"readystatechange"),di(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var r=String(t.H).match(hR)[1]||null;if(!r&&K.self&&K.self.location){var s=K.self.location.protocol;r=s.substr(0,s.length-1)}i=!KK.test(r?r.toLowerCase():"")}n=i}if(n)lt(t,"complete"),lt(t,"success");else{t.m=6;try{var o=2<di(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",SR(t)}}finally{np(t)}}}}function np(t,e){if(t.g){ER(t);const n=t.g,i=t.C[0]?Sd:null;t.g=null,t.C=null,e||lt(t,"ready");try{n.onreadystatechange=i}catch{}}}function ER(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(K.clearTimeout(t.A),t.A=null)}function di(t){return t.g?t.g.readyState:0}F.aa=function(){try{return 2<di(this)?this.g.status:-1}catch{return-1}};F.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};F.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),WK(e)}};function eE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case bR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}F.Ea=function(){return this.m};F.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function kR(t){let e="";return kw(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function Vw(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=kR(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ke(t,e,n))}function wa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function TR(t){this.Ca=0,this.i=[],this.j=new Yf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=wa("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=wa("baseRetryDelayMs",5e3,t),this.bb=wa("retryDelaySeedMs",1e4,t),this.$a=wa("forwardChannelMaxRetries",2,t),this.ta=wa("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new gR(t&&t.concurrentRequestLimit),this.Fa=new jK,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}F=TR.prototype;F.ma=8;F.G=1;function Bw(t){if(CR(t),t.G==3){var e=t.U++,n=xi(t.F);ke(n,"SID",t.I),ke(n,"RID",e),ke(n,"TYPE","terminate"),Rc(t,n),e=new Cc(t,t.j,e,void 0),e.K=2,e.v=ep(xi(n)),n=!1,K.navigator&&K.navigator.sendBeacon&&(n=K.navigator.sendBeacon(e.v.toString(),"")),!n&&K.Image&&(new Image().src=e.v,n=!0),n||(e.g=LR(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ic(e)}OR(t)}function ip(t){t.g&&(jw(t),t.g.cancel(),t.g=null)}function CR(t){ip(t),t.u&&(K.clearTimeout(t.u),t.u=null),Id(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&K.clearTimeout(t.m),t.m=null)}function rp(t){mR(t.h)||t.m||(t.m=!0,YA(t.Ja,t),t.C=0)}function YK(t,e){return yR(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=kc(_t(t.Ja,t,e),MR(t,t.C)),t.C++,!0)}F.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new Cc(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=UA(s),jA(s,this.S)):s=this.S),this.o!==null||this.N||(r.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var i=this.i[n];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=IR(this,r,e),n=xi(this.F),ke(n,"RID",t),ke(n,"CVER",22),this.D&&ke(n,"X-HTTP-Session-Id",this.D),Rc(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(kR(s)))+"&"+e:this.o&&Vw(n,this.o,s)),Nw(this.h,r),this.Ya&&ke(n,"TYPE","init"),this.O?(ke(n,"$req",e),ke(n,"SID","null"),r.Z=!0,qy(r,n,null)):qy(r,n,e),this.G=2}}else this.G==3&&(t?tE(this,t):this.i.length==0||mR(this.h)||tE(this))};function tE(t,e){var n;e?n=e.m:n=t.U++;const i=xi(t.F);ke(i,"SID",t.I),ke(i,"RID",n),ke(i,"AID",t.T),Rc(t,i),t.o&&t.s&&Vw(i,t.o,t.s),n=new Cc(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=IR(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Nw(t.h,n),qy(n,i,e)}function Rc(t,e){t.ia&&kw(t.ia,function(n,i){ke(e,i,n)}),t.l&&uR({},function(n,i){ke(e,i,n)})}function IR(t,e,n){n=Math.min(t.i.length,n);var i=t.l?_t(t.l.Ra,t.l,t):null;e:{var r=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=r[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=r[l].h;const u=r[l].g;if(c-=s,0>c)s=Math.max(0,r[l].h-100),a=!1;else try{zK(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,i}function PR(t){t.g||t.u||(t.Z=1,YA(t.Ia,t),t.A=0)}function Uw(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=kc(_t(t.Ia,t),MR(t,t.A)),t.A++,!0)}F.Ia=function(){if(this.u=null,AR(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=kc(_t(this.eb,this),t)}};F.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Pt(10),ip(this),AR(this))};function jw(t){t.B!=null&&(K.clearTimeout(t.B),t.B=null)}function AR(t){t.g=new Cc(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=xi(t.sa);ke(e,"RID","rpc"),ke(e,"SID",t.I),ke(e,"CI",t.L?"0":"1"),ke(e,"AID",t.T),ke(e,"TYPE","xmlhttp"),Rc(t,e),t.o&&t.s&&Vw(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=ep(xi(e)),n.s=null,n.P=!0,oR(n,t)}F.cb=function(){this.v!=null&&(this.v=null,ip(this),Uw(this),Pt(19))};function Id(t){t.v!=null&&(K.clearTimeout(t.v),t.v=null)}function RR(t,e){var n=null;if(t.g==e){Id(t),jw(t),t.g=null;var i=2}else if(Yy(t.h,e))n=e.D,vR(t.h,e),i=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;i=Xf(),lt(i,new nR(i,n)),rp(t)}else PR(t);else if(r=e.o,r==3||r==0&&0<t.pa||!(i==1&&YK(t,e)||i==2&&Uw(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:Zr(t,5);break;case 4:Zr(t,10);break;case 3:Zr(t,6);break;default:Zr(t,2)}}}function MR(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Zr(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var i=_t(t.kb,t);n||(n=new as("//www.google.com/images/cleardot.gif"),K.location&&K.location.protocol=="http"||Td(n,"https"),ep(n)),HK(n.toString(),i)}else Pt(2);t.G=0,t.l&&t.l.va(e),OR(t),CR(t)}F.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function OR(t){if(t.G=0,t.la=[],t.l){const e=wR(t.h);(e.length!=0||t.i.length!=0)&&(Hx(t.la,e),Hx(t.la,t.i),t.h.i.length=0,xw(t.i),t.i.length=0),t.l.ua()}}function DR(t,e,n){var i=n instanceof as?xi(n):new as(n,void 0);if(i.g!="")e&&(i.g=e+"."+i.g),Cd(i,i.m);else{var r=K.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new as(null,void 0);i&&Td(s,i),e&&(s.g=e),r&&Cd(s,r),n&&(s.l=n),i=s}return n=t.D,e=t.za,n&&e&&ke(i,n,e),ke(i,"VER",t.ma),Rc(t,i),i}function LR(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Ne(new Pc({jb:!0})):new Ne(t.ra),e.Ka(t.H),e}function NR(){}F=NR.prototype;F.xa=function(){};F.wa=function(){};F.va=function(){};F.ua=function(){};F.Ra=function(){};function Pd(){if(Ro&&!(10<=Number(dK)))throw Error("Environmental error: no available transport.")}Pd.prototype.g=function(t,e){return new en(t,e)};function en(t,e){nt.call(this),this.g=new TR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!xd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xd(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Qo(this)}ut(en,nt);en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Pt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=DR(t,null,t.V),rp(t)};en.prototype.close=function(){Bw(this.g)};en.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Aw(t),t=n);e.i.push(new BK(e.ab++,t)),e.G==3&&rp(e)};en.prototype.M=function(){this.g.l=null,delete this.j,Bw(this.g),delete this.g,en.X.M.call(this)};function FR(t){Dw.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ut(FR,Dw);function $R(){Lw.call(this),this.status=1}ut($R,Lw);function Qo(t){this.g=t}ut(Qo,NR);Qo.prototype.xa=function(){lt(this.g,"a")};Qo.prototype.wa=function(t){lt(this.g,new FR(t))};Qo.prototype.va=function(t){lt(this.g,new $R)};Qo.prototype.ua=function(){lt(this.g,"b")};Pd.prototype.createWebChannel=Pd.prototype.g;en.prototype.send=en.prototype.u;en.prototype.open=en.prototype.m;en.prototype.close=en.prototype.close;Qf.NO_ERROR=0;Qf.TIMEOUT=8;Qf.HTTP_ERROR=6;iR.COMPLETE="complete";rR.EventType=Tc;Tc.OPEN="a";Tc.CLOSE="b";Tc.ERROR="c";Tc.MESSAGE="d";nt.prototype.listen=nt.prototype.N;Ne.prototype.listenOnce=Ne.prototype.O;Ne.prototype.getLastError=Ne.prototype.Oa;Ne.prototype.getLastErrorCode=Ne.prototype.Ea;Ne.prototype.getStatus=Ne.prototype.aa;Ne.prototype.getResponseJson=Ne.prototype.Sa;Ne.prototype.getResponseText=Ne.prototype.fa;Ne.prototype.send=Ne.prototype.da;Ne.prototype.setWithCredentials=Ne.prototype.Ka;var XK=function(){return new Pd},QK=function(){return Xf()},Vg=Qf,JK=iR,ZK=As,nE={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},eq=Pc,Ru=rR,tq=Ne;const iE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="9.16.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new pw("@firebase/firestore");function rE(){return bs.logLevel}function $(t,...e){if(bs.logLevel<=oe.DEBUG){const n=e.map(zw);bs.debug(`Firestore (${Jo}): ${t}`,...n)}}function Ei(t,...e){if(bs.logLevel<=oe.ERROR){const n=e.map(zw);bs.error(`Firestore (${Jo}): ${t}`,...n)}}function Xy(t,...e){if(bs.logLevel<=oe.WARN){const n=e.map(zw);bs.warn(`Firestore (${Jo}): ${t}`,...n)}}function zw(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t="Unexpected state"){const e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+t;throw Ei(e),new Error(e)}function ye(t,e){t||q()}function Q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends Jn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class iq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rq{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pr,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ye(typeof i.accessToken=="string"),new VR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new gt(e)}}class sq{constructor(e,n,i,r){this.h=e,this.l=n,this.m=i,this.g=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ye(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class oq{constructor(e,n,i,r){this.h=e,this.l=n,this.m=i,this.g=r}getToken(){return Promise.resolve(new sq(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aq{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lq{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const i=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string"),this.A=n.token,new aq(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=cq(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function ae(t,e){return t<e?-1:t>e?1:0}function Mo(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Ye(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new Ye(0,0))}static max(){return new Y(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n,i){n===void 0?n=0:n>e.length&&q(),i===void 0?i=e.length-n:i>e.length-n&&q(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Xl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xl?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends Xl{construct(e,n,i){return new Me(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new W(R.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const uq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Xl{construct(e,n,i){return new vt(e,n,i)}static isValidIdentifier(e){return uq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new W(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new W(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new W(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new W(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.path=e}static fromPath(e){return new B(Me.fromString(e))}static fromName(e){return new B(Me.fromString(e).popFirst(5))}static empty(){return new B(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new B(new Me(e.slice()))}}function hq(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Y.fromTimestamp(i===1e9?new Ye(n+1,0):new Ye(n,i));return new Er(r,B.empty(),e)}function dq(t){return new Er(t.readTime,t.key,-1)}class Er{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Er(Y.min(),B.empty(),-1)}static max(){return new Er(Y.max(),B.empty(),-1)}}function fq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==pq)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new A((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):A.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):A.reject(n)}static resolve(e){return new A((n,i)=>{n(e)})}static reject(e){return new A((n,i)=>{i(e)})}static waitFor(e){return new A((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=A.resolve(!1);for(const i of e)n=n.next(r=>r?A.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new A((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,n){return new A((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function Oc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>n.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}Hw.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e,n,i,r,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ql{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t){return t==null}function Ad(t){return t===0&&1/t==-1/0}function yq(t){return typeof t=="number"&&Number.isInteger(t)&&!Ad(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new kt(n)}static fromUint8Array(e){const n=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const vq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(t){if(ye(!!t),typeof t=="string"){let e=0;const n=vq.exec(t);if(ye(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oo(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zR(t){const e=t.mapValue.fields.__previous_value__;return jR(e)?zR(e):e}function Jl(t){const e=kr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jR(t)?4:wq(t)?9007199254740991:10:q()}function Yn(t,e){if(t===e)return!0;const n=Ss(t);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jl(t).isEqual(Jl(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=kr(i.timestampValue),o=kr(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return Oo(i.bytesValue).isEqual(Oo(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return Ue(i.geoPointValue.latitude)===Ue(r.geoPointValue.latitude)&&Ue(i.geoPointValue.longitude)===Ue(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ue(i.integerValue)===Ue(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Ue(i.doubleValue),o=Ue(r.doubleValue);return s===o?Ad(s)===Ad(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Mo(t.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:return function(i,r){const s=i.mapValue.fields||{},o=r.mapValue.fields||{};if(sE(s)!==sE(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Yn(s[a],o[a])))return!1;return!0}(t,e);default:return q()}}function Zl(t,e){return(t.values||[]).find(n=>Yn(n,e))!==void 0}function Do(t,e){if(t===e)return 0;const n=Ss(t),i=Ss(e);if(n!==i)return ae(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(r,s){const o=Ue(r.integerValue||r.doubleValue),a=Ue(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return oE(t.timestampValue,e.timestampValue);case 4:return oE(Jl(t),Jl(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(r,s){const o=Oo(r),a=Oo(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,s){const o=r.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=ae(o[l],a[l]);if(c!==0)return c}return ae(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,s){const o=ae(Ue(r.latitude),Ue(s.latitude));return o!==0?o:ae(Ue(r.longitude),Ue(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,s){const o=r.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Do(o[l],a[l]);if(c)return c}return ae(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Mu.mapValue&&s===Mu.mapValue)return 0;if(r===Mu.mapValue)return 1;if(s===Mu.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=ae(a[u],c[u]);if(h!==0)return h;const d=Do(o[a[u]],l[c[u]]);if(d!==0)return d}return ae(a.length,c.length)}(t.mapValue,e.mapValue);default:throw q()}}function oE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=kr(t),i=kr(e),r=ae(n.seconds,i.seconds);return r!==0?r:ae(n.nanos,i.nanos)}function Lo(t){return Qy(t)}function Qy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const r=kr(i);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Oo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,B.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let r="[",s=!0;for(const o of i.values||[])s?s=!1:r+=",",r+=Qy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${Qy(i.fields[a])}`;return s+"}"}(t.mapValue):q();var e,n}function Jy(t){return!!t&&"integerValue"in t}function Ww(t){return!!t&&"arrayValue"in t}function aE(t){return!!t&&"nullValue"in t}function lE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dh(t){return!!t&&"mapValue"in t}function sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=sl(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function wq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n){this.position=e,this.inclusive=n}}function cE(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=B.comparator(B.fromName(o.referenceValue),n.key):i=Do(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function uE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{}class Ke extends HR{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new bq(e,n,i):n==="array-contains"?new Eq(e,i):n==="in"?new kq(e,i):n==="not-in"?new Tq(e,i):n==="array-contains-any"?new Cq(e,i):new Ke(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Sq(e,i):new xq(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Do(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xn extends HR{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Xn(e,n)}matches(e){return WR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function WR(t){return t.op==="and"}function KR(t){return _q(t)&&WR(t)}function _q(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function Zy(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+Lo(t.value);if(KR(t))return t.filters.map(e=>Zy(e)).join(",");{const e=t.filters.map(n=>Zy(n)).join(",");return`${t.op}(${e})`}}function qR(t,e){return t instanceof Ke?function(n,i){return i instanceof Ke&&n.op===i.op&&n.field.isEqual(i.field)&&Yn(n.value,i.value)}(t,e):t instanceof Xn?function(n,i){return i instanceof Xn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((r,s,o)=>r&&qR(s,i.filters[o]),!0):!1}(t,e):void q()}function GR(t){return t instanceof Ke?function(e){return`${e.field.canonicalString()} ${e.op} ${Lo(e.value)}`}(t):t instanceof Xn?function(e){return e.op.toString()+" {"+e.getFilters().map(GR).join(" ,")+"}"}(t):"Filter"}class bq extends Ke{constructor(e,n,i){super(e,n,i),this.key=B.fromName(i.referenceValue)}matches(e){const n=B.comparator(e.key,this.key);return this.matchesComparison(n)}}class Sq extends Ke{constructor(e,n){super(e,"in",n),this.keys=YR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xq extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=YR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>B.fromName(i.referenceValue))}class Eq extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ww(n)&&Zl(n.arrayValue,this.value)}}class kq extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class Tq extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zl(this.value.arrayValue,n)}}class Cq extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ww(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Zl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n="asc"){this.field=e,this.dir=n}}function Iq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ou(this.root,e,this.comparator,!0)}}class Ou{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??st.RED,this.left=r??st.EMPTY,this.right=s??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new st(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return st.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();const e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(t,e,n,i,r){return this}insert(t,e,n){return new st(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hE(this.data.getIterator())}getIteratorFrom(e){return new hE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class hE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Xe(vt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(n)}setAll(e){let n=vt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=sl(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];dh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Zo(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new ln(sl(this.value))}}function XR(t){const e=[];return Zo(t.fields,(n,i)=>{const r=new vt([n]);if(dh(i)){const s=XR(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yt(e,0,Y.min(),Y.min(),Y.min(),ln.empty(),0)}static newFoundDocument(e,n,i,r){return new yt(e,1,n,Y.min(),i,r,0)}static newNoDocument(e,n){return new yt(e,2,n,Y.min(),Y.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new yt(e,3,n,Y.min(),Y.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function dE(t,e=null,n=[],i=[],r=null,s=null,o=null){return new Pq(t,e,n,i,r,s,o)}function Kw(t){const e=Q(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Zy(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),sp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Lo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Lo(i)).join(",")),e.ft=n}return e.ft}function qw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Iq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uE(t.startAt,e.startAt)&&uE(t.endAt,e.endAt)}function ev(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function Aq(t,e,n,i,r,s,o,a){return new op(t,e,n,i,r,s,o,a)}function Gw(t){return new op(t)}function fE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Rq(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Mq(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Oq(t){return t.collectionGroup!==null}function po(t){const e=Q(t);if(e.dt===null){e.dt=[];const n=Mq(e),i=Rq(e);if(n!==null&&i===null)n.isKeyField()||e.dt.push(new ol(n)),e.dt.push(new ol(vt.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ol(vt.keyField(),s))}}}return e.dt}function ki(t){const e=Q(t);if(!e._t)if(e.limitType==="F")e._t=dE(e.path,e.collectionGroup,po(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of po(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ol(s.field,o))}const i=e.endAt?new Rd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Rd(e.startAt.position,e.startAt.inclusive):null;e._t=dE(e.path,e.collectionGroup,n,e.filters,e.limit,i,r)}return e._t}function tv(t,e,n){return new op(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ap(t,e){return qw(ki(t),ki(e))&&t.limitType===e.limitType}function QR(t){return`${Kw(ki(t))}|lt:${t.limitType}`}function nv(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>GR(i)).join(", ")}]`),sp(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(i)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Lo(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Lo(i)).join(",")),`Target(${n})`}(ki(t))}; limitType=${t.limitType})`}function Yw(t,e){return e.isFoundDocument()&&function(n,i){const r=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):B.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,i){for(const r of po(n))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const r of n.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(r,s,o){const a=cE(r,s,o);return r.inclusive?a<=0:a<0}(n.startAt,po(n),i)||n.endAt&&!function(r,s,o){const a=cE(r,s,o);return r.inclusive?a>=0:a>0}(n.endAt,po(n),i))}(t,e)}function Dq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JR(t){return(e,n)=>{let i=!1;for(const r of po(t)){const s=Lq(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function Lq(t,e,n){const i=t.field.isKeyField()?B.comparator(e.key,n.key):function(r,s,o){const a=s.data.field(r),l=o.data.field(r);return a!==null&&l!==null?Do(a,l):q()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ad(e)?"-0":e}}function eM(t){return{integerValue:""+t}}function Nq(t,e){return yq(e)?eM(e):ZR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(){this._=void 0}}function Fq(t,e,n){return t instanceof Md?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,e):t instanceof ec?nM(t,e):t instanceof tc?iM(t,e):function(i,r){const s=tM(i,r),o=pE(s)+pE(i.gt);return Jy(s)&&Jy(i.gt)?eM(o):ZR(i.yt,o)}(t,e)}function $q(t,e,n){return t instanceof ec?nM(t,e):t instanceof tc?iM(t,e):n}function tM(t,e){return t instanceof Od?Jy(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}class Md extends lp{}class ec extends lp{constructor(e){super(),this.elements=e}}function nM(t,e){const n=rM(e);for(const i of t.elements)n.some(r=>Yn(r,i))||n.push(i);return{arrayValue:{values:n}}}class tc extends lp{constructor(e){super(),this.elements=e}}function iM(t,e){let n=rM(e);for(const i of t.elements)n=n.filter(r=>!Yn(r,i));return{arrayValue:{values:n}}}class Od extends lp{constructor(e,n){super(),this.yt=e,this.gt=n}}function pE(t){return Ue(t.integerValue||t.doubleValue)}function rM(t){return Ww(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Vq(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof ec&&i instanceof ec||n instanceof tc&&i instanceof tc?Mo(n.elements,i.elements,Yn):n instanceof Od&&i instanceof Od?Yn(n.gt,i.gt):n instanceof Md&&i instanceof Md}(t.transform,e.transform)}class Bq{constructor(e,n){this.version=e,this.transformResults=n}}class yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cp{}function sM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new aM(t.key,yi.none()):new Dc(t.key,t.data,yi.none());{const n=t.data,i=ln.empty();let r=new Xe(vt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Rs(t.key,i,new xn(r.toArray()),yi.none())}}function Uq(t,e,n){t instanceof Dc?function(i,r,s){const o=i.value.clone(),a=mE(i.fieldTransforms,r,s.transformResults);o.setAll(a),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Rs?function(i,r,s){if(!fh(i.precondition,r))return void r.convertToUnknownDocument(s.version);const o=mE(i.fieldTransforms,r,s.transformResults),a=r.data;a.setAll(oM(i)),a.setAll(o),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(i,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function al(t,e,n,i){return t instanceof Dc?function(r,s,o,a){if(!fh(r.precondition,s))return o;const l=r.value.clone(),c=yE(r.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof Rs?function(r,s,o,a){if(!fh(r.precondition,s))return o;const l=yE(r.fieldTransforms,a,s),c=s.data;return c.setAll(oM(r)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,i):function(r,s,o){return fh(r.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function jq(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=tM(i.transform,r||null);s!=null&&(n===null&&(n=ln.empty()),n.set(i.field,s))}return n||null}function gE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Mo(n,i,(r,s)=>Vq(r,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dc extends cp{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Rs extends cp{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function mE(t,e,n){const i=new Map;ye(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,$q(o,a,n[r]))}return i}function yE(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,Fq(s,o,e))}return i}class aM extends cp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zq extends cp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,ie;function Wq(t){switch(t){default:return q();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function lM(t){if(t===void 0)return Ei("GRPC error has no .code"),R.UNKNOWN;switch(t){case Be.OK:return R.OK;case Be.CANCELLED:return R.CANCELLED;case Be.UNKNOWN:return R.UNKNOWN;case Be.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Be.INTERNAL:return R.INTERNAL;case Be.UNAVAILABLE:return R.UNAVAILABLE;case Be.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Be.NOT_FOUND:return R.NOT_FOUND;case Be.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Be.ABORTED:return R.ABORTED;case Be.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Be.DATA_LOSS:return R.DATA_LOSS;default:return q()}}(ie=Be||(Be={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Zo(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return UR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq=new Qe(B.comparator);function Ti(){return Kq}const cM=new Qe(B.comparator);function La(...t){let e=cM;for(const n of t)e=e.insert(n.key,n);return e}function uM(t){let e=cM;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function es(){return ll()}function hM(){return ll()}function ll(){return new ea(t=>t.toString(),(t,e)=>t.isEqual(e))}const qq=new Qe(B.comparator),Gq=new Xe(B.comparator);function ee(...t){let e=Gq;for(const n of t)e=e.add(n);return e}const Yq=new Xe(ae);function dM(){return Yq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new up(Y.min(),r,dM(),Ti(),ee())}}class Lc{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Lc(i,n,ee(),ee(),ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,i,r){this.It=e,this.removedTargetIds=n,this.key=i,this.Tt=r}}class fM{constructor(e,n){this.targetId=e,this.Et=n}}class pM{constructor(e,n,i=kt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class vE{constructor(){this.At=0,this.Rt=_E(),this.bt=kt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ee(),n=ee(),i=ee();return this.Rt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:q()}}),new Lc(this.bt,this.Pt,e,n,i)}xt(){this.vt=!1,this.Rt=_E()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Xq{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Ti(),this.qt=wE(),this.Ut=new Xe(ae)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const i=this.Wt(n);switch(e.state){case 0:this.zt(n)&&i.Dt(e.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(i.Ft(),i.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),i.Dt(e.resumeToken));break;default:q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((i,r)=>{this.zt(r)&&n(r)})}Jt(e){const n=e.targetId,i=e.Et.count,r=this.Yt(n);if(r){const s=r.target;if(ev(s))if(i===0){const o=new B(s.path);this.Qt(n,o,yt.newNoDocument(o,Y.min()))}else ye(i===1);else this.Xt(n)!==i&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&ev(a.target)){const l=new B(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,yt.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let i=ee();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Yt(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(i=i.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const r=new up(e,n,this.Ut,this.Lt,i);return this.Lt=Ti(),this.qt=wE(),this.Ut=new Xe(ae),r}Gt(e,n){if(!this.zt(e))return;const i=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,i),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,i){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,n)?r.Nt(n,1):r.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),i&&(this.Lt=this.Lt.insert(n,i))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new vE,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Xe(ae),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new vE),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function wE(){return new Qe(B.comparator)}function _E(){return new Qe(B.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Jq=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Zq=(()=>({and:"AND",or:"OR"}))();class eG{constructor(e,n){this.databaseId=e,this.wt=n}}function Dd(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gM(t,e){return t.wt?e.toBase64():e.toUint8Array()}function tG(t,e){return Dd(t,e.toTimestamp())}function Kn(t){return ye(!!t),Y.fromTimestamp(function(e){const n=kr(e);return new Ye(n.seconds,n.nanos)}(t))}function Xw(t,e){return function(n){return new Me(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function mM(t){const e=Me.fromString(t);return ye(_M(e)),e}function iv(t,e){return Xw(t.databaseId,e.path)}function Bg(t,e){const n=mM(e);if(n.get(1)!==t.databaseId.projectId)throw new W(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(yM(n))}function rv(t,e){return Xw(t.databaseId,e)}function nG(t){const e=mM(t);return e.length===4?Me.emptyPath():yM(e)}function sv(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yM(t){return ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function bE(t,e,n){return{name:iv(t,e),fields:n.value.mapValue.fields}}function iG(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(l,c){return l.wt?(ye(c===void 0||typeof c=="string"),kt.fromBase64String(c||"")):(ye(c===void 0||c instanceof Uint8Array),kt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?R.UNKNOWN:lM(l.code);return new W(c,l.message||"")}(o);n=new pM(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Bg(t,i.document.name),s=Kn(i.document.updateTime),o=i.document.createTime?Kn(i.document.createTime):Y.min(),a=new ln({mapValue:{fields:i.document.fields}}),l=yt.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new ph(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Bg(t,i.document),s=i.readTime?Kn(i.readTime):Y.min(),o=yt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new ph([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Bg(t,i.document),s=i.removedTargetIds||[];n=new ph([],s,r,null)}else{if(!("filter"in e))return q();{e.filter;const i=e.filter;i.targetId;const r=i.count||0,s=new Hq(r),o=i.targetId;n=new fM(o,s)}}return n}function rG(t,e){let n;if(e instanceof Dc)n={update:bE(t,e.key,e.value)};else if(e instanceof aM)n={delete:iv(t,e.key)};else if(e instanceof Rs)n={update:bE(t,e.key,e.data),updateMask:fG(e.fieldMask)};else{if(!(e instanceof zq))return q();n={verify:iv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof Md)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ec)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof tc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Od)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw q()}(0,i))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:tG(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:q()}(t,e.precondition)),n}function sG(t,e){return t&&t.length>0?(ye(e!==void 0),t.map(n=>function(i,r){let s=i.updateTime?Kn(i.updateTime):Kn(r);return s.isEqual(Y.min())&&(s=Kn(r)),new Bq(s,i.transformResults||[])}(n,e))):[]}function oG(t,e){return{documents:[rv(t,e.path)]}}function aG(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=rv(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=rv(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(l.length!==0)return wM(Xn.create(l,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const s=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:Fs(u.field),direction:uG(u.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,c){return l.wt||sp(c)?c:{value:c}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function lG(t){let e=nG(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ye(i===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const h=vM(u);return h instanceof Xn&&KR(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new ol($s(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,sp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,d=u.values||[];return new Rd(d,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,d=u.values||[];return new Rd(d,h)}(n.endAt)),Aq(e,r,o,s,a,"F",l,c)}function cG(t,e){const n=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return q()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function vM(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=$s(e.unaryFilter.field);return Ke.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=$s(e.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=$s(e.unaryFilter.field);return Ke.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=$s(e.unaryFilter.field);return Ke.create(s,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(t):t.fieldFilter!==void 0?function(e){return Ke.create($s(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Xn.create(e.compositeFilter.filters.map(n=>vM(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return q()}}(e.compositeFilter.op))}(t):q()}function uG(t){return Qq[t]}function hG(t){return Jq[t]}function dG(t){return Zq[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function $s(t){return vt.fromServerFormat(t.fieldPath)}function wM(t){return t instanceof Ke?function(e){if(e.op==="=="){if(lE(e.value))return{unaryFilter:{field:Fs(e.field),op:"IS_NAN"}};if(aE(e.value))return{unaryFilter:{field:Fs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(lE(e.value))return{unaryFilter:{field:Fs(e.field),op:"IS_NOT_NAN"}};if(aE(e.value))return{unaryFilter:{field:Fs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(e.field),op:hG(e.op),value:e.value}}}(t):t instanceof Xn?function(e){const n=e.getFilters().map(i=>wM(i));return n.length===1?n[0]:{compositeFilter:{op:dG(e.op),filters:n}}}(t):q()}function fG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _M(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&Uq(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=al(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=al(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=hM();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=sM(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Y.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,(n,i)=>gE(n,i))&&Mo(this.baseMutations,e.baseMutations,(n,i)=>gE(n,i))}}class Qw{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){ye(e.mutations.length===i.length);let r=qq;const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Qw(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,i,r,s=Y.min(),o=Y.min(),a=kt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(e){this.ie=e}}function yG(t){const e=lG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(){this.Je=new wG}addToCollectionParentIndex(e,n){return this.Je.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(Er.min())}updateCollectionGroup(e,n,i){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}}class wG{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Xe(Me.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Xe(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new No(0)}static vn(){return new No(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(){this.changes=new ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?A.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&al(i.mutation,r,xn.empty(),Ye.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ee()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ee()){const r=es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=La();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ee()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Ti();const o=ll(),a=ll();return n.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof Rs)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),al(u.mutation,c,u.mutation.getFieldMask(),Ye.now())):o.set(c.key,xn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new bG(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const i=ll();let r=new Qe((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||xn.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(r.get(a.batchId)||ee()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=hM();u.forEach(d=>{if(!s.has(d)){const f=sM(n.get(d),i.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return A.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return function(r){return B.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Oq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):A.resolve(es());let a=-1,l=s;return o.next(c=>A.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?A.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ee())).next(u=>({batchId:a,changes:uM(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(i=>{let r=La();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const r=n.collectionGroup;let s=La();return this.indexManager.getCollectionParents(e,r).next(o=>A.forEach(o,a=>{const l=function(c,u){return new op(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,l,i).next(c=>{c.forEach((u,h)=>{s=s.insert(u,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,n.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId))).next(s=>{s.forEach((a,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,yt.newInvalidDocument(c)))});let o=La();return r.forEach((a,l)=>{const c=s.get(a);c!==void 0&&al(c.mutation,l,xn.empty(),Ye.now()),Yw(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return A.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var i;return this.Zn.set(n.id,{id:(i=n).id,version:i.version,createTime:Kn(i.createTime)}),A.resolve()}getNamedQuery(e,n){return A.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(i){return{name:i.name,query:yG(i.bundledQuery),readTime:Kn(i.readTime)}}(n)),A.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(){this.overlays=new Qe(B.comparator),this.es=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){const i=es();return A.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.oe(e,n,s)}),A.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.es.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),A.resolve()}getOverlaysForCollection(e,n,i){const r=es(),s=n.length+1,o=new B(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return A.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Qe((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=es(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=es(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return A.resolve(a)}oe(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new gG(n,i));let s=this.es.get(n);s===void 0&&(s=ee(),this.es.set(n,s)),this.es.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.ns=new Xe(Je.ss),this.rs=new Xe(Je.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const i=new Je(e,n);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.cs(new Je(e,n))}hs(e,n){e.forEach(i=>this.removeReference(i,n))}ls(e){const n=new B(new Me([])),i=new Je(n,e),r=new Je(n,e+1),s=[];return this.rs.forEachInRange([i,r],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new B(new Me([])),i=new Je(n,e),r=new Je(n,e+1);let s=ee();return this.rs.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Je(e,0),i=this.ns.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Je{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return B.comparator(e.key,n.key)||ae(e._s,n._s)}static os(e,n){return ae(e._s,n._s)||B.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Xe(Je.ss)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pG(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.gs=this.gs.add(new Je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(e,n){return A.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ps(i),s=r<0?0:r;return A.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Je(n,0),r=new Je(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],o=>{const a=this.ys(o._s);s.push(a)}),A.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xe(ae);return n.forEach(r=>{const s=new Je(r,0),o=new Je(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{i=i.add(a._s)})}),A.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;B.isDocumentKey(s)||(s=s.child(""));const o=new Je(new B(s),0);let a=new Xe(ae);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l._s)),!0)},o),A.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(i=>{const r=this.ys(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ye(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.gs;return A.forEach(n.mutations,r=>{const s=new Je(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,n){const i=new Je(n,0),r=this.gs.firstAfterOrEqual(i);return A.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e){this.Es=e,this.docs=new Qe(B.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Es(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return A.resolve(i?i.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(e,n){let i=Ti();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():yt.newInvalidDocument(r))}),A.resolve(i)}getAllFromCollection(e,n,i){let r=Ti();const s=new B(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||fq(dq(l),i)<=0||(r=r.insert(l.key,l.mutableCopy()))}return A.resolve(r)}getAllFromCollectionGroup(e,n,i,r){q()}As(e,n){return A.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new CG(this)}getSize(e){return A.resolve(this.size)}}class CG extends _G{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),A.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e){this.persistence=e,this.Rs=new ea(n=>Kw(n),qw),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Jw,this.targetCount=0,this.vs=No.Pn()}forEachTarget(e,n){return this.Rs.forEach((i,r)=>n(r)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.bs&&(this.bs=n),A.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new No(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.Dn(n),A.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),A.waitFor(s).next(()=>r)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){const i=this.Rs.get(n)||null;return A.resolve(i)}addMatchingKeys(e,n,i){return this.Ps.us(n,i),A.resolve()}removeMatchingKeys(e,n,i){this.Ps.hs(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),A.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),A.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ps.ds(n);return A.resolve(i)}containsKey(e,n){return A.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Hw(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new IG(this),this.indexManager=new vG,this.remoteDocumentCache=function(i){return new TG(i)}(i=>this.referenceDelegate.xs(i)),this.yt=new mG(n),this.Ns=new xG(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Vs[e.toKey()];return i||(i=new kG(n,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,i){$("MemoryPersistence","Starting transaction:",e);const r=new AG(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(e,n){return A.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,n)))}}class AG extends gq{constructor(e){super(),this.currentSequenceNumber=e}}class Zw{constructor(e){this.persistence=e,this.Fs=new Jw,this.$s=null}static Bs(e){return new Zw(e)}get Ls(){if(this.$s)return this.$s;throw q()}addReference(e,n,i){return this.Fs.addReference(i,n),this.Ls.delete(i.toString()),A.resolve()}removeReference(e,n,i){return this.Fs.removeReference(i,n),this.Ls.add(i.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),A.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Ls,i=>{const r=B.fromPath(i);return this.qs(e,r).next(s=>{s||n.removeEntry(r,Y.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(i=>{i?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return A.or([()=>A.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Si=i,this.Di=r}static Ci(e,n){let i=ee(),r=ee();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new e_(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,i,r){return this.ki(e,n).next(s=>s||this.Oi(e,n,r,i)).next(s=>s||this.Mi(e,n))}ki(e,n){if(fE(n))return A.resolve(null);let i=ki(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=tv(n,null,"F"),i=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=ee(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Fi(n,a);return this.$i(n,c,o,l.readTime)?this.ki(e,tv(n,null,"F")):this.Bi(e,c,n,l)}))})))}Oi(e,n,i,r){return fE(n)||r.isEqual(Y.min())?this.Mi(e,n):this.Ni.getDocuments(e,i).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,i,r)?this.Mi(e,n):(rE()<=oe.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),nv(n)),this.Bi(e,o,n,hq(r,-1)))})}Fi(e,n){let i=new Xe(JR(e));return n.forEach((r,s)=>{Yw(e,s)&&(i=i.add(s))}),i}$i(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(e,n){return rE()<=oe.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",nv(n)),this.Ni.getDocumentsMatchingQuery(e,n,Er.min())}Bi(e,n,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e,n,i,r){this.persistence=e,this.Li=n,this.yt=r,this.qi=new Qe(ae),this.Ui=new ea(s=>Kw(s),qw),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SG(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function OG(t,e,n,i){return new MG(t,e,n,i)}async function bM(t,e){const n=Q(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=ee();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}function DG(t,e){const n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let d=A.resolve();return h.forEach(f=>{d=d.next(()=>c.getEntry(a,f)).next(p=>{const g=l.docVersions.get(f);ye(g!==null),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let a=ee();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function SM(t){const e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function LG(t,e){const n=Q(t),i=e.snapshotVersion;let r=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});r=n.qi;const a=[];e.targetChanges.forEach((u,h)=>{const d=r.get(h);if(!d)return;a.push(n.Cs.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(s,u.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?f=f.withResumeToken(kt.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(h,f),function(p,g,v){return p.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,f,u)&&a.push(n.Cs.updateTargetData(s,f))});let l=Ti(),c=ee();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(NG(s,o,e.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!i.isEqual(Y.min())){const u=n.Cs.getLastRemoteSnapshotVersion(s).next(h=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return A.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.qi=r,s))}function NG(t,e,n){let i=ee(),r=ee();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Ti();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Y.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:o,zi:r}})}function FG(t,e){const n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function $G(t,e){const n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Cs.getTargetData(i,e).next(s=>s?(r=s,A.resolve(r)):n.Cs.allocateTargetId(i).next(o=>(r=new ls(e,o,0,i.currentSequenceNumber),n.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.qi.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(i.targetId,i),n.Ui.set(e,i.targetId)),i})}async function ov(t,e,n){const i=Q(t),r=i.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Oc(o))throw o;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.qi=i.qi.remove(e),i.Ui.delete(r.target)}function SE(t,e,n){const i=Q(t);let r=Y.min(),s=ee();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=Q(a),h=u.Ui.get(c);return h!==void 0?A.resolve(u.qi.get(h)):u.Cs.getTargetData(l,c)}(i,o,ki(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Li.getDocumentsMatchingQuery(o,e,n?r:Y.min(),n?s:ee())).next(a=>(VG(i,Dq(e),a),{documents:a,Hi:s})))}function VG(t,e,n){let i=t.Ki.get(e)||Y.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Ki.set(e,i)}class xE{constructor(){this.activeTargetIds=dM()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BG{constructor(){this.Lr=new xE,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,i){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new xE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,i,r,s){const o=this.ho(e,n);$("RestConnection","Sending: ",o,i);const a={};return this.lo(a,r,s),this.fo(e,o,a,i).then(l=>($("RestConnection","Received: ",l),l),l=>{throw Xy("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",i),l})}_o(e,n,i,r,s,o){return this.ao(e,n,i,r,s)}lo(e,n,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ho(e,n){const i=jG[e];return`${this.oo}/v1/${n}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,i,r){return new Promise((s,o)=>{const a=new tq;a.setWithCredentials(!0),a.listenOnce(JK.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Vg.NO_ERROR:const c=a.getResponseJson();$("Connection","XHR received:",JSON.stringify(c)),s(c);break;case Vg.TIMEOUT:$("Connection",'RPC "'+e+'" timed out'),o(new W(R.DEADLINE_EXCEEDED,"Request time out"));break;case Vg.HTTP_ERROR:const u=a.getStatus();if($("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const d=h==null?void 0:h.error;if(d&&d.status&&d.message){const f=function(p){const g=p.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(g)>=0?g:R.UNKNOWN}(d.status);o(new W(f,d.message))}else o(new W(R.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new W(R.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{$("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(r);a.send(n,"POST",l,i,15)})}wo(e,n,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=XK(),o=QK(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new eq({})),this.lo(a.initMessageHeaders,n,i),a.encodeInitMessageHeaders=!0;const l=r.join("");$("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,h=!1;const d=new zG({Hr:p=>{h?$("Connection","Not sending because WebChannel is closed:",p):(u||($("Connection","Opening WebChannel transport."),c.open(),u=!0),$("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,g,v)=>{p.listen(g,y=>{try{v(y)}catch(m){setTimeout(()=>{throw m},0)}})};return f(c,Ru.EventType.OPEN,()=>{h||$("Connection","WebChannel transport opened.")}),f(c,Ru.EventType.CLOSE,()=>{h||(h=!0,$("Connection","WebChannel transport closed"),d.io())}),f(c,Ru.EventType.ERROR,p=>{h||(h=!0,Xy("Connection","WebChannel transport errored:",p),d.io(new W(R.UNAVAILABLE,"The operation could not be completed")))}),f(c,Ru.EventType.MESSAGE,p=>{var g;if(!h){const v=p.data[0];ye(!!v);const y=v,m=y.error||((g=y[0])===null||g===void 0?void 0:g.error);if(m){$("Connection","WebChannel received error:",m);const w=m.status;let _=function(S){const E=Be[S];if(E!==void 0)return lM(E)}(w),b=m.message;_===void 0&&(_=R.INTERNAL,b="Unknown error status: "+w+" with message "+m.message),h=!0,d.io(new W(_,b)),c.close()}else $("Connection","WebChannel received:",v),d.ro(v)}}),f(o,ZK.STAT_EVENT,p=>{p.stat===nE.PROXY?$("Connection","Detected buffering proxy"):p.stat===nE.NOPROXY&&$("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.so()},0),d}}function Ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t){return new eG(t,!0)}class xM{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,n-i);r>0&&$("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n,i,r,s,o,a,l){this.Hs=e,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new xM(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===n&&this.Go(i,r)},i=>{e(()=>{const r=new W(R.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,n){const i=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WG extends EM{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=iG(this.yt,e),i=function(r){if(!("targetChange"in r))return Y.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Y.min():s.readTime?Kn(s.readTime):Y.min()}(e);return this.listener.Wo(n,i)}zo(e){const n={};n.database=sv(this.yt),n.addTarget=function(r,s){let o;const a=s.target;return o=ev(a)?{documents:oG(r,a)}:{query:aG(r,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=gM(r,s.resumeToken):s.snapshotVersion.compareTo(Y.min())>0&&(o.readTime=Dd(r,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const i=cG(this.yt,e);i&&(n.labels=i),this.Bo(n)}Ho(e){const n={};n.database=sv(this.yt),n.removeTarget=e,this.Bo(n)}}class KG extends EM{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=sG(e.writeResults,e.commitTime),i=Kn(e.commitTime);return this.listener.Zo(i,n)}return ye(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=sv(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>rG(this.yt,i))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new W(R.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(e,n,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new W(R.UNKNOWN,r.toString())})}_o(e,n,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,i,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(R.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class GG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ei(n),this.ou=!1):$("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{i.enqueueAndForget(async()=>{Ms(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Q(a);l._u.add(4),await Nc(l),l.gu.set("Unknown"),l._u.delete(4),await dp(l)}(this))})}),this.gu=new GG(i,r)}}async function dp(t){if(Ms(t))for(const e of t.wu)await e(!0)}async function Nc(t){for(const e of t.wu)await e(!1)}function kM(t,e){const n=Q(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),i_(n)?n_(n):ta(n).ko()&&t_(n,e))}function TM(t,e){const n=Q(t),i=ta(n);n.du.delete(e),i.ko()&&CM(n,e),n.du.size===0&&(i.ko()?i.Fo():Ms(n)&&n.gu.set("Unknown"))}function t_(t,e){t.yu.Ot(e.targetId),ta(t).zo(e)}function CM(t,e){t.yu.Ot(e),ta(t).Ho(e)}function n_(t){t.yu=new Xq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),ta(t).start(),t.gu.uu()}function i_(t){return Ms(t)&&!ta(t).No()&&t.du.size>0}function Ms(t){return Q(t)._u.size===0}function IM(t){t.yu=void 0}async function XG(t){t.du.forEach((e,n)=>{t_(t,e)})}async function QG(t,e){IM(t),i_(t)?(t.gu.hu(e),n_(t)):t.gu.set("Unknown")}async function JG(t,e,n){if(t.gu.set("Online"),e instanceof pM&&e.state===2&&e.cause)try{await async function(i,r){const s=r.cause;for(const o of r.targetIds)i.du.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.du.delete(o),i.yu.removeTarget(o))}(t,e)}catch(i){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ld(t,i)}else if(e instanceof ph?t.yu.Kt(e):e instanceof fM?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(Y.min()))try{const i=await SM(t.localStore);n.compareTo(i)>=0&&await function(r,s){const o=r.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.du.get(l);c&&r.du.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=r.du.get(a);if(!l)return;r.du.set(a,l.withResumeToken(kt.EMPTY_BYTE_STRING,l.snapshotVersion)),CM(r,a);const c=new ls(l.target,a,1,l.sequenceNumber);t_(r,c)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(i){$("RemoteStore","Failed to raise snapshot:",i),await Ld(t,i)}}async function Ld(t,e,n){if(!Oc(e))throw e;t._u.add(1),await Nc(t),t.gu.set("Offline"),n||(n=()=>SM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await dp(t)})}function PM(t,e){return e().catch(n=>Ld(t,n,e))}async function fp(t){const e=Q(t),n=Tr(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;ZG(e);)try{const r=await FG(e.localStore,i);if(r===null){e.fu.length===0&&n.Fo();break}i=r.batchId,e9(e,r)}catch(r){await Ld(e,r)}AM(e)&&RM(e)}function ZG(t){return Ms(t)&&t.fu.length<10}function e9(t,e){t.fu.push(e);const n=Tr(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function AM(t){return Ms(t)&&!Tr(t).No()&&t.fu.length>0}function RM(t){Tr(t).start()}async function t9(t){Tr(t).eu()}async function n9(t){const e=Tr(t);for(const n of t.fu)e.Xo(n.mutations)}async function i9(t,e,n){const i=t.fu.shift(),r=Qw.from(i,e,n);await PM(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await fp(t)}async function r9(t,e){e&&Tr(t).Yo&&await async function(n,i){if(r=i.code,Wq(r)&&r!==R.ABORTED){const s=n.fu.shift();Tr(n).Mo(),await PM(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await fp(n)}var r}(t,e),AM(t)&&RM(t)}async function kE(t,e){const n=Q(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const i=Ms(n);n._u.add(3),await Nc(n),i&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await dp(n)}async function s9(t,e){const n=Q(t);e?(n._u.delete(2),await dp(n)):e||(n._u.add(2),await Nc(n),n.gu.set("Unknown"))}function ta(t){return t.pu||(t.pu=function(e,n,i){const r=Q(e);return r.su(),new WG(n,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(t.datastore,t.asyncQueue,{Yr:XG.bind(null,t),Zr:QG.bind(null,t),Wo:JG.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),i_(t)?n_(t):t.gu.set("Unknown")):(await t.pu.stop(),IM(t))})),t.pu}function Tr(t){return t.Iu||(t.Iu=function(e,n,i){const r=Q(e);return r.su(),new KG(n,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(t.datastore,t.asyncQueue,{Yr:t9.bind(null,t),Zr:r9.bind(null,t),tu:n9.bind(null,t),Zo:i9.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await fp(t)):(await t.Iu.stop(),t.fu.length>0&&($("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new r_(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s_(t,e){if(Ei("AsyncQueue",`${e}: ${t}`),Oc(t))return new W(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.comparator=e?(n,i)=>e(n,i)||B.comparator(n.key,i.key):(n,i)=>B.comparator(n.key,i.key),this.keyedMap=La(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new go(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new go;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.Tu=new Qe(B.comparator)}track(e){const n=e.doc.key,i=this.Tu.get(n);i?e.type!==0&&i.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&i.type!==1?this.Tu=this.Tu.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Tu=this.Tu.remove(n):e.type===1&&i.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):q():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,i)=>{e.push(i)}),e}}class Fo{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Fo(e,n,go.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(){this.Au=void 0,this.listeners=[]}}class a9{constructor(){this.queries=new ea(e=>QR(e),ap),this.onlineState="Unknown",this.Ru=new Set}}async function l9(t,e){const n=Q(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new o9),r)try{s.Au=await n.onListen(i)}catch(o){const a=s_(o,`Initialization of query '${nv(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&o_(n)}async function c9(t,e){const n=Q(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=s.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function u9(t,e){const n=Q(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(r)&&(i=!0);o.Au=r}}i&&o_(n)}function h9(t,e,n){const i=Q(t),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(e)}function o_(t){t.Ru.forEach(e=>{e.next()})}class d9{constructor(e,n,i){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Fo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.Nu||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.key=e}}class OM{constructor(e){this.key=e}}class f9{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ee(),this.mutatedKeys=ee(),this.Gu=JR(e),this.Qu=new go(this.Gu)}get ju(){return this.qu}Wu(e,n){const i=n?n.zu:new TE,r=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const d=r.get(u),f=Yw(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;d&&f?d.data.isEqual(f.data)?p!==g&&(i.track({type:3,doc:f}),v=!0):this.Hu(d,f)||(i.track({type:2,doc:f}),v=!0,(l&&this.Gu(f,l)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!d&&f?(i.track({type:0,doc:f}),v=!0):d&&!f&&(i.track({type:1,doc:d}),v=!0,(l||c)&&(a=!0)),v&&(f?(o=o.add(f),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{Qu:o,zu:i,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,u)=>function(h,d){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return f(h)-f(d)}(c.type,u.type)||this.Gu(c.doc,u.doc)),this.Ju(i);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new Fo(this.query,e.Qu,r,s,e.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new TE,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ee(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const n=[];return e.forEach(i=>{this.Ku.has(i)||n.push(new OM(i))}),this.Ku.forEach(i=>{e.has(i)||n.push(new MM(i))}),n}tc(e){this.qu=e.Hi,this.Ku=ee();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Fo.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class p9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class g9{constructor(e){this.key=e,this.nc=!1}}class m9{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new ea(a=>QR(a),ap),this.rc=new Map,this.oc=new Set,this.uc=new Qe(B.comparator),this.cc=new Map,this.ac=new Jw,this.hc={},this.lc=new Map,this.fc=No.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function y9(t,e){const n=C9(t);let i,r;const s=n.ic.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const o=await $G(n.localStore,ki(e));n.isPrimaryClient&&kM(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=await v9(n,e,i,a==="current",o.resumeToken)}return r}async function v9(t,e,n,i,r){t._c=(h,d,f)=>async function(p,g,v,y){let m=g.view.Wu(v);m.$i&&(m=await SE(p.localStore,g.query,!1).then(({documents:b})=>g.view.Wu(b,m)));const w=y&&y.targetChanges.get(g.targetId),_=g.view.applyChanges(m,p.isPrimaryClient,w);return IE(p,g.targetId,_.Xu),_.snapshot}(t,h,d,f);const s=await SE(t.localStore,e,!0),o=new f9(e,s.Hi),a=o.Wu(s.documents),l=Lc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);IE(t,n,c.Xu);const u=new p9(e,n,o);return t.ic.set(e,u),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),c.snapshot}async function w9(t,e){const n=Q(t),i=n.ic.get(e),r=n.rc.get(i.targetId);if(r.length>1)return n.rc.set(i.targetId,r.filter(s=>!ap(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await ov(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),TM(n.remoteStore,i.targetId),av(n,i.targetId)}).catch(Mc)):(av(n,i.targetId),await ov(n.localStore,i.targetId,!0))}async function _9(t,e,n){const i=I9(t);try{const r=await function(s,o){const a=Q(s),l=Ye.now(),c=o.reduce((d,f)=>d.add(f.key),ee());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let f=Ti(),p=ee();return a.Gi.getEntries(d,c).next(g=>{f=g,f.forEach((v,y)=>{y.isValidDocument()||(p=p.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,f)).next(g=>{u=g;const v=[];for(const y of o){const m=jq(y,u.get(y.key).overlayedDocument);m!=null&&v.push(new Rs(y.key,m,XR(m.value.mapValue),yi.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,v,o)}).next(g=>{h=g;const v=g.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(d,g.batchId,v)})}).then(()=>({batchId:h.batchId,changes:uM(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new Qe(ae)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(i,r.batchId,n),await Fc(i,r.changes),await fp(i.remoteStore)}catch(r){const s=s_(r,"Failed to persist write");n.reject(s)}}async function DM(t,e){const n=Q(t);try{const i=await LG(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.cc.get(s);o&&(ye(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.nc=!0:r.modifiedDocuments.size>0?ye(o.nc):r.removedDocuments.size>0&&(ye(o.nc),o.nc=!1))}),await Fc(n,i,e)}catch(i){await Mc(i)}}function CE(t,e,n){const i=Q(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&r.push(a.snapshot)}),function(s,o){const a=Q(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.bu(o)&&(l=!0)}),l&&o_(a)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function b9(t,e,n){const i=Q(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.cc.get(e),s=r&&r.key;if(s){let o=new Qe(B.comparator);o=o.insert(s,yt.newNoDocument(s,Y.min()));const a=ee().add(s),l=new up(Y.min(),new Map,new Xe(ae),o,a);await DM(i,l),i.uc=i.uc.remove(s),i.cc.delete(e),a_(i)}else await ov(i.localStore,e,!1).then(()=>av(i,e,n)).catch(Mc)}async function S9(t,e){const n=Q(t),i=e.batch.batchId;try{const r=await DG(n.localStore,e);NM(n,i,null),LM(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Fc(n,r)}catch(r){await Mc(r)}}async function x9(t,e,n){const i=Q(t);try{const r=await function(s,o){const a=Q(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(ye(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,e);NM(i,e,n),LM(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Fc(i,r)}catch(r){await Mc(r)}}function LM(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function NM(t,e,n){const i=Q(t);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function av(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.rc.get(e))t.ic.delete(i),n&&t.sc.wc(i,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(i=>{t.ac.containsKey(i)||FM(t,i)})}function FM(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(TM(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),a_(t))}function IE(t,e,n){for(const i of n)i instanceof MM?(t.ac.addReference(i.key,e),E9(t,i)):i instanceof OM?($("SyncEngine","Document no longer in limbo: "+i.key),t.ac.removeReference(i.key,e),t.ac.containsKey(i.key)||FM(t,i.key)):q()}function E9(t,e){const n=e.key,i=n.path.canonicalString();t.uc.get(n)||t.oc.has(i)||($("SyncEngine","New document in limbo: "+n),t.oc.add(i),a_(t))}function a_(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new B(Me.fromString(e)),i=t.fc.next();t.cc.set(i,new g9(n)),t.uc=t.uc.insert(n,i),kM(t.remoteStore,new ls(ki(Gw(n.path)),i,2,Hw.at))}}async function Fc(t,e,n){const i=Q(t),r=[],s=[],o=[];i.ic.isEmpty()||(i.ic.forEach((a,l)=>{o.push(i._c(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){r.push(c);const u=e_.Ci(l.targetId,c);s.push(u)}}))}),await Promise.all(o),i.sc.Wo(r),await async function(a,l){const c=Q(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>A.forEach(l,h=>A.forEach(h.Si,d=>c.persistence.referenceDelegate.addReference(u,h.targetId,d)).next(()=>A.forEach(h.Di,d=>c.persistence.referenceDelegate.removeReference(u,h.targetId,d)))))}catch(u){if(!Oc(u))throw u;$("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const d=c.qi.get(h),f=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(f);c.qi=c.qi.insert(h,p)}}}(i.localStore,s))}async function k9(t,e){const n=Q(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());const i=await bM(n.localStore,e);n.currentUser=e,function(r,s){r.lc.forEach(o=>{o.forEach(a=>{a.reject(new W(R.CANCELLED,s))})}),r.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Fc(n,i.ji)}}function T9(t,e){const n=Q(t),i=n.cc.get(e);if(i&&i.nc)return ee().add(i.key);{let r=ee();const s=n.rc.get(e);if(!s)return r;for(const o of s){const a=n.ic.get(o);r=r.unionWith(a.view.ju)}return r}}function C9(t){const e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b9.bind(null,e),e.sc.Wo=u9.bind(null,e.eventManager),e.sc.wc=h9.bind(null,e.eventManager),e}function I9(t){const e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x9.bind(null,e),e}class P9{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=hp(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return OG(this.persistence,new RG,e.initialUser,this.yt)}yc(e){return new PG(Zw.Bs,this.yt)}gc(e){return new BG}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class A9{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>CE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=k9.bind(null,this.syncEngine),await s9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new a9}createDatastore(e){const n=hp(e.databaseInfo.databaseId),i=(r=e.databaseInfo,new HG(r));var r;return function(s,o,a,l){return new qG(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return n=this.localStore,i=this.datastore,r=e.asyncQueue,s=a=>CE(this.syncEngine,a,0),o=EE.C()?new EE:new UG,new YG(n,i,r,s,o);var n,i,r,s,o}createSyncEngine(e,n){return function(i,r,s,o,a,l,c){const u=new m9(i,r,s,o,a,l);return c&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Q(e);$("RemoteStore","RemoteStore shutting down."),n._u.add(5),await Nc(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t,e,n){if(!n)throw new W(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M9(t,e,n,i){if(e===!0&&i===!0)throw new W(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PE(t){if(!B.isDocumentKey(t))throw new W(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q()}function nc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=l_(t);throw new W(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=new Map;class RE{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new W(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,M9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new W(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new W(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RE(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new nq;switch(n.type){case"gapi":const i=n.client;return new oq(i,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new W(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=AE.get(e);n&&($("ComponentProvider","Removing Datastore"),AE.delete(e),n.terminate())}(this),Promise.resolve()}}function O9(t,e,n,i={}){var r;const s=(t=nc(t,c_))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Xy("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),i.mockUserToken){let o,a;if(typeof i.mockUserToken=="string")o=i.mockUserToken,a=gt.MOCK_USER;else{o=pA(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new W(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new gt(l)}t._authCredentials=new iq(new VR(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class u_{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new u_(this.firestore,e,this._query)}}class ic extends u_{constructor(e,n,i){super(e,n,Gw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new B(e))}withConverter(e){return new ic(this.firestore,e,this._path)}}function $M(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=BR.R()),R9("doc","path",e),t instanceof c_){const i=Me.fromString(e,...n);return PE(i),new hn(t,null,new B(i))}{if(!(t instanceof hn||t instanceof ic))throw new W(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Me.fromString(e,...n));return PE(i),new hn(t.firestore,t instanceof ic?t.converter:null,new B(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=gt.UNAUTHENTICATED,this.clientId=BR.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{$("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>($("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new W(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=s_(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function N9(t,e){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await bM(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function F9(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $9(t);$("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(r=>kE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>kE(e.remoteStore,s)),t.onlineComponents=e}async function $9(t){return t.offlineComponents||($("FirestoreClient","Using default OfflineComponentProvider"),await N9(t,new P9)),t.offlineComponents}async function VM(t){return t.onlineComponents||($("FirestoreClient","Using default OnlineComponentProvider"),await F9(t,new A9)),t.onlineComponents}function V9(t){return VM(t).then(e=>e.syncEngine)}async function B9(t){const e=await VM(t),n=e.eventManager;return n.onListen=y9.bind(null,e.syncEngine),n.onUnlisten=w9.bind(null,e.syncEngine),n}function U9(t,e,n={}){const i=new pr;return t.asyncQueue.enqueueAndForget(async()=>function(r,s,o,a,l){const c=new D9({next:h=>{s.enqueueAndForget(()=>c9(r,u));const d=h.docs.has(o);!d&&h.fromCache?l.reject(new W(R.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?l.reject(new W(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new d9(Gw(o.path),c,{includeMetadataChanges:!0,Nu:!0});return l9(r,u)}(await B9(t),t.asyncQueue,e,n,i)),i.promise}class j9{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new xM(this,"async_queue_retry"),this.Wc=()=>{const n=Ug();n&&$("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Ug();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=Ug();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new pr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!Oc(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{this.Kc=i,this.Gc=!1;const r=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(i);throw Ei("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Gc=!1,i))));return this.Bc=n,n}enqueueAfterDelay(e,n,i){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const r=r_.createAndSchedule(this,e,n,i,s=>this.Yc(s));return this.Uc.push(r),r}zc(){this.Kc&&q()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class h_ extends c_{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new j9,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||UM(this),this._firestoreClient.terminate()}}function z9(t,e){const n=typeof t=="object"?t:mw(),i=typeof t=="string"?t:e||"(default)",r=zf(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=dA("firestore");s&&O9(r,...s)}return r}function BM(t){return t._firestoreClient||UM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function UM(t){var e;const n=t._freezeSettings(),i=function(r,s,o,a){return new mq(r,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new L9(t._authCredentials,t._appCheckCredentials,t._queue,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(kt.fromBase64String(e))}catch(n){throw new W(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $o(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=/^__.*__$/;class W9{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(e,this.data,n,this.fieldTransforms)}}function zM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}class p_{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.yt=i,this.ignoreUndefinedProperties=r,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new p_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Nd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(zM(this.sa)&&H9.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class K9{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=i||hp(e)}da(e,n,i,r=!1){return new p_({sa:e,methodName:n,fa:i,path:vt.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function q9(t){const e=t._freezeSettings(),n=hp(t._databaseId);return new K9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function G9(t,e,n,i,r,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,r);qM("Data must be an object, but it was:",o,i);const a=WM(i,o);let l,c;if(s.merge)l=new xn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=Y9(e,h,n);if(!o.contains(d))throw new W(R.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Q9(u,d)||u.push(d)}l=new xn(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new W9(new ln(a),l,c)}function HM(t,e){if(KM(t=Mt(t)))return qM("Unsupported field value:",e,t),WM(t,e);if(t instanceof jM)return function(n,i){if(!zM(i.sa))throw i.ha(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,i){const r=[];let s=0;for(const o of n){let a=HM(o,i.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),s++}return{arrayValue:{values:r}}}(t,e)}return function(n,i){if((n=Mt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Nq(i.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=Ye.fromDate(n);return{timestampValue:Dd(i.yt,r)}}if(n instanceof Ye){const r=new Ye(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Dd(i.yt,r)}}if(n instanceof f_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof $o)return{bytesValue:gM(i.yt,n._byteString)};if(n instanceof hn){const r=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Xw(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.ha(`Unsupported field value: ${l_(n)}`)}(t,e)}function WM(t,e){const n={};return UR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zo(t,(i,r)=>{const s=HM(r,e.ra(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function KM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof f_||t instanceof $o||t instanceof hn||t instanceof jM)}function qM(t,e,n){if(!KM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=l_(n);throw i==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+i)}}function Y9(t,e,n){if((e=Mt(e))instanceof d_)return e._internalPath;if(typeof e=="string")return GM(t,e);throw Nd("Field path arguments must be of type string or ",t,!1,void 0,n)}const X9=new RegExp("[~\\*/\\[\\]]");function GM(t,e,n){if(e.search(X9)>=0)throw Nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new d_(...e.split("."))._internalPath}catch{throw Nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nd(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new W(R.INVALID_ARGUMENT,a+t+l)}function Q9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(XM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J9 extends YM{data(){return super.data()}}function XM(t,e){return typeof e=="string"?GM(t,e):e instanceof d_?e._internalPath:e._delegate._internalPath}class Z9{convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw q()}}convertObject(e,n){const i={};return Zo(e.fields,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new f_(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=zR(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=kr(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Me.fromString(e);ye(_M(i));const r=new Ql(i.get(1),i.get(3)),s=new B(i.popFirst(5));return r.isEqual(n)||Ei(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eY(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QM extends YM{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nY(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(XM("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class nY extends QM{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iY(t){t=nc(t,hn);const e=nc(t.firestore,h_);return U9(BM(e),t._key).then(n=>aY(e,t,n))}class rY extends Z9{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function sY(t,e,n){t=nc(t,hn);const i=nc(t.firestore,h_),r=eY(t.converter,e,n);return oY(i,[G9(q9(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,yi.none())])}function oY(t,e){return function(n,i){const r=new pr;return n.asyncQueue.enqueueAndForget(async()=>_9(await V9(n),i,r)),r.promise}(BM(t),e)}function aY(t,e,n){const i=n.docs.get(e._key),r=new rY(t);return new QM(t,r,e._key,i,new tY(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Jo=n})(Yo),ws(new xr("firestore",(n,{instanceIdentifier:i,options:r})=>{const s=n.getProvider("app").getImmediate(),o=new h_(new rq(n.getProvider("auth-internal")),new lq(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new W(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(a.options.projectId,l)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Wn(iE,"3.8.1",t),Wn(iE,"3.8.1","esm2017")})();function JM(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lY=JM,ZM=new bc("auth","Firebase",JM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new pw("@firebase/auth");function gh(t,...e){ME.logLevel<=oe.ERROR&&ME.error(`Auth (${Yo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,...e){throw g_(t,...e)}function qn(t,...e){return g_(t,...e)}function cY(t,e,n){const i=Object.assign(Object.assign({},lY()),{[e]:n});return new bc("auth","Firebase",i).create(e,{appName:t.name})}function g_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return ZM.create(t,...e)}function H(t,e,...n){if(!t)throw g_(e,...n)}function fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gh(e),new Error(e)}function Ci(t,e){t||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=new Map;function pi(t){Ci(t instanceof Function,"Expected a class definition");let e=OE.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OE.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uY(t,e){const n=zf(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(_d(s,e??{}))return r;In(r,"already-initialized")}return n.initialize({options:e})}function hY(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dY(){return DE()==="http:"||DE()==="https:"}function DE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dY()||b4()||"connection"in navigator)?navigator.onLine:!0}function pY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=w4()||S4()}get(){return fY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mY=new $c(3e4,6e4);function Vc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bc(t,e,n,i,r={}){return tO(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Sc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),eO.fetch()(nO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function tO(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},gY),e);try{const r=new yY(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Du(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Du(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Du(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Du(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw cY(t,u,c);In(t,u)}}catch(r){if(r instanceof Jn)throw r;In(t,"network-request-failed")}}async function Uc(t,e,n,i,r={}){const s=await Bc(t,e,n,i,r);return"mfaPendingCredential"in s&&In(t,"multi-factor-auth-required",{_serverResponse:s}),s}function nO(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?m_(t.config,r):`${t.config.apiScheme}://${r}`}class yY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(qn(this.auth,"network-request-failed")),mY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Du(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=qn(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vY(t,e){return Bc(t,"POST","/v1/accounts:delete",e)}async function wY(t,e){return Bc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _Y(t,e=!1){const n=Mt(t),i=await n.getIdToken(e),r=y_(i);H(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:cl(jg(r.auth_time)),issuedAtTime:cl(jg(r.iat)),expirationTime:cl(jg(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jg(t){return Number(t)*1e3}function y_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const r=uA(n);return r?JSON.parse(r):(gh("Failed to decode base64 JWT payload"),null)}catch(r){return gh("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function bY(t){const e=y_(t);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Jn&&SY(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function SY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cl(this.lastLoginAt),this.creationTime=cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(t){var e;const n=t.auth,i=await t.getIdToken(),r=await rc(t,wY(n,{idToken:i}));H(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?TY(s.providerUserInfo):[],a=kY(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new iO(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function EY(t){const e=Mt(t);await Fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kY(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function TY(t){return t.map(e=>{var{providerId:n}=e,i=J0(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CY(t,e){const n=await tO(t,{},async()=>{const i=Sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=nO(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eO.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bY(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return H(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await CY(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new sc;return i&&(H(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(H(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(H(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sc,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,e){H(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cs{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=J0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new iO(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await rc(this,this.stsTokenManager.getToken(this.auth,e));return H(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _Y(this,e)}reload(){return EY(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Fd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await rc(this,vY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,u;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(r=n.email)!==null&&r!==void 0?r:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:_,isAnonymous:b,providerData:S,stsTokenManager:E}=n;H(w&&E,e,"internal-error");const k=sc.fromJSON(this.name,E);H(typeof w=="string",e,"internal-error"),Ri(h,e.name),Ri(d,e.name),H(typeof _=="boolean",e,"internal-error"),H(typeof b=="boolean",e,"internal-error"),Ri(f,e.name),Ri(p,e.name),Ri(g,e.name),Ri(v,e.name),Ri(y,e.name),Ri(m,e.name);const I=new cs({uid:w,auth:e,email:d,emailVerified:_,displayName:h,isAnonymous:b,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:k,createdAt:y,lastLoginAt:m});return S&&Array.isArray(S)&&(I.providerData=S.map(C=>Object.assign({},C))),v&&(I._redirectEventId=v),I}static async _fromIdTokenResponse(e,n,i=!1){const r=new sc;r.updateFromServerResponse(n);const s=new cs({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Fd(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rO.type="NONE";const LE=rO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t,e,n){return`firebase:${t}:${e}:${n}`}class mo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=mh(this.userKey,r.apiKey,s),this.fullPersistenceKey=mh("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new mo(pi(LE),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||pi(LE);const o=mh(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=cs._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new mo(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new mo(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cO(e))return"Blackberry";if(uO(e))return"Webos";if(v_(e))return"Safari";if((e.includes("chrome/")||oO(e))&&!e.includes("edge/"))return"Chrome";if(lO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function sO(t=Et()){return/firefox\//i.test(t)}function v_(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oO(t=Et()){return/crios\//i.test(t)}function aO(t=Et()){return/iemobile/i.test(t)}function lO(t=Et()){return/android/i.test(t)}function cO(t=Et()){return/blackberry/i.test(t)}function uO(t=Et()){return/webos/i.test(t)}function pp(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IY(t=Et()){var e;return pp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PY(){return x4()&&document.documentMode===10}function hO(t=Et()){return pp(t)||lO(t)||uO(t)||cO(t)||/windows phone/i.test(t)||aO(t)}function AY(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t,e=[]){let n;switch(t){case"Browser":n=NE(Et());break;case"Worker":n=`${NE(Et())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(e,n,i){this.app=e,this.heartbeatServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FE(this),this.idTokenSubscription=new FE(this),this.beforeStateQueue=new RY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZM,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Mt(e):null;return n&&H(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;H(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return H(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,i,r):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return i&&(n["X-Firebase-Client"]=i),n}}function jc(t){return Mt(t)}class FE{constructor(e){this.auth=e,this.observer=null,this.addObserver=A4(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function OY(t,e,n){const i=jc(t);H(i._canInitEmulator,i,"emulator-config-failed"),H(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),s=fO(e),{host:o,port:a}=DY(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||LY()}function fO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DY(t){const e=fO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:$E(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:$E(o)}}}function $E(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function NY(t,e){return Bc(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FY(t,e){return Uc(t,"POST","/v1/accounts:signInWithPassword",Vc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Y(t,e){return Uc(t,"POST","/v1/accounts:signInWithEmailLink",Vc(t,e))}async function VY(t,e){return Uc(t,"POST","/v1/accounts:signInWithEmailLink",Vc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends w_{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new oc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new oc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return FY(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return $Y(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return NY(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return VY(e,{idToken:n,email:this._email,oobCode:this._password});default:In(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(t,e){return Uc(t,"POST","/v1/accounts:signInWithIdp",Vc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BY="http://localhost";class xs extends w_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):In("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=J0(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new xs(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return yo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,yo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yo(e,n)}buildRequest(){const e={requestUri:BY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jY(t){const e=Ra(Ma(t)).link,n=e?Ra(Ma(e)).deep_link_id:null,i=Ra(Ma(t)).deep_link_id;return(i?Ra(Ma(i)).link:null)||i||n||e||t}class __{constructor(e){var n,i,r,s,o,a;const l=Ra(Ma(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=UY((r=l.mode)!==null&&r!==void 0?r:null);H(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=jY(e);try{return new __(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.providerId=na.PROVIDER_ID}static credential(e,n){return oc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=__.parseLink(n);return H(i,"argument-error"),oc._fromEmailAndCode(e,i.code,i.tenantId)}}na.PROVIDER_ID="password";na.EMAIL_PASSWORD_SIGN_IN_METHOD="password";na.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends pO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends zc{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xs._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return zi.credential(n,i)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends zc{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends zc{constructor(){super("twitter.com")}static credential(e,n){return xs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Wi.credential(n,i)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zY(t,e){return Uc(t,"POST","/v1/accounts:signUp",Vc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await cs._fromIdTokenResponse(e,i,r),o=VE(i);return new Es({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=VE(i);return new Es({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function VE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends Jn{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,$d.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new $d(e,n,i,r)}}function gO(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$d._fromErrorAndOperation(t,s,e,i):s})}async function HY(t,e,n=!1){const i=await rc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Es._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WY(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const s=await rc(t,gO(i,r,e,t),n);H(s.idToken,i,"internal-error");const o=y_(s.idToken);H(o,i,"internal-error");const{sub:a}=o;return H(t.uid===a,i,"user-mismatch"),Es._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&In(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(t,e,n=!1){const i="signIn",r=await gO(t,i,e),s=await Es._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function KY(t,e){return mO(jc(t),e)}async function qY(t,e,n){const i=jc(t),r=await zY(i,{returnSecureToken:!0,email:e,password:n}),s=await Es._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(s.user),s}function GY(t,e,n){return KY(Mt(t),na.credential(e,n))}function YY(t,e,n,i){return Mt(t).onIdTokenChanged(e,n,i)}function XY(t,e,n){return Mt(t).beforeAuthStateChanged(e,n)}const Vd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vd,"1"),this.storage.removeItem(Vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QY(){const t=Et();return v_(t)||pp(t)}const JY=1e3,ZY=10;class vO extends yO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=QY()&&AY(),this.fallbackToPolling=hO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);PY()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,ZY):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},JY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vO.type="LOCAL";const eX=vO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO extends yO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wO.type="SESSION";const _O=wO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tX(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new gp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await tX(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=b_("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return window}function iX(t){Gn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(){return typeof Gn().WorkerGlobalScope<"u"&&typeof Gn().importScripts=="function"}async function rX(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sX(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oX(){return bO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="firebaseLocalStorageDb",aX=1,Bd="firebaseLocalStorage",xO="fbase_key";class Hc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mp(t,e){return t.transaction([Bd],e?"readwrite":"readonly").objectStore(Bd)}function lX(){const t=indexedDB.deleteDatabase(SO);return new Hc(t).toPromise()}function cv(){const t=indexedDB.open(SO,aX);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Bd,{keyPath:xO})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Bd)?e(i):(i.close(),await lX(),e(await cv()))})})}async function BE(t,e,n){const i=mp(t,!0).put({[xO]:e,value:n});return new Hc(i).toPromise()}async function cX(t,e){const n=mp(t,!1).get(e),i=await new Hc(n).toPromise();return i===void 0?null:i.value}function UE(t,e){const n=mp(t,!0).delete(e);return new Hc(n).toPromise()}const uX=800,hX=3;class EO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>hX)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gp._getInstance(oX()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rX(),!this.activeServiceWorker)return;this.sender=new nX(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sX()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cv();return await BE(e,Vd,"1"),await UE(e,Vd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>BE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>cX(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>UE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=mp(r,!1).getAll();return new Hc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EO.type="LOCAL";const dX=EO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fX(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function pX(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=qn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",fX().appendChild(i)})}function gX(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new $c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mX(t,e){return e?pi(e):(H(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_ extends w_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yX(t){return mO(t.auth,new S_(t),t.bypassAuthState)}function vX(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),WY(n,new S_(t),t.bypassAuthState)}async function wX(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),HY(n,new S_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yX;case"linkViaPopup":case"linkViaRedirect":return wX;case"reauthViaPopup":case"reauthViaRedirect":return vX;default:In(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _X=new $c(2e3,1e4);class no extends kO{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return H(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=b_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,_X.get())};e()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bX="pendingRedirect",yh=new Map;class SX extends kO{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const i=await xX(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xX(t,e){const n=TX(e),i=kX(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function EX(t,e){yh.set(t._key(),e)}function kX(t){return pi(t._redirectPersistence)}function TX(t){return mh(bX,t.config.apiKey,t.name)}async function CX(t,e,n=!1){const i=jc(t),r=mX(i,e),o=await new SX(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IX=10*60*1e3;class PX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AX(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!TO(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(qn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IX&&this.cachedEventUids.clear(),this.cachedEventUids.has(jE(e))}saveEventToCache(e){this.cachedEventUids.add(jE(e)),this.lastProcessedEventTime=Date.now()}}function jE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AX(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RX(t,e={}){return Bc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OX=/^https?/;async function DX(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RX(t);for(const n of e)try{if(LX(n))return}catch{}In(t,"unauthorized-domain")}function LX(t){const e=lv(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!OX.test(n))return!1;if(MX.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NX=new $c(3e4,6e4);function zE(){const t=Gn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FX(t){return new Promise((e,n)=>{var i,r,s;function o(){zE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zE(),n(qn(t,"network-request-failed"))},timeout:NX.get()})}if(!((r=(i=Gn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Gn().gapi)===null||s===void 0)&&s.load)o();else{const a=gX("iframefcb");return Gn()[a]=()=>{gapi.load?o():n(qn(t,"network-request-failed"))},pX(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw vh=null,e})}let vh=null;function $X(t){return vh=vh||FX(t),vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VX=new $c(5e3,15e3),BX="__/auth/iframe",UX="emulator/auth/iframe",jX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HX(t){const e=t.config;H(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?m_(e,UX):`https://${t.config.authDomain}/${BX}`,i={apiKey:e.apiKey,appName:t.name,v:Yo},r=zX.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Sc(i).slice(1)}`}async function WX(t){const e=await $X(t),n=Gn().gapi;return H(n,t,"internal-error"),e.open({where:document.body,url:HX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jX,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=qn(t,"network-request-failed"),a=Gn().setTimeout(()=>{s(o)},VX.get());function l(){Gn().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qX=500,GX=600,YX="_blank",XX="http://localhost";class HE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QX(t,e,n,i=qX,r=GX){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},KX),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Et().toLowerCase();n&&(a=oO(c)?YX:n),sO(c)&&(e=e||XX,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(IY(c)&&a!=="_self")return JX(e||"",a),new HE(null);const h=window.open(e||"",a,u);H(h,t,"popup-blocked");try{h.focus()}catch{}return new HE(h)}function JX(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZX="__/auth/handler",e7="emulator/auth/handler";function WE(t,e,n,i,r,s){H(t.config.authDomain,t,"auth-domain-config-required"),H(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Yo,eventId:r};if(e instanceof pO){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",P4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof zc){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${t7(t)}?${Sc(a).slice(1)}`}function t7({config:t}){return t.emulator?m_(t,e7):`https://${t.authDomain}/${ZX}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="webStorageSupport";class n7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_O,this._completeRedirectFn=CX,this._overrideRedirectResult=EX}async _openPopup(e,n,i,r){var s;Ci((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=WE(e,n,i,lv(),r);return QX(e,o,b_())}async _openRedirect(e,n,i,r){return await this._originValidation(e),iX(WE(e,n,i,lv(),r)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Ci(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await WX(e),i=new PX(e);return n.register("authEvent",r=>(H(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zg,{type:zg},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[zg];o!==void 0&&n(!!o),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DX(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hO()||v_()||pp()}}const i7=n7;var KE="@firebase/auth",qE="0.21.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function o7(t){ws(new xr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=i.options;return((a,l)=>{H(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),H(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dO(t)},u=new MY(a,l,c);return hY(u,n),u})(i,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ws(new xr("auth-internal",e=>{const n=jc(e.getProvider("auth").getImmediate());return(i=>new r7(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(KE,qE,s7(t)),Wn(KE,qE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=5*60,l7=fA("authIdTokenMaxAge")||a7;let GE=null;const c7=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>l7)return;const r=n==null?void 0:n.token;GE!==r&&(GE=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function u7(t=mw()){const e=zf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uY(t,{popupRedirectResolver:i7,persistence:[dX,eX,_O]}),i=fA("authTokenSyncURL");if(i){const s=c7(i);XY(n,s,()=>s(n.currentUser)),YY(n,o=>s(o))}const r=hA("auth");return r&&OY(n,`http://${r}`),n}o7("Browser");const h7={apiKey:"AIzaSyBvODCl8G9VGLUKLWPzdmqwoRF7CPm67-w",authDomain:"shoppingfy-1f789.firebaseapp.com",projectId:"shoppingfy-1f789",storageBucket:"shoppingfy-1f789.appspot.com",messagingSenderId:"199838555163",appId:"1:199838555163:web:b64c65c7d512074ab0acbe"},x_=yA(h7),d7=G8(x_),CO=z9(x_),YE=u7(x_);function f7({type:t,label:e,placeholder:n,textarea:i,children:r,onFocus:s,onBlur:o,className:a,readOnly:l,value:c},u){const h=x.useId();return j("label",{htmlFor:h,className:`input ${a}`,children:[e,r,i?T("textarea",{placeholder:n,onFocus:s,onBlur:o,ref:u}):T("input",{readOnly:l,type:t,id:h,placeholder:n,onFocus:s,onBlur:o,value:c,ref:u})]})}const Lu=Qn.forwardRef(f7);function Vn({children:t,onClick:e,style:n}){return T("button",{onClick:e,className:"button",style:{backgroundColor:n.bg,color:n.color},children:t})}Vn.defaultProps={style:{bg:"#fff",color:"#000"}};const p7="/assets/xmark-solid-80f8600c.svg";function g7({navShown:t,setAsideState:e,setNewItem:n}){const i=x.useRef(),r=x.useRef(),s=x.useRef(),o=x.useRef(),a=x.useRef(),l=x.useId(),c=Wo(p=>Object.keys(p.items)),u=q8(d7,"practise"),h=function(p){const g=i.current.children;Array.from(g).map(v=>v.classList.remove("active")),p.target.classList.add("active"),a.current.value=p.target.textContent},d=function(){if(r.current.value.trim()===""){r.current.focus();return}if(a.current.value.trim()===""){a.current.focus();return}n({name:r.current.value,url:o.current.value,note:s.current.value,category:a.current.value}),o.current.readOnly=!1,e("final")},f=async function(p){const g=p.target.files[0];if(console.log(g),g.type.slice(0,5)!=="image"){console.error("The selected file is not an image");return}o.current.readOnly=!0;try{const v=await W8(u,g);console.log(v);const y=await K8(v.ref);o.current.value=y}catch(v){console.log(g),console.dir(v)}};return T(Go.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",duration:.25},className:"addItem",style:{display:t?"block":"none"},children:j("div",{className:"container",children:[T("h2",{children:"Add a new item"}),T(Lu,{ref:r,label:"name",placeholder:"Enter a name"},ot()),T(Lu,{ref:s,textarea:!0,placeholder:"Enter a note",label:"Note (optional)"},ot()),T(Lu,{ref:o,label:"Image (optional)",placeholder:"Enter a url",children:j("label",{htmlFor:l,className:"upload",children:["Or upload an image",T("input",{type:"file",id:l,onChange:f})]})},ot()),T(Lu,{ref:a,className:"category",label:"Category",readOnly:!0,placeholder:"Enter a category",onFocus:()=>i.current.classList.add("visible"),onBlur:()=>{setTimeout(()=>i.current.classList.remove("visible"),500)},children:T("img",{src:p7,alt:"cancel"})},ot()),T("div",{className:"drop-down",ref:i,children:c.map(p=>T("p",{onClick:h,children:p},ot()))}),j("div",{className:"button-container",children:[T(Vn,{onClick:()=>{e("list"),o.current.readOnly=!1},style:{bg:"transparent"},children:"cancel"}),T(Vn,{onClick:d,style:{bg:"#F9A109",color:"#fff"},children:"Save"})]})]})})}const IO="/assets/arrow-left-20c10350.svg";function m7({navShown:t,newItem:e,setAsideState:n}){const i=fc(),r=function(){i(Fn.items.addItem({category:e.category,item:e.name})),n("list")};return T(Go.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",duration:.25},className:"item-preview",style:{display:t?"block":"none"},children:j("div",{className:"container",children:[j("div",{onClick:()=>n("add"),className:"back-btn",children:[T("img",{src:IO,alt:"back"}),T("p",{children:"back"})]}),T("img",{src:e.url||`https://source.unsplash.com/random/?${e.name.replace(" ",",")}} alt="food image" className="placeholder`}),T("h3",{children:"name"}),T("p",{children:e.name}),T("h3",{children:"category"}),T("p",{children:e.category}),T("h3",{children:"note"}),T("p",{children:e.note||`Nutrient-dense foods are those that provide substantial amounts of
          vitamins, minerals and other nutrients with relatively few calories.
          One-third of a medium avocado (50 g) has 80 calories and contributes
          nearly 20 vitamins and minerals, making it a great nutrient-dense food
          choice.`}),j("div",{className:"btn-container",children:[T(Vn,{onClick:()=>n("list"),style:{bg:"transparent"},children:"delete"}),T(Vn,{onClick:r,style:{bg:"#F9A109",color:"#fff"},children:"Add to list"})]})]})})}const y7="/assets/logo-5b151dc7.svg",v7="/assets/cart-c8539b59.svg",w7="/assets/list-09fa9a33.svg",_7="/assets/poll-2d85d8da.svg",b7="/assets/rotate-922f8a36.svg",S7="/assets/circle-user-solid-ff6b037b.svg";function x7({setNavShown:t}){const e=Wo(n=>Object.entries(n.items).map(r=>r[1].map(s=>s.count!==0)).flat().filter(r=>r).length);return j("nav",{className:"navigation",children:[T("img",{src:y7,alt:"logo",className:"logo"}),j("div",{className:"pages",children:[T(Qs,{children:T("img",{src:S7,alt:"user",title:"user"})}),T(Qs,{to:"/",children:T("img",{src:w7,alt:"list",title:"items"})}),T(Qs,{to:"/history",children:T("img",{src:b7,alt:"history",title:"history"})}),T(Qs,{to:"/statistics",children:T("img",{src:_7,alt:"statistics",title:"statistics"})})]}),j("div",{className:"cart",onClick:()=>t(n=>!n),children:[T("p",{children:e}),T("img",{src:v7,alt:"cart",className:"cart__img"})]})]})}const E7="/assets/source-0de770c6.svg",k7="/assets/shopping_app-f057a948.svg",T7="/assets/pen-solid-7596dc6b.svg";const C7="/assets/check-solid-ad87b899.svg",I7="/assets/minus-solid-96f53c78.svg";function P7({item:t,itemCount:e,selected:n}){const i=fc();return j("div",{className:"items",children:[T("div",{className:"checkbox",onClick:r=>{const s=r.target.parentElement.closest(".items-container").firstElementChild;i(Fn.items.toggleChecked({category:s.textContent,item:t}))},children:n&&T("img",{src:C7,alt:"check"})}),T("p",{style:{textDecoration:n?"line-through":"none"},children:t}),j("p",{className:"item-count",children:[e," pcs"," ",T("img",{src:I7,alt:"minus",onClick:r=>{const s=r.target.parentElement.closest(".items-container").firstElementChild;i(Fn.items.removeItem({item:t,category:s.textContent}))}})]})]})}function A7({navShown:t,setAsideState:e,clickedEvent:n,setClickedEvent:i}){const r=x.useId(),s=Ho(),o=x.useRef(),a=fc(),l=Wo(h=>Object.entries(h.items)),c=l.every(h=>h[1].every(d=>d.count===0)),u=async function(){if(!c&&o.current.value.trim()){const h=new Date,d=new Intl.DateTimeFormat(["en","GB"]).format(h).split("/"),[f,,p]=new Intl.DateTimeFormat("en-GB",{weekday:"short",month:"long"}).format(h).split(" "),g=Date.now();a(Fn.events.addEvent({day:`${f} ${d.join(".")}`,state:"pending",name:o.current.value,date:`${p.slice(0,-1)} ${d[2]}`,id:g}));const v=l.map(([y,m])=>{const w=m.filter(_=>_.count>0);return w.length?[y,w]:[]}).filter(y=>y.length!==0);try{const y=await sY($M(CO,"selectedItems",`${g}`),{name:o.current.value,day:`${f} ${d.join(".")}`,...Object.fromEntries(v)})}catch(y){console.log(y.message)}a(Fn.items.removeAllIems()),s("/history")}};return T(Go.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",duration:.25},className:"shopping_list",style:{display:t?"block":"none"},children:j("div",{className:"container",children:[j("div",{className:"hero",children:[T("img",{src:E7,alt:"add-item"}),j("div",{children:[T("p",{children:"Didn’t find what you need?"}),T(Vn,{onClick:()=>e("add"),children:"Add Item"})]})]}),c&&T("p",{className:"no-items",children:"No items"}),j("div",{className:"container",children:[j("div",{className:"heading",children:[T("p",{children:"Shopping list"}),T("img",{src:T7,alt:"add-item"})]}),l.map(h=>j("div",{className:"items-container",children:[T("h3",{children:h[0]}),h[1].map(d=>{if(d.count!==0)return T(P7,{item:d.item,itemCount:d.count,selected:d.checked,toggleSelect:d.checkToggle},ot())})]},ot()))]}),j("div",{className:`input ${c?"empty":""}`,children:[c&&T("img",{src:k7,alt:"shopper"}),n.length?j("label",{htmlFor:`a${r}`,className:"btn-container",children:[T(Vn,{onClick:()=>{a(Fn.events.editStatus({id:n[0],status:"cancelled",date:n[1]})),i([])},children:"cancel"}),T(Vn,{onClick:()=>{a(Fn.events.editStatus({id:n[0],status:"completed",date:n[1]})),i([])},style:{bg:"#56CCF2",color:"#fff"},children:"Complete"})]}):j("label",{htmlFor:r,children:[T("input",{type:"text",id:r,placeholder:"Enter a name",ref:o,disabled:c}),T(Vn,{onClick:u,style:{bg:c?"#C1C1C4":"#F9A109",color:"#FFFFFF"},children:"Save"})]})]})]})})}function R7({item:t,count:e}){return j("div",{className:"event",children:[T("p",{className:"event__item",children:t}),j("p",{className:"event__count",children:[e," pcs"]})]})}let Nu;function M7(){const t=qN(),e=Ho(),[n,i]=x.useState();return x.useEffect(()=>{(async()=>{const r=$M(CO,"selectedItems",`${t.id.slice(1)}`),s=await iY(r);s.exists()?(Nu=Object.entries(s.data()).filter(o=>!["name","day"].includes(o[0])),i(s.data())):console.log("No such document!")})()},[]),T("div",{className:"event-info",children:j("div",{className:"container",children:[j("div",{className:"back-btn",onClick:()=>e(-1),children:[T("img",{src:IO,alt:"back"}),T("p",{children:"back"})]}),T("h2",{children:n==null?void 0:n.name}),j("div",{className:"date",children:[T("img",{src:sP,alt:"calender"}),T("p",{children:n==null?void 0:n.day})]}),T("div",{className:"events",children:Nu==null?void 0:Nu.map(r=>j("div",{children:[T("h3",{children:r[0]}),r[1].map(s=>T(R7,{...s},ot()))]},ot()))})]})})}function O7({children:t,...e},n){const i=x.useId();return j("label",{htmlFor:i,className:"auth-input",children:[t,T("input",{id:i,...e,ref:n})]})}const XE=Qn.forwardRef(O7);function PO({type:t,onSubmit:e,children:n}){const i=x.useRef(),r=x.useRef(),s=fc(),o=Ho();return j("form",{className:"form-template",onSubmit:t==="Sign Up"?async function(c){c.preventDefault();try{const{user:u}=await qY(YE,i.current.value,r.current.value);o("/"),s(Fn.user.setUser({user:u}))}catch(u){window.alert(u.message)}}:async function(c){c.preventDefault();try{const{user:u}=await GY(YE,i.current.value,r.current.value);o("/"),s(Fn.user.setUser({user:u}))}catch(u){window.alert(u.message)}},children:[T(XE,{type:"email",name:"email",ref:i,required:!0,children:"Email:"}),T(XE,{type:"password",name:"password",ref:r,minLength:6,required:!0,children:"Password:"}),n,T(Vn,{style:{bg:"#F9A109",color:"#fff"},children:t})]})}function D7(){return T(PO,{type:"Sign Up",children:T(Qs,{to:"/login",children:"Already a member? Login"})})}function L7({signUp:t}){return T(PO,{type:"Login",onSubmit:t,children:T(Qs,{to:"/signup",children:"Don't have an account? SignUp."})})}function N7(){const[t,e]=x.useState(!1),[n,i]=x.useState("list"),[r,s]=x.useState({}),[o,a]=x.useState([]),l=Wo(u=>u.user.user);console.log(l);const c=dc();return x.useEffect(()=>{l&&e(!1)},[c]),T("main",{children:j(Uj,{children:[l&&T(x7,{navShown:t,setNavShown:e},ot()),j(s2,{location:c,children:[T(Oi,{path:"/signup",element:T(D7,{})}),T(Oi,{path:"/login",element:T(L7,{})}),l&&j(iD,{children:[T(Oi,{path:"/",element:T(ez,{navShown:t,setNavShown:e})}),T(Oi,{path:"/history",element:T(Yj,{setClickedEvent:a,navShown:t})}),T(Oi,{path:"/history/:id",element:T(M7,{})}),T(Oi,{path:"/statistics",element:T(u4,{navShown:t})})]}),T(Oi,{path:"*",element:T(i2,{to:"/signup"})})]},c.path),l&&(n==="list"?T(A7,{navShown:t,setAsideState:i,clickedEvent:o,setClickedEvent:a},ot()):n==="add"?T(g7,{navShown:t,setAsideState:i,setNewItem:s},ot()):T(m7,{setAsideState:i,newItem:r,navShown:t},ot()))]})})}const F7=v$(jC);Wg.createRoot(document.getElementById("root")).render(T(Qn.StrictMode,{children:T(Z2,{store:jC,children:T(zC,{persistor:F7,children:T(u2,{children:T(N7,{})})})})}));
