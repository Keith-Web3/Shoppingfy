var mD=Object.defineProperty;var yD=(t,e,n)=>e in t?mD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var N=(t,e,n)=>(yD(t,typeof e!="symbol"?e+"":e,n),n);function vD(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function gk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bl={},wD={get exports(){return bl},set exports(t){bl=t}},Yd={},x={},_D={get exports(){return x},set exports(t){x=t}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=Symbol.for("react.element"),bD=Symbol.for("react.portal"),xD=Symbol.for("react.fragment"),SD=Symbol.for("react.strict_mode"),ED=Symbol.for("react.profiler"),kD=Symbol.for("react.provider"),TD=Symbol.for("react.context"),CD=Symbol.for("react.forward_ref"),ID=Symbol.for("react.suspense"),PD=Symbol.for("react.memo"),AD=Symbol.for("react.lazy"),j_=Symbol.iterator;function RD(t){return t===null||typeof t!="object"?null:(t=j_&&t[j_]||t["@@iterator"],typeof t=="function"?t:null)}var mk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yk=Object.assign,vk={};function Yo(t,e,n){this.props=t,this.context=e,this.refs=vk,this.updater=n||mk}Yo.prototype.isReactComponent={};Yo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wk(){}wk.prototype=Yo.prototype;function Tv(t,e,n){this.props=t,this.context=e,this.refs=vk,this.updater=n||mk}var Cv=Tv.prototype=new wk;Cv.constructor=Tv;yk(Cv,Yo.prototype);Cv.isPureReactComponent=!0;var z_=Array.isArray,_k=Object.prototype.hasOwnProperty,Iv={current:null},bk={key:!0,ref:!0,__self:!0,__source:!0};function xk(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)_k.call(e,i)&&!bk.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:mc,type:t,key:s,ref:o,props:r,_owner:Iv.current}}function OD(t,e){return{$$typeof:mc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pv(t){return typeof t=="object"&&t!==null&&t.$$typeof===mc}function MD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var W_=/\/+/g;function Rp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MD(""+t.key):e.toString(36)}function Ku(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case mc:case bD:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Rp(o,0):i,z_(r)?(n="",t!=null&&(n=t.replace(W_,"$&/")+"/"),Ku(r,e,n,"",function(c){return c})):r!=null&&(Pv(r)&&(r=OD(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(W_,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",z_(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Rp(s,a);o+=Ku(s,e,n,l,r)}else if(l=RD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Rp(s,a++),o+=Ku(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zc(t,e,n){if(t==null)return t;var i=[],r=0;return Ku(t,i,"","",function(s){return e.call(n,s,r++)}),i}function DD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lt={current:null},qu={transition:null},LD={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:qu,ReactCurrentOwner:Iv};ne.Children={map:Zc,forEach:function(t,e,n){Zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zc(t,function(){e++}),e},toArray:function(t){return Zc(t,function(e){return e})||[]},only:function(t){if(!Pv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=Yo;ne.Fragment=xD;ne.Profiler=ED;ne.PureComponent=Tv;ne.StrictMode=SD;ne.Suspense=ID;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LD;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=yk({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Iv.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)_k.call(e,l)&&!bk.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:mc,type:t.type,key:r,ref:s,props:i,_owner:o}};ne.createContext=function(t){return t={$$typeof:TD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kD,_context:t},t.Consumer=t};ne.createElement=xk;ne.createFactory=function(t){var e=xk.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:CD,render:t}};ne.isValidElement=Pv;ne.lazy=function(t){return{$$typeof:AD,_payload:{_status:-1,_result:t},_init:DD}};ne.memo=function(t,e){return{$$typeof:PD,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=qu.transition;qu.transition={};try{t()}finally{qu.transition=e}};ne.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ne.useCallback=function(t,e){return Lt.current.useCallback(t,e)};ne.useContext=function(t){return Lt.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return Lt.current.useDeferredValue(t)};ne.useEffect=function(t,e){return Lt.current.useEffect(t,e)};ne.useId=function(){return Lt.current.useId()};ne.useImperativeHandle=function(t,e,n){return Lt.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return Lt.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return Lt.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return Lt.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return Lt.current.useReducer(t,e,n)};ne.useRef=function(t){return Lt.current.useRef(t)};ne.useState=function(t){return Lt.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return Lt.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return Lt.current.useTransition()};ne.version="18.2.0";(function(t){t.exports=ne})(_D);const Dn=gk(x),sm=vD({__proto__:null,default:Dn},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ND=x,FD=Symbol.for("react.element"),$D=Symbol.for("react.fragment"),VD=Object.prototype.hasOwnProperty,BD=ND.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UD={key:!0,ref:!0,__self:!0,__source:!0};function Sk(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)VD.call(e,i)&&!UD.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:FD,type:t,key:s,ref:o,props:r,_owner:BD.current}}Yd.Fragment=$D;Yd.jsx=Sk;Yd.jsxs=Sk;(function(t){t.exports=Yd})(wD);const Ek=bl.Fragment,E=bl.jsx,M=bl.jsxs;var om={},xl={},jD={get exports(){return xl},set exports(t){xl=t}},sn={},am={},zD={get exports(){return am},set exports(t){am=t}},kk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,F){var W=O.length;O.push(F);e:for(;0<W;){var fe=W-1>>>1,ve=O[fe];if(0<r(ve,F))O[fe]=F,O[W]=ve,W=fe;else break e}}function n(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var F=O[0],W=O.pop();if(W!==F){O[0]=W;e:for(var fe=0,ve=O.length,Ln=ve>>>1;fe<Ln;){var Ht=2*(fe+1)-1,ri=O[Ht],Kt=Ht+1,Jc=O[Kt];if(0>r(ri,W))Kt<ve&&0>r(Jc,ri)?(O[fe]=Jc,O[Kt]=W,fe=Kt):(O[fe]=ri,O[Ht]=W,fe=Ht);else if(Kt<ve&&0>r(Jc,W))O[fe]=Jc,O[Kt]=W,fe=Kt;else break e}}return F}function r(O,F){var W=O.sortIndex-F.sortIndex;return W!==0?W:O.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var F=n(c);F!==null;){if(F.callback===null)i(c);else if(F.startTime<=O)i(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function _(O){if(g=!1,w(O),!p)if(n(l)!==null)p=!0,Z(b);else{var F=n(c);F!==null&&J(_,F.startTime-O)}}function b(O,F){p=!1,g&&(g=!1,y(T),T=-1),f=!0;var W=d;try{for(w(F),h=n(l);h!==null&&(!(h.expirationTime>F)||O&&!D());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,d=h.priorityLevel;var ve=fe(h.expirationTime<=F);F=t.unstable_now(),typeof ve=="function"?h.callback=ve:h===n(l)&&i(l),w(F)}else i(l);h=n(l)}if(h!==null)var Ln=!0;else{var Ht=n(c);Ht!==null&&J(_,Ht.startTime-F),Ln=!1}return Ln}finally{h=null,d=W,f=!1}}var S=!1,k=null,T=-1,I=5,C=-1;function D(){return!(t.unstable_now()-C<I)}function G(){if(k!==null){var O=t.unstable_now();C=O;var F=!0;try{F=k(!0,O)}finally{F?de():(S=!1,k=null)}}else S=!1}var de;if(typeof m=="function")de=function(){m(G)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,j=Oe.port2;Oe.port1.onmessage=G,de=function(){j.postMessage(null)}}else de=function(){v(G,0)};function Z(O){k=O,S||(S=!0,de())}function J(O,F){T=v(function(){O(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Z(b))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var W=d;d=F;try{return O()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var W=d;d=O;try{return F()}finally{d=W}},t.unstable_scheduleCallback=function(O,F,W){var fe=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?fe+W:fe):W=fe,O){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=W+ve,O={id:u++,callback:F,priorityLevel:O,startTime:W,expirationTime:ve,sortIndex:-1},W>fe?(O.sortIndex=W,e(c,O),n(l)===null&&O===n(c)&&(g?(y(T),T=-1):g=!0,J(_,W-fe))):(O.sortIndex=ve,e(l,O),p||f||(p=!0,Z(b))),O},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(O){var F=d;return function(){var W=d;d=F;try{return O.apply(this,arguments)}finally{d=W}}}})(kk);(function(t){t.exports=kk})(zD);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tk=x,en=am;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ck=new Set,Sl={};function Ns(t,e){Co(t,e),Co(t+"Capture",e)}function Co(t,e){for(Sl[t]=e,t=0;t<e.length;t++)Ck.add(e[t])}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lm=Object.prototype.hasOwnProperty,WD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H_={},K_={};function HD(t){return lm.call(K_,t)?!0:lm.call(H_,t)?!1:WD.test(t)?K_[t]=!0:(H_[t]=!0,!1)}function KD(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qD(t,e,n,i){if(e===null||typeof e>"u"||KD(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Av=/[\-:]([a-z])/g;function Rv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Av,Rv);ht[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Av,Rv);ht[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Av,Rv);ht[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ov(t,e,n,i){var r=ht.hasOwnProperty(e)?ht[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qD(e,n,r,i)&&(n=null),i||r===null?HD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Vi=Tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eu=Symbol.for("react.element"),Ys=Symbol.for("react.portal"),Xs=Symbol.for("react.fragment"),Mv=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),Ik=Symbol.for("react.provider"),Pk=Symbol.for("react.context"),Dv=Symbol.for("react.forward_ref"),um=Symbol.for("react.suspense"),hm=Symbol.for("react.suspense_list"),Lv=Symbol.for("react.memo"),Hi=Symbol.for("react.lazy"),Ak=Symbol.for("react.offscreen"),q_=Symbol.iterator;function da(t){return t===null||typeof t!="object"?null:(t=q_&&t[q_]||t["@@iterator"],typeof t=="function"?t:null)}var Ae=Object.assign,Op;function Pa(t){if(Op===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Op=e&&e[1]||""}return`
`+Op+t}var Mp=!1;function Dp(t,e){if(!t||Mp)return"";Mp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Mp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pa(t):""}function GD(t){switch(t.tag){case 5:return Pa(t.type);case 16:return Pa("Lazy");case 13:return Pa("Suspense");case 19:return Pa("SuspenseList");case 0:case 2:case 15:return t=Dp(t.type,!1),t;case 11:return t=Dp(t.type.render,!1),t;case 1:return t=Dp(t.type,!0),t;default:return""}}function dm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xs:return"Fragment";case Ys:return"Portal";case cm:return"Profiler";case Mv:return"StrictMode";case um:return"Suspense";case hm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Pk:return(t.displayName||"Context")+".Consumer";case Ik:return(t._context.displayName||"Context")+".Provider";case Dv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lv:return e=t.displayName||null,e!==null?e:dm(t.type)||"Memo";case Hi:e=t._payload,t=t._init;try{return dm(t(e))}catch{}}return null}function YD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dm(e);case 8:return e===Mv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XD(t){var e=Rk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tu(t){t._valueTracker||(t._valueTracker=XD(t))}function Ok(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Rk(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ih(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fm(t,e){var n=e.checked;return Ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function G_(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=xr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Mk(t,e){e=e.checked,e!=null&&Ov(t,"checked",e,!1)}function pm(t,e){Mk(t,e);var n=xr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gm(t,e.type,n):e.hasOwnProperty("defaultValue")&&gm(t,e.type,xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Y_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gm(t,e,n){(e!=="number"||Ih(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Aa=Array.isArray;function fo(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+xr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function mm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return Ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function X_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(Aa(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xr(n)}}function Dk(t,e){var n=xr(e.value),i=xr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Q_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Lk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ym(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Lk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nu,Nk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nu=nu||document.createElement("div"),nu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function El(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QD=["Webkit","ms","Moz","O"];Object.keys(qa).forEach(function(t){QD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qa[e]=qa[t]})});function Fk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qa.hasOwnProperty(t)&&qa[t]?(""+e).trim():e+"px"}function $k(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=Fk(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var JD=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vm(t,e){if(e){if(JD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function wm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _m=null;function Nv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bm=null,po=null,go=null;function J_(t){if(t=wc(t)){if(typeof bm!="function")throw Error(A(280));var e=t.stateNode;e&&(e=ef(e),bm(t.stateNode,t.type,e))}}function Vk(t){po?go?go.push(t):go=[t]:po=t}function Bk(){if(po){var t=po,e=go;if(go=po=null,J_(t),e)for(t=0;t<e.length;t++)J_(e[t])}}function Uk(t,e){return t(e)}function jk(){}var Lp=!1;function zk(t,e,n){if(Lp)return t(e,n);Lp=!0;try{return Uk(t,e,n)}finally{Lp=!1,(po!==null||go!==null)&&(jk(),Bk())}}function kl(t,e){var n=t.stateNode;if(n===null)return null;var i=ef(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var xm=!1;if(Pi)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){xm=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{xm=!1}function ZD(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ga=!1,Ph=null,Ah=!1,Sm=null,eL={onError:function(t){Ga=!0,Ph=t}};function tL(t,e,n,i,r,s,o,a,l){Ga=!1,Ph=null,ZD.apply(eL,arguments)}function nL(t,e,n,i,r,s,o,a,l){if(tL.apply(this,arguments),Ga){if(Ga){var c=Ph;Ga=!1,Ph=null}else throw Error(A(198));Ah||(Ah=!0,Sm=c)}}function Fs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Wk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Z_(t){if(Fs(t)!==t)throw Error(A(188))}function iL(t){var e=t.alternate;if(!e){if(e=Fs(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Z_(r),t;if(s===i)return Z_(r),e;s=s.sibling}throw Error(A(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==i)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function Hk(t){return t=iL(t),t!==null?Kk(t):null}function Kk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Kk(t);if(e!==null)return e;t=t.sibling}return null}var qk=en.unstable_scheduleCallback,eb=en.unstable_cancelCallback,rL=en.unstable_shouldYield,sL=en.unstable_requestPaint,Ve=en.unstable_now,oL=en.unstable_getCurrentPriorityLevel,Fv=en.unstable_ImmediatePriority,Gk=en.unstable_UserBlockingPriority,Rh=en.unstable_NormalPriority,aL=en.unstable_LowPriority,Yk=en.unstable_IdlePriority,Xd=null,Wn=null;function lL(t){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(Xd,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:hL,cL=Math.log,uL=Math.LN2;function hL(t){return t>>>=0,t===0?32:31-(cL(t)/uL|0)|0}var iu=64,ru=4194304;function Ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Oh(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Ra(a):(s&=o,s!==0&&(i=Ra(s)))}else o=n&~r,o!==0?i=Ra(o):s!==0&&(i=Ra(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Pn(e),r=1<<n,i|=t[n],e&=~r;return i}function dL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fL(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=dL(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Em(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Xk(){var t=iu;return iu<<=1,!(iu&4194240)&&(iu=64),t}function Np(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function pL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Pn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function $v(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Pn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var ce=0;function Qk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Jk,Vv,Zk,eT,tT,km=!1,su=[],ar=null,lr=null,cr=null,Tl=new Map,Cl=new Map,Gi=[],gL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tb(t,e){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(e.pointerId)}}function pa(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=wc(e),e!==null&&Vv(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function mL(t,e,n,i,r){switch(e){case"focusin":return ar=pa(ar,t,e,n,i,r),!0;case"dragenter":return lr=pa(lr,t,e,n,i,r),!0;case"mouseover":return cr=pa(cr,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Tl.set(s,pa(Tl.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Cl.set(s,pa(Cl.get(s)||null,t,e,n,i,r)),!0}return!1}function nT(t){var e=is(t.target);if(e!==null){var n=Fs(e);if(n!==null){if(e=n.tag,e===13){if(e=Wk(n),e!==null){t.blockedOn=e,tT(t.priority,function(){Zk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);_m=i,n.target.dispatchEvent(i),_m=null}else return e=wc(n),e!==null&&Vv(e),t.blockedOn=n,!1;e.shift()}return!0}function nb(t,e,n){Gu(t)&&n.delete(e)}function yL(){km=!1,ar!==null&&Gu(ar)&&(ar=null),lr!==null&&Gu(lr)&&(lr=null),cr!==null&&Gu(cr)&&(cr=null),Tl.forEach(nb),Cl.forEach(nb)}function ga(t,e){t.blockedOn===e&&(t.blockedOn=null,km||(km=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,yL)))}function Il(t){function e(r){return ga(r,t)}if(0<su.length){ga(su[0],t);for(var n=1;n<su.length;n++){var i=su[n];i.blockedOn===t&&(i.blockedOn=null)}}for(ar!==null&&ga(ar,t),lr!==null&&ga(lr,t),cr!==null&&ga(cr,t),Tl.forEach(e),Cl.forEach(e),n=0;n<Gi.length;n++)i=Gi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Gi.length&&(n=Gi[0],n.blockedOn===null);)nT(n),n.blockedOn===null&&Gi.shift()}var mo=Vi.ReactCurrentBatchConfig,Mh=!0;function vL(t,e,n,i){var r=ce,s=mo.transition;mo.transition=null;try{ce=1,Bv(t,e,n,i)}finally{ce=r,mo.transition=s}}function wL(t,e,n,i){var r=ce,s=mo.transition;mo.transition=null;try{ce=4,Bv(t,e,n,i)}finally{ce=r,mo.transition=s}}function Bv(t,e,n,i){if(Mh){var r=Tm(t,e,n,i);if(r===null)Kp(t,e,i,Dh,n),tb(t,i);else if(mL(r,t,e,n,i))i.stopPropagation();else if(tb(t,i),e&4&&-1<gL.indexOf(t)){for(;r!==null;){var s=wc(r);if(s!==null&&Jk(s),s=Tm(t,e,n,i),s===null&&Kp(t,e,i,Dh,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Kp(t,e,i,null,n)}}var Dh=null;function Tm(t,e,n,i){if(Dh=null,t=Nv(i),t=is(t),t!==null)if(e=Fs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Wk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dh=t,null}function iT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oL()){case Fv:return 1;case Gk:return 4;case Rh:case aL:return 16;case Yk:return 536870912;default:return 16}default:return 16}}var Ji=null,Uv=null,Yu=null;function rT(){if(Yu)return Yu;var t,e=Uv,n=e.length,i,r="value"in Ji?Ji.value:Ji.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Yu=r.slice(t,1<i?1-i:void 0)}function Xu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ou(){return!0}function ib(){return!1}function on(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ou:ib,this.isPropagationStopped=ib,this}return Ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ou)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ou)},persist:function(){},isPersistent:ou}),e}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jv=on(Xo),vc=Ae({},Xo,{view:0,detail:0}),_L=on(vc),Fp,$p,ma,Qd=Ae({},vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ma&&(ma&&t.type==="mousemove"?(Fp=t.screenX-ma.screenX,$p=t.screenY-ma.screenY):$p=Fp=0,ma=t),Fp)},movementY:function(t){return"movementY"in t?t.movementY:$p}}),rb=on(Qd),bL=Ae({},Qd,{dataTransfer:0}),xL=on(bL),SL=Ae({},vc,{relatedTarget:0}),Vp=on(SL),EL=Ae({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),kL=on(EL),TL=Ae({},Xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CL=on(TL),IL=Ae({},Xo,{data:0}),sb=on(IL),PL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RL[t])?!!e[t]:!1}function zv(){return OL}var ML=Ae({},vc,{key:function(t){if(t.key){var e=PL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zv,charCode:function(t){return t.type==="keypress"?Xu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DL=on(ML),LL=Ae({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ob=on(LL),NL=Ae({},vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zv}),FL=on(NL),$L=Ae({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),VL=on($L),BL=Ae({},Qd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),UL=on(BL),jL=[9,13,27,32],Wv=Pi&&"CompositionEvent"in window,Ya=null;Pi&&"documentMode"in document&&(Ya=document.documentMode);var zL=Pi&&"TextEvent"in window&&!Ya,sT=Pi&&(!Wv||Ya&&8<Ya&&11>=Ya),ab=String.fromCharCode(32),lb=!1;function oT(t,e){switch(t){case"keyup":return jL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qs=!1;function WL(t,e){switch(t){case"compositionend":return aT(e);case"keypress":return e.which!==32?null:(lb=!0,ab);case"textInput":return t=e.data,t===ab&&lb?null:t;default:return null}}function HL(t,e){if(Qs)return t==="compositionend"||!Wv&&oT(t,e)?(t=rT(),Yu=Uv=Ji=null,Qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sT&&e.locale!=="ko"?null:e.data;default:return null}}var KL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KL[t.type]:e==="textarea"}function lT(t,e,n,i){Vk(i),e=Lh(e,"onChange"),0<e.length&&(n=new jv("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Xa=null,Pl=null;function qL(t){wT(t,0)}function Jd(t){var e=eo(t);if(Ok(e))return t}function GL(t,e){if(t==="change")return e}var cT=!1;if(Pi){var Bp;if(Pi){var Up="oninput"in document;if(!Up){var ub=document.createElement("div");ub.setAttribute("oninput","return;"),Up=typeof ub.oninput=="function"}Bp=Up}else Bp=!1;cT=Bp&&(!document.documentMode||9<document.documentMode)}function hb(){Xa&&(Xa.detachEvent("onpropertychange",uT),Pl=Xa=null)}function uT(t){if(t.propertyName==="value"&&Jd(Pl)){var e=[];lT(e,Pl,t,Nv(t)),zk(qL,e)}}function YL(t,e,n){t==="focusin"?(hb(),Xa=e,Pl=n,Xa.attachEvent("onpropertychange",uT)):t==="focusout"&&hb()}function XL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jd(Pl)}function QL(t,e){if(t==="click")return Jd(e)}function JL(t,e){if(t==="input"||t==="change")return Jd(e)}function ZL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var On=typeof Object.is=="function"?Object.is:ZL;function Al(t,e){if(On(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!lm.call(e,r)||!On(t[r],e[r]))return!1}return!0}function db(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fb(t,e){var n=db(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=db(n)}}function hT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dT(){for(var t=window,e=Ih();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ih(t.document)}return e}function Hv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eN(t){var e=dT(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hT(n.ownerDocument.documentElement,n)){if(i!==null&&Hv(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=fb(n,s);var o=fb(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tN=Pi&&"documentMode"in document&&11>=document.documentMode,Js=null,Cm=null,Qa=null,Im=!1;function pb(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Im||Js==null||Js!==Ih(i)||(i=Js,"selectionStart"in i&&Hv(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Qa&&Al(Qa,i)||(Qa=i,i=Lh(Cm,"onSelect"),0<i.length&&(e=new jv("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Js)))}function au(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zs={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},jp={},fT={};Pi&&(fT=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function Zd(t){if(jp[t])return jp[t];if(!Zs[t])return t;var e=Zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fT)return jp[t]=e[n];return t}var pT=Zd("animationend"),gT=Zd("animationiteration"),mT=Zd("animationstart"),yT=Zd("transitionend"),vT=new Map,gb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(t,e){vT.set(t,e),Ns(e,[t])}for(var zp=0;zp<gb.length;zp++){var Wp=gb[zp],nN=Wp.toLowerCase(),iN=Wp[0].toUpperCase()+Wp.slice(1);Lr(nN,"on"+iN)}Lr(pT,"onAnimationEnd");Lr(gT,"onAnimationIteration");Lr(mT,"onAnimationStart");Lr("dblclick","onDoubleClick");Lr("focusin","onFocus");Lr("focusout","onBlur");Lr(yT,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oa));function mb(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,nL(i,e,void 0,t),t.currentTarget=null}function wT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;mb(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;mb(r,a,c),s=l}}}if(Ah)throw t=Sm,Ah=!1,Sm=null,t}function we(t,e){var n=e[Mm];n===void 0&&(n=e[Mm]=new Set);var i=t+"__bubble";n.has(i)||(_T(e,t,2,!1),n.add(i))}function Hp(t,e,n){var i=0;e&&(i|=4),_T(n,t,i,e)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Rl(t){if(!t[lu]){t[lu]=!0,Ck.forEach(function(n){n!=="selectionchange"&&(rN.has(n)||Hp(n,!1,t),Hp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lu]||(e[lu]=!0,Hp("selectionchange",!1,e))}}function _T(t,e,n,i){switch(iT(e)){case 1:var r=vL;break;case 4:r=wL;break;default:r=Bv}n=r.bind(null,e,n,t),r=void 0,!xm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Kp(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=is(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}zk(function(){var c=s,u=Nv(n),h=[];e:{var d=vT.get(t);if(d!==void 0){var f=jv,p=t;switch(t){case"keypress":if(Xu(n)===0)break e;case"keydown":case"keyup":f=DL;break;case"focusin":p="focus",f=Vp;break;case"focusout":p="blur",f=Vp;break;case"beforeblur":case"afterblur":f=Vp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=rb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=xL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=FL;break;case pT:case gT:case mT:f=kL;break;case yT:f=VL;break;case"scroll":f=_L;break;case"wheel":f=UL;break;case"copy":case"cut":case"paste":f=CL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=ob}var g=(e&4)!==0,v=!g&&t==="scroll",y=g?d!==null?d+"Capture":null:d;g=[];for(var m=c,w;m!==null;){w=m;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=kl(m,y),_!=null&&g.push(Ol(m,_,w)))),v)break;m=m.return}0<g.length&&(d=new f(d,p,null,n,u),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==_m&&(p=n.relatedTarget||n.fromElement)&&(is(p)||p[Ai]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?is(p):null,p!==null&&(v=Fs(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(g=rb,_="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=ob,_="onPointerLeave",y="onPointerEnter",m="pointer"),v=f==null?d:eo(f),w=p==null?d:eo(p),d=new g(_,m+"leave",f,n,u),d.target=v,d.relatedTarget=w,_=null,is(u)===c&&(g=new g(y,m+"enter",p,n,u),g.target=w,g.relatedTarget=v,_=g),v=_,f&&p)t:{for(g=f,y=p,m=0,w=g;w;w=zs(w))m++;for(w=0,_=y;_;_=zs(_))w++;for(;0<m-w;)g=zs(g),m--;for(;0<w-m;)y=zs(y),w--;for(;m--;){if(g===y||y!==null&&g===y.alternate)break t;g=zs(g),y=zs(y)}g=null}else g=null;f!==null&&yb(h,d,f,g,!1),p!==null&&v!==null&&yb(h,v,p,g,!0)}}e:{if(d=c?eo(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var b=GL;else if(cb(d))if(cT)b=JL;else{b=XL;var S=YL}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=QL);if(b&&(b=b(t,c))){lT(h,b,n,u);break e}S&&S(t,d,c),t==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&gm(d,"number",d.value)}switch(S=c?eo(c):window,t){case"focusin":(cb(S)||S.contentEditable==="true")&&(Js=S,Cm=c,Qa=null);break;case"focusout":Qa=Cm=Js=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,pb(h,n,u);break;case"selectionchange":if(tN)break;case"keydown":case"keyup":pb(h,n,u)}var k;if(Wv)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Qs?oT(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(sT&&n.locale!=="ko"&&(Qs||T!=="onCompositionStart"?T==="onCompositionEnd"&&Qs&&(k=rT()):(Ji=u,Uv="value"in Ji?Ji.value:Ji.textContent,Qs=!0)),S=Lh(c,T),0<S.length&&(T=new sb(T,t,null,n,u),h.push({event:T,listeners:S}),k?T.data=k:(k=aT(n),k!==null&&(T.data=k)))),(k=zL?WL(t,n):HL(t,n))&&(c=Lh(c,"onBeforeInput"),0<c.length&&(u=new sb("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=k))}wT(h,e)})}function Ol(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lh(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=kl(t,n),s!=null&&i.unshift(Ol(t,s,r)),s=kl(t,e),s!=null&&i.push(Ol(t,s,r))),t=t.return}return i}function zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yb(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=kl(n,s),l!=null&&o.unshift(Ol(n,l,a))):r||(l=kl(n,s),l!=null&&o.push(Ol(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sN=/\r\n?/g,oN=/\u0000|\uFFFD/g;function vb(t){return(typeof t=="string"?t:""+t).replace(sN,`
`).replace(oN,"")}function cu(t,e,n){if(e=vb(e),vb(t)!==e&&n)throw Error(A(425))}function Nh(){}var Pm=null,Am=null;function Rm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Om=typeof setTimeout=="function"?setTimeout:void 0,aN=typeof clearTimeout=="function"?clearTimeout:void 0,wb=typeof Promise=="function"?Promise:void 0,lN=typeof queueMicrotask=="function"?queueMicrotask:typeof wb<"u"?function(t){return wb.resolve(null).then(t).catch(cN)}:Om;function cN(t){setTimeout(function(){throw t})}function qp(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Il(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Il(e)}function ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _b(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qo=Math.random().toString(36).slice(2),Un="__reactFiber$"+Qo,Ml="__reactProps$"+Qo,Ai="__reactContainer$"+Qo,Mm="__reactEvents$"+Qo,uN="__reactListeners$"+Qo,hN="__reactHandles$"+Qo;function is(t){var e=t[Un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ai]||n[Un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_b(t);t!==null;){if(n=t[Un])return n;t=_b(t)}return e}t=n,n=t.parentNode}return null}function wc(t){return t=t[Un]||t[Ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function ef(t){return t[Ml]||null}var Dm=[],to=-1;function Nr(t){return{current:t}}function be(t){0>to||(t.current=Dm[to],Dm[to]=null,to--)}function me(t,e){to++,Dm[to]=t.current,t.current=e}var Sr={},Et=Nr(Sr),Ut=Nr(!1),_s=Sr;function Io(t,e){var n=t.type.contextTypes;if(!n)return Sr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function jt(t){return t=t.childContextTypes,t!=null}function Fh(){be(Ut),be(Et)}function bb(t,e,n){if(Et.current!==Sr)throw Error(A(168));me(Et,e),me(Ut,n)}function bT(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(A(108,YD(t)||"Unknown",r));return Ae({},n,i)}function $h(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sr,_s=Et.current,me(Et,t),me(Ut,Ut.current),!0}function xb(t,e,n){var i=t.stateNode;if(!i)throw Error(A(169));n?(t=bT(t,e,_s),i.__reactInternalMemoizedMergedChildContext=t,be(Ut),be(Et),me(Et,t)):be(Ut),me(Ut,n)}var di=null,tf=!1,Gp=!1;function xT(t){di===null?di=[t]:di.push(t)}function dN(t){tf=!0,xT(t)}function Fr(){if(!Gp&&di!==null){Gp=!0;var t=0,e=ce;try{var n=di;for(ce=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}di=null,tf=!1}catch(r){throw di!==null&&(di=di.slice(t+1)),qk(Fv,Fr),r}finally{ce=e,Gp=!1}}return null}var no=[],io=0,Vh=null,Bh=0,un=[],hn=0,bs=null,vi=1,wi="";function Yr(t,e){no[io++]=Bh,no[io++]=Vh,Vh=t,Bh=e}function ST(t,e,n){un[hn++]=vi,un[hn++]=wi,un[hn++]=bs,bs=t;var i=vi;t=wi;var r=32-Pn(i)-1;i&=~(1<<r),n+=1;var s=32-Pn(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,vi=1<<32-Pn(e)+r|n<<r|i,wi=s+t}else vi=1<<s|n<<r|i,wi=t}function Kv(t){t.return!==null&&(Yr(t,1),ST(t,1,0))}function qv(t){for(;t===Vh;)Vh=no[--io],no[io]=null,Bh=no[--io],no[io]=null;for(;t===bs;)bs=un[--hn],un[hn]=null,wi=un[--hn],un[hn]=null,vi=un[--hn],un[hn]=null}var Jt=null,Xt=null,Ee=!1,kn=null;function ET(t,e){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jt=t,Xt=ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jt=t,Xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bs!==null?{id:vi,overflow:wi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jt=t,Xt=null,!0):!1;default:return!1}}function Lm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nm(t){if(Ee){var e=Xt;if(e){var n=e;if(!Sb(t,e)){if(Lm(t))throw Error(A(418));e=ur(n.nextSibling);var i=Jt;e&&Sb(t,e)?ET(i,n):(t.flags=t.flags&-4097|2,Ee=!1,Jt=t)}}else{if(Lm(t))throw Error(A(418));t.flags=t.flags&-4097|2,Ee=!1,Jt=t}}}function Eb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jt=t}function uu(t){if(t!==Jt)return!1;if(!Ee)return Eb(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rm(t.type,t.memoizedProps)),e&&(e=Xt)){if(Lm(t))throw kT(),Error(A(418));for(;e;)ET(t,e),e=ur(e.nextSibling)}if(Eb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xt=ur(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xt=null}}else Xt=Jt?ur(t.stateNode.nextSibling):null;return!0}function kT(){for(var t=Xt;t;)t=ur(t.nextSibling)}function Po(){Xt=Jt=null,Ee=!1}function Gv(t){kn===null?kn=[t]:kn.push(t)}var fN=Vi.ReactCurrentBatchConfig;function Sn(t,e){if(t&&t.defaultProps){e=Ae({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Uh=Nr(null),jh=null,ro=null,Yv=null;function Xv(){Yv=ro=jh=null}function Qv(t){var e=Uh.current;be(Uh),t._currentValue=e}function Fm(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function yo(t,e){jh=t,Yv=ro=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function gn(t){var e=t._currentValue;if(Yv!==t)if(t={context:t,memoizedValue:e,next:null},ro===null){if(jh===null)throw Error(A(308));ro=t,jh.dependencies={lanes:0,firstContext:t}}else ro=ro.next=t;return e}var rs=null;function Jv(t){rs===null?rs=[t]:rs.push(t)}function TT(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Jv(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ri(t,i)}function Ri(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ki=!1;function Zv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ti(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,re&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ri(t,n)}return r=i.interleaved,r===null?(e.next=e,Jv(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ri(t,n)}function Qu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,$v(t,n)}}function kb(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zh(t,e,n,i){var r=t.updateQueue;Ki=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(d=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Ae({},h,d);break e;case 2:Ki=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(1);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Ss|=o,t.lanes=o,t.memoizedState=h}}function Tb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(A(191,r));r.call(i)}}}var IT=new Tk.Component().refs;function $m(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ae({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nf={isMounted:function(t){return(t=t._reactInternals)?Fs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Mt(),r=fr(t),s=Ti(i,r);s.payload=e,n!=null&&(s.callback=n),e=hr(t,s,r),e!==null&&(An(e,t,r,i),Qu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Mt(),r=fr(t),s=Ti(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=hr(t,s,r),e!==null&&(An(e,t,r,i),Qu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),i=fr(t),r=Ti(n,i);r.tag=2,e!=null&&(r.callback=e),e=hr(t,r,i),e!==null&&(An(e,t,i,n),Qu(e,t,i))}};function Cb(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Al(n,i)||!Al(r,s):!0}function PT(t,e,n){var i=!1,r=Sr,s=e.contextType;return typeof s=="object"&&s!==null?s=gn(s):(r=jt(e)?_s:Et.current,i=e.contextTypes,s=(i=i!=null)?Io(t,r):Sr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nf,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ib(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&nf.enqueueReplaceState(e,e.state,null)}function Vm(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=IT,Zv(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=gn(s):(s=jt(e)?_s:Et.current,r.context=Io(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($m(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&nf.enqueueReplaceState(r,r.state,null),zh(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function ya(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var i=n.stateNode}if(!i)throw Error(A(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===IT&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function hu(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pb(t){var e=t._init;return e(t._payload)}function AT(t){function e(y,m){if(t){var w=y.deletions;w===null?(y.deletions=[m],y.flags|=16):w.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function i(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function r(y,m){return y=pr(y,m),y.index=0,y.sibling=null,y}function s(y,m,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<m?(y.flags|=2,m):w):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,w,_){return m===null||m.tag!==6?(m=tg(w,y.mode,_),m.return=y,m):(m=r(m,w),m.return=y,m)}function l(y,m,w,_){var b=w.type;return b===Xs?u(y,m,w.props.children,_,w.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Hi&&Pb(b)===m.type)?(_=r(m,w.props),_.ref=ya(y,m,w),_.return=y,_):(_=ih(w.type,w.key,w.props,null,y.mode,_),_.ref=ya(y,m,w),_.return=y,_)}function c(y,m,w,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=ng(w,y.mode,_),m.return=y,m):(m=r(m,w.children||[]),m.return=y,m)}function u(y,m,w,_,b){return m===null||m.tag!==7?(m=ds(w,y.mode,_,b),m.return=y,m):(m=r(m,w),m.return=y,m)}function h(y,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=tg(""+m,y.mode,w),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case eu:return w=ih(m.type,m.key,m.props,null,y.mode,w),w.ref=ya(y,null,m),w.return=y,w;case Ys:return m=ng(m,y.mode,w),m.return=y,m;case Hi:var _=m._init;return h(y,_(m._payload),w)}if(Aa(m)||da(m))return m=ds(m,y.mode,w,null),m.return=y,m;hu(y,m)}return null}function d(y,m,w,_){var b=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:a(y,m,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case eu:return w.key===b?l(y,m,w,_):null;case Ys:return w.key===b?c(y,m,w,_):null;case Hi:return b=w._init,d(y,m,b(w._payload),_)}if(Aa(w)||da(w))return b!==null?null:u(y,m,w,_,null);hu(y,w)}return null}function f(y,m,w,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,a(m,y,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case eu:return y=y.get(_.key===null?w:_.key)||null,l(m,y,_,b);case Ys:return y=y.get(_.key===null?w:_.key)||null,c(m,y,_,b);case Hi:var S=_._init;return f(y,m,w,S(_._payload),b)}if(Aa(_)||da(_))return y=y.get(w)||null,u(m,y,_,b,null);hu(m,_)}return null}function p(y,m,w,_){for(var b=null,S=null,k=m,T=m=0,I=null;k!==null&&T<w.length;T++){k.index>T?(I=k,k=null):I=k.sibling;var C=d(y,k,w[T],_);if(C===null){k===null&&(k=I);break}t&&k&&C.alternate===null&&e(y,k),m=s(C,m,T),S===null?b=C:S.sibling=C,S=C,k=I}if(T===w.length)return n(y,k),Ee&&Yr(y,T),b;if(k===null){for(;T<w.length;T++)k=h(y,w[T],_),k!==null&&(m=s(k,m,T),S===null?b=k:S.sibling=k,S=k);return Ee&&Yr(y,T),b}for(k=i(y,k);T<w.length;T++)I=f(k,y,T,w[T],_),I!==null&&(t&&I.alternate!==null&&k.delete(I.key===null?T:I.key),m=s(I,m,T),S===null?b=I:S.sibling=I,S=I);return t&&k.forEach(function(D){return e(y,D)}),Ee&&Yr(y,T),b}function g(y,m,w,_){var b=da(w);if(typeof b!="function")throw Error(A(150));if(w=b.call(w),w==null)throw Error(A(151));for(var S=b=null,k=m,T=m=0,I=null,C=w.next();k!==null&&!C.done;T++,C=w.next()){k.index>T?(I=k,k=null):I=k.sibling;var D=d(y,k,C.value,_);if(D===null){k===null&&(k=I);break}t&&k&&D.alternate===null&&e(y,k),m=s(D,m,T),S===null?b=D:S.sibling=D,S=D,k=I}if(C.done)return n(y,k),Ee&&Yr(y,T),b;if(k===null){for(;!C.done;T++,C=w.next())C=h(y,C.value,_),C!==null&&(m=s(C,m,T),S===null?b=C:S.sibling=C,S=C);return Ee&&Yr(y,T),b}for(k=i(y,k);!C.done;T++,C=w.next())C=f(k,y,T,C.value,_),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?T:C.key),m=s(C,m,T),S===null?b=C:S.sibling=C,S=C);return t&&k.forEach(function(G){return e(y,G)}),Ee&&Yr(y,T),b}function v(y,m,w,_){if(typeof w=="object"&&w!==null&&w.type===Xs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case eu:e:{for(var b=w.key,S=m;S!==null;){if(S.key===b){if(b=w.type,b===Xs){if(S.tag===7){n(y,S.sibling),m=r(S,w.props.children),m.return=y,y=m;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Hi&&Pb(b)===S.type){n(y,S.sibling),m=r(S,w.props),m.ref=ya(y,S,w),m.return=y,y=m;break e}n(y,S);break}else e(y,S);S=S.sibling}w.type===Xs?(m=ds(w.props.children,y.mode,_,w.key),m.return=y,y=m):(_=ih(w.type,w.key,w.props,null,y.mode,_),_.ref=ya(y,m,w),_.return=y,y=_)}return o(y);case Ys:e:{for(S=w.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(y,m.sibling),m=r(m,w.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=ng(w,y.mode,_),m.return=y,y=m}return o(y);case Hi:return S=w._init,v(y,m,S(w._payload),_)}if(Aa(w))return p(y,m,w,_);if(da(w))return g(y,m,w,_);hu(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(y,m.sibling),m=r(m,w),m.return=y,y=m):(n(y,m),m=tg(w,y.mode,_),m.return=y,y=m),o(y)):n(y,m)}return v}var Ao=AT(!0),RT=AT(!1),_c={},Hn=Nr(_c),Dl=Nr(_c),Ll=Nr(_c);function ss(t){if(t===_c)throw Error(A(174));return t}function e0(t,e){switch(me(Ll,e),me(Dl,t),me(Hn,_c),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ym(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ym(e,t)}be(Hn),me(Hn,e)}function Ro(){be(Hn),be(Dl),be(Ll)}function OT(t){ss(Ll.current);var e=ss(Hn.current),n=ym(e,t.type);e!==n&&(me(Dl,t),me(Hn,n))}function t0(t){Dl.current===t&&(be(Hn),be(Dl))}var Ie=Nr(0);function Wh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yp=[];function n0(){for(var t=0;t<Yp.length;t++)Yp[t]._workInProgressVersionPrimary=null;Yp.length=0}var Ju=Vi.ReactCurrentDispatcher,Xp=Vi.ReactCurrentBatchConfig,xs=0,Pe=null,qe=null,tt=null,Hh=!1,Ja=!1,Nl=0,pN=0;function ft(){throw Error(A(321))}function i0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!On(t[n],e[n]))return!1;return!0}function r0(t,e,n,i,r,s){if(xs=s,Pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ju.current=t===null||t.memoizedState===null?vN:wN,t=n(i,r),Ja){s=0;do{if(Ja=!1,Nl=0,25<=s)throw Error(A(301));s+=1,tt=qe=null,e.updateQueue=null,Ju.current=_N,t=n(i,r)}while(Ja)}if(Ju.current=Kh,e=qe!==null&&qe.next!==null,xs=0,tt=qe=Pe=null,Hh=!1,e)throw Error(A(300));return t}function s0(){var t=Nl!==0;return Nl=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Pe.memoizedState=tt=t:tt=tt.next=t,tt}function mn(){if(qe===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var e=tt===null?Pe.memoizedState:tt.next;if(e!==null)tt=e,qe=t;else{if(t===null)throw Error(A(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},tt===null?Pe.memoizedState=tt=t:tt=tt.next=t}return tt}function Fl(t,e){return typeof e=="function"?e(t):e}function Qp(t){var e=mn(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var i=qe,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((xs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Pe.lanes|=u,Ss|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,On(i,e.memoizedState)||(Bt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Pe.lanes|=s,Ss|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jp(t){var e=mn(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);On(s,e.memoizedState)||(Bt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function MT(){}function DT(t,e){var n=Pe,i=mn(),r=e(),s=!On(i.memoizedState,r);if(s&&(i.memoizedState=r,Bt=!0),i=i.queue,o0(FT.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,$l(9,NT.bind(null,n,i,r,e),void 0,null),rt===null)throw Error(A(349));xs&30||LT(n,e,r)}return r}function LT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NT(t,e,n,i){e.value=n,e.getSnapshot=i,$T(e)&&VT(t)}function FT(t,e,n){return n(function(){$T(e)&&VT(t)})}function $T(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!On(t,n)}catch{return!0}}function VT(t){var e=Ri(t,1);e!==null&&An(e,t,1,-1)}function Ab(t){var e=$n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:t},e.queue=t,t=t.dispatch=yN.bind(null,Pe,t),[e.memoizedState,t]}function $l(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function BT(){return mn().memoizedState}function Zu(t,e,n,i){var r=$n();Pe.flags|=t,r.memoizedState=$l(1|e,n,void 0,i===void 0?null:i)}function rf(t,e,n,i){var r=mn();i=i===void 0?null:i;var s=void 0;if(qe!==null){var o=qe.memoizedState;if(s=o.destroy,i!==null&&i0(i,o.deps)){r.memoizedState=$l(e,n,s,i);return}}Pe.flags|=t,r.memoizedState=$l(1|e,n,s,i)}function Rb(t,e){return Zu(8390656,8,t,e)}function o0(t,e){return rf(2048,8,t,e)}function UT(t,e){return rf(4,2,t,e)}function jT(t,e){return rf(4,4,t,e)}function zT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WT(t,e,n){return n=n!=null?n.concat([t]):null,rf(4,4,zT.bind(null,e,t),n)}function a0(){}function HT(t,e){var n=mn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&i0(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function KT(t,e){var n=mn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&i0(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function qT(t,e,n){return xs&21?(On(n,e)||(n=Xk(),Pe.lanes|=n,Ss|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function gN(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var i=Xp.transition;Xp.transition={};try{t(!1),e()}finally{ce=n,Xp.transition=i}}function GT(){return mn().memoizedState}function mN(t,e,n){var i=fr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},YT(t))XT(e,n);else if(n=TT(t,e,n,i),n!==null){var r=Mt();An(n,t,i,r),QT(n,e,i)}}function yN(t,e,n){var i=fr(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(YT(t))XT(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,On(a,o)){var l=e.interleaved;l===null?(r.next=r,Jv(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=TT(t,e,r,i),n!==null&&(r=Mt(),An(n,t,i,r),QT(n,e,i))}}function YT(t){var e=t.alternate;return t===Pe||e!==null&&e===Pe}function XT(t,e){Ja=Hh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QT(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,$v(t,n)}}var Kh={readContext:gn,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},vN={readContext:gn,useCallback:function(t,e){return $n().memoizedState=[t,e===void 0?null:e],t},useContext:gn,useEffect:Rb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zu(4194308,4,zT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zu(4,2,t,e)},useMemo:function(t,e){var n=$n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=$n();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=mN.bind(null,Pe,t),[i.memoizedState,t]},useRef:function(t){var e=$n();return t={current:t},e.memoizedState=t},useState:Ab,useDebugValue:a0,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=Ab(!1),e=t[0];return t=gN.bind(null,t[1]),$n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Pe,r=$n();if(Ee){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),rt===null)throw Error(A(349));xs&30||LT(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Rb(FT.bind(null,i,s,t),[t]),i.flags|=2048,$l(9,NT.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=$n(),e=rt.identifierPrefix;if(Ee){var n=wi,i=vi;n=(i&~(1<<32-Pn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Nl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wN={readContext:gn,useCallback:HT,useContext:gn,useEffect:o0,useImperativeHandle:WT,useInsertionEffect:UT,useLayoutEffect:jT,useMemo:KT,useReducer:Qp,useRef:BT,useState:function(){return Qp(Fl)},useDebugValue:a0,useDeferredValue:function(t){var e=mn();return qT(e,qe.memoizedState,t)},useTransition:function(){var t=Qp(Fl)[0],e=mn().memoizedState;return[t,e]},useMutableSource:MT,useSyncExternalStore:DT,useId:GT,unstable_isNewReconciler:!1},_N={readContext:gn,useCallback:HT,useContext:gn,useEffect:o0,useImperativeHandle:WT,useInsertionEffect:UT,useLayoutEffect:jT,useMemo:KT,useReducer:Jp,useRef:BT,useState:function(){return Jp(Fl)},useDebugValue:a0,useDeferredValue:function(t){var e=mn();return qe===null?e.memoizedState=t:qT(e,qe.memoizedState,t)},useTransition:function(){var t=Jp(Fl)[0],e=mn().memoizedState;return[t,e]},useMutableSource:MT,useSyncExternalStore:DT,useId:GT,unstable_isNewReconciler:!1};function Oo(t,e){try{var n="",i=e;do n+=GD(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function Zp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bN=typeof WeakMap=="function"?WeakMap:Map;function JT(t,e,n){n=Ti(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Gh||(Gh=!0,Xm=i),Bm(t,e)},n}function ZT(t,e,n){n=Ti(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Bm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Bm(t,e),typeof i!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ob(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new bN;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=LN.bind(null,t,e,n),e.then(t,t))}function Mb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Db(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ti(-1,1),e.tag=2,hr(n,e,1))),n.lanes|=1),t)}var xN=Vi.ReactCurrentOwner,Bt=!1;function At(t,e,n,i){e.child=t===null?RT(e,null,n,i):Ao(e,t.child,n,i)}function Lb(t,e,n,i,r){n=n.render;var s=e.ref;return yo(e,r),i=r0(t,e,n,i,s,r),n=s0(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Oi(t,e,r)):(Ee&&n&&Kv(e),e.flags|=1,At(t,e,i,r),e.child)}function Nb(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!g0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,eC(t,e,s,i,r)):(t=ih(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Al,n(o,i)&&t.ref===e.ref)return Oi(t,e,r)}return e.flags|=1,t=pr(s,i),t.ref=e.ref,t.return=e,e.child=t}function eC(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Al(s,i)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,Oi(t,e,r)}return Um(t,e,n,i,r)}function tC(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(oo,Gt),Gt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(oo,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,me(oo,Gt),Gt|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,me(oo,Gt),Gt|=i;return At(t,e,r,n),e.child}function nC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Um(t,e,n,i,r){var s=jt(n)?_s:Et.current;return s=Io(e,s),yo(e,r),n=r0(t,e,n,i,s,r),i=s0(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Oi(t,e,r)):(Ee&&i&&Kv(e),e.flags|=1,At(t,e,n,r),e.child)}function Fb(t,e,n,i,r){if(jt(n)){var s=!0;$h(e)}else s=!1;if(yo(e,r),e.stateNode===null)eh(t,e),PT(e,n,i),Vm(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=gn(c):(c=jt(n)?_s:Et.current,c=Io(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Ib(e,o,i,c),Ki=!1;var d=e.memoizedState;o.state=d,zh(e,i,o,r),l=e.memoizedState,a!==i||d!==l||Ut.current||Ki?(typeof u=="function"&&($m(e,n,u,i),l=e.memoizedState),(a=Ki||Cb(e,n,a,i,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,CT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Sn(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gn(l):(l=jt(n)?_s:Et.current,l=Io(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Ib(e,o,i,l),Ki=!1,d=e.memoizedState,o.state=d,zh(e,i,o,r);var p=e.memoizedState;a!==h||d!==p||Ut.current||Ki?(typeof f=="function"&&($m(e,n,f,i),p=e.memoizedState),(c=Ki||Cb(e,n,c,i,d,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return jm(t,e,n,i,s,r)}function jm(t,e,n,i,r,s){nC(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&xb(e,n,!1),Oi(t,e,s);i=e.stateNode,xN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Ao(e,t.child,null,s),e.child=Ao(e,null,a,s)):At(t,e,a,s),e.memoizedState=i.state,r&&xb(e,n,!0),e.child}function iC(t){var e=t.stateNode;e.pendingContext?bb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bb(t,e.context,!1),e0(t,e.containerInfo)}function $b(t,e,n,i,r){return Po(),Gv(r),e.flags|=256,At(t,e,n,i),e.child}var zm={dehydrated:null,treeContext:null,retryLane:0};function Wm(t){return{baseLanes:t,cachePool:null,transitions:null}}function rC(t,e,n){var i=e.pendingProps,r=Ie.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),me(Ie,r&1),t===null)return Nm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=af(o,i,0,null),t=ds(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Wm(n),e.memoizedState=zm,t):l0(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return SN(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=pr(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=pr(a,s):(s=ds(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Wm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=zm,i}return s=t.child,t=s.sibling,i=pr(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function l0(t,e){return e=af({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function du(t,e,n,i){return i!==null&&Gv(i),Ao(e,t.child,null,n),t=l0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SN(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=Zp(Error(A(422))),du(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=af({mode:"visible",children:i.children},r,0,null),s=ds(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ao(e,t.child,null,o),e.child.memoizedState=Wm(o),e.memoizedState=zm,s);if(!(e.mode&1))return du(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(A(419)),i=Zp(s,i,void 0),du(t,e,o,i)}if(a=(o&t.childLanes)!==0,Bt||a){if(i=rt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ri(t,r),An(i,t,r,-1))}return p0(),i=Zp(Error(A(421))),du(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=NN.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Xt=ur(r.nextSibling),Jt=e,Ee=!0,kn=null,t!==null&&(un[hn++]=vi,un[hn++]=wi,un[hn++]=bs,vi=t.id,wi=t.overflow,bs=e),e=l0(e,i.children),e.flags|=4096,e)}function Vb(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Fm(t.return,e,n)}function eg(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function sC(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(At(t,e,i.children,n),i=Ie.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vb(t,n,e);else if(t.tag===19)Vb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(me(Ie,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Wh(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),eg(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Wh(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}eg(e,!0,n,null,s);break;case"together":eg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ss|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=pr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=pr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EN(t,e,n){switch(e.tag){case 3:iC(e),Po();break;case 5:OT(e);break;case 1:jt(e.type)&&$h(e);break;case 4:e0(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;me(Uh,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(me(Ie,Ie.current&1),e.flags|=128,null):n&e.child.childLanes?rC(t,e,n):(me(Ie,Ie.current&1),t=Oi(t,e,n),t!==null?t.sibling:null);me(Ie,Ie.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return sC(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),me(Ie,Ie.current),i)break;return null;case 22:case 23:return e.lanes=0,tC(t,e,n)}return Oi(t,e,n)}var oC,Hm,aC,lC;oC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hm=function(){};aC=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,ss(Hn.current);var s=null;switch(n){case"input":r=fm(t,r),i=fm(t,i),s=[];break;case"select":r=Ae({},r,{value:void 0}),i=Ae({},i,{value:void 0}),s=[];break;case"textarea":r=mm(t,r),i=mm(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Nh)}vm(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Sl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Sl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&we("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};lC=function(t,e,n,i){n!==i&&(e.flags|=4)};function va(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function kN(t,e,n){var i=e.pendingProps;switch(qv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(e),null;case 1:return jt(e.type)&&Fh(),pt(e),null;case 3:return i=e.stateNode,Ro(),be(Ut),be(Et),n0(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(uu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kn!==null&&(Zm(kn),kn=null))),Hm(t,e),pt(e),null;case 5:t0(e);var r=ss(Ll.current);if(n=e.type,t!==null&&e.stateNode!=null)aC(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(A(166));return pt(e),null}if(t=ss(Hn.current),uu(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Un]=e,i[Ml]=s,t=(e.mode&1)!==0,n){case"dialog":we("cancel",i),we("close",i);break;case"iframe":case"object":case"embed":we("load",i);break;case"video":case"audio":for(r=0;r<Oa.length;r++)we(Oa[r],i);break;case"source":we("error",i);break;case"img":case"image":case"link":we("error",i),we("load",i);break;case"details":we("toggle",i);break;case"input":G_(i,s),we("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},we("invalid",i);break;case"textarea":X_(i,s),we("invalid",i)}vm(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&cu(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&cu(i.textContent,a,t),r=["children",""+a]):Sl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",i)}switch(n){case"input":tu(i),Y_(i,s,!0);break;case"textarea":tu(i),Q_(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Nh)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Un]=e,t[Ml]=i,oC(t,e,!1,!1),e.stateNode=t;e:{switch(o=wm(n,i),n){case"dialog":we("cancel",t),we("close",t),r=i;break;case"iframe":case"object":case"embed":we("load",t),r=i;break;case"video":case"audio":for(r=0;r<Oa.length;r++)we(Oa[r],t);r=i;break;case"source":we("error",t),r=i;break;case"img":case"image":case"link":we("error",t),we("load",t),r=i;break;case"details":we("toggle",t),r=i;break;case"input":G_(t,i),r=fm(t,i),we("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Ae({},i,{value:void 0}),we("invalid",t);break;case"textarea":X_(t,i),r=mm(t,i),we("invalid",t);break;default:r=i}vm(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?$k(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Nk(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&El(t,l):typeof l=="number"&&El(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&we("scroll",t):l!=null&&Ov(t,s,l,o))}switch(n){case"input":tu(t),Y_(t,i,!1);break;case"textarea":tu(t),Q_(t);break;case"option":i.value!=null&&t.setAttribute("value",""+xr(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?fo(t,!!i.multiple,s,!1):i.defaultValue!=null&&fo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Nh)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pt(e),null;case 6:if(t&&e.stateNode!=null)lC(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(A(166));if(n=ss(Ll.current),ss(Hn.current),uu(e)){if(i=e.stateNode,n=e.memoizedProps,i[Un]=e,(s=i.nodeValue!==n)&&(t=Jt,t!==null))switch(t.tag){case 3:cu(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cu(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Un]=e,e.stateNode=i}return pt(e),null;case 13:if(be(Ie),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&Xt!==null&&e.mode&1&&!(e.flags&128))kT(),Po(),e.flags|=98560,s=!1;else if(s=uu(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(A(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(A(317));s[Un]=e}else Po(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pt(e),s=!1}else kn!==null&&(Zm(kn),kn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ie.current&1?Ye===0&&(Ye=3):p0())),e.updateQueue!==null&&(e.flags|=4),pt(e),null);case 4:return Ro(),Hm(t,e),t===null&&Rl(e.stateNode.containerInfo),pt(e),null;case 10:return Qv(e.type._context),pt(e),null;case 17:return jt(e.type)&&Fh(),pt(e),null;case 19:if(be(Ie),s=e.memoizedState,s===null)return pt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)va(s,!1);else{if(Ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wh(t),o!==null){for(e.flags|=128,va(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(Ie,Ie.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ve()>Mo&&(e.flags|=128,i=!0,va(s,!1),e.lanes=4194304)}else{if(!i)if(t=Wh(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),va(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ee)return pt(e),null}else 2*Ve()-s.renderingStartTime>Mo&&n!==1073741824&&(e.flags|=128,i=!0,va(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ve(),e.sibling=null,n=Ie.current,me(Ie,i?n&1|2:n&1),e):(pt(e),null);case 22:case 23:return f0(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Gt&1073741824&&(pt(e),e.subtreeFlags&6&&(e.flags|=8192)):pt(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function TN(t,e){switch(qv(e),e.tag){case 1:return jt(e.type)&&Fh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ro(),be(Ut),be(Et),n0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return t0(e),null;case 13:if(be(Ie),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));Po()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Ie),null;case 4:return Ro(),null;case 10:return Qv(e.type._context),null;case 22:case 23:return f0(),null;case 24:return null;default:return null}}var fu=!1,vt=!1,CN=typeof WeakSet=="function"?WeakSet:Set,L=null;function so(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Me(t,e,i)}else n.current=null}function Km(t,e,n){try{n()}catch(i){Me(t,e,i)}}var Bb=!1;function IN(t,e){if(Pm=Mh,t=dT(),Hv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var f;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++c===r&&(a=o),d===s&&++u===i&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Am={focusedElem:t,selectionRange:n},Mh=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Sn(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(_){Me(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return p=Bb,Bb=!1,p}function Za(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Km(e,n,s)}r=r.next}while(r!==i)}}function sf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function qm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cC(t){var e=t.alternate;e!==null&&(t.alternate=null,cC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[Ml],delete e[Mm],delete e[uN],delete e[hN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uC(t){return t.tag===5||t.tag===3||t.tag===4}function Ub(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gm(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nh));else if(i!==4&&(t=t.child,t!==null))for(Gm(t,e,n),t=t.sibling;t!==null;)Gm(t,e,n),t=t.sibling}function Ym(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Ym(t,e,n),t=t.sibling;t!==null;)Ym(t,e,n),t=t.sibling}var at=null,En=!1;function Ui(t,e,n){for(n=n.child;n!==null;)hC(t,e,n),n=n.sibling}function hC(t,e,n){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(Xd,n)}catch{}switch(n.tag){case 5:vt||so(n,e);case 6:var i=at,r=En;at=null,Ui(t,e,n),at=i,En=r,at!==null&&(En?(t=at,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):at.removeChild(n.stateNode));break;case 18:at!==null&&(En?(t=at,n=n.stateNode,t.nodeType===8?qp(t.parentNode,n):t.nodeType===1&&qp(t,n),Il(t)):qp(at,n.stateNode));break;case 4:i=at,r=En,at=n.stateNode.containerInfo,En=!0,Ui(t,e,n),at=i,En=r;break;case 0:case 11:case 14:case 15:if(!vt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Km(n,e,o),r=r.next}while(r!==i)}Ui(t,e,n);break;case 1:if(!vt&&(so(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Me(n,e,a)}Ui(t,e,n);break;case 21:Ui(t,e,n);break;case 22:n.mode&1?(vt=(i=vt)||n.memoizedState!==null,Ui(t,e,n),vt=i):Ui(t,e,n);break;default:Ui(t,e,n)}}function jb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CN),e.forEach(function(i){var r=FN.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function bn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:at=a.stateNode,En=!1;break e;case 3:at=a.stateNode.containerInfo,En=!0;break e;case 4:at=a.stateNode.containerInfo,En=!0;break e}a=a.return}if(at===null)throw Error(A(160));hC(s,o,r),at=null,En=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Me(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dC(e,t),e=e.sibling}function dC(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bn(e,t),Nn(t),i&4){try{Za(3,t,t.return),sf(3,t)}catch(g){Me(t,t.return,g)}try{Za(5,t,t.return)}catch(g){Me(t,t.return,g)}}break;case 1:bn(e,t),Nn(t),i&512&&n!==null&&so(n,n.return);break;case 5:if(bn(e,t),Nn(t),i&512&&n!==null&&so(n,n.return),t.flags&32){var r=t.stateNode;try{El(r,"")}catch(g){Me(t,t.return,g)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Mk(r,s),wm(a,o);var c=wm(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?$k(r,h):u==="dangerouslySetInnerHTML"?Nk(r,h):u==="children"?El(r,h):Ov(r,u,h,c)}switch(a){case"input":pm(r,s);break;case"textarea":Dk(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?fo(r,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?fo(r,!!s.multiple,s.defaultValue,!0):fo(r,!!s.multiple,s.multiple?[]:"",!1))}r[Ml]=s}catch(g){Me(t,t.return,g)}}break;case 6:if(bn(e,t),Nn(t),i&4){if(t.stateNode===null)throw Error(A(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(g){Me(t,t.return,g)}}break;case 3:if(bn(e,t),Nn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Il(e.containerInfo)}catch(g){Me(t,t.return,g)}break;case 4:bn(e,t),Nn(t);break;case 13:bn(e,t),Nn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(h0=Ve())),i&4&&jb(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(c=vt)||u,bn(e,t),vt=c):bn(e,t),Nn(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(L=t,u=t.child;u!==null;){for(h=L=u;L!==null;){switch(d=L,f=d.child,d.tag){case 0:case 11:case 14:case 15:Za(4,d,d.return);break;case 1:so(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Me(i,n,g)}}break;case 5:so(d,d.return);break;case 22:if(d.memoizedState!==null){Wb(h);continue}}f!==null?(f.return=d,L=f):Wb(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Fk("display",o))}catch(g){Me(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Me(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bn(e,t),Nn(t),i&4&&jb(t);break;case 21:break;default:bn(e,t),Nn(t)}}function Nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uC(n)){var i=n;break e}n=n.return}throw Error(A(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(El(r,""),i.flags&=-33);var s=Ub(t);Ym(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Ub(t);Gm(t,a,o);break;default:throw Error(A(161))}}catch(l){Me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PN(t,e,n){L=t,fC(t)}function fC(t,e,n){for(var i=(t.mode&1)!==0;L!==null;){var r=L,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||fu;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||vt;a=fu;var c=vt;if(fu=o,(vt=l)&&!c)for(L=r;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?Hb(r):l!==null?(l.return=o,L=l):Hb(r);for(;s!==null;)L=s,fC(s),s=s.sibling;L=r,fu=a,vt=c}zb(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,L=s):zb(t)}}function zb(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||sf(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!vt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Sn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Tb(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Tb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Il(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}vt||e.flags&512&&qm(e)}catch(d){Me(e,e.return,d)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function Wb(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function Hb(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sf(4,e)}catch(l){Me(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Me(e,r,l)}}var s=e.return;try{qm(e)}catch(l){Me(e,s,l)}break;case 5:var o=e.return;try{qm(e)}catch(l){Me(e,o,l)}}}catch(l){Me(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var AN=Math.ceil,qh=Vi.ReactCurrentDispatcher,c0=Vi.ReactCurrentOwner,pn=Vi.ReactCurrentBatchConfig,re=0,rt=null,We=null,ct=0,Gt=0,oo=Nr(0),Ye=0,Vl=null,Ss=0,of=0,u0=0,el=null,$t=null,h0=0,Mo=1/0,hi=null,Gh=!1,Xm=null,dr=null,pu=!1,Zi=null,Yh=0,tl=0,Qm=null,th=-1,nh=0;function Mt(){return re&6?Ve():th!==-1?th:th=Ve()}function fr(t){return t.mode&1?re&2&&ct!==0?ct&-ct:fN.transition!==null?(nh===0&&(nh=Xk()),nh):(t=ce,t!==0||(t=window.event,t=t===void 0?16:iT(t.type)),t):1}function An(t,e,n,i){if(50<tl)throw tl=0,Qm=null,Error(A(185));yc(t,n,i),(!(re&2)||t!==rt)&&(t===rt&&(!(re&2)&&(of|=n),Ye===4&&Yi(t,ct)),zt(t,i),n===1&&re===0&&!(e.mode&1)&&(Mo=Ve()+500,tf&&Fr()))}function zt(t,e){var n=t.callbackNode;fL(t,e);var i=Oh(t,t===rt?ct:0);if(i===0)n!==null&&eb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&eb(n),e===1)t.tag===0?dN(Kb.bind(null,t)):xT(Kb.bind(null,t)),lN(function(){!(re&6)&&Fr()}),n=null;else{switch(Qk(i)){case 1:n=Fv;break;case 4:n=Gk;break;case 16:n=Rh;break;case 536870912:n=Yk;break;default:n=Rh}n=bC(n,pC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pC(t,e){if(th=-1,nh=0,re&6)throw Error(A(327));var n=t.callbackNode;if(vo()&&t.callbackNode!==n)return null;var i=Oh(t,t===rt?ct:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Xh(t,i);else{e=i;var r=re;re|=2;var s=mC();(rt!==t||ct!==e)&&(hi=null,Mo=Ve()+500,hs(t,e));do try{MN();break}catch(a){gC(t,a)}while(1);Xv(),qh.current=s,re=r,We!==null?e=0:(rt=null,ct=0,e=Ye)}if(e!==0){if(e===2&&(r=Em(t),r!==0&&(i=r,e=Jm(t,r))),e===1)throw n=Vl,hs(t,0),Yi(t,i),zt(t,Ve()),n;if(e===6)Yi(t,i);else{if(r=t.current.alternate,!(i&30)&&!RN(r)&&(e=Xh(t,i),e===2&&(s=Em(t),s!==0&&(i=s,e=Jm(t,s))),e===1))throw n=Vl,hs(t,0),Yi(t,i),zt(t,Ve()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(A(345));case 2:Xr(t,$t,hi);break;case 3:if(Yi(t,i),(i&130023424)===i&&(e=h0+500-Ve(),10<e)){if(Oh(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Mt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Om(Xr.bind(null,t,$t,hi),e);break}Xr(t,$t,hi);break;case 4:if(Yi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Pn(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Ve()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*AN(i/1960))-i,10<i){t.timeoutHandle=Om(Xr.bind(null,t,$t,hi),i);break}Xr(t,$t,hi);break;case 5:Xr(t,$t,hi);break;default:throw Error(A(329))}}}return zt(t,Ve()),t.callbackNode===n?pC.bind(null,t):null}function Jm(t,e){var n=el;return t.current.memoizedState.isDehydrated&&(hs(t,e).flags|=256),t=Xh(t,e),t!==2&&(e=$t,$t=n,e!==null&&Zm(e)),t}function Zm(t){$t===null?$t=t:$t.push.apply($t,t)}function RN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!On(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yi(t,e){for(e&=~u0,e&=~of,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),i=1<<n;t[n]=-1,e&=~i}}function Kb(t){if(re&6)throw Error(A(327));vo();var e=Oh(t,0);if(!(e&1))return zt(t,Ve()),null;var n=Xh(t,e);if(t.tag!==0&&n===2){var i=Em(t);i!==0&&(e=i,n=Jm(t,i))}if(n===1)throw n=Vl,hs(t,0),Yi(t,e),zt(t,Ve()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xr(t,$t,hi),zt(t,Ve()),null}function d0(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(Mo=Ve()+500,tf&&Fr())}}function Es(t){Zi!==null&&Zi.tag===0&&!(re&6)&&vo();var e=re;re|=1;var n=pn.transition,i=ce;try{if(pn.transition=null,ce=1,t)return t()}finally{ce=i,pn.transition=n,re=e,!(re&6)&&Fr()}}function f0(){Gt=oo.current,be(oo)}function hs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aN(n)),We!==null)for(n=We.return;n!==null;){var i=n;switch(qv(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Fh();break;case 3:Ro(),be(Ut),be(Et),n0();break;case 5:t0(i);break;case 4:Ro();break;case 13:be(Ie);break;case 19:be(Ie);break;case 10:Qv(i.type._context);break;case 22:case 23:f0()}n=n.return}if(rt=t,We=t=pr(t.current,null),ct=Gt=e,Ye=0,Vl=null,u0=of=Ss=0,$t=el=null,rs!==null){for(e=0;e<rs.length;e++)if(n=rs[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}rs=null}return t}function gC(t,e){do{var n=We;try{if(Xv(),Ju.current=Kh,Hh){for(var i=Pe.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Hh=!1}if(xs=0,tt=qe=Pe=null,Ja=!1,Nl=0,c0.current=null,n===null||n.return===null){Ye=1,Vl=e,We=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Mb(o);if(f!==null){f.flags&=-257,Db(f,o,a,s,e),f.mode&1&&Ob(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){Ob(s,c,e),p0();break e}l=Error(A(426))}}else if(Ee&&a.mode&1){var v=Mb(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Db(v,o,a,s,e),Gv(Oo(l,a));break e}}s=l=Oo(l,a),Ye!==4&&(Ye=2),el===null?el=[s]:el.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=JT(s,l,e);kb(s,y);break e;case 1:a=l;var m=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(dr===null||!dr.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=ZT(s,a,e);kb(s,_);break e}}s=s.return}while(s!==null)}vC(n)}catch(b){e=b,We===n&&n!==null&&(We=n=n.return);continue}break}while(1)}function mC(){var t=qh.current;return qh.current=Kh,t===null?Kh:t}function p0(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),rt===null||!(Ss&268435455)&&!(of&268435455)||Yi(rt,ct)}function Xh(t,e){var n=re;re|=2;var i=mC();(rt!==t||ct!==e)&&(hi=null,hs(t,e));do try{ON();break}catch(r){gC(t,r)}while(1);if(Xv(),re=n,qh.current=i,We!==null)throw Error(A(261));return rt=null,ct=0,Ye}function ON(){for(;We!==null;)yC(We)}function MN(){for(;We!==null&&!rL();)yC(We)}function yC(t){var e=_C(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?vC(t):We=e,c0.current=null}function vC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TN(n,e),n!==null){n.flags&=32767,We=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ye=6,We=null;return}}else if(n=kN(n,e,Gt),n!==null){We=n;return}if(e=e.sibling,e!==null){We=e;return}We=e=t}while(e!==null);Ye===0&&(Ye=5)}function Xr(t,e,n){var i=ce,r=pn.transition;try{pn.transition=null,ce=1,DN(t,e,n,i)}finally{pn.transition=r,ce=i}return null}function DN(t,e,n,i){do vo();while(Zi!==null);if(re&6)throw Error(A(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pL(t,s),t===rt&&(We=rt=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pu||(pu=!0,bC(Rh,function(){return vo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pn.transition,pn.transition=null;var o=ce;ce=1;var a=re;re|=4,c0.current=null,IN(t,n),dC(n,t),eN(Am),Mh=!!Pm,Am=Pm=null,t.current=n,PN(n),sL(),re=a,ce=o,pn.transition=s}else t.current=n;if(pu&&(pu=!1,Zi=t,Yh=r),s=t.pendingLanes,s===0&&(dr=null),lL(n.stateNode),zt(t,Ve()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Gh)throw Gh=!1,t=Xm,Xm=null,t;return Yh&1&&t.tag!==0&&vo(),s=t.pendingLanes,s&1?t===Qm?tl++:(tl=0,Qm=t):tl=0,Fr(),null}function vo(){if(Zi!==null){var t=Qk(Yh),e=pn.transition,n=ce;try{if(pn.transition=null,ce=16>t?16:t,Zi===null)var i=!1;else{if(t=Zi,Zi=null,Yh=0,re&6)throw Error(A(331));var r=re;for(re|=4,L=t.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(L=c;L!==null;){var u=L;switch(u.tag){case 0:case 11:case 15:Za(8,u,s)}var h=u.child;if(h!==null)h.return=u,L=h;else for(;L!==null;){u=L;var d=u.sibling,f=u.return;if(cC(u),u===c){L=null;break}if(d!==null){d.return=f,L=d;break}L=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Za(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,L=y;break e}L=s.return}}var m=t.current;for(L=m;L!==null;){o=L;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,L=w;else e:for(o=m;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sf(9,a)}}catch(b){Me(a,a.return,b)}if(a===o){L=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,L=_;break e}L=a.return}}if(re=r,Fr(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(Xd,t)}catch{}i=!0}return i}finally{ce=n,pn.transition=e}}return!1}function qb(t,e,n){e=Oo(n,e),e=JT(t,e,1),t=hr(t,e,1),e=Mt(),t!==null&&(yc(t,1,e),zt(t,e))}function Me(t,e,n){if(t.tag===3)qb(t,t,n);else for(;e!==null;){if(e.tag===3){qb(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(dr===null||!dr.has(i))){t=Oo(n,t),t=ZT(e,t,1),e=hr(e,t,1),t=Mt(),e!==null&&(yc(e,1,t),zt(e,t));break}}e=e.return}}function LN(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,rt===t&&(ct&n)===n&&(Ye===4||Ye===3&&(ct&130023424)===ct&&500>Ve()-h0?hs(t,0):u0|=n),zt(t,e)}function wC(t,e){e===0&&(t.mode&1?(e=ru,ru<<=1,!(ru&130023424)&&(ru=4194304)):e=1);var n=Mt();t=Ri(t,e),t!==null&&(yc(t,e,n),zt(t,n))}function NN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wC(t,n)}function FN(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(A(314))}i!==null&&i.delete(e),wC(t,n)}var _C;_C=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,EN(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,Ee&&e.flags&1048576&&ST(e,Bh,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;eh(t,e),t=e.pendingProps;var r=Io(e,Et.current);yo(e,n),r=r0(null,e,i,t,r,n);var s=s0();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jt(i)?(s=!0,$h(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Zv(e),r.updater=nf,e.stateNode=r,r._reactInternals=e,Vm(e,i,t,n),e=jm(null,e,i,!0,s,n)):(e.tag=0,Ee&&s&&Kv(e),At(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(eh(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=VN(i),t=Sn(i,t),r){case 0:e=Um(null,e,i,t,n);break e;case 1:e=Fb(null,e,i,t,n);break e;case 11:e=Lb(null,e,i,t,n);break e;case 14:e=Nb(null,e,i,Sn(i.type,t),n);break e}throw Error(A(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Sn(i,r),Um(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Sn(i,r),Fb(t,e,i,r,n);case 3:e:{if(iC(e),t===null)throw Error(A(387));i=e.pendingProps,s=e.memoizedState,r=s.element,CT(t,e),zh(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Oo(Error(A(423)),e),e=$b(t,e,i,n,r);break e}else if(i!==r){r=Oo(Error(A(424)),e),e=$b(t,e,i,n,r);break e}else for(Xt=ur(e.stateNode.containerInfo.firstChild),Jt=e,Ee=!0,kn=null,n=RT(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Po(),i===r){e=Oi(t,e,n);break e}At(t,e,i,n)}e=e.child}return e;case 5:return OT(e),t===null&&Nm(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Rm(i,r)?o=null:s!==null&&Rm(i,s)&&(e.flags|=32),nC(t,e),At(t,e,o,n),e.child;case 6:return t===null&&Nm(e),null;case 13:return rC(t,e,n);case 4:return e0(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ao(e,null,i,n):At(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Sn(i,r),Lb(t,e,i,r,n);case 7:return At(t,e,e.pendingProps,n),e.child;case 8:return At(t,e,e.pendingProps.children,n),e.child;case 12:return At(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,me(Uh,i._currentValue),i._currentValue=o,s!==null)if(On(s.value,o)){if(s.children===r.children&&!Ut.current){e=Oi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Ti(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Fm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(A(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Fm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}At(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,yo(e,n),r=gn(r),i=i(r),e.flags|=1,At(t,e,i,n),e.child;case 14:return i=e.type,r=Sn(i,e.pendingProps),r=Sn(i.type,r),Nb(t,e,i,r,n);case 15:return eC(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Sn(i,r),eh(t,e),e.tag=1,jt(i)?(t=!0,$h(e)):t=!1,yo(e,n),PT(e,i,r),Vm(e,i,r,n),jm(null,e,i,!0,t,n);case 19:return sC(t,e,n);case 22:return tC(t,e,n)}throw Error(A(156,e.tag))};function bC(t,e){return qk(t,e)}function $N(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,e,n,i){return new $N(t,e,n,i)}function g0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VN(t){if(typeof t=="function")return g0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dv)return 11;if(t===Lv)return 14}return 2}function pr(t,e){var n=t.alternate;return n===null?(n=fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ih(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")g0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xs:return ds(n.children,r,s,e);case Mv:o=8,r|=8;break;case cm:return t=fn(12,n,e,r|2),t.elementType=cm,t.lanes=s,t;case um:return t=fn(13,n,e,r),t.elementType=um,t.lanes=s,t;case hm:return t=fn(19,n,e,r),t.elementType=hm,t.lanes=s,t;case Ak:return af(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ik:o=10;break e;case Pk:o=9;break e;case Dv:o=11;break e;case Lv:o=14;break e;case Hi:o=16,i=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=fn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function ds(t,e,n,i){return t=fn(7,t,i,e),t.lanes=n,t}function af(t,e,n,i){return t=fn(22,t,i,e),t.elementType=Ak,t.lanes=n,t.stateNode={isHidden:!1},t}function tg(t,e,n){return t=fn(6,t,null,e),t.lanes=n,t}function ng(t,e,n){return e=fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BN(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Np(0),this.expirationTimes=Np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Np(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function m0(t,e,n,i,r,s,o,a,l){return t=new BN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zv(s),t}function UN(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ys,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function xC(t){if(!t)return Sr;t=t._reactInternals;e:{if(Fs(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(jt(n))return bT(t,n,e)}return e}function SC(t,e,n,i,r,s,o,a,l){return t=m0(n,i,!0,t,r,s,o,a,l),t.context=xC(null),n=t.current,i=Mt(),r=fr(n),s=Ti(i,r),s.callback=e??null,hr(n,s,r),t.current.lanes=r,yc(t,r,i),zt(t,i),t}function lf(t,e,n,i){var r=e.current,s=Mt(),o=fr(r);return n=xC(n),e.context===null?e.context=n:e.pendingContext=n,e=Ti(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=hr(r,e,o),t!==null&&(An(t,r,o,s),Qu(t,r,o)),o}function Qh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function y0(t,e){Gb(t,e),(t=t.alternate)&&Gb(t,e)}function jN(){return null}var EC=typeof reportError=="function"?reportError:function(t){console.error(t)};function v0(t){this._internalRoot=t}cf.prototype.render=v0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));lf(t,e,null,null)};cf.prototype.unmount=v0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Es(function(){lf(null,t,null,null)}),e[Ai]=null}};function cf(t){this._internalRoot=t}cf.prototype.unstable_scheduleHydration=function(t){if(t){var e=eT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gi.length&&e!==0&&e<Gi[n].priority;n++);Gi.splice(n,0,t),n===0&&nT(t)}};function w0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yb(){}function zN(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Qh(o);s.call(c)}}var o=SC(e,i,t,0,null,!1,!1,"",Yb);return t._reactRootContainer=o,t[Ai]=o.current,Rl(t.nodeType===8?t.parentNode:t),Es(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Qh(l);a.call(c)}}var l=m0(t,0,!1,null,null,!1,!1,"",Yb);return t._reactRootContainer=l,t[Ai]=l.current,Rl(t.nodeType===8?t.parentNode:t),Es(function(){lf(e,l,n,i)}),l}function hf(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Qh(o);a.call(l)}}lf(e,o,t,r)}else o=zN(n,e,t,r,i);return Qh(o)}Jk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ra(e.pendingLanes);n!==0&&($v(e,n|1),zt(e,Ve()),!(re&6)&&(Mo=Ve()+500,Fr()))}break;case 13:Es(function(){var i=Ri(t,1);if(i!==null){var r=Mt();An(i,t,1,r)}}),y0(t,1)}};Vv=function(t){if(t.tag===13){var e=Ri(t,134217728);if(e!==null){var n=Mt();An(e,t,134217728,n)}y0(t,134217728)}};Zk=function(t){if(t.tag===13){var e=fr(t),n=Ri(t,e);if(n!==null){var i=Mt();An(n,t,e,i)}y0(t,e)}};eT=function(){return ce};tT=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};bm=function(t,e,n){switch(e){case"input":if(pm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=ef(i);if(!r)throw Error(A(90));Ok(i),pm(i,r)}}}break;case"textarea":Dk(t,n);break;case"select":e=n.value,e!=null&&fo(t,!!n.multiple,e,!1)}};Uk=d0;jk=Es;var WN={usingClientEntryPoint:!1,Events:[wc,eo,ef,Vk,Bk,d0]},wa={findFiberByHostInstance:is,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},HN={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hk(t),t===null?null:t.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance||jN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gu.isDisabled&&gu.supportsFiber)try{Xd=gu.inject(HN),Wn=gu}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WN;sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w0(e))throw Error(A(200));return UN(t,e,null,n)};sn.createRoot=function(t,e){if(!w0(t))throw Error(A(299));var n=!1,i="",r=EC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=m0(t,1,!1,null,null,n,!1,i,r),t[Ai]=e.current,Rl(t.nodeType===8?t.parentNode:t),new v0(e)};sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=Hk(e),t=t===null?null:t.stateNode,t};sn.flushSync=function(t){return Es(t)};sn.hydrate=function(t,e,n){if(!uf(e))throw Error(A(200));return hf(null,t,e,!0,n)};sn.hydrateRoot=function(t,e,n){if(!w0(t))throw Error(A(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=EC;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=SC(e,null,t,1,n??null,r,!1,s,o),t[Ai]=e.current,Rl(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new cf(e)};sn.render=function(t,e,n){if(!uf(e))throw Error(A(200));return hf(null,t,e,!1,n)};sn.unmountComponentAtNode=function(t){if(!uf(t))throw Error(A(40));return t._reactRootContainer?(Es(function(){hf(null,null,t,!1,function(){t._reactRootContainer=null,t[Ai]=null})}),!0):!1};sn.unstable_batchedUpdates=d0;sn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!uf(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return hf(t,e,n,!1,i)};sn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=sn})(jD);const KN=gk(xl);var Xb=xl;om.createRoot=Xb.createRoot,om.hydrateRoot=Xb.hydrateRoot;/**
 * @remix-run/router v1.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bl(){return Bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bl.apply(this,arguments)}var er;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(er||(er={}));const Qb="popstate";function qN(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return ey("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Jh(r)}return XN(e,n,null,t)}function He(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function GN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YN(){return Math.random().toString(36).substr(2,8)}function Jb(t,e){return{usr:t.state,key:t.key,idx:e}}function ey(t,e,n,i){return n===void 0&&(n=null),Bl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jo(e):e,{state:n,key:e&&e.key||i||YN()})}function Jh(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Jo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function XN(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=er.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Bl({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){let v=er.Pop,y=u();if(y!=null){let m=y-c;a=v,c=y,l&&l({action:a,location:g.location,delta:m})}else GN(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function d(v,y){a=er.Push;let m=ey(g.location,v,y);n&&n(m,v),c=u()+1;let w=Jb(m,c),_=g.createHref(m);try{o.pushState(w,"",_)}catch{r.location.assign(_)}s&&l&&l({action:a,location:g.location,delta:1})}function f(v,y){a=er.Replace;let m=ey(g.location,v,y);n&&n(m,v),c=u();let w=Jb(m,c),_=g.createHref(m);o.replaceState(w,"",_),s&&l&&l({action:a,location:g.location,delta:0})}function p(v){let y=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof v=="string"?v:Jh(v);return He(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let g={get action(){return a},get location(){return t(r,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Qb,h),l=v,()=>{r.removeEventListener(Qb,h),l=null}},createHref(v){return e(r,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:f,go(v){return o.go(v)}};return g}var Zb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Zb||(Zb={}));function QN(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?Jo(e):e,r=CC(i.pathname||"/",n);if(r==null)return null;let s=kC(t);JN(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=a2(s[a],u2(r));return o}function kC(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(He(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=gr([i,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(He(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),kC(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:s2(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of TC(s.path))r(s,o,l)}),e}function TC(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=TC(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function JN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:o2(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const ZN=/^:\w+$/,e2=3,t2=2,n2=1,i2=10,r2=-2,e1=t=>t==="*";function s2(t,e){let n=t.split("/"),i=n.length;return n.some(e1)&&(i+=r2),e&&(i+=t2),n.filter(r=>!e1(r)).reduce((r,s)=>r+(ZN.test(s)?e2:s===""?n2:i2),i)}function o2(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function a2(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=r==="/"?e:e.slice(r.length)||"/",u=l2({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);let h=a.route;s.push({params:i,pathname:gr([r,u.pathname]),pathnameBase:p2(gr([r,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(r=gr([r,u.pathnameBase]))}return s}function l2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=c2(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,h)=>{if(u==="*"){let d=a[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return c[u]=h2(a[h]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:t}}function c2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return t.endsWith("*")?(i.push("*"),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function u2(t){try{return decodeURI(t)}catch(e){return _0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function h2(t,e){try{return decodeURIComponent(t)}catch(n){return _0(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function CC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function _0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d2(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Jo(t):t;return{pathname:n?n.startsWith("/")?n:f2(n,e):e,search:g2(i),hash:m2(r)}}function f2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function ig(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function PC(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Jo(t):(r=Bl({},t),He(!r.pathname||!r.pathname.includes("?"),ig("?","pathname","search",r)),He(!r.pathname||!r.pathname.includes("#"),ig("#","pathname","hash",r)),He(!r.search||!r.search.includes("#"),ig("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;r.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=d2(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const gr=t=>t.join("/").replace(/\/\/+/g,"/"),p2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),g2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,m2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class y2{constructor(e,n,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=n||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function v2(t){return t instanceof y2}const w2=["post","put","patch","delete"];[...w2];/**
 * React Router v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ty.apply(this,arguments)}function _2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const b2=typeof Object.is=="function"?Object.is:_2,{useState:x2,useEffect:S2,useLayoutEffect:E2,useDebugValue:k2}=sm;function T2(t,e,n){const i=e(),[{inst:r},s]=x2({inst:{value:i,getSnapshot:e}});return E2(()=>{r.value=i,r.getSnapshot=e,rg(r)&&s({inst:r})},[t,i,e]),S2(()=>(rg(r)&&s({inst:r}),t(()=>{rg(r)&&s({inst:r})})),[t]),k2(i),i}function rg(t){const e=t.getSnapshot,n=t.value;try{const i=e();return!b2(n,i)}catch{return!0}}function C2(t,e,n){return e()}const I2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P2=!I2,A2=P2?C2:T2;"useSyncExternalStore"in sm&&(t=>t.useSyncExternalStore)(sm);const AC=x.createContext(null),b0=x.createContext(null),df=x.createContext(null),ff=x.createContext(null),$r=x.createContext({outlet:null,matches:[]}),RC=x.createContext(null);function R2(t,e){let{relative:n}=e===void 0?{}:e;Zo()||He(!1);let{basename:i,navigator:r}=x.useContext(df),{hash:s,pathname:o,search:a}=OC(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:gr([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Zo(){return x.useContext(ff)!=null}function bc(){return Zo()||He(!1),x.useContext(ff).location}function ni(){Zo()||He(!1);let{basename:t,navigator:e}=x.useContext(df),{matches:n}=x.useContext($r),{pathname:i}=bc(),r=JSON.stringify(IC(n).map(a=>a.pathnameBase)),s=x.useRef(!1);return x.useEffect(()=>{s.current=!0}),x.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let c=PC(a,JSON.parse(r),i,l.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:gr([t,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[t,e,r,i])}const O2=x.createContext(null);function M2(t){let e=x.useContext($r).outlet;return e&&x.createElement(O2.Provider,{value:t},e)}function D2(){let{matches:t}=x.useContext($r),e=t[t.length-1];return e?e.params:{}}function OC(t,e){let{relative:n}=e===void 0?{}:e,{matches:i}=x.useContext($r),{pathname:r}=bc(),s=JSON.stringify(IC(i).map(o=>o.pathnameBase));return x.useMemo(()=>PC(t,JSON.parse(s),r,n==="path"),[t,s,r,n])}function L2(t,e){Zo()||He(!1);let{navigator:n}=x.useContext(df),i=x.useContext(b0),{matches:r}=x.useContext($r),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=bc(),c;if(e){var u;let g=typeof e=="string"?Jo(e):e;a==="/"||(u=g.pathname)!=null&&u.startsWith(a)||He(!1),c=g}else c=l;let h=c.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",f=QN(t,{pathname:d}),p=V2(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:gr([a,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:gr([a,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),r,i||void 0);return e&&p?x.createElement(ff.Provider,{value:{location:ty({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:er.Pop}},p):p}function N2(){let t=z2(),e=v2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unhandled Thrown Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:r},n):null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own",x.createElement("code",{style:s},"errorElement")," props on",x.createElement("code",{style:s},"<Route>")))}class F2 extends x.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?x.createElement($r.Provider,{value:this.props.routeContext},x.createElement(RC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $2(t){let{routeContext:e,match:n,children:i}=t,r=x.useContext(AC);return r&&r.static&&r.staticContext&&n.route.errorElement&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement($r.Provider,{value:e},i)}function V2(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let i=t,r=n==null?void 0:n.errors;if(r!=null){let s=i.findIndex(o=>o.route.id&&(r==null?void 0:r[o.route.id]));s>=0||He(!1),i=i.slice(0,Math.min(i.length,s+1))}return i.reduceRight((s,o,a)=>{let l=o.route.id?r==null?void 0:r[o.route.id]:null,c=n?o.route.errorElement||x.createElement(N2,null):null,u=e.concat(i.slice(0,a+1)),h=()=>x.createElement($2,{match:o,routeContext:{outlet:s,matches:u}},l?c:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?x.createElement(F2,{location:n.location,component:c,error:l,children:h(),routeContext:{outlet:null,matches:u}}):h()},null)}var t1;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(t1||(t1={}));var Zh;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Zh||(Zh={}));function B2(t){let e=x.useContext(b0);return e||He(!1),e}function U2(t){let e=x.useContext($r);return e||He(!1),e}function j2(t){let e=U2(),n=e.matches[e.matches.length-1];return n.route.id||He(!1),n.route.id}function z2(){var t;let e=x.useContext(RC),n=B2(Zh.UseRouteError),i=j2(Zh.UseRouteError);return e||((t=n.errors)==null?void 0:t[i])}function W2(t){let{to:e,replace:n,state:i,relative:r}=t;Zo()||He(!1);let s=x.useContext(b0),o=ni();return x.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:i,relative:r})}),null}function H2(t){return M2(t.context)}function cn(t){He(!1)}function K2(t){let{basename:e="/",children:n=null,location:i,navigationType:r=er.Pop,navigator:s,static:o=!1}=t;Zo()&&He(!1);let a=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=Jo(i));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:f="default"}=i,p=x.useMemo(()=>{let g=CC(c,a);return g==null?null:{pathname:g,search:u,hash:h,state:d,key:f}},[a,c,u,h,d,f]);return p==null?null:x.createElement(df.Provider,{value:l},x.createElement(ff.Provider,{children:n,value:{location:p,navigationType:r}}))}function q2(t){let{children:e,location:n}=t,i=x.useContext(AC),r=i&&!e?i.router.routes:ny(e);return L2(r,n)}var n1;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(n1||(n1={}));new Promise(()=>{});function ny(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(i,r)=>{if(!x.isValidElement(i))return;if(i.type===x.Fragment){n.push.apply(n,ny(i.props.children,e));return}i.type!==cn&&He(!1),!i.props.index||!i.props.children||He(!1);let s=[...e,r],o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,hasErrorBoundary:i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle};i.props.children&&(o.children=ny(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},iy.apply(this,arguments)}function G2(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function Y2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function X2(t,e){return t.button===0&&(!e||e==="_self")&&!Y2(t)}const Q2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function J2(t){let{basename:e,children:n,window:i}=t,r=x.useRef();r.current==null&&(r.current=qN({window:i,v5Compat:!0}));let s=r.current,[o,a]=x.useState({action:s.action,location:s.location});return x.useLayoutEffect(()=>s.listen(a),[s]),x.createElement(K2,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const ao=x.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,h=G2(e,Q2),d=R2(c,{relative:r}),f=Z2(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r});function p(g){i&&i(g),g.defaultPrevented||f(g)}return x.createElement("a",iy({},h,{href:d,onClick:s?i:p,ref:n,target:l}))});var i1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(i1||(i1={}));var r1;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(r1||(r1={}));function Z2(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=ni(),l=bc(),c=OC(t,{relative:o});return x.useCallback(u=>{if(X2(u,n)){u.preventDefault();let h=i!==void 0?i:Jh(l)===Jh(c);a(t,{replace:h,state:r,preventScrollReset:s,relative:o})}},[l,a,c,i,r,n,t,s,o])}var ry={},eF={get exports(){return ry},set exports(t){ry=t}},MC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do=x;function tF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nF=typeof Object.is=="function"?Object.is:tF,iF=Do.useState,rF=Do.useEffect,sF=Do.useLayoutEffect,oF=Do.useDebugValue;function aF(t,e){var n=e(),i=iF({inst:{value:n,getSnapshot:e}}),r=i[0].inst,s=i[1];return sF(function(){r.value=n,r.getSnapshot=e,sg(r)&&s({inst:r})},[t,n,e]),rF(function(){return sg(r)&&s({inst:r}),t(function(){sg(r)&&s({inst:r})})},[t]),oF(n),n}function sg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nF(t,n)}catch{return!0}}function lF(t,e){return e()}var cF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lF:aF;MC.useSyncExternalStore=Do.useSyncExternalStore!==void 0?Do.useSyncExternalStore:cF;(function(t){t.exports=MC})(eF);var sy={},uF={get exports(){return sy},set exports(t){sy=t}},DC={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf=x,hF=ry;function dF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fF=typeof Object.is=="function"?Object.is:dF,pF=hF.useSyncExternalStore,gF=pf.useRef,mF=pf.useEffect,yF=pf.useMemo,vF=pf.useDebugValue;DC.useSyncExternalStoreWithSelector=function(t,e,n,i,r){var s=gF(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=yF(function(){function l(f){if(!c){if(c=!0,u=f,f=i(f),r!==void 0&&o.hasValue){var p=o.value;if(r(p,f))return h=p}return h=f}if(p=h,fF(u,f))return p;var g=i(f);return r!==void 0&&r(p,g)?p:(u=f,h=g)}var c=!1,u,h,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,i,r]);var a=pF(t,s[0],s[1]);return mF(function(){o.hasValue=!0,o.value=a},[a]),vF(a),a};(function(t){t.exports=DC})(uF);function wF(t){t()}let LC=wF;const _F=t=>LC=t,bF=()=>LC,Er=x.createContext(null);function NC(){return x.useContext(Er)}const xF=()=>{throw new Error("uSES not initialized!")};let FC=xF;const SF=t=>{FC=t},EF=(t,e)=>t===e;function kF(t=Er){const e=t===Er?NC:()=>x.useContext(t);return function(i,r=EF){const{store:s,subscription:o,getServerState:a}=e(),l=FC(o.addNestedSub,s.getState,a||s.getState,i,r);return x.useDebugValue(l),l}}const yn=kF();var oy={},TF={get exports(){return oy},set exports(t){oy=t}},ue={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ot=typeof Symbol=="function"&&Symbol.for,x0=ot?Symbol.for("react.element"):60103,S0=ot?Symbol.for("react.portal"):60106,gf=ot?Symbol.for("react.fragment"):60107,mf=ot?Symbol.for("react.strict_mode"):60108,yf=ot?Symbol.for("react.profiler"):60114,vf=ot?Symbol.for("react.provider"):60109,wf=ot?Symbol.for("react.context"):60110,E0=ot?Symbol.for("react.async_mode"):60111,_f=ot?Symbol.for("react.concurrent_mode"):60111,bf=ot?Symbol.for("react.forward_ref"):60112,xf=ot?Symbol.for("react.suspense"):60113,CF=ot?Symbol.for("react.suspense_list"):60120,Sf=ot?Symbol.for("react.memo"):60115,Ef=ot?Symbol.for("react.lazy"):60116,IF=ot?Symbol.for("react.block"):60121,PF=ot?Symbol.for("react.fundamental"):60117,AF=ot?Symbol.for("react.responder"):60118,RF=ot?Symbol.for("react.scope"):60119;function an(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case x0:switch(t=t.type,t){case E0:case _f:case gf:case yf:case mf:case xf:return t;default:switch(t=t&&t.$$typeof,t){case wf:case bf:case Ef:case Sf:case vf:return t;default:return e}}case S0:return e}}}function $C(t){return an(t)===_f}ue.AsyncMode=E0;ue.ConcurrentMode=_f;ue.ContextConsumer=wf;ue.ContextProvider=vf;ue.Element=x0;ue.ForwardRef=bf;ue.Fragment=gf;ue.Lazy=Ef;ue.Memo=Sf;ue.Portal=S0;ue.Profiler=yf;ue.StrictMode=mf;ue.Suspense=xf;ue.isAsyncMode=function(t){return $C(t)||an(t)===E0};ue.isConcurrentMode=$C;ue.isContextConsumer=function(t){return an(t)===wf};ue.isContextProvider=function(t){return an(t)===vf};ue.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===x0};ue.isForwardRef=function(t){return an(t)===bf};ue.isFragment=function(t){return an(t)===gf};ue.isLazy=function(t){return an(t)===Ef};ue.isMemo=function(t){return an(t)===Sf};ue.isPortal=function(t){return an(t)===S0};ue.isProfiler=function(t){return an(t)===yf};ue.isStrictMode=function(t){return an(t)===mf};ue.isSuspense=function(t){return an(t)===xf};ue.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===gf||t===_f||t===yf||t===mf||t===xf||t===CF||typeof t=="object"&&t!==null&&(t.$$typeof===Ef||t.$$typeof===Sf||t.$$typeof===vf||t.$$typeof===wf||t.$$typeof===bf||t.$$typeof===PF||t.$$typeof===AF||t.$$typeof===RF||t.$$typeof===IF)};ue.typeOf=an;(function(t){t.exports=ue})(TF);var VC=oy,OF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},BC={};BC[VC.ForwardRef]=OF;BC[VC.Memo]=MF;var s1={},DF={get exports(){return s1},set exports(t){s1=t}},he={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0=Symbol.for("react.element"),T0=Symbol.for("react.portal"),kf=Symbol.for("react.fragment"),Tf=Symbol.for("react.strict_mode"),Cf=Symbol.for("react.profiler"),If=Symbol.for("react.provider"),Pf=Symbol.for("react.context"),LF=Symbol.for("react.server_context"),Af=Symbol.for("react.forward_ref"),Rf=Symbol.for("react.suspense"),Of=Symbol.for("react.suspense_list"),Mf=Symbol.for("react.memo"),Df=Symbol.for("react.lazy"),NF=Symbol.for("react.offscreen"),UC;UC=Symbol.for("react.module.reference");function _n(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case k0:switch(t=t.type,t){case kf:case Cf:case Tf:case Rf:case Of:return t;default:switch(t=t&&t.$$typeof,t){case LF:case Pf:case Af:case Df:case Mf:case If:return t;default:return e}}case T0:return e}}}he.ContextConsumer=Pf;he.ContextProvider=If;he.Element=k0;he.ForwardRef=Af;he.Fragment=kf;he.Lazy=Df;he.Memo=Mf;he.Portal=T0;he.Profiler=Cf;he.StrictMode=Tf;he.Suspense=Rf;he.SuspenseList=Of;he.isAsyncMode=function(){return!1};he.isConcurrentMode=function(){return!1};he.isContextConsumer=function(t){return _n(t)===Pf};he.isContextProvider=function(t){return _n(t)===If};he.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===k0};he.isForwardRef=function(t){return _n(t)===Af};he.isFragment=function(t){return _n(t)===kf};he.isLazy=function(t){return _n(t)===Df};he.isMemo=function(t){return _n(t)===Mf};he.isPortal=function(t){return _n(t)===T0};he.isProfiler=function(t){return _n(t)===Cf};he.isStrictMode=function(t){return _n(t)===Tf};he.isSuspense=function(t){return _n(t)===Rf};he.isSuspenseList=function(t){return _n(t)===Of};he.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===kf||t===Cf||t===Tf||t===Rf||t===Of||t===NF||typeof t=="object"&&t!==null&&(t.$$typeof===Df||t.$$typeof===Mf||t.$$typeof===If||t.$$typeof===Pf||t.$$typeof===Af||t.$$typeof===UC||t.getModuleId!==void 0)};he.typeOf=_n;(function(t){t.exports=he})(DF);function FF(){const t=bF();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){let i=[],r=e;for(;r;)i.push(r),r=r.next;return i},subscribe(i){let r=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const o1={notify(){},get:()=>[]};function $F(t,e){let n,i=o1;function r(h){return l(),i.subscribe(h)}function s(){i.notify()}function o(){u.onStateChange&&u.onStateChange()}function a(){return Boolean(n)}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),i=FF())}function c(){n&&(n(),n=void 0,i.clear(),i=o1)}const u={addNestedSub:r,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:()=>i};return u}const VF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BF=VF?x.useLayoutEffect:x.useEffect;function UF({store:t,context:e,children:n,serverState:i}){const r=x.useMemo(()=>{const a=$F(t);return{store:t,subscription:a,getServerState:i?()=>i:void 0}},[t,i]),s=x.useMemo(()=>t.getState(),[t]);BF(()=>{const{subscription:a}=r;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[r,s]);const o=e||Er;return Dn.createElement(o.Provider,{value:r},n)}function jC(t=Er){const e=t===Er?NC:()=>x.useContext(t);return function(){const{store:i}=e();return i}}const jF=jC();function zF(t=Er){const e=t===Er?jF:jC(t);return function(){return e().dispatch}}const Vr=zF();SF(sy.useSyncExternalStoreWithSelector);_F(xl.unstable_batchedUpdates);function Tn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(r){return"'"+r+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function kr(t){return!!t&&!!t[Se]}function Mi(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var i=Object.getPrototypeOf(n);if(i===null)return!0;var r=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===JF}(t)||Array.isArray(t)||!!t[f1]||!!(!((e=t.constructor)===null||e===void 0)&&e[f1])||C0(t)||I0(t))}function ks(t,e,n){n===void 0&&(n=!1),ea(t)===0?(n?Object.keys:_o)(t).forEach(function(i){n&&typeof i=="symbol"||e(i,t[i],t)}):t.forEach(function(i,r){return e(r,i,t)})}function ea(t){var e=t[Se];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:C0(t)?2:I0(t)?3:0}function wo(t,e){return ea(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function WF(t,e){return ea(t)===2?t.get(e):t[e]}function zC(t,e,n){var i=ea(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function WC(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function C0(t){return XF&&t instanceof Map}function I0(t){return QF&&t instanceof Set}function Qr(t){return t.o||t.t}function P0(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=KC(t);delete e[Se];for(var n=_o(e),i=0;i<n.length;i++){var r=n[i],s=e[r];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[r]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[r]})}return Object.create(Object.getPrototypeOf(t),e)}function A0(t,e){return e===void 0&&(e=!1),R0(t)||kr(t)||!Mi(t)||(ea(t)>1&&(t.set=t.add=t.clear=t.delete=HF),Object.freeze(t),e&&ks(t,function(n,i){return A0(i,!0)},!0)),t}function HF(){Tn(2)}function R0(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Kn(t){var e=uy[t];return e||Tn(18,t),e}function KF(t,e){uy[t]||(uy[t]=e)}function ay(){return Ul}function og(t,e){e&&(Kn("Patches"),t.u=[],t.s=[],t.v=e)}function ed(t){ly(t),t.p.forEach(qF),t.p=null}function ly(t){t===Ul&&(Ul=t.l)}function a1(t){return Ul={p:[],l:Ul,h:t,m:!0,_:0}}function qF(t){var e=t[Se];e.i===0||e.i===1?e.j():e.O=!0}function ag(t,e){e._=e.p.length;var n=e.p[0],i=t!==void 0&&t!==n;return e.h.g||Kn("ES5").S(e,t,i),i?(n[Se].P&&(ed(e),Tn(4)),Mi(t)&&(t=td(e,t),e.l||nd(e,t)),e.u&&Kn("Patches").M(n[Se].t,t,e.u,e.s)):t=td(e,n,[]),ed(e),e.u&&e.v(e.u,e.s),t!==HC?t:void 0}function td(t,e,n){if(R0(e))return e;var i=e[Se];if(!i)return ks(e,function(a,l){return l1(t,i,e,a,l,n)},!0),e;if(i.A!==t)return e;if(!i.P)return nd(t,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var r=i.i===4||i.i===5?i.o=P0(i.k):i.o,s=r,o=!1;i.i===3&&(s=new Set(r),r.clear(),o=!0),ks(s,function(a,l){return l1(t,i,r,a,l,n,o)}),nd(t,r,!1),n&&t.u&&Kn("Patches").N(i,n,t.u,t.s)}return i.o}function l1(t,e,n,i,r,s,o){if(kr(r)){var a=td(t,r,s&&e&&e.i!==3&&!wo(e.R,i)?s.concat(i):void 0);if(zC(n,i,a),!kr(a))return;t.m=!1}else o&&n.add(r);if(Mi(r)&&!R0(r)){if(!t.h.D&&t._<1)return;td(t,r),e&&e.A.l||nd(t,r)}}function nd(t,e,n){n===void 0&&(n=!1),t.h.D&&t.m&&A0(e,n)}function lg(t,e){var n=t[Se];return(n?Qr(n):t)[e]}function c1(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function Xi(t){t.P||(t.P=!0,t.l&&Xi(t.l))}function cg(t){t.o||(t.o=P0(t.t))}function cy(t,e,n){var i=C0(e)?Kn("MapSet").F(e,n):I0(e)?Kn("MapSet").T(e,n):t.g?function(r,s){var o=Array.isArray(r),a={i:o?1:0,A:s?s.A:ay(),P:!1,I:!1,R:{},l:s,t:r,k:null,o:null,j:null,C:!1},l=a,c=jl;o&&(l=[a],c=Ma);var u=Proxy.revocable(l,c),h=u.revoke,d=u.proxy;return a.k=d,a.j=h,d}(e,n):Kn("ES5").J(e,n);return(n?n.A:ay()).p.push(i),i}function GF(t){return kr(t)||Tn(22,t),function e(n){if(!Mi(n))return n;var i,r=n[Se],s=ea(n);if(r){if(!r.P&&(r.i<4||!Kn("ES5").K(r)))return r.t;r.I=!0,i=u1(n,s),r.I=!1}else i=u1(n,s);return ks(i,function(o,a){r&&WF(r.t,o)===a||zC(i,o,e(a))}),s===3?new Set(i):i}(t)}function u1(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return P0(t)}function YF(){function t(s,o){var a=r[s];return a?a.enumerable=o:r[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Se];return jl.get(l,s)},set:function(l){var c=this[Se];jl.set(c,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Se];if(!a.P)switch(a.i){case 5:i(a)&&Xi(a);break;case 4:n(a)&&Xi(a)}}}function n(s){for(var o=s.t,a=s.k,l=_o(a),c=l.length-1;c>=0;c--){var u=l[c];if(u!==Se){var h=o[u];if(h===void 0&&!wo(o,u))return!0;var d=a[u],f=d&&d[Se];if(f?f.t!==h:!WC(d,h))return!0}}var p=!!o[Se];return l.length!==_o(o).length+(p?0:1)}function i(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var r={};KF("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(u,h){if(u){for(var d=Array(h.length),f=0;f<h.length;f++)Object.defineProperty(d,""+f,t(f,!0));return d}var p=KC(h);delete p[Se];for(var g=_o(p),v=0;v<g.length;v++){var y=g[v];p[y]=t(y,u||!!p[y].enumerable)}return Object.create(Object.getPrototypeOf(h),p)}(a,s),c={i:a?5:4,A:o?o.A:ay(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Se,{value:c,writable:!0}),l},S:function(s,o,a){a?kr(o)&&o[Se].A===s&&e(s.p):(s.u&&function l(c){if(c&&typeof c=="object"){var u=c[Se];if(u){var h=u.t,d=u.k,f=u.R,p=u.i;if(p===4)ks(d,function(w){w!==Se&&(h[w]!==void 0||wo(h,w)?f[w]||l(d[w]):(f[w]=!0,Xi(u)))}),ks(h,function(w){d[w]!==void 0||wo(d,w)||(f[w]=!1,Xi(u))});else if(p===5){if(i(u)&&(Xi(u),f.length=!0),d.length<h.length)for(var g=d.length;g<h.length;g++)f[g]=!1;else for(var v=h.length;v<d.length;v++)f[v]=!0;for(var y=Math.min(d.length,h.length),m=0;m<y;m++)d.hasOwnProperty(m)||(f[m]=!0),f[m]===void 0&&l(d[m])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):i(s)}})}var h1,Ul,O0=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",XF=typeof Map<"u",QF=typeof Set<"u",d1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",HC=O0?Symbol.for("immer-nothing"):((h1={})["immer-nothing"]=!0,h1),f1=O0?Symbol.for("immer-draftable"):"__$immer_draftable",Se=O0?Symbol.for("immer-state"):"__$immer_state",JF=""+Object.prototype.constructor,_o=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,KC=Object.getOwnPropertyDescriptors||function(t){var e={};return _o(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},uy={},jl={get:function(t,e){if(e===Se)return t;var n=Qr(t);if(!wo(n,e))return function(r,s,o){var a,l=c1(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(r.k):void 0}(t,n,e);var i=n[e];return t.I||!Mi(i)?i:i===lg(t.t,e)?(cg(t),t.o[e]=cy(t.A.h,i,t)):i},has:function(t,e){return e in Qr(t)},ownKeys:function(t){return Reflect.ownKeys(Qr(t))},set:function(t,e,n){var i=c1(Qr(t),e);if(i!=null&&i.set)return i.set.call(t.k,n),!0;if(!t.P){var r=lg(Qr(t),e),s=r==null?void 0:r[Se];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(WC(n,r)&&(n!==void 0||wo(t.t,e)))return!0;cg(t),Xi(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return lg(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,cg(t),Xi(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Qr(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty:function(){Tn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Tn(12)}},Ma={};ks(jl,function(t,e){Ma[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ma.deleteProperty=function(t,e){return Ma.set.call(this,t,e,void 0)},Ma.set=function(t,e,n){return jl.set.call(this,t[0],e,n,t[0])};var ZF=function(){function t(n){var i=this;this.g=d1,this.D=!0,this.produce=function(r,s,o){if(typeof r=="function"&&typeof s!="function"){var a=s;s=r;var l=i;return function(g){var v=this;g===void 0&&(g=a);for(var y=arguments.length,m=Array(y>1?y-1:0),w=1;w<y;w++)m[w-1]=arguments[w];return l.produce(g,function(_){var b;return(b=s).call.apply(b,[v,_].concat(m))})}}var c;if(typeof s!="function"&&Tn(6),o!==void 0&&typeof o!="function"&&Tn(7),Mi(r)){var u=a1(i),h=cy(i,r,void 0),d=!0;try{c=s(h),d=!1}finally{d?ed(u):ly(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(g){return og(u,o),ag(g,u)},function(g){throw ed(u),g}):(og(u,o),ag(c,u))}if(!r||typeof r!="object"){if((c=s(r))===void 0&&(c=r),c===HC&&(c=void 0),i.D&&A0(c,!0),o){var f=[],p=[];Kn("Patches").M(r,c,f,p),o(f,p)}return c}Tn(21,r)},this.produceWithPatches=function(r,s){if(typeof r=="function")return function(c){for(var u=arguments.length,h=Array(u>1?u-1:0),d=1;d<u;d++)h[d-1]=arguments[d];return i.produceWithPatches(c,function(f){return r.apply(void 0,[f].concat(h))})};var o,a,l=i.produce(r,s,function(c,u){o=c,a=u});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Mi(n)||Tn(8),kr(n)&&(n=GF(n));var i=a1(this),r=cy(this,n,void 0);return r[Se].C=!0,ly(i),r},e.finishDraft=function(n,i){var r=n&&n[Se],s=r.A;return og(s,i),ag(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!d1&&Tn(20),this.g=n},e.applyPatches=function(n,i){var r;for(r=i.length-1;r>=0;r--){var s=i[r];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}r>-1&&(i=i.slice(r+1));var o=Kn("Patches").$;return kr(n)?o(n,i):this.produce(n,function(a){return o(a,i)})},t}(),tn=new ZF,qC=tn.produce;tn.produceWithPatches.bind(tn);tn.setAutoFreeze.bind(tn);tn.setUseProxies.bind(tn);tn.applyPatches.bind(tn);tn.createDraft.bind(tn);tn.finishDraft.bind(tn);function zl(t){return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function e$(t,e){if(zl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(zl(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t$(t){var e=e$(t,"string");return zl(e)==="symbol"?e:String(e)}function n$(t,e,n){return e=t$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function g1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p1(Object(n),!0).forEach(function(i){n$(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function gt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var m1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ug=function(){return Math.random().toString(36).substring(7).split("").join(".")},id={INIT:"@@redux/INIT"+ug(),REPLACE:"@@redux/REPLACE"+ug(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ug()}};function i$(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function M0(t,e,n){var i;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(gt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(gt(1));return n(M0)(t,e)}if(typeof t!="function")throw new Error(gt(2));var r=t,s=e,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function u(){if(l)throw new Error(gt(3));return s}function h(g){if(typeof g!="function")throw new Error(gt(4));if(l)throw new Error(gt(5));var v=!0;return c(),a.push(g),function(){if(v){if(l)throw new Error(gt(6));v=!1,c();var m=a.indexOf(g);a.splice(m,1),o=null}}}function d(g){if(!i$(g))throw new Error(gt(7));if(typeof g.type>"u")throw new Error(gt(8));if(l)throw new Error(gt(9));try{l=!0,s=r(s,g)}finally{l=!1}for(var v=o=a,y=0;y<v.length;y++){var m=v[y];m()}return g}function f(g){if(typeof g!="function")throw new Error(gt(10));r=g,d({type:id.REPLACE})}function p(){var g,v=h;return g={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(gt(11));function w(){m.next&&m.next(u())}w();var _=v(w);return{unsubscribe:_}}},g[m1]=function(){return this},g}return d({type:id.INIT}),i={dispatch:d,subscribe:h,getState:u,replaceReducer:f},i[m1]=p,i}function r$(t){Object.keys(t).forEach(function(e){var n=t[e],i=n(void 0,{type:id.INIT});if(typeof i>"u")throw new Error(gt(12));if(typeof n(void 0,{type:id.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gt(13))})}function GC(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++){var r=e[i];typeof t[r]=="function"&&(n[r]=t[r])}var s=Object.keys(n),o;try{r$(n)}catch(a){o=a}return function(l,c){if(l===void 0&&(l={}),o)throw o;for(var u=!1,h={},d=0;d<s.length;d++){var f=s[d],p=n[f],g=l[f],v=p(g,c);if(typeof v>"u")throw c&&c.type,new Error(gt(14));h[f]=v,u=u||v!==g}return u=u||s.length!==Object.keys(l).length,u?h:l}}function rd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(i){return i}:e.length===1?e[0]:e.reduce(function(i,r){return function(){return i(r.apply(void 0,arguments))}})}function s$(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){return function(){var r=i.apply(void 0,arguments),s=function(){throw new Error(gt(15))},o={getState:r.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=rd.apply(void 0,a)(r.dispatch),g1(g1({},r),{},{dispatch:s})}}}function YC(t){var e=function(i){var r=i.dispatch,s=i.getState;return function(o){return function(a){return typeof a=="function"?a(r,s,t):o(a)}}};return e}var XC=YC();XC.withExtraArgument=YC;const hy=XC;var o$=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),a$=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,r=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],r=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},sd=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},l$=Object.defineProperty,c$=Object.defineProperties,u$=Object.getOwnPropertyDescriptors,y1=Object.getOwnPropertySymbols,h$=Object.prototype.hasOwnProperty,d$=Object.prototype.propertyIsEnumerable,v1=function(t,e,n){return e in t?l$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},mr=function(t,e){for(var n in e||(e={}))h$.call(e,n)&&v1(t,n,e[n]);if(y1)for(var i=0,r=y1(e);i<r.length;i++){var n=r[i];d$.call(e,n)&&v1(t,n,e[n])}return t},hg=function(t,e){return c$(t,u$(e))},f$=function(t,e,n){return new Promise(function(i,r){var s=function(l){try{a(n.next(l))}catch(c){r(c)}},o=function(l){try{a(n.throw(l))}catch(c){r(c)}},a=function(l){return l.done?i(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},p$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rd:rd.apply(null,arguments)};function g$(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var m$=function(t){o$(e,t);function e(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=t.apply(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,sd([void 0],n[0].concat(this)))):new(e.bind.apply(e,sd([void 0],n.concat(this))))},e}(Array);function dy(t){return Mi(t)?qC(t,function(){}):t}function y$(t){return typeof t=="boolean"}function v$(){return function(e){return w$(e)}}function w$(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var i=new m$;return n&&(y$(n)?i.push(hy):i.push(hy.withExtraArgument(n.extraArgument))),i}var _$=!0;function b$(t){var e=v$(),n=t||{},i=n.reducer,r=i===void 0?void 0:i,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,c=n.preloadedState,u=c===void 0?void 0:c,h=n.enhancers,d=h===void 0?void 0:h,f;if(typeof r=="function")f=r;else if(g$(r))f=GC(r);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(e));var g=s$.apply(void 0,p),v=rd;l&&(v=p$(mr({trace:!_$},typeof l=="object"&&l)));var y=[g];Array.isArray(d)?y=sd([g],d):typeof d=="function"&&(y=d(y));var m=v.apply(void 0,y);return M0(f,u,m)}function yr(t,e){function n(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(e){var s=e.apply(void 0,i);if(!s)throw new Error("prepareAction did not return an object");return mr(mr({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:i[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(i){return i.type===t},n}function QC(t){var e={},n=[],i,r={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,r},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),r},addDefaultCase:function(s){return i=s,r}};return t(r),[e,n,i]}function x$(t){return typeof t=="function"}function S$(t,e,n,i){n===void 0&&(n=[]);var r=typeof e=="function"?QC(e):[e,n,i],s=r[0],o=r[1],a=r[2],l;if(x$(t))l=function(){return dy(t())};else{var c=dy(t);l=function(){return c}}function u(h,d){h===void 0&&(h=l());var f=sd([s[d.type]],o.filter(function(p){var g=p.matcher;return g(d)}).map(function(p){var g=p.reducer;return g}));return f.filter(function(p){return!!p}).length===0&&(f=[a]),f.reduce(function(p,g){if(g)if(kr(p)){var v=p,y=g(v,d);return y===void 0?p:y}else{if(Mi(p))return qC(p,function(m){return g(m,d)});var y=g(p,d);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return p},h)}return u.getInitialState=l,u}function E$(t,e){return t+"/"+e}function Lf(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:dy(t.initialState),i=t.reducers||{},r=Object.keys(i),s={},o={},a={};r.forEach(function(u){var h=i[u],d=E$(e,u),f,p;"reducer"in h?(f=h.reducer,p=h.prepare):f=h,s[u]=f,o[d]=f,a[u]=p?yr(d,p):yr(d)});function l(){var u=typeof t.extraReducers=="function"?QC(t.extraReducers):[t.extraReducers],h=u[0],d=h===void 0?{}:h,f=u[1],p=f===void 0?[]:f,g=u[2],v=g===void 0?void 0:g,y=mr(mr({},d),o);return S$(n,function(m){for(var w in y)m.addCase(w,y[w]);for(var _=0,b=p;_<b.length;_++){var S=b[_];m.addMatcher(S.matcher,S.reducer)}v&&m.addDefaultCase(v)})}var c;return{name:e,reducer:function(u,h){return c||(c=l()),c(u,h)},actions:a,caseReducers:s,getInitialState:function(){return c||(c=l()),c.getInitialState()}}}var k$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",T$=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=k$[Math.random()*64|0];return e},C$=["name","message","stack","code"],dg=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),w1=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),I$=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,i=C$;n<i.length;n++){var r=i[n];typeof t[r]=="string"&&(e[r]=t[r])}return e}return{message:String(t)}};(function(){function t(e,n,i){var r=yr(e+"/fulfilled",function(c,u,h,d){return{payload:c,meta:hg(mr({},d||{}),{arg:h,requestId:u,requestStatus:"fulfilled"})}}),s=yr(e+"/pending",function(c,u,h){return{payload:void 0,meta:hg(mr({},h||{}),{arg:u,requestId:c,requestStatus:"pending"})}}),o=yr(e+"/rejected",function(c,u,h,d,f){return{payload:d,error:(i&&i.serializeError||I$)(c||"Rejected"),meta:hg(mr({},f||{}),{arg:h,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function l(c){return function(u,h,d){var f=i!=null&&i.idGenerator?i.idGenerator(c):T$(),p=new a,g;function v(m){g=m,p.abort()}var y=function(){return f$(this,null,function(){var m,w,_,b,S,k,T;return a$(this,function(I){switch(I.label){case 0:return I.trys.push([0,4,,5]),b=(m=i==null?void 0:i.condition)==null?void 0:m.call(i,c,{getState:h,extra:d}),A$(b)?[4,b]:[3,2];case 1:b=I.sent(),I.label=2;case 2:if(b===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(C,D){return p.signal.addEventListener("abort",function(){return D({name:"AbortError",message:g||"Aborted"})})}),u(s(f,c,(w=i==null?void 0:i.getPendingMeta)==null?void 0:w.call(i,{requestId:f,arg:c},{getState:h,extra:d}))),[4,Promise.race([S,Promise.resolve(n(c,{dispatch:u,getState:h,extra:d,requestId:f,signal:p.signal,abort:v,rejectWithValue:function(C,D){return new dg(C,D)},fulfillWithValue:function(C,D){return new w1(C,D)}})).then(function(C){if(C instanceof dg)throw C;return C instanceof w1?r(C.payload,f,c,C.meta):r(C,f,c)})])];case 3:return _=I.sent(),[3,5];case 4:return k=I.sent(),_=k instanceof dg?o(null,f,c,k.payload,k.meta):o(k,f,c),[3,5];case 5:return T=i&&!i.dispatchConditionRejection&&o.match(_)&&_.meta.condition,T||u(_),[2,_]}})})}();return Object.assign(y,{abort:v,requestId:f,arg:c,unwrap:function(){return y.then(P$)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:r,typePrefix:e})}return t.withTypes=function(){return t},t})();function P$(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function A$(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var D0="listenerMiddleware";yr(D0+"/add");yr(D0+"/removeAll");yr(D0+"/remove");var _1;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);YF();var L0={},N0={};N0.__esModule=!0;N0.default=M$;function rh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rh=function(n){return typeof n}:rh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},rh(t)}function fg(){}var R$={getItem:fg,setItem:fg,removeItem:fg};function O$(t){if((typeof self>"u"?"undefined":rh(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function M$(t){var e="".concat(t,"Storage");return O$(e)?self[e]:R$}L0.__esModule=!0;L0.default=N$;var D$=L$(N0);function L$(t){return t&&t.__esModule?t:{default:t}}function N$(t){var e=(0,D$.default)(t);return{getItem:function(i){return new Promise(function(r,s){r(e.getItem(i))})},setItem:function(i,r){return new Promise(function(s,o){s(e.setItem(i,r))})},removeItem:function(i){return new Promise(function(r,s){r(e.removeItem(i))})}}}var JC=void 0,F$=$$(L0);function $$(t){return t&&t.__esModule?t:{default:t}}var V$=(0,F$.default)("local");JC=V$;var F0="persist:",ZC="persist/FLUSH",$0="persist/REHYDRATE",eI="persist/PAUSE",tI="persist/PERSIST",nI="persist/PURGE",iI="persist/REGISTER",B$=-1;function sh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sh=function(n){return typeof n}:sh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},sh(t)}function b1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function U$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b1(n,!0).forEach(function(i){j$(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b1(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function j$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z$(t,e,n,i){i.debug;var r=U$({},n);return t&&sh(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(r[s]=t[s])}),r}function W$(t){var e=t.blacklist||null,n=t.whitelist||null,i=t.transforms||[],r=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:F0).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(b){return b}:typeof t.serialize=="function"?a=t.serialize:a=H$;var l=t.writeFailHandler||null,c={},u={},h=[],d=null,f=null,p=function(b){Object.keys(b).forEach(function(S){y(S)&&c[S]!==b[S]&&h.indexOf(S)===-1&&h.push(S)}),Object.keys(c).forEach(function(S){b[S]===void 0&&y(S)&&h.indexOf(S)===-1&&c[S]!==void 0&&h.push(S)}),d===null&&(d=setInterval(g,r)),c=b};function g(){if(h.length===0){d&&clearInterval(d),d=null;return}var _=h.shift(),b=i.reduce(function(S,k){return k.in(S,_,c)},c[_]);if(b!==void 0)try{u[_]=a(b)}catch(S){console.error("redux-persist/createPersistoid: error serializing state",S)}else delete u[_];h.length===0&&v()}function v(){Object.keys(u).forEach(function(_){c[_]===void 0&&delete u[_]}),f=o.setItem(s,a(u)).catch(m)}function y(_){return!(n&&n.indexOf(_)===-1&&_!=="_persist"||e&&e.indexOf(_)!==-1)}function m(_){l&&l(_)}var w=function(){for(;h.length!==0;)g();return f||Promise.resolve()};return{update:p,flush:w}}function H$(t){return JSON.stringify(t)}function K$(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:F0).concat(t.key),i=t.storage;t.debug;var r;return t.deserialize===!1?r=function(o){return o}:typeof t.deserialize=="function"?r=t.deserialize:r=q$,i.getItem(n).then(function(s){if(s)try{var o={},a=r(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(c,u){return u.out(c,l,a)},r(a[l]))}),o}catch(l){throw l}else return})}function q$(t){return JSON.parse(t)}function G$(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:F0).concat(t.key);return e.removeItem(n,Y$)}function Y$(t){}function x1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x1(n,!0).forEach(function(i){X$(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x1(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function X$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q$(t,e){if(t==null)return{};var n=J$(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function J$(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var Z$=5e3;function eV(t,e){var n=t.version!==void 0?t.version:B$;t.debug;var i=t.stateReconciler===void 0?z$:t.stateReconciler,r=t.getStoredState||K$,s=t.timeout!==void 0?t.timeout:Z$,o=null,a=!1,l=!0,c=function(h){return h._persist.rehydrated&&o&&!l&&o.update(h),h};return function(u,h){var d=u||{},f=d._persist,p=Q$(d,["_persist"]),g=p;if(h.type===tI){var v=!1,y=function(T,I){v||(h.rehydrate(t.key,T,I),v=!0)};if(s&&setTimeout(function(){!v&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=W$(t)),f)return si({},e(g,h),{_persist:f});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),r(t).then(function(k){var T=t.migrate||function(I,C){return Promise.resolve(I)};T(k,n).then(function(I){y(I)},function(I){y(void 0,I)})},function(k){y(void 0,k)}),si({},e(g,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===nI)return a=!0,h.result(G$(t)),si({},e(g,h),{_persist:f});if(h.type===ZC)return h.result(o&&o.flush()),si({},e(g,h),{_persist:f});if(h.type===eI)l=!0;else if(h.type===$0){if(a)return si({},g,{_persist:si({},f,{rehydrated:!0})});if(h.key===t.key){var m=e(g,h),w=h.payload,_=i!==!1&&w!==void 0?i(w,u,m,t):m,b=si({},_,{_persist:si({},f,{rehydrated:!0})});return c(b)}}}if(!f)return e(u,h);var S=e(g,h);return S===g?u:c(si({},S,{_persist:f}))}}function S1(t){return iV(t)||nV(t)||tV()}function tV(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function nV(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function iV(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function E1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function fy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E1(n,!0).forEach(function(i){rV(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E1(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function rV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rI={registry:[],bootstrapped:!1},sV=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rI,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case iI:return fy({},e,{registry:[].concat(S1(e.registry),[n.key])});case $0:var i=e.registry.indexOf(n.key),r=S1(e.registry);return r.splice(i,1),fy({},e,{registry:r,bootstrapped:r.length===0});default:return e}};function oV(t,e,n){var i=n||!1,r=M0(sV,rI,e&&e.enhancer?e.enhancer:void 0),s=function(c){r.dispatch({type:iI,key:c})},o=function(c,u,h){var d={type:$0,payload:u,err:h,key:c};t.dispatch(d),r.dispatch(d),i&&a.getState().bootstrapped&&(i(),i=!1)},a=fy({},r,{purge:function(){var c=[];return t.dispatch({type:nI,result:function(h){c.push(h)}}),Promise.all(c)},flush:function(){var c=[];return t.dispatch({type:ZC,result:function(h){c.push(h)}}),Promise.all(c)},pause:function(){t.dispatch({type:eI})},persist:function(){t.dispatch({type:tI,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},aV=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},oI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),i.push(n[u],n[h],n[d],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw Error();const d=s<<2|a>>4;if(i.push(d),c!==64){const f=a<<4&240|c>>2;if(i.push(f),h!==64){const p=c<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},lV=function(t){const e=sI(t);return oI.encodeByteArray(e,!0)},od=function(t){return lV(t).replace(/\./g,"")},aI=function(t){try{return oI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=()=>cV().__FIREBASE_DEFAULTS__,hV=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aI(t[1]);return e&&JSON.parse(e)},Nf=()=>{try{return uV()||hV()||dV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lI=t=>{var e,n;return(n=(e=Nf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cI=t=>{const e=lI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},fV=()=>{var t;return(t=Nf())===null||t===void 0?void 0:t.config},uI=t=>{var e;return(e=Nf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[od(JSON.stringify(n)),od(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function mV(){var t;const e=(t=Nf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wV(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _V(){try{return typeof indexedDB=="object"}catch{return!1}}function bV(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="FirebaseError";class ii extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=xV,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?SV(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ii(r,a,i)}}function SV(t,e){return t.replace(EV,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const EV=/\{\$([^}]+)}/g;function kV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ad(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(k1(s)&&k1(o)){if(!ad(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function k1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Da(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function La(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function TV(t,e){const n=new CV(t,e);return n.subscribe.bind(n)}class CV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");IV(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=pg),r.error===void 0&&(r.error=pg),r.complete===void 0&&(r.complete=pg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t){return t&&t._delegate?t._delegate:t}class Tr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new pV;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RV(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jr){return this.instances.has(e)}getOptions(e=Jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:AV(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Jr){return this.component?this.component.multipleInstances?e:Jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AV(t){return t===Jr?void 0:t}function RV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const MV={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},DV=oe.INFO,LV={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},NV=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=LV[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V0{constructor(e){this.name=e,this._logLevel=DV,this._logHandler=NV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const FV=(t,e)=>e.some(n=>t instanceof n);let T1,C1;function $V(){return T1||(T1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VV(){return C1||(C1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dI=new WeakMap,py=new WeakMap,fI=new WeakMap,gg=new WeakMap,B0=new WeakMap;function BV(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vr(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&dI.set(n,t)}).catch(()=>{}),B0.set(e,t),e}function UV(t){if(py.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});py.set(t,e)}let gy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return py.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jV(t){gy=t(gy)}function zV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(mg(this),e,...n);return fI.set(i,e.sort?e.sort():[e]),vr(i)}:VV().includes(t)?function(...e){return t.apply(mg(this),e),vr(dI.get(this))}:function(...e){return vr(t.apply(mg(this),e))}}function WV(t){return typeof t=="function"?zV(t):(t instanceof IDBTransaction&&UV(t),FV(t,$V())?new Proxy(t,gy):t)}function vr(t){if(t instanceof IDBRequest)return BV(t);if(gg.has(t))return gg.get(t);const e=WV(t);return e!==t&&(gg.set(t,e),B0.set(e,t)),e}const mg=t=>B0.get(t);function HV(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=vr(o);return i&&o.addEventListener("upgradeneeded",l=>{i(vr(o.result),l.oldVersion,l.newVersion,vr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const KV=["get","getKey","getAll","getAllKeys","count"],qV=["put","add","delete","clear"],yg=new Map;function I1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yg.get(e))return yg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=qV.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||KV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return yg.set(e,s),s}jV(t=>({...t,get:(e,n,i)=>I1(e,n)||t.get(e,n,i),has:(e,n)=>!!I1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YV(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function YV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const my="@firebase/app",P1="0.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new V0("@firebase/app"),XV="@firebase/app-compat",QV="@firebase/analytics-compat",JV="@firebase/analytics",ZV="@firebase/app-check-compat",eB="@firebase/app-check",tB="@firebase/auth",nB="@firebase/auth-compat",iB="@firebase/database",rB="@firebase/database-compat",sB="@firebase/functions",oB="@firebase/functions-compat",aB="@firebase/installations",lB="@firebase/installations-compat",cB="@firebase/messaging",uB="@firebase/messaging-compat",hB="@firebase/performance",dB="@firebase/performance-compat",fB="@firebase/remote-config",pB="@firebase/remote-config-compat",gB="@firebase/storage",mB="@firebase/storage-compat",yB="@firebase/firestore",vB="@firebase/firestore-compat",wB="firebase",_B="9.16.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="[DEFAULT]",bB={[my]:"fire-core",[XV]:"fire-core-compat",[JV]:"fire-analytics",[QV]:"fire-analytics-compat",[eB]:"fire-app-check",[ZV]:"fire-app-check-compat",[tB]:"fire-auth",[nB]:"fire-auth-compat",[iB]:"fire-rtdb",[rB]:"fire-rtdb-compat",[sB]:"fire-fn",[oB]:"fire-fn-compat",[aB]:"fire-iid",[lB]:"fire-iid-compat",[cB]:"fire-fcm",[uB]:"fire-fcm-compat",[hB]:"fire-perf",[dB]:"fire-perf-compat",[fB]:"fire-rc",[pB]:"fire-rc-compat",[gB]:"fire-gcs",[mB]:"fire-gcs-compat",[yB]:"fire-fst",[vB]:"fire-fst-compat","fire-js":"fire-js",[wB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new Map,vy=new Map;function xB(t,e){try{t.container.addComponent(e)}catch(n){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cs(t){const e=t.name;if(vy.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,t);for(const n of ld.values())xB(n,t);return!0}function Ff(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},wr=new xc("app","Firebase",SB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Tr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=_B;function pI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:yy,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw wr.create("bad-app-name",{appName:String(r)});if(n||(n=fV()),!n)throw wr.create("no-options");const s=ld.get(r);if(s){if(ad(n,s.options)&&ad(i,s.config))return s;throw wr.create("duplicate-app",{appName:r})}const o=new OV(r);for(const l of vy.values())o.addComponent(l);const a=new EB(n,i,o);return ld.set(r,a),a}function U0(t=yy){const e=ld.get(t);if(!e&&t===yy)return pI();if(!e)throw wr.create("no-app",{appName:t});return e}function qn(t,e,n){var i;let r=(i=bB[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(a.join(" "));return}Cs(new Tr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB="firebase-heartbeat-database",TB=1,Wl="firebase-heartbeat-store";let vg=null;function gI(){return vg||(vg=HV(kB,TB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Wl)}}}).catch(t=>{throw wr.create("idb-open",{originalErrorMessage:t.message})})),vg}async function CB(t){try{return(await gI()).transaction(Wl).objectStore(Wl).get(mI(t))}catch(e){if(e instanceof ii)Ts.warn(e.message);else{const n=wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ts.warn(n.message)}}}async function A1(t,e){try{const i=(await gI()).transaction(Wl,"readwrite");return await i.objectStore(Wl).put(e,mI(t)),i.done}catch(n){if(n instanceof ii)Ts.warn(n.message);else{const i=wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ts.warn(i.message)}}}function mI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=1024,PB=30*24*60*60*1e3;class AB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OB(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=R1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=PB}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=R1(),{heartbeatsToSend:n,unsentEntries:i}=RB(this._heartbeatsCache.heartbeats),r=od(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function R1(){return new Date().toISOString().substring(0,10)}function RB(t,e=IB){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),O1(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),O1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class OB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _V()?bV().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await CB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return A1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return A1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function O1(t){return od(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t){Cs(new Tr("platform-logger",e=>new GV(e),"PRIVATE")),Cs(new Tr("heartbeat",e=>new AB(e),"PRIVATE")),qn(my,P1,t),qn(my,P1,"esm2017"),qn("fire-js","")}MB("");function j0(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function yI(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DB=yI,vI=new xc("auth","Firebase",yI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new V0("@firebase/auth");function oh(t,...e){M1.logLevel<=oe.ERROR&&M1.error(`Auth (${ta}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,...e){throw z0(t,...e)}function Gn(t,...e){return z0(t,...e)}function wI(t,e,n){const i=Object.assign(Object.assign({},DB()),{[e]:n});return new xc("auth","Firebase",i).create(e,{appName:t.name})}function _I(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&vn(t,"argument-error"),wI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function z0(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return vI.create(t,...e)}function H(t,e,...n){if(!t)throw z0(e,...n)}function _i(t){const e="INTERNAL ASSERTION FAILED: "+t;throw oh(e),new Error(e)}function Di(t,e){t||_i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=new Map;function bi(t){Di(t instanceof Function,"Expected a class definition");let e=D1.get(t);return e?(Di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,D1.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(t,e){const n=Ff(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(ad(s,e??{}))return r;vn(r,"already-initialized")}return n.initialize({options:e})}function NB(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(bi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function FB(){return L1()==="http:"||L1()==="https:"}function L1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FB()||yV()||"connection"in navigator)?navigator.onLine:!0}function VB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,Di(n>e,"Short delay should be less than long delay!"),this.isMobile=gV()||vV()}get(){return $B()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t,e){Di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=new Ec(3e4,6e4);function kc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function na(t,e,n,i,r={}){return xI(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Sc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),bI.fetch()(SI(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function xI(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},BB),e);try{const r=new jB(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw mu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw mu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw mu(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw wI(t,u,c);vn(t,u)}}catch(r){if(r instanceof ii)throw r;vn(t,"network-request-failed")}}async function Tc(t,e,n,i,r={}){const s=await na(t,e,n,i,r);return"mfaPendingCredential"in s&&vn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function SI(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?W0(t.config,r):`${t.config.apiScheme}://${r}`}class jB{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Gn(this.auth,"network-request-failed")),UB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Gn(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zB(t,e){return na(t,"POST","/v1/accounts:delete",e)}async function WB(t,e){return na(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HB(t,e=!1){const n=Re(t),i=await n.getIdToken(e),r=H0(i);H(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:nl(wg(r.auth_time)),issuedAtTime:nl(wg(r.iat)),expirationTime:nl(wg(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function wg(t){return Number(t)*1e3}function H0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const r=aI(n);return r?JSON.parse(r):(oh("Failed to decode base64 JWT payload"),null)}catch(r){return oh("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function KB(t){const e=H0(t);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Is(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ii&&qB(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function qB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nl(this.lastLoginAt),this.creationTime=nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cd(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Is(t,WB(n,{idToken:i}));H(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?QB(s.providerUserInfo):[],a=XB(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new EI(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function YB(t){const e=Re(t);await cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XB(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function QB(t){return t.map(e=>{var{providerId:n}=e,i=j0(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JB(t,e){const n=await xI(t,{},async()=>{const i=Sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=SI(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bI.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KB(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return H(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await JB(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Hl;return i&&(H(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(H(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(H(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hl,this.toJSON())}_performRefresh(){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,e){H(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fs{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=j0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new EI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Is(this,this.stsTokenManager.getToken(this.auth,e));return H(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HB(this,e)}reload(){return YB(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new fs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await cd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Is(this,zB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,u;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(r=n.email)!==null&&r!==void 0?r:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:_,isAnonymous:b,providerData:S,stsTokenManager:k}=n;H(w&&k,e,"internal-error");const T=Hl.fromJSON(this.name,k);H(typeof w=="string",e,"internal-error"),ji(h,e.name),ji(d,e.name),H(typeof _=="boolean",e,"internal-error"),H(typeof b=="boolean",e,"internal-error"),ji(f,e.name),ji(p,e.name),ji(g,e.name),ji(v,e.name),ji(y,e.name),ji(m,e.name);const I=new fs({uid:w,auth:e,email:d,emailVerified:_,displayName:h,isAnonymous:b,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:T,createdAt:y,lastLoginAt:m});return S&&Array.isArray(S)&&(I.providerData=S.map(C=>Object.assign({},C))),v&&(I._redirectEventId=v),I}static async _fromIdTokenResponse(e,n,i=!1){const r=new Hl;r.updateFromServerResponse(n);const s=new fs({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await cd(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kI.type="NONE";const N1=kI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t,e,n){return`firebase:${t}:${e}:${n}`}class bo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=ah(this.userKey,r.apiKey,s),this.fullPersistenceKey=ah("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new bo(bi(N1),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||bi(N1);const o=ah(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=fs._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new bo(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new bo(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(II(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AI(e))return"Blackberry";if(RI(e))return"Webos";if(K0(e))return"Safari";if((e.includes("chrome/")||CI(e))&&!e.includes("edge/"))return"Chrome";if(PI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function TI(t=kt()){return/firefox\//i.test(t)}function K0(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CI(t=kt()){return/crios\//i.test(t)}function II(t=kt()){return/iemobile/i.test(t)}function PI(t=kt()){return/android/i.test(t)}function AI(t=kt()){return/blackberry/i.test(t)}function RI(t=kt()){return/webos/i.test(t)}function $f(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZB(t=kt()){var e;return $f(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eU(){return wV()&&document.documentMode===10}function OI(t=kt()){return $f(t)||PI(t)||RI(t)||AI(t)||/windows phone/i.test(t)||II(t)}function tU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t,e=[]){let n;switch(t){case"Browser":n=F1(kt());break;case"Worker":n=`${F1(kt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ta}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n,i){this.app=e,this.heartbeatServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $1(this),this.idTokenSubscription=new $1(this),this.beforeStateQueue=new nU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vI,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bi(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Re(e):null;return n&&H(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bi(e)||this._popupRedirectResolver;H(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return H(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,i,r):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return i&&(n["X-Firebase-Client"]=i),n}}function ia(t){return Re(t)}class $1{constructor(e){this.auth=e,this.observer=null,this.addObserver=TV(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rU(t,e,n){const i=ia(t);H(i._canInitEmulator,i,"emulator-config-failed"),H(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),s=DI(e),{host:o,port:a}=sU(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||oU()}function DI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sU(t){const e=DI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:V1(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:V1(o)}}}function V1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,n){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}async function LI(t,e){return na(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aU(t,e){return Tc(t,"POST","/v1/accounts:signInWithPassword",kc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(t,e){return Tc(t,"POST","/v1/accounts:signInWithEmailLink",kc(t,e))}async function cU(t,e){return Tc(t,"POST","/v1/accounts:signInWithEmailLink",kc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends q0{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Kl(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Kl(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return aU(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return lU(e,{email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return LI(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return cU(e,{idToken:n,email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(t,e){return Tc(t,"POST","/v1/accounts:signInWithIdp",kc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="http://localhost";class Ps extends q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=j0(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Ps(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,xo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xo(e,n)}buildRequest(){const e={requestUri:uU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dU(t){const e=Da(La(t)).link,n=e?Da(La(e)).deep_link_id:null,i=Da(La(t)).deep_link_id;return(i?Da(La(i)).link:null)||i||n||e||t}class G0{constructor(e){var n,i,r,s,o,a;const l=Da(La(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=hU((r=l.mode)!==null&&r!==void 0?r:null);H(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=dU(e);try{return new G0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.providerId=ra.PROVIDER_ID}static credential(e,n){return Kl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=G0.parseLink(n);return H(i,"argument-error"),Kl._fromEmailAndCode(e,i.code,i.tenantId)}}ra.PROVIDER_ID="password";ra.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ra.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends Vf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Cc{constructor(){super("facebook.com")}static credential(e){return Ps._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ps._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return gi.credential(n,i)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Cc{constructor(){super("github.com")}static credential(e){return Ps._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Cc{constructor(){super("twitter.com")}static credential(e,n){return Ps._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return yi.credential(n,i)}catch{return null}}}yi.TWITTER_SIGN_IN_METHOD="twitter.com";yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(t,e){return Tc(t,"POST","/v1/accounts:signUp",kc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await fs._fromIdTokenResponse(e,i,r),o=B1(i);return new As({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=B1(i);return new As({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function B1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends ii{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,ud.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new ud(e,n,i,r)}}function NI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ud._fromErrorAndOperation(t,s,e,i):s})}async function pU(t,e,n=!1){const i=await Is(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return As._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const s=await Is(t,NI(i,r,e,t),n);H(s.idToken,i,"internal-error");const o=H0(s.idToken);H(o,i,"internal-error");const{sub:a}=o;return H(t.uid===a,i,"user-mismatch"),As._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&vn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(t,e,n=!1){const i="signIn",r=await NI(t,i,e),s=await As._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function mU(t,e){return FI(ia(t),e)}async function yU(t,e,n){const i=ia(t),r=await fU(i,{returnSecureToken:!0,email:e,password:n}),s=await As._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(s.user),s}function vU(t,e,n){return mU(Re(t),ra.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU(t,e){return na(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _U(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Re(t),s={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Is(i,wU(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function bU(t,e){return $I(Re(t),e,null)}function xU(t,e){return $I(Re(t),null,e)}async function $I(t,e,n){const{auth:i}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Is(t,LI(i,s));await t._updateTokensIfNecessary(o,!0)}function SU(t,e,n,i){return Re(t).onIdTokenChanged(e,n,i)}function EU(t,e,n){return Re(t).beforeAuthStateChanged(e,n)}function kU(t){return Re(t).signOut()}async function TU(t){return Re(t).delete()}const hd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hd,"1"),this.storage.removeItem(hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(){const t=kt();return K0(t)||$f(t)}const IU=1e3,PU=10;class BI extends VI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=CU()&&tU(),this.fallbackToPolling=OI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);eU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,PU):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},IU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BI.type="LOCAL";const AU=BI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI extends VI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UI.type="SESSION";const jI=UI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Bf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await RU(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Y0("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return window}function MU(t){Yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){return typeof Yn().WorkerGlobalScope<"u"&&typeof Yn().importScripts=="function"}async function DU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function NU(){return zI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="firebaseLocalStorageDb",FU=1,dd="firebaseLocalStorage",HI="fbase_key";class Ic{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uf(t,e){return t.transaction([dd],e?"readwrite":"readonly").objectStore(dd)}function $U(){const t=indexedDB.deleteDatabase(WI);return new Ic(t).toPromise()}function _y(){const t=indexedDB.open(WI,FU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(dd,{keyPath:HI})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(dd)?e(i):(i.close(),await $U(),e(await _y()))})})}async function U1(t,e,n){const i=Uf(t,!0).put({[HI]:e,value:n});return new Ic(i).toPromise()}async function VU(t,e){const n=Uf(t,!1).get(e),i=await new Ic(n).toPromise();return i===void 0?null:i.value}function j1(t,e){const n=Uf(t,!0).delete(e);return new Ic(n).toPromise()}const BU=800,UU=3;class KI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _y(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>UU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance(NU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DU(),!this.activeServiceWorker)return;this.sender=new OU(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _y();return await U1(e,hd,"1"),await j1(e,hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>U1(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>VU(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Uf(r,!1).getAll();return new Ic(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KI.type="LOCAL";const jU=KI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function WU(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Gn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",zU().appendChild(i)})}function HU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t,e){return e?bi(e):(H(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0 extends q0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KU(t){return FI(t.auth,new Q0(t),t.bypassAuthState)}function qU(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),gU(n,new Q0(t),t.bypassAuthState)}async function GU(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),pU(n,new Q0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KU;case"linkViaPopup":case"linkViaRedirect":return GU;case"reauthViaPopup":case"reauthViaRedirect":return qU;default:vn(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=new Ec(2e3,1e4);async function yu(t,e,n){const i=ia(t);_I(t,e,Vf);const r=X0(i,n);return new tr(i,"signInViaPopup",e,r).executeNotNull()}async function XU(t,e,n){const i=Re(t);_I(i.auth,e,Vf);const r=X0(i.auth,n);return new tr(i.auth,"linkViaPopup",e,r,i).executeNotNull()}class tr extends qI{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,tr.currentPopupAction&&tr.currentPopupAction.cancel(),tr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return H(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=Y0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,YU.get())};e()}}tr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU="pendingRedirect",lh=new Map;class JU extends qI{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const i=await ZU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZU(t,e){const n=nj(e),i=tj(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function ej(t,e){lh.set(t._key(),e)}function tj(t){return bi(t._redirectPersistence)}function nj(t){return ah(QU,t.config.apiKey,t.name)}async function ij(t,e,n=!1){const i=ia(t),r=X0(i,e),o=await new JU(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=10*60*1e3;class sj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!GI(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Gn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rj&&this.cachedEventUids.clear(),this.cachedEventUids.has(z1(e))}saveEventToCache(e){this.cachedEventUids.add(z1(e)),this.lastProcessedEventTime=Date.now()}}function z1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(t,e={}){return na(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cj=/^https?/;async function uj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aj(t);for(const n of e)try{if(hj(n))return}catch{}vn(t,"unauthorized-domain")}function hj(t){const e=wy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!cj.test(n))return!1;if(lj.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=new Ec(3e4,6e4);function W1(){const t=Yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fj(t){return new Promise((e,n)=>{var i,r,s;function o(){W1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W1(),n(Gn(t,"network-request-failed"))},timeout:dj.get()})}if(!((r=(i=Yn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Yn().gapi)===null||s===void 0)&&s.load)o();else{const a=HU("iframefcb");return Yn()[a]=()=>{gapi.load?o():n(Gn(t,"network-request-failed"))},WU(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ch=null,e})}let ch=null;function pj(t){return ch=ch||fj(t),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=new Ec(5e3,15e3),mj="__/auth/iframe",yj="emulator/auth/iframe",vj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _j(t){const e=t.config;H(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?W0(e,yj):`https://${t.config.authDomain}/${mj}`,i={apiKey:e.apiKey,appName:t.name,v:ta},r=wj.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Sc(i).slice(1)}`}async function bj(t){const e=await pj(t),n=Yn().gapi;return H(n,t,"internal-error"),e.open({where:document.body,url:_j(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vj,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Gn(t,"network-request-failed"),a=Yn().setTimeout(()=>{s(o)},gj.get());function l(){Yn().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sj=500,Ej=600,kj="_blank",Tj="http://localhost";class H1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cj(t,e,n,i=Sj,r=Ej){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},xj),{width:i.toString(),height:r.toString(),top:s,left:o}),c=kt().toLowerCase();n&&(a=CI(c)?kj:n),TI(c)&&(e=e||Tj,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(ZB(c)&&a!=="_self")return Ij(e||"",a),new H1(null);const h=window.open(e||"",a,u);H(h,t,"popup-blocked");try{h.focus()}catch{}return new H1(h)}function Ij(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj="__/auth/handler",Aj="emulator/auth/handler";function K1(t,e,n,i,r,s){H(t.config.authDomain,t,"auth-domain-config-required"),H(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ta,eventId:r};if(e instanceof Vf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",kV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof Cc){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${Rj(t)}?${Sc(a).slice(1)}`}function Rj({config:t}){return t.emulator?W0(t,Aj):`https://${t.authDomain}/${Pj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="webStorageSupport";class Oj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jI,this._completeRedirectFn=ij,this._overrideRedirectResult=ej}async _openPopup(e,n,i,r){var s;Di((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=K1(e,n,i,wy(),r);return Cj(e,o,Y0())}async _openRedirect(e,n,i,r){return await this._originValidation(e),MU(K1(e,n,i,wy(),r)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Di(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await bj(e),i=new sj(e);return n.register("authEvent",r=>(H(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_g,{type:_g},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[_g];o!==void 0&&n(!!o),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OI()||K0()||$f()}}const Mj=Oj;var q1="@firebase/auth",G1="0.21.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Nj(t){Cs(new Tr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=i.options;return((a,l)=>{H(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),H(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MI(t)},u=new iU(a,l,c);return NB(u,n),u})(i,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Cs(new Tr("auth-internal",e=>{const n=ia(e.getProvider("auth").getImmediate());return(i=>new Dj(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qn(q1,G1,Lj(t)),qn(q1,G1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=5*60,$j=uI("authIdTokenMaxAge")||Fj;let Y1=null;const Vj=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>$j)return;const r=n==null?void 0:n.token;Y1!==r&&(Y1=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Bj(t=U0()){const e=Ff(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LB(t,{popupRedirectResolver:Mj,persistence:[jU,AU,jI]}),i=uI("authTokenSyncURL");if(i){const s=Vj(i);EU(n,s,()=>s(n.currentUser)),SU(n,o=>s(o))}const r=lI("auth");return r&&rU(n,`http://${r}`),n}Nj("Browser");var Uj="firebase",jj="9.16.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn(Uj,jj,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="firebasestorage.googleapis.com",XI="storageBucket",zj=2*60*1e3,Wj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e extends ii{constructor(e,n,i=0){super(bg(e),`Firebase Storage: ${n} (${bg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$e.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function bg(t){return"storage/"+t}function J0(){const t="An unknown error occurred, please check the error payload for server response.";return new $e("unknown",t)}function Hj(t){return new $e("object-not-found","Object '"+t+"' does not exist.")}function Kj(t){return new $e("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qj(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $e("unauthenticated",t)}function Gj(){return new $e("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function Yj(t){return new $e("unauthorized","User does not have permission to access '"+t+"'.")}function Xj(){return new $e("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Qj(){return new $e("canceled","User canceled the upload/download.")}function Jj(t){return new $e("invalid-url","Invalid URL '"+t+"'.")}function Zj(t){return new $e("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function ez(){return new $e("no-default-bucket","No default bucket found. Did you set the '"+XI+"' property when initializing the app?")}function tz(){return new $e("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function nz(){return new $e("no-download-url","The given file does not have any download URLs.")}function iz(t){return new $e("unsupported-environment",`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function by(t){return new $e("invalid-argument",t)}function QI(){return new $e("app-deleted","The Firebase app was deleted.")}function rz(t){return new $e("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function il(t,e){return new $e("invalid-format","String does not match format '"+t+"': "+e)}function _a(t){throw new $e("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Qt.makeFromUrl(e,n)}catch{return new Qt(e,"")}if(i.path==="")return i;throw Zj(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function c(_){_.path_=decodeURIComponent(_.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${u}/b/${r}/o${d}`,"i"),p={bucket:1,path:3},g=n===YI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",y=new RegExp(`^https?://${g}/${r}/${v}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let _=0;_<w.length;_++){const b=w[_],S=b.regex.exec(e);if(S){const k=S[b.indices.bucket];let T=S[b.indices.path];T||(T=""),i=new Qt(k,T),b.postModify(i);break}}if(i==null)throw Jj(e);return i}}class sz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(t,e,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function h(v){r=setTimeout(()=>{r=null,t(f,l())},v)}function d(){s&&clearTimeout(s)}function f(v,...y){if(c){d();return}if(v){d(),u.call(null,v,...y);return}if(l()||o){d(),u.call(null,v,...y);return}i<64&&(i*=2);let w;a===1?(a=2,w=0):w=(i+Math.random())*1e3,h(w)}let p=!1;function g(v){p||(p=!0,d(),!c&&(r!==null?(v||(a=2),clearTimeout(r),h(0)):v||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function az(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(t){return t!==void 0}function cz(t){return typeof t=="object"&&!Array.isArray(t)}function Z0(t){return typeof t=="string"||t instanceof String}function X1(t){return ew()&&t instanceof Blob}function ew(){return typeof Blob<"u"&&!mV()}function Q1(t,e,n,i){if(i<e)throw by(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw by(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function JI(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ps;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ps||(ps={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uz(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e,n,i,r,s,o,a,l,c,u,h,d=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new vu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ps.NO_ERROR,l=s.getStatus();if(!a||uz(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===ps.ABORT;i(!1,new vu(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;i(!0,new vu(c,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());lz(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=J0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){const l=this.appDelete_?QI():Qj();o(l)}else{const l=Xj();o(l)}};this.canceled_?n(!1,new vu(!1,null,!0)):this.backoffId_=oz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&az(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vu{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function dz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function fz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mz(t,e,n,i,r,s,o=!0){const a=JI(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return pz(c,e),dz(c,n),fz(c,s),gz(c,i),new hz(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function vz(...t){const e=yz();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(ew())return new Blob(t);throw new $e("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function wz(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(t){if(typeof atob>"u")throw iz("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xg{constructor(e,n){this.data=e,this.contentType=n||null}}function bz(t,e){switch(t){case zn.RAW:return new xg(ZI(e));case zn.BASE64:case zn.BASE64URL:return new xg(eP(t,e));case zn.DATA_URL:return new xg(Sz(e),Ez(e))}throw J0()}function ZI(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=i,o=t.charCodeAt(++n);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function xz(t){let e;try{e=decodeURIComponent(t)}catch{throw il(zn.DATA_URL,"Malformed data URL.")}return ZI(e)}function eP(t,e){switch(t){case zn.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw il(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case zn.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw il(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=_z(e)}catch(r){throw r.message.includes("polyfill")?r:il(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class tP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw il(zn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=kz(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function Sz(t){const e=new tP(t);return e.base64?eP(zn.BASE64,e.rest):xz(e.rest)}function Ez(t){return new tP(t).contentType}function kz(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n){let i=0,r="";X1(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(X1(this.data_)){const i=this.data_,r=wz(i,e,n);return r===null?null:new Qi(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Qi(i,!0)}}static getBlob(...e){if(ew()){const n=e.map(i=>i instanceof Qi?i.data_:i);return new Qi(vz.apply(null,n))}else{const n=e.map(o=>Z0(o)?bz(zn.RAW,o).data:o.data_);let i=0;n.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new Qi(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(t){let e;try{e=JSON.parse(t)}catch{return null}return cz(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Cz(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function iP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iz(t,e){return e}class It{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||Iz}}let wu=null;function Pz(t){return!Z0(t)||t.length<2?t:iP(t)}function rP(){if(wu)return wu;const t=[];t.push(new It("bucket")),t.push(new It("generation")),t.push(new It("metageneration")),t.push(new It("name","fullPath",!0));function e(s,o){return Pz(o)}const n=new It("name");n.xform=e,t.push(n);function i(s,o){return o!==void 0?Number(o):o}const r=new It("size");return r.xform=i,t.push(r),t.push(new It("timeCreated")),t.push(new It("updated")),t.push(new It("md5Hash",null,!0)),t.push(new It("cacheControl",null,!0)),t.push(new It("contentDisposition",null,!0)),t.push(new It("contentEncoding",null,!0)),t.push(new It("contentLanguage",null,!0)),t.push(new It("contentType",null,!0)),t.push(new It("metadata","customMetadata",!0)),wu=t,wu}function Az(t,e){function n(){const i=t.bucket,r=t.fullPath,s=new Qt(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Rz(t,e,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const o=n[s];i[o.local]=o.xform(i,e[o.server])}return Az(i,t),i}function sP(t,e,n){const i=nP(e);return i===null?null:Rz(t,i,n)}function Oz(t,e,n,i){const r=nP(e);if(r===null||!Z0(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,h=t.fullPath,d="/b/"+o(u)+"/o/"+o(h),f=jf(d,n,i),p=JI({alt:"media",token:c});return f+p})[0]}function Mz(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class tw{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t){if(!t)throw J0()}function Dz(t,e){function n(i,r){const s=sP(t,r,e);return oP(s!==null),s}return n}function Lz(t,e){function n(i,r){const s=sP(t,r,e);return oP(s!==null),Oz(s,r,t.host,t._protocol)}return n}function aP(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=Gj():r=qj():n.getStatus()===402?r=Kj(t.bucket):n.getStatus()===403?r=Yj(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function lP(t){const e=aP(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=Hj(t.path)),s.serverResponse=r.serverResponse,s}return n}function Nz(t,e,n){const i=e.fullServerUrl(),r=jf(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new tw(r,s,Lz(t,n),o);return a.errorHandler=lP(e),a}function Fz(t,e){const n=e.fullServerUrl(),i=jf(n,t.host,t._protocol),r="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new tw(i,r,o,s);return a.successCodes=[200,204],a.errorHandler=lP(e),a}function $z(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Vz(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=$z(null,e)),i}function Bz(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let _=0;_<2;_++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Vz(e,i,r),u=Mz(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+l+"--",f=Qi.getBlob(h,i,d);if(f===null)throw tz();const p={name:c.fullPath},g=jf(s,t.host,t._protocol),v="POST",y=t.maxUploadRetryTime,m=new tw(g,v,Dz(t,n),y);return m.urlParams=p,m.headers=o,m.body=f.uploadData(),m.errorHandler=aP(e),m}class Uz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ps.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ps.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ps.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw _a("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _a("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _a("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _a("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _a("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class jz extends Uz{initXhr(){this.xhr_.responseType="text"}}function nw(){return new jz}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this._service=e,n instanceof Qt?this._location=n:this._location=Qt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Rs(e,n)}get root(){const e=new Qt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iP(this._location.path)}get storage(){return this._service}get parent(){const e=Tz(this._location.path);if(e===null)return null;const n=new Qt(this._location.bucket,e);return new Rs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw rz(e)}}function zz(t,e,n){t._throwIfRoot("uploadBytes");const i=Bz(t.storage,t._location,rP(),new Qi(e,!0),n);return t.storage.makeRequestWithTokens(i,nw).then(r=>({metadata:r,ref:t}))}function Wz(t){t._throwIfRoot("getDownloadURL");const e=Nz(t.storage,t._location,rP());return t.storage.makeRequestWithTokens(e,nw).then(n=>{if(n===null)throw nz();return n})}function Hz(t){t._throwIfRoot("deleteObject");const e=Fz(t.storage,t._location);return t.storage.makeRequestWithTokens(e,nw)}function Kz(t,e){const n=Cz(t._location.path,e),i=new Qt(t._location.bucket,n);return new Rs(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(t){return/^[A-Za-z]+:\/\//.test(t)}function Gz(t,e){return new Rs(t,e)}function cP(t,e){if(t instanceof iw){const n=t;if(n._bucket==null)throw ez();const i=new Rs(n,n._bucket);return e!=null?cP(i,e):i}else return e!==void 0?Kz(t,e):t}function Yz(t,e){if(e&&qz(e)){if(t instanceof iw)return Gz(t,e);throw by("To use ref(service, url), the first argument must be a Storage instance.")}else return cP(t,e)}function J1(t,e){const n=e==null?void 0:e[XI];return n==null?null:Qt.makeFromBucketSpec(n,t)}function Xz(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:hI(r,t.app.options.projectId))}class iw{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=YI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zj,this._maxUploadRetryTime=Wj,this._requests=new Set,r!=null?this._bucket=Qt.makeFromBucketSpec(r,this._host):this._bucket=J1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qt.makeFromBucketSpec(this._url,e):this._bucket=J1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Q1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Q1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rs(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new sz(QI());{const o=mz(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const Z1="@firebase/storage",ex="0.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="storage";function hP(t,e,n){return t=Re(t),zz(t,e,n)}function dP(t){return t=Re(t),Wz(t)}function Qz(t){return t=Re(t),Hz(t)}function rw(t,e){return t=Re(t),Yz(t,e)}function Jz(t=U0(),e){t=Re(t);const i=Ff(t,uP).getImmediate({identifier:e}),r=cI("storage");return r&&Zz(i,...r),i}function Zz(t,e,n,i={}){Xz(t,e,n,i)}function e3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new iw(n,i,r,e,ta)}function t3(){Cs(new Tr(uP,e3,"PUBLIC").setMultipleInstances(!0)),qn(Z1,ex,""),qn(Z1,ex,"esm2017")}t3();var n3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$,sw=sw||{},q=n3||self;function fd(){}function zf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Pc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function i3(t){return Object.prototype.hasOwnProperty.call(t,Sg)&&t[Sg]||(t[Sg]=++r3)}var Sg="closure_uid_"+(1e9*Math.random()>>>0),r3=0;function s3(t,e,n){return t.call.apply(t.bind,arguments)}function o3(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function xt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?xt=s3:xt=o3,xt.apply(null,arguments)}function _u(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function dt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function Br(){this.s=this.s,this.o=this.o}var a3=0;Br.prototype.s=!1;Br.prototype.na=function(){!this.s&&(this.s=!0,this.M(),a3!=0)&&i3(this)};Br.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ow(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function tx(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(zf(i)){const r=t.length||0,s=i.length||0;t.length=r+s;for(let o=0;o<s;o++)t[r+o]=i[o]}else t.push(i)}}function St(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}St.prototype.h=function(){this.defaultPrevented=!0};var l3=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{q.addEventListener("test",fd,e),q.removeEventListener("test",fd,e)}catch{}return t}();function pd(t){return/^[\s\xa0]*$/.test(t)}var nx=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Eg(t,e){return t<e?-1:t>e?1:0}function Wf(){var t=q.navigator;return t&&(t=t.userAgent)?t:""}function jn(t){return Wf().indexOf(t)!=-1}function aw(t){return aw[" "](t),t}aw[" "]=fd;function c3(t){var e=d3;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var u3=jn("Opera"),Lo=jn("Trident")||jn("MSIE"),pP=jn("Edge"),xy=pP||Lo,gP=jn("Gecko")&&!(Wf().toLowerCase().indexOf("webkit")!=-1&&!jn("Edge"))&&!(jn("Trident")||jn("MSIE"))&&!jn("Edge"),h3=Wf().toLowerCase().indexOf("webkit")!=-1&&!jn("Edge");function mP(){var t=q.document;return t?t.documentMode:void 0}var gd;e:{var kg="",Tg=function(){var t=Wf();if(gP)return/rv:([^\);]+)(\)|;)/.exec(t);if(pP)return/Edge\/([\d\.]+)/.exec(t);if(Lo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(h3)return/WebKit\/(\S+)/.exec(t);if(u3)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Tg&&(kg=Tg?Tg[1]:""),Lo){var Cg=mP();if(Cg!=null&&Cg>parseFloat(kg)){gd=String(Cg);break e}}gd=kg}var d3={};function f3(){return c3(function(){let t=0;const e=nx(String(gd)).split("."),n=nx("9").split("."),i=Math.max(e.length,n.length);for(let o=0;t==0&&o<i;o++){var r=e[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],r[0].length==0&&s[0].length==0)break;t=Eg(r[1].length==0?0:parseInt(r[1],10),s[1].length==0?0:parseInt(s[1],10))||Eg(r[2].length==0,s[2].length==0)||Eg(r[2],s[2]),r=r[3],s=s[3]}while(t==0)}return 0<=t})}var Sy;if(q.document&&Lo){var ix=mP();Sy=ix||parseInt(gd,10)||void 0}else Sy=void 0;var p3=Sy;function ql(t,e){if(St.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(gP){e:{try{aw(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:g3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ql.X.h.call(this)}}dt(ql,St);var g3={2:"touch",3:"pen",4:"mouse"};ql.prototype.h=function(){ql.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ac="closure_listenable_"+(1e6*Math.random()|0),m3=0;function y3(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ha=r,this.key=++m3,this.ba=this.ea=!1}function Hf(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function lw(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function yP(t){const e={};for(const n in t)e[n]=t[n];return e}const rx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vP(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<rx.length;s++)n=rx[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Kf(t){this.src=t,this.g={},this.h=0}Kf.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=ky(t,e,i,r);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new y3(e,this.src,s,!!i,r),e.ea=n,t.push(e)),e};function Ey(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=fP(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Hf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ky(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==i)return r}return-1}var cw="closure_lm_"+(1e6*Math.random()|0),Ig={};function wP(t,e,n,i,r){if(i&&i.once)return bP(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)wP(t,e[s],n,i,r);return null}return n=dw(n),t&&t[Ac]?t.N(e,n,Pc(i)?!!i.capture:!!i,r):_P(t,e,n,!1,i,r)}function _P(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=Pc(r)?!!r.capture:!!r,a=hw(t);if(a||(t[cw]=a=new Kf(t)),n=a.add(e,n,i,o,s),n.proxy)return n;if(i=v3(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)l3||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(SP(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function v3(){function t(n){return e.call(t.src,t.listener,n)}const e=w3;return t}function bP(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)bP(t,e[s],n,i,r);return null}return n=dw(n),t&&t[Ac]?t.O(e,n,Pc(i)?!!i.capture:!!i,r):_P(t,e,n,!0,i,r)}function xP(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)xP(t,e[s],n,i,r);else i=Pc(i)?!!i.capture:!!i,n=dw(n),t&&t[Ac]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ky(s,n,i,r),-1<n&&(Hf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=hw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ky(e,n,i,r)),(n=-1<t?e[t]:null)&&uw(n))}function uw(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Ac])Ey(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(SP(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=hw(e))?(Ey(n,t),n.h==0&&(n.src=null,e[cw]=null)):Hf(t)}}}function SP(t){return t in Ig?Ig[t]:Ig[t]="on"+t}function w3(t,e){if(t.ba)t=!0;else{e=new ql(e,this);var n=t.listener,i=t.ha||t.src;t.ea&&uw(t),t=n.call(i,e)}return t}function hw(t){return t=t[cw],t instanceof Kf?t:null}var Pg="__closure_events_fn_"+(1e9*Math.random()>>>0);function dw(t){return typeof t=="function"?t:(t[Pg]||(t[Pg]=function(e){return t.handleEvent(e)}),t[Pg])}function st(){Br.call(this),this.i=new Kf(this),this.P=this,this.I=null}dt(st,Br);st.prototype[Ac]=!0;st.prototype.removeEventListener=function(t,e,n,i){xP(this,t,e,n,i)};function ut(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new St(e,t);else if(e instanceof St)e.target=e.target||t;else{var r=e;e=new St(i,t),vP(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=bu(o,i,!0,e)&&r}if(o=e.g=t,r=bu(o,i,!0,e)&&r,r=bu(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)o=e.g=n[s],r=bu(o,i,!1,e)&&r}st.prototype.M=function(){if(st.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Hf(n[i]);delete t.g[e],t.h--}}this.I=null};st.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};st.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function bu(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Ey(t.i,o),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var fw=q.JSON.stringify;function _3(){var t=TP;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class b3{constructor(){this.h=this.g=null}add(e,n){const i=EP.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var EP=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new x3,t=>t.reset());class x3{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function S3(t){q.setTimeout(()=>{throw t},0)}function kP(t,e){Ty||E3(),Cy||(Ty(),Cy=!0),TP.add(t,e)}var Ty;function E3(){var t=q.Promise.resolve(void 0);Ty=function(){t.then(k3)}}var Cy=!1,TP=new b3;function k3(){for(var t;t=_3();){try{t.h.call(t.g)}catch(n){S3(n)}var e=EP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Cy=!1}function qf(t,e){st.call(this),this.h=t||1,this.g=e||q,this.j=xt(this.lb,this),this.l=Date.now()}dt(qf,st);$=qf.prototype;$.ca=!1;$.R=null;$.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ut(this,"tick"),this.ca&&(pw(this),this.start()))}};$.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function pw(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}$.M=function(){qf.X.M.call(this),pw(this),delete this.g};function gw(t,e,n){if(typeof t=="function")n&&(t=xt(t,n));else if(t&&typeof t.handleEvent=="function")t=xt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:q.setTimeout(t,e||0)}function CP(t){t.g=gw(()=>{t.g=null,t.i&&(t.i=!1,CP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class T3 extends Br{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:CP(this)}M(){super.M(),this.g&&(q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gl(t){Br.call(this),this.h=t,this.g={}}dt(Gl,Br);var sx=[];function IP(t,e,n,i){Array.isArray(n)||(n&&(sx[0]=n.toString()),n=sx);for(var r=0;r<n.length;r++){var s=wP(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function PP(t){lw(t.g,function(e,n){this.g.hasOwnProperty(n)&&uw(e)},t),t.g={}}Gl.prototype.M=function(){Gl.X.M.call(this),PP(this)};Gl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gf(){this.g=!0}Gf.prototype.Aa=function(){this.g=!1};function C3(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function I3(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+o})}function lo(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+A3(t,n)+(i?" "+i:"")})}function P3(t,e){t.info(function(){return"TIMEOUT: "+e})}Gf.prototype.info=function(){};function A3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return fw(n)}catch{return e}}var $s={},ox=null;function Yf(){return ox=ox||new st}$s.Pa="serverreachability";function AP(t){St.call(this,$s.Pa,t)}dt(AP,St);function Yl(t){const e=Yf();ut(e,new AP(e))}$s.STAT_EVENT="statevent";function RP(t,e){St.call(this,$s.STAT_EVENT,t),this.stat=e}dt(RP,St);function Rt(t){const e=Yf();ut(e,new RP(e,t))}$s.Qa="timingevent";function OP(t,e){St.call(this,$s.Qa,t),this.size=e}dt(OP,St);function Rc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){t()},e)}var Xf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},MP={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function mw(){}mw.prototype.h=null;function ax(t){return t.h||(t.h=t.i())}function DP(){}var Oc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function yw(){St.call(this,"d")}dt(yw,St);function vw(){St.call(this,"c")}dt(vw,St);var Iy;function Qf(){}dt(Qf,mw);Qf.prototype.g=function(){return new XMLHttpRequest};Qf.prototype.i=function(){return{}};Iy=new Qf;function Mc(t,e,n,i){this.l=t,this.j=e,this.m=n,this.U=i||1,this.S=new Gl(this),this.O=R3,t=xy?125:void 0,this.T=new qf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new LP}function LP(){this.i=null,this.g="",this.h=!1}var R3=45e3,Py={},md={};$=Mc.prototype;$.setTimeout=function(t){this.O=t};function Ay(t,e,n){t.K=1,t.v=Zf(Li(e)),t.s=n,t.P=!0,NP(t,null)}function NP(t,e){t.F=Date.now(),Dc(t),t.A=Li(t.v);var n=t.A,i=t.U;Array.isArray(i)||(i=[String(i)]),WP(n.i,"t",i),t.C=0,n=t.l.H,t.h=new LP,t.g=hA(t.l,n?e:null,!t.s),0<t.N&&(t.L=new T3(xt(t.La,t,t.g),t.N)),IP(t.S,t.g,"readystatechange",t.ib),e=t.H?yP(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Yl(),C3(t.j,t.u,t.A,t.m,t.U,t.s)}$.ib=function(t){t=t.target;const e=this.L;e&&xi(t)==3?e.l():this.La(t)};$.La=function(t){try{if(t==this.g)e:{const u=xi(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>u)&&(u!=3||xy||this.g&&(this.h.h||this.g.fa()||hx(this.g)))){this.I||u!=4||e==7||(e==8||0>=h?Yl(3):Yl(2)),Jf(this);var n=this.g.aa();this.Y=n;t:if(FP(this)){var i=hx(this.g);t="";var r=i.length,s=xi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){os(this),rl(this);var o="";break t}this.h.i=new q.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,I3(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pd(a)){var c=a;break t}}c=null}if(n=c)lo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ry(this,n);else{this.i=!1,this.o=3,Rt(12),os(this),rl(this);break e}}this.P?($P(this,u,o),xy&&this.i&&u==3&&(IP(this.S,this.T,"tick",this.hb),this.T.start())):(lo(this.j,this.m,o,null),Ry(this,o)),u==4&&os(this),this.i&&!this.I&&(u==4?aA(this.l,this):(this.i=!1,Dc(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Rt(12)):(this.o=0,Rt(13)),os(this),rl(this)}}}catch{}finally{}};function FP(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function $P(t,e,n){let i=!0,r;for(;!t.I&&t.C<n.length;)if(r=O3(t,n),r==md){e==4&&(t.o=4,Rt(14),i=!1),lo(t.j,t.m,null,"[Incomplete Response]");break}else if(r==Py){t.o=4,Rt(15),lo(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else lo(t.j,t.m,r,null),Ry(t,r);FP(t)&&r!=md&&r!=Py&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Rt(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),kw(e),e.K=!0,Rt(11))):(lo(t.j,t.m,n,"[Invalid Chunked Response]"),os(t),rl(t))}$.hb=function(){if(this.g){var t=xi(this.g),e=this.g.fa();this.C<e.length&&(Jf(this),$P(this,t,e),this.i&&t!=4&&Dc(this))}};function O3(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?md:(n=Number(e.substring(n,i)),isNaN(n)?Py:(i+=1,i+n>e.length?md:(e=e.substr(i,n),t.C=i+n,e)))}$.cancel=function(){this.I=!0,os(this)};function Dc(t){t.V=Date.now()+t.O,VP(t,t.O)}function VP(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Rc(xt(t.gb,t),e)}function Jf(t){t.B&&(q.clearTimeout(t.B),t.B=null)}$.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(P3(this.j,this.A),this.K!=2&&(Yl(),Rt(17)),os(this),this.o=2,rl(this)):VP(this,this.V-t)};function rl(t){t.l.G==0||t.I||aA(t.l,t)}function os(t){Jf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,pw(t.T),PP(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Ry(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Oy(n.h,t))){if(!t.J&&Oy(n.h,t)&&n.G==3){try{var i=n.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)wd(n),np(n);else break e;Ew(n),Rt(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&n.A==0&&!n.v&&(n.v=Rc(xt(n.cb,n),6e3));if(1>=qP(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else as(n,11)}else if((t.J||n.g==t)&&wd(n),!pd(e))for(r=n.Fa.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.T=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.I=c[1],n.ka=c[2];const u=c[3];u!=null&&(n.ma=u,n.j.info("VER="+n.ma));const h=c[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(i=1.5*d,n.J=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.h;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(ww(s,s.h),s.h=null))}if(i.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.za=g,ke(i.F,i.D,g))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),i=n;var o=t;if(i.sa=uA(i,i.H?i.ka:null,i.V),o.J){GP(i.h,o);var a=o,l=i.J;l&&a.setTimeout(l),a.B&&(Jf(a),Dc(a)),i.g=o}else sA(i);0<n.i.length&&ip(n)}else c[0]!="stop"&&c[0]!="close"||as(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?as(n,7):Sw(n):c[0]!="noop"&&n.l&&n.l.wa(c),n.A=0)}}Yl(4)}catch{}}function M3(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(zf(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function D3(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(zf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function BP(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(zf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=D3(t),i=M3(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}var UP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function L3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function gs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof gs){this.h=e!==void 0?e:t.h,yd(this,t.j),this.s=t.s,this.g=t.g,vd(this,t.m),this.l=t.l,e=t.i;var n=new Xl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),lx(this,n),this.o=t.o}else t&&(n=String(t).match(UP))?(this.h=!!e,yd(this,n[1]||"",!0),this.s=Na(n[2]||""),this.g=Na(n[3]||"",!0),vd(this,n[4]),this.l=Na(n[5]||"",!0),lx(this,n[6]||"",!0),this.o=Na(n[7]||"")):(this.h=!!e,this.i=new Xl(null,this.h))}gs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Fa(e,cx,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Fa(e,cx,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Fa(n,n.charAt(0)=="/"?$3:F3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Fa(n,B3)),t.join("")};function Li(t){return new gs(t)}function yd(t,e,n){t.j=n?Na(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function vd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function lx(t,e,n){e instanceof Xl?(t.i=e,U3(t.i,t.h)):(n||(e=Fa(e,V3)),t.i=new Xl(e,t.h))}function ke(t,e,n){t.i.set(e,n)}function Zf(t){return ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Na(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,N3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function N3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var cx=/[#\/\?@]/g,F3=/[#\?:]/g,$3=/[#\?]/g,V3=/[#\?@]/g,B3=/#/g;function Xl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ur(t){t.g||(t.g=new Map,t.h=0,t.i&&L3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}$=Xl.prototype;$.add=function(t,e){Ur(this),this.i=null,t=sa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function jP(t,e){Ur(t),e=sa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function zP(t,e){return Ur(t),e=sa(t,e),t.g.has(e)}$.forEach=function(t,e){Ur(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};$.oa=function(){Ur(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n};$.W=function(t){Ur(this);let e=[];if(typeof t=="string")zP(this,t)&&(e=e.concat(this.g.get(sa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};$.set=function(t,e){return Ur(this),this.i=null,t=sa(this,t),zP(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};$.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function WP(t,e,n){jP(t,e),0<n.length&&(t.i=null,t.g.set(sa(t,e),ow(n)),t.h+=n.length)}$.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};function sa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function U3(t,e){e&&!t.j&&(Ur(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(jP(this,i),WP(this,r,n))},t)),t.j=e}var j3=class{constructor(e,n){this.h=e,this.g=n}};function HP(t){this.l=t||z3,q.PerformanceNavigationTiming?(t=q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(q.g&&q.g.Ga&&q.g.Ga()&&q.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var z3=10;function KP(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function qP(t){return t.h?1:t.g?t.g.size:0}function Oy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ww(t,e){t.g?t.g.add(e):t.h=e}function GP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}HP.prototype.cancel=function(){if(this.i=YP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function YP(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return ow(t.i)}function _w(){}_w.prototype.stringify=function(t){return q.JSON.stringify(t,void 0)};_w.prototype.parse=function(t){return q.JSON.parse(t,void 0)};function W3(){this.g=new _w}function H3(t,e,n){const i=n||"";try{BP(t,function(r,s){let o=r;Pc(r)&&(o=fw(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function K3(t,e){const n=new Gf;if(q.Image){const i=new Image;i.onload=_u(xu,n,i,"TestLoadImage: loaded",!0,e),i.onerror=_u(xu,n,i,"TestLoadImage: error",!1,e),i.onabort=_u(xu,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=_u(xu,n,i,"TestLoadImage: timeout",!1,e),q.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function xu(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Lc(t){this.l=t.ac||null,this.j=t.jb||!1}dt(Lc,mw);Lc.prototype.g=function(){return new ep(this.l,this.j)};Lc.prototype.i=function(t){return function(){return t}}({});function ep(t,e){st.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=bw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dt(ep,st);var bw=0;$=ep.prototype;$.open=function(t,e){if(this.readyState!=bw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ql(this)};$.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||q).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};$.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nc(this)),this.readyState=bw};$.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ql(this)),this.g&&(this.readyState=3,Ql(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;XP(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function XP(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}$.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Nc(this):Ql(this),this.readyState==3&&XP(this)}};$.Va=function(t){this.g&&(this.response=this.responseText=t,Nc(this))};$.Ua=function(t){this.g&&(this.response=t,Nc(this))};$.ga=function(){this.g&&Nc(this)};function Nc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ql(t)}$.setRequestHeader=function(t,e){this.v.append(t,e)};$.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};$.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ql(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ep.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var q3=q.JSON.parse;function Fe(t){st.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=QP,this.K=this.L=!1}dt(Fe,st);var QP="",G3=/^https?$/i,Y3=["POST","PUT"];$=Fe.prototype;$.Ka=function(t){this.L=t};$.da=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Iy.g(),this.C=this.u?ax(this.u):ax(Iy),this.g.onreadystatechange=xt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){ux(this,s);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=q.FormData&&t instanceof q.FormData,!(0<=fP(Y3,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{eA(this),0<this.B&&((this.K=X3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xt(this.qa,this)):this.A=gw(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ux(this,s)}};function X3(t){return Lo&&f3()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}$.qa=function(){typeof sw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ut(this,"timeout"),this.abort(8))};function ux(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,JP(t),tp(t)}function JP(t){t.D||(t.D=!0,ut(t,"complete"),ut(t,"error"))}$.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ut(this,"complete"),ut(this,"abort"),tp(this))};$.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tp(this,!0)),Fe.X.M.call(this)};$.Ha=function(){this.s||(this.F||this.v||this.l?ZP(this):this.fb())};$.fb=function(){ZP(this)};function ZP(t){if(t.h&&typeof sw<"u"&&(!t.C[1]||xi(t)!=4||t.aa()!=2)){if(t.v&&xi(t)==4)gw(t.Ha,0,t);else if(ut(t,"readystatechange"),xi(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var r=String(t.H).match(UP)[1]||null;if(!r&&q.self&&q.self.location){var s=q.self.location.protocol;r=s.substr(0,s.length-1)}i=!G3.test(r?r.toLowerCase():"")}n=i}if(n)ut(t,"complete"),ut(t,"success");else{t.m=6;try{var o=2<xi(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",JP(t)}}finally{tp(t)}}}}function tp(t,e){if(t.g){eA(t);const n=t.g,i=t.C[0]?fd:null;t.g=null,t.C=null,e||ut(t,"ready");try{n.onreadystatechange=i}catch{}}}function eA(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(q.clearTimeout(t.A),t.A=null)}function xi(t){return t.g?t.g.readyState:0}$.aa=function(){try{return 2<xi(this)?this.g.status:-1}catch{return-1}};$.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};$.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),q3(e)}};function hx(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case QP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}$.Ea=function(){return this.m};$.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function tA(t){let e="";return lw(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function xw(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=tA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ke(t,e,n))}function ba(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nA(t){this.Ca=0,this.i=[],this.j=new Gf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ba("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ba("baseRetryDelayMs",5e3,t),this.bb=ba("retryDelaySeedMs",1e4,t),this.$a=ba("forwardChannelMaxRetries",2,t),this.ta=ba("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new HP(t&&t.concurrentRequestLimit),this.Fa=new W3,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}$=nA.prototype;$.ma=8;$.G=1;function Sw(t){if(iA(t),t.G==3){var e=t.U++,n=Li(t.F);ke(n,"SID",t.I),ke(n,"RID",e),ke(n,"TYPE","terminate"),Fc(t,n),e=new Mc(t,t.j,e,void 0),e.K=2,e.v=Zf(Li(n)),n=!1,q.navigator&&q.navigator.sendBeacon&&(n=q.navigator.sendBeacon(e.v.toString(),"")),!n&&q.Image&&(new Image().src=e.v,n=!0),n||(e.g=hA(e.l,null),e.g.da(e.v)),e.F=Date.now(),Dc(e)}cA(t)}function np(t){t.g&&(kw(t),t.g.cancel(),t.g=null)}function iA(t){np(t),t.u&&(q.clearTimeout(t.u),t.u=null),wd(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&q.clearTimeout(t.m),t.m=null)}function ip(t){KP(t.h)||t.m||(t.m=!0,kP(t.Ja,t),t.C=0)}function Q3(t,e){return qP(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Rc(xt(t.Ja,t,e),lA(t,t.C)),t.C++,!0)}$.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new Mc(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=yP(s),vP(s,this.S)):s=this.S),this.o!==null||this.N||(r.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var i=this.i[n];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=rA(this,r,e),n=Li(this.F),ke(n,"RID",t),ke(n,"CVER",22),this.D&&ke(n,"X-HTTP-Session-Id",this.D),Fc(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(tA(s)))+"&"+e:this.o&&xw(n,this.o,s)),ww(this.h,r),this.Ya&&ke(n,"TYPE","init"),this.O?(ke(n,"$req",e),ke(n,"SID","null"),r.Z=!0,Ay(r,n,null)):Ay(r,n,e),this.G=2}}else this.G==3&&(t?dx(this,t):this.i.length==0||KP(this.h)||dx(this))};function dx(t,e){var n;e?n=e.m:n=t.U++;const i=Li(t.F);ke(i,"SID",t.I),ke(i,"RID",n),ke(i,"AID",t.T),Fc(t,i),t.o&&t.s&&xw(i,t.o,t.s),n=new Mc(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=rA(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),ww(t.h,n),Ay(n,i,e)}function Fc(t,e){t.ia&&lw(t.ia,function(n,i){ke(e,i,n)}),t.l&&BP({},function(n,i){ke(e,i,n)})}function rA(t,e,n){n=Math.min(t.i.length,n);var i=t.l?xt(t.l.Ra,t.l,t):null;e:{var r=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=r[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=r[l].h;const u=r[l].g;if(c-=s,0>c)s=Math.max(0,r[l].h-100),a=!1;else try{H3(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,i}function sA(t){t.g||t.u||(t.Z=1,kP(t.Ia,t),t.A=0)}function Ew(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Rc(xt(t.Ia,t),lA(t,t.A)),t.A++,!0)}$.Ia=function(){if(this.u=null,oA(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Rc(xt(this.eb,this),t)}};$.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Rt(10),np(this),oA(this))};function kw(t){t.B!=null&&(q.clearTimeout(t.B),t.B=null)}function oA(t){t.g=new Mc(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Li(t.sa);ke(e,"RID","rpc"),ke(e,"SID",t.I),ke(e,"CI",t.L?"0":"1"),ke(e,"AID",t.T),ke(e,"TYPE","xmlhttp"),Fc(t,e),t.o&&t.s&&xw(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Zf(Li(e)),n.s=null,n.P=!0,NP(n,t)}$.cb=function(){this.v!=null&&(this.v=null,np(this),Ew(this),Rt(19))};function wd(t){t.v!=null&&(q.clearTimeout(t.v),t.v=null)}function aA(t,e){var n=null;if(t.g==e){wd(t),kw(t),t.g=null;var i=2}else if(Oy(t.h,e))n=e.D,GP(t.h,e),i=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;i=Yf(),ut(i,new OP(i,n)),ip(t)}else sA(t);else if(r=e.o,r==3||r==0&&0<t.pa||!(i==1&&Q3(t,e)||i==2&&Ew(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:as(t,5);break;case 4:as(t,10);break;case 3:as(t,6);break;default:as(t,2)}}}function lA(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function as(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var i=xt(t.kb,t);n||(n=new gs("//www.google.com/images/cleardot.gif"),q.location&&q.location.protocol=="http"||yd(n,"https"),Zf(n)),K3(n.toString(),i)}else Rt(2);t.G=0,t.l&&t.l.va(e),cA(t),iA(t)}$.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function cA(t){if(t.G=0,t.la=[],t.l){const e=YP(t.h);(e.length!=0||t.i.length!=0)&&(tx(t.la,e),tx(t.la,t.i),t.h.i.length=0,ow(t.i),t.i.length=0),t.l.ua()}}function uA(t,e,n){var i=n instanceof gs?Li(n):new gs(n,void 0);if(i.g!="")e&&(i.g=e+"."+i.g),vd(i,i.m);else{var r=q.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new gs(null,void 0);i&&yd(s,i),e&&(s.g=e),r&&vd(s,r),n&&(s.l=n),i=s}return n=t.D,e=t.za,n&&e&&ke(i,n,e),ke(i,"VER",t.ma),Fc(t,i),i}function hA(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Fe(new Lc({jb:!0})):new Fe(t.ra),e.Ka(t.H),e}function dA(){}$=dA.prototype;$.xa=function(){};$.wa=function(){};$.va=function(){};$.ua=function(){};$.Ra=function(){};function _d(){if(Lo&&!(10<=Number(p3)))throw Error("Environmental error: no available transport.")}_d.prototype.g=function(t,e){return new nn(t,e)};function nn(t,e){st.call(this),this.g=new nA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!pd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pd(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new oa(this)}dt(nn,st);nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Rt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=uA(t,null,t.V),ip(t)};nn.prototype.close=function(){Sw(this.g)};nn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=fw(t),t=n);e.i.push(new j3(e.ab++,t)),e.G==3&&ip(e)};nn.prototype.M=function(){this.g.l=null,delete this.j,Sw(this.g),delete this.g,nn.X.M.call(this)};function fA(t){yw.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}dt(fA,yw);function pA(){vw.call(this),this.status=1}dt(pA,vw);function oa(t){this.g=t}dt(oa,dA);oa.prototype.xa=function(){ut(this.g,"a")};oa.prototype.wa=function(t){ut(this.g,new fA(t))};oa.prototype.va=function(t){ut(this.g,new pA)};oa.prototype.ua=function(){ut(this.g,"b")};_d.prototype.createWebChannel=_d.prototype.g;nn.prototype.send=nn.prototype.u;nn.prototype.open=nn.prototype.m;nn.prototype.close=nn.prototype.close;Xf.NO_ERROR=0;Xf.TIMEOUT=8;Xf.HTTP_ERROR=6;MP.COMPLETE="complete";DP.EventType=Oc;Oc.OPEN="a";Oc.CLOSE="b";Oc.ERROR="c";Oc.MESSAGE="d";st.prototype.listen=st.prototype.N;Fe.prototype.listenOnce=Fe.prototype.O;Fe.prototype.getLastError=Fe.prototype.Oa;Fe.prototype.getLastErrorCode=Fe.prototype.Ea;Fe.prototype.getStatus=Fe.prototype.aa;Fe.prototype.getResponseJson=Fe.prototype.Sa;Fe.prototype.getResponseText=Fe.prototype.fa;Fe.prototype.send=Fe.prototype.da;Fe.prototype.setWithCredentials=Fe.prototype.Ka;var J3=function(){return new _d},Z3=function(){return Yf()},Ag=Xf,eW=MP,tW=$s,fx={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},nW=Lc,Su=DP,iW=Fe;const px="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa="9.16.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new V0("@firebase/firestore");function gx(){return Os.logLevel}function V(t,...e){if(Os.logLevel<=oe.DEBUG){const n=e.map(Tw);Os.debug(`Firestore (${aa}): ${t}`,...n)}}function Ni(t,...e){if(Os.logLevel<=oe.ERROR){const n=e.map(Tw);Os.error(`Firestore (${aa}): ${t}`,...n)}}function My(t,...e){if(Os.logLevel<=oe.WARN){const n=e.map(Tw);Os.warn(`Firestore (${aa}): ${t}`,...n)}}function Tw(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t="Unexpected state"){const e=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: `+t;throw Ni(e),new Error(e)}function ye(t,e){t||K()}function Q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class sW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oW{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ci,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ci)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ye(typeof i.accessToken=="string"),new gA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new yt(e)}}class aW{constructor(e,n,i,r){this.h=e,this.l=n,this.m=i,this.g=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ye(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class lW{constructor(e,n,i,r){this.h=e,this.l=n,this.m=i,this.g=r}getToken(){return Promise.resolve(new aW(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cW{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uW{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const i=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string"),this.A=n.token,new cW(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=hW(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function ae(t,e){return t<e?-1:t>e?1:0}function No(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Qe(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new Qe(0,0))}static max(){return new Y(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,i){n===void 0?n=0:n>e.length&&K(),i===void 0?i=e.length-n:i>e.length-n&&K(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Jl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jl?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Te extends Jl{construct(e,n,i){return new Te(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new B(P.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const dW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends Jl{construct(e,n,i){return new _t(e,n,i)}static isValidIdentifier(e){return dW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _t(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new B(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new B(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.path=e}static fromPath(e){return new U(Te.fromString(e))}static fromName(e){return new U(Te.fromString(e).popFirst(5))}static empty(){return new U(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new U(new Te(e.slice()))}}function fW(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Y.fromTimestamp(i===1e9?new Qe(n+1,0):new Qe(n,i));return new Cr(r,U.empty(),e)}function pW(t){return new Cr(t.readTime,t.key,-1)}class Cr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Cr(Y.min(),U.empty(),-1)}static max(){return new Cr(Y.max(),U.empty(),-1)}}function gW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==mW)throw t;V("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,i)=>{n(e)})}static reject(e){return new R((n,i)=>{i(e)})}static waitFor(e){return new R((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=R.resolve(!1);for(const i of e)n=n.next(r=>r?R.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new R((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,n){return new R((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function Vc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>n.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}Cw.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e,n,i,r,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Zl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(t){return t==null}function bd(t){return t===0&&1/t==-1/0}function wW(t){return typeof t=="number"&&Number.isInteger(t)&&!bd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Tt(n)}static fromUint8Array(e){const n=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const _W=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(t){if(ye(!!t),typeof t=="string"){let e=0;const n=_W.exec(t);if(ye(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fo(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wA(t){const e=t.mapValue.fields.__previous_value__;return vA(e)?wA(e):e}function ec(t){const e=Ir(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vA(t)?4:bW(t)?9007199254740991:10:K()}function ei(t,e){if(t===e)return!0;const n=Ms(t);if(n!==Ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ec(t).isEqual(ec(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Ir(i.timestampValue),o=Ir(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return Fo(i.bytesValue).isEqual(Fo(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return ze(i.geoPointValue.latitude)===ze(r.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ze(i.integerValue)===ze(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=ze(i.doubleValue),o=ze(r.doubleValue);return s===o?bd(s)===bd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return No(t.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:return function(i,r){const s=i.mapValue.fields||{},o=r.mapValue.fields||{};if(mx(s)!==mx(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!ei(s[a],o[a])))return!1;return!0}(t,e);default:return K()}}function tc(t,e){return(t.values||[]).find(n=>ei(n,e))!==void 0}function $o(t,e){if(t===e)return 0;const n=Ms(t),i=Ms(e);if(n!==i)return ae(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(r,s){const o=ze(r.integerValue||r.doubleValue),a=ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return yx(t.timestampValue,e.timestampValue);case 4:return yx(ec(t),ec(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(r,s){const o=Fo(r),a=Fo(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,s){const o=r.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=ae(o[l],a[l]);if(c!==0)return c}return ae(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,s){const o=ae(ze(r.latitude),ze(s.latitude));return o!==0?o:ae(ze(r.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,s){const o=r.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=$o(o[l],a[l]);if(c)return c}return ae(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Eu.mapValue&&s===Eu.mapValue)return 0;if(r===Eu.mapValue)return 1;if(s===Eu.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=ae(a[u],c[u]);if(h!==0)return h;const d=$o(o[a[u]],l[c[u]]);if(d!==0)return d}return ae(a.length,c.length)}(t.mapValue,e.mapValue);default:throw K()}}function yx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=Ir(t),i=Ir(e),r=ae(n.seconds,i.seconds);return r!==0?r:ae(n.nanos,i.nanos)}function Vo(t){return Dy(t)}function Dy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const r=Ir(i);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Fo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,U.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let r="[",s=!0;for(const o of i.values||[])s?s=!1:r+=",",r+=Dy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${Dy(i.fields[a])}`;return s+"}"}(t.mapValue):K();var e,n}function Ly(t){return!!t&&"integerValue"in t}function Iw(t){return!!t&&"arrayValue"in t}function vx(t){return!!t&&"nullValue"in t}function wx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uh(t){return!!t&&"mapValue"in t}function sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=sl(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n){this.position=e,this.inclusive=n}}function _x(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=U.comparator(U.fromName(o.referenceValue),n.key):i=$o(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function bx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{}class Ge extends _A{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new SW(e,n,i):n==="array-contains"?new TW(e,i):n==="in"?new CW(e,i):n==="not-in"?new IW(e,i):n==="array-contains-any"?new PW(e,i):new Ge(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new EW(e,i):new kW(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($o(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ti extends _A{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new ti(e,n)}matches(e){return bA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function bA(t){return t.op==="and"}function xA(t){return xW(t)&&bA(t)}function xW(t){for(const e of t.filters)if(e instanceof ti)return!1;return!0}function Ny(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+Vo(t.value);if(xA(t))return t.filters.map(e=>Ny(e)).join(",");{const e=t.filters.map(n=>Ny(n)).join(",");return`${t.op}(${e})`}}function SA(t,e){return t instanceof Ge?function(n,i){return i instanceof Ge&&n.op===i.op&&n.field.isEqual(i.field)&&ei(n.value,i.value)}(t,e):t instanceof ti?function(n,i){return i instanceof ti&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((r,s,o)=>r&&SA(s,i.filters[o]),!0):!1}(t,e):void K()}function EA(t){return t instanceof Ge?function(e){return`${e.field.canonicalString()} ${e.op} ${Vo(e.value)}`}(t):t instanceof ti?function(e){return e.op.toString()+" {"+e.getFilters().map(EA).join(" ,")+"}"}(t):"Filter"}class SW extends Ge{constructor(e,n,i){super(e,n,i),this.key=U.fromName(i.referenceValue)}matches(e){const n=U.comparator(e.key,this.key);return this.matchesComparison(n)}}class EW extends Ge{constructor(e,n){super(e,"in",n),this.keys=kA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kW extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=kA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>U.fromName(i.referenceValue))}class TW extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Iw(n)&&tc(n.arrayValue,this.value)}}class CW extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tc(this.value.arrayValue,n)}}class IW extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!tc(this.value.arrayValue,n)}}class PW extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Iw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>tc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n="asc"){this.field=e,this.dir=n}}function AW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||lt.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lt.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ku(this.root,e,this.comparator,!0)}}class ku{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??lt.RED,this.left=r??lt.EMPTY,this.right=s??lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new lt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return lt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}lt.EMPTY=null,lt.RED=!0,lt.BLACK=!1;lt.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(t,e,n,i,r){return this}insert(t,e,n){return new lt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xx(this.data.getIterator())}getIteratorFrom(e){return new xx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Je)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Je(this.comparator);return n.data=e,n}}class xx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Je(_t.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(n)}setAll(e){let n=_t.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=sl(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];uh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){la(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new dn(sl(this.value))}}function TA(t){const e=[];return la(t.fields,(n,i)=>{const r=new _t([n]);if(uh(i)){const s=TA(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wt(e,0,Y.min(),Y.min(),Y.min(),dn.empty(),0)}static newFoundDocument(e,n,i,r){return new wt(e,1,n,Y.min(),i,r,0)}static newNoDocument(e,n){return new wt(e,2,n,Y.min(),Y.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,Y.min(),Y.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RW{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function Sx(t,e=null,n=[],i=[],r=null,s=null,o=null){return new RW(t,e,n,i,r,s,o)}function Pw(t){const e=Q(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Ny(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),rp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Vo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Vo(i)).join(",")),e.ft=n}return e.ft}function Aw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bx(t.startAt,e.startAt)&&bx(t.endAt,e.endAt)}function Fy(t){return U.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function OW(t,e,n,i,r,s,o,a){return new sp(t,e,n,i,r,s,o,a)}function Rw(t){return new sp(t)}function Ex(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MW(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function DW(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function LW(t){return t.collectionGroup!==null}function So(t){const e=Q(t);if(e.dt===null){e.dt=[];const n=DW(e),i=MW(e);if(n!==null&&i===null)n.isKeyField()||e.dt.push(new ol(n)),e.dt.push(new ol(_t.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ol(_t.keyField(),s))}}}return e.dt}function Fi(t){const e=Q(t);if(!e._t)if(e.limitType==="F")e._t=Sx(e.path,e.collectionGroup,So(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of So(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ol(s.field,o))}const i=e.endAt?new xd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new xd(e.startAt.position,e.startAt.inclusive):null;e._t=Sx(e.path,e.collectionGroup,n,e.filters,e.limit,i,r)}return e._t}function $y(t,e,n){return new sp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function op(t,e){return Aw(Fi(t),Fi(e))&&t.limitType===e.limitType}function CA(t){return`${Pw(Fi(t))}|lt:${t.limitType}`}function Vy(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>EA(i)).join(", ")}]`),rp(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(i)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Vo(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Vo(i)).join(",")),`Target(${n})`}(Fi(t))}; limitType=${t.limitType})`}function Ow(t,e){return e.isFoundDocument()&&function(n,i){const r=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):U.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,i){for(const r of So(n))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const r of n.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(r,s,o){const a=_x(r,s,o);return r.inclusive?a<=0:a<0}(n.startAt,So(n),i)||n.endAt&&!function(r,s,o){const a=_x(r,s,o);return r.inclusive?a>=0:a>0}(n.endAt,So(n),i))}(t,e)}function NW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IA(t){return(e,n)=>{let i=!1;for(const r of So(t)){const s=FW(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function FW(t,e,n){const i=t.field.isKeyField()?U.comparator(e.key,n.key):function(r,s,o){const a=s.data.field(r),l=o.data.field(r);return a!==null&&l!==null?$o(a,l):K()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return K()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bd(e)?"-0":e}}function AA(t){return{integerValue:""+t}}function $W(t,e){return wW(e)?AA(e):PA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(){this._=void 0}}function VW(t,e,n){return t instanceof Sd?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,e):t instanceof nc?OA(t,e):t instanceof ic?MA(t,e):function(i,r){const s=RA(i,r),o=kx(s)+kx(i.gt);return Ly(s)&&Ly(i.gt)?AA(o):PA(i.yt,o)}(t,e)}function BW(t,e,n){return t instanceof nc?OA(t,e):t instanceof ic?MA(t,e):n}function RA(t,e){return t instanceof Ed?Ly(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}class Sd extends ap{}class nc extends ap{constructor(e){super(),this.elements=e}}function OA(t,e){const n=DA(e);for(const i of t.elements)n.some(r=>ei(r,i))||n.push(i);return{arrayValue:{values:n}}}class ic extends ap{constructor(e){super(),this.elements=e}}function MA(t,e){let n=DA(e);for(const i of t.elements)n=n.filter(r=>!ei(r,i));return{arrayValue:{values:n}}}class Ed extends ap{constructor(e,n){super(),this.yt=e,this.gt=n}}function kx(t){return ze(t.integerValue||t.doubleValue)}function DA(t){return Iw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UW(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof nc&&i instanceof nc||n instanceof ic&&i instanceof ic?No(n.elements,i.elements,ei):n instanceof Ed&&i instanceof Ed?ei(n.gt,i.gt):n instanceof Sd&&i instanceof Sd}(t.transform,e.transform)}class jW{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lp{}function LA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mw(t.key,Xn.none()):new Bc(t.key,t.data,Xn.none());{const n=t.data,i=dn.empty();let r=new Je(_t.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Vs(t.key,i,new Cn(r.toArray()),Xn.none())}}function zW(t,e,n){t instanceof Bc?function(i,r,s){const o=i.value.clone(),a=Cx(i.fieldTransforms,r,s.transformResults);o.setAll(a),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Vs?function(i,r,s){if(!hh(i.precondition,r))return void r.convertToUnknownDocument(s.version);const o=Cx(i.fieldTransforms,r,s.transformResults),a=r.data;a.setAll(NA(i)),a.setAll(o),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(i,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function al(t,e,n,i){return t instanceof Bc?function(r,s,o,a){if(!hh(r.precondition,s))return o;const l=r.value.clone(),c=Ix(r.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof Vs?function(r,s,o,a){if(!hh(r.precondition,s))return o;const l=Ix(r.fieldTransforms,a,s),c=s.data;return c.setAll(NA(r)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,i):function(r,s,o){return hh(r.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function WW(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=RA(i.transform,r||null);s!=null&&(n===null&&(n=dn.empty()),n.set(i.field,s))}return n||null}function Tx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&No(n,i,(r,s)=>UW(r,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bc extends lp{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Vs extends lp{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function NA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Cx(t,e,n){const i=new Map;ye(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,BW(o,a,n[r]))}return i}function Ix(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,VW(s,o,e))}return i}class Mw extends lp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HW extends lp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,ie;function qW(t){switch(t){default:return K();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function FA(t){if(t===void 0)return Ni("GRPC error has no .code"),P.UNKNOWN;switch(t){case je.OK:return P.OK;case je.CANCELLED:return P.CANCELLED;case je.UNKNOWN:return P.UNKNOWN;case je.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case je.INTERNAL:return P.INTERNAL;case je.UNAVAILABLE:return P.UNAVAILABLE;case je.UNAUTHENTICATED:return P.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case je.NOT_FOUND:return P.NOT_FOUND;case je.ALREADY_EXISTS:return P.ALREADY_EXISTS;case je.PERMISSION_DENIED:return P.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case je.ABORTED:return P.ABORTED;case je.OUT_OF_RANGE:return P.OUT_OF_RANGE;case je.UNIMPLEMENTED:return P.UNIMPLEMENTED;case je.DATA_LOSS:return P.DATA_LOSS;default:return K()}}(ie=je||(je={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return yA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW=new Ze(U.comparator);function $i(){return GW}const $A=new Ze(U.comparator);function $a(...t){let e=$A;for(const n of t)e=e.insert(n.key,n);return e}function VA(t){let e=$A;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ls(){return ll()}function BA(){return ll()}function ll(){return new ca(t=>t.toString(),(t,e)=>t.isEqual(e))}const YW=new Ze(U.comparator),XW=new Je(U.comparator);function ee(...t){let e=XW;for(const n of t)e=e.add(n);return e}const QW=new Je(ae);function UA(){return QW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Uc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new cp(Y.min(),r,UA(),$i(),ee())}}class Uc{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Uc(i,n,ee(),ee(),ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,i,r){this.It=e,this.removedTargetIds=n,this.key=i,this.Tt=r}}class jA{constructor(e,n){this.targetId=e,this.Et=n}}class zA{constructor(e,n,i=Tt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Px{constructor(){this.At=0,this.Rt=Rx(),this.bt=Tt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ee(),n=ee(),i=ee();return this.Rt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:K()}}),new Uc(this.bt,this.Pt,e,n,i)}xt(){this.vt=!1,this.Rt=Rx()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class JW{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=$i(),this.qt=Ax(),this.Ut=new Je(ae)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const i=this.Wt(n);switch(e.state){case 0:this.zt(n)&&i.Dt(e.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(i.Ft(),i.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),i.Dt(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((i,r)=>{this.zt(r)&&n(r)})}Jt(e){const n=e.targetId,i=e.Et.count,r=this.Yt(n);if(r){const s=r.target;if(Fy(s))if(i===0){const o=new U(s.path);this.Qt(n,o,wt.newNoDocument(o,Y.min()))}else ye(i===1);else this.Xt(n)!==i&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Fy(a.target)){const l=new U(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,wt.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let i=ee();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Yt(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(i=i.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const r=new cp(e,n,this.Ut,this.Lt,i);return this.Lt=$i(),this.qt=Ax(),this.Ut=new Je(ae),r}Gt(e,n){if(!this.zt(e))return;const i=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,i),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,i){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,n)?r.Nt(n,1):r.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),i&&(this.Lt=this.Lt.insert(n,i))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new Px,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Je(ae),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Px),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function Ax(){return new Ze(U.comparator)}function Rx(){return new Ze(U.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZW=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),eH=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),tH=(()=>({and:"AND",or:"OR"}))();class nH{constructor(e,n){this.databaseId=e,this.wt=n}}function kd(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WA(t,e){return t.wt?e.toBase64():e.toUint8Array()}function iH(t,e){return kd(t,e.toTimestamp())}function Qn(t){return ye(!!t),Y.fromTimestamp(function(e){const n=Ir(e);return new Qe(n.seconds,n.nanos)}(t))}function Dw(t,e){return function(n){return new Te(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function HA(t){const e=Te.fromString(t);return ye(YA(e)),e}function By(t,e){return Dw(t.databaseId,e.path)}function Rg(t,e){const n=HA(e);if(n.get(1)!==t.databaseId.projectId)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(KA(n))}function Uy(t,e){return Dw(t.databaseId,e)}function rH(t){const e=HA(t);return e.length===4?Te.emptyPath():KA(e)}function jy(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KA(t){return ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ox(t,e,n){return{name:By(t,e),fields:n.value.mapValue.fields}}function sH(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(l,c){return l.wt?(ye(c===void 0||typeof c=="string"),Tt.fromBase64String(c||"")):(ye(c===void 0||c instanceof Uint8Array),Tt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?P.UNKNOWN:FA(l.code);return new B(c,l.message||"")}(o);n=new zA(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Rg(t,i.document.name),s=Qn(i.document.updateTime),o=i.document.createTime?Qn(i.document.createTime):Y.min(),a=new dn({mapValue:{fields:i.document.fields}}),l=wt.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new dh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Rg(t,i.document),s=i.readTime?Qn(i.readTime):Y.min(),o=wt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new dh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Rg(t,i.document),s=i.removedTargetIds||[];n=new dh([],s,r,null)}else{if(!("filter"in e))return K();{e.filter;const i=e.filter;i.targetId;const r=i.count||0,s=new KW(r),o=i.targetId;n=new jA(o,s)}}return n}function oH(t,e){let n;if(e instanceof Bc)n={update:Ox(t,e.key,e.value)};else if(e instanceof Mw)n={delete:By(t,e.key)};else if(e instanceof Vs)n={update:Ox(t,e.key,e.data),updateMask:gH(e.fieldMask)};else{if(!(e instanceof HW))return K();n={verify:By(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof Sd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof nc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ic)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ed)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw K()}(0,i))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:iH(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:K()}(t,e.precondition)),n}function aH(t,e){return t&&t.length>0?(ye(e!==void 0),t.map(n=>function(i,r){let s=i.updateTime?Qn(i.updateTime):Qn(r);return s.isEqual(Y.min())&&(s=Qn(r)),new jW(s,i.transformResults||[])}(n,e))):[]}function lH(t,e){return{documents:[Uy(t,e.path)]}}function cH(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Uy(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Uy(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(l.length!==0)return GA(ti.create(l,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const s=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:Ks(u.field),direction:dH(u.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,c){return l.wt||rp(c)?c:{value:c}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function uH(t){let e=rH(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ye(i===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const h=qA(u);return h instanceof ti&&xA(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new ol(qs(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,rp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,d=u.values||[];return new xd(d,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,d=u.values||[];return new xd(d,h)}(n.endAt)),OW(e,r,o,s,a,"F",l,c)}function hH(t,e){const n=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return K()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function qA(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=qs(e.unaryFilter.field);return Ge.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=qs(e.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qs(e.unaryFilter.field);return Ge.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=qs(e.unaryFilter.field);return Ge.create(s,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(e){return Ge.create(qs(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return ti.create(e.compositeFilter.filters.map(n=>qA(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return K()}}(e.compositeFilter.op))}(t):K()}function dH(t){return ZW[t]}function fH(t){return eH[t]}function pH(t){return tH[t]}function Ks(t){return{fieldPath:t.canonicalString()}}function qs(t){return _t.fromServerFormat(t.fieldPath)}function GA(t){return t instanceof Ge?function(e){if(e.op==="=="){if(wx(e.value))return{unaryFilter:{field:Ks(e.field),op:"IS_NAN"}};if(vx(e.value))return{unaryFilter:{field:Ks(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(wx(e.value))return{unaryFilter:{field:Ks(e.field),op:"IS_NOT_NAN"}};if(vx(e.value))return{unaryFilter:{field:Ks(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(e.field),op:fH(e.op),value:e.value}}}(t):t instanceof ti?function(e){const n=e.getFilters().map(i=>GA(i));return n.length===1?n[0]:{compositeFilter:{op:pH(e.op),filters:n}}}(t):K()}function gH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&zW(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=al(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=al(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=BA();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=LA(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Y.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(n,i)=>Tx(n,i))&&No(this.baseMutations,e.baseMutations,(n,i)=>Tx(n,i))}}class Lw{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){ye(e.mutations.length===i.length);let r=YW;const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Lw(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,i,r,s=Y.min(),o=Y.min(),a=Tt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e){this.ie=e}}function wH(t){const e=uH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$y(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(){this.Je=new bH}addToCollectionParentIndex(e,n){return this.Je.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(Cr.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(Cr.min())}updateCollectionGroup(e,n,i){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class bH{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Je(Te.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Je(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Bo(0)}static vn(){return new Bo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(){this.changes=new ca(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?R.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&al(i.mutation,r,Cn.empty(),Qe.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ee()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ee()){const r=ls();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=$a();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=ls();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ee()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=$i();const o=ll(),a=ll();return n.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof Vs)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),al(u.mutation,c,u.mutation.getFieldMask(),Qe.now())):o.set(c.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new SH(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const i=ll();let r=new Ze((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||Cn.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(r.get(a.batchId)||ee()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=BA();u.forEach(d=>{if(!s.has(d)){const f=LA(n.get(d),i.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return R.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return function(r){return U.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LW(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):R.resolve(ls());let a=-1,l=s;return o.next(c=>R.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?R.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ee())).next(u=>({batchId:a,changes:VA(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(i=>{let r=$a();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const r=n.collectionGroup;let s=$a();return this.indexManager.getCollectionParents(e,r).next(o=>R.forEach(o,a=>{const l=function(c,u){return new sp(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,l,i).next(c=>{c.forEach((u,h)=>{s=s.insert(u,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,n.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId))).next(s=>{s.forEach((a,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,wt.newInvalidDocument(c)))});let o=$a();return r.forEach((a,l)=>{const c=s.get(a);c!==void 0&&al(c.mutation,l,Cn.empty(),Qe.now()),Ow(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return R.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var i;return this.Zn.set(n.id,{id:(i=n).id,version:i.version,createTime:Qn(i.createTime)}),R.resolve()}getNamedQuery(e,n){return R.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(i){return{name:i.name,query:wH(i.bundledQuery),readTime:Qn(i.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(){this.overlays=new Ze(U.comparator),this.es=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ls();return R.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.oe(e,n,s)}),R.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.es.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),R.resolve()}getOverlaysForCollection(e,n,i){const r=ls(),s=n.length+1,o=new U(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return R.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ze((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=ls(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ls(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return R.resolve(a)}oe(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new yH(n,i));let s=this.es.get(n);s===void 0&&(s=ee(),this.es.set(n,s)),this.es.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.ns=new Je(et.ss),this.rs=new Je(et.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const i=new et(e,n);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.cs(new et(e,n))}hs(e,n){e.forEach(i=>this.removeReference(i,n))}ls(e){const n=new U(new Te([])),i=new et(n,e),r=new et(n,e+1),s=[];return this.rs.forEachInRange([i,r],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new U(new Te([])),i=new et(n,e),r=new et(n,e+1);let s=ee();return this.rs.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new et(e,0),i=this.ns.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class et{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return U.comparator(e.key,n.key)||ae(e._s,n._s)}static os(e,n){return ae(e._s,n._s)||U.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Je(et.ss)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mH(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.gs=this.gs.add(new et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ps(i),s=r<0?0:r;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new et(n,0),r=new et(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],o=>{const a=this.ys(o._s);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Je(ae);return n.forEach(r=>{const s=new et(r,0),o=new et(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{i=i.add(a._s)})}),R.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;U.isDocumentKey(s)||(s=s.child(""));const o=new et(new U(s),0);let a=new Je(ae);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l._s)),!0)},o),R.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(i=>{const r=this.ys(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ye(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.gs;return R.forEach(n.mutations,r=>{const s=new et(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,n){const i=new et(n,0),r=this.gs.firstAfterOrEqual(i);return R.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e){this.Es=e,this.docs=new Ze(U.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Es(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return R.resolve(i?i.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let i=$i();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():wt.newInvalidDocument(r))}),R.resolve(i)}getAllFromCollection(e,n,i){let r=$i();const s=new U(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||gW(pW(l),i)<=0||(r=r.insert(l.key,l.mutableCopy()))}return R.resolve(r)}getAllFromCollectionGroup(e,n,i,r){K()}As(e,n){return R.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new PH(this)}getSize(e){return R.resolve(this.size)}}class PH extends xH{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),R.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e){this.persistence=e,this.Rs=new ca(n=>Pw(n),Aw),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Nw,this.targetCount=0,this.vs=Bo.Pn()}forEachTarget(e,n){return this.Rs.forEach((i,r)=>n(r)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.bs&&(this.bs=n),R.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Bo(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.Dn(n),R.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),R.waitFor(s).next(()=>r)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const i=this.Rs.get(n)||null;return R.resolve(i)}addMatchingKeys(e,n,i){return this.Ps.us(n,i),R.resolve()}removeMatchingKeys(e,n,i){this.Ps.hs(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),R.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ps.ds(n);return R.resolve(i)}containsKey(e,n){return R.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Cw(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new AH(this),this.indexManager=new _H,this.remoteDocumentCache=function(i){return new IH(i)}(i=>this.referenceDelegate.xs(i)),this.yt=new vH(n),this.Ns=new kH(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Vs[e.toKey()];return i||(i=new CH(n,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,i){V("MemoryPersistence","Starting transaction:",e);const r=new OH(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(e,n){return R.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,n)))}}class OH extends yW{constructor(e){super(),this.currentSequenceNumber=e}}class Fw{constructor(e){this.persistence=e,this.Fs=new Nw,this.$s=null}static Bs(e){return new Fw(e)}get Ls(){if(this.$s)return this.$s;throw K()}addReference(e,n,i){return this.Fs.addReference(i,n),this.Ls.delete(i.toString()),R.resolve()}removeReference(e,n,i){return this.Fs.removeReference(i,n),this.Ls.add(i.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),R.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Ls,i=>{const r=U.fromPath(i);return this.qs(e,r).next(s=>{s||n.removeEntry(r,Y.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(i=>{i?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return R.or([()=>R.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Si=i,this.Di=r}static Ci(e,n){let i=ee(),r=ee();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new $w(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,i,r){return this.ki(e,n).next(s=>s||this.Oi(e,n,r,i)).next(s=>s||this.Mi(e,n))}ki(e,n){if(Ex(n))return R.resolve(null);let i=Fi(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=$y(n,null,"F"),i=Fi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=ee(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Fi(n,a);return this.$i(n,c,o,l.readTime)?this.ki(e,$y(n,null,"F")):this.Bi(e,c,n,l)}))})))}Oi(e,n,i,r){return Ex(n)||r.isEqual(Y.min())?this.Mi(e,n):this.Ni.getDocuments(e,i).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,i,r)?this.Mi(e,n):(gx()<=oe.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vy(n)),this.Bi(e,o,n,fW(r,-1)))})}Fi(e,n){let i=new Je(IA(e));return n.forEach((r,s)=>{Ow(e,s)&&(i=i.add(s))}),i}$i(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(e,n){return gx()<=oe.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Vy(n)),this.Ni.getDocumentsMatchingQuery(e,n,Cr.min())}Bi(e,n,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(e,n,i,r){this.persistence=e,this.Li=n,this.yt=r,this.qi=new Ze(ae),this.Ui=new ca(s=>Pw(s),Aw),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EH(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function LH(t,e,n,i){return new DH(t,e,n,i)}async function XA(t,e){const n=Q(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=ee();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}function NH(t,e){const n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let d=R.resolve();return h.forEach(f=>{d=d.next(()=>c.getEntry(a,f)).next(p=>{const g=l.docVersions.get(f);ye(g!==null),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let a=ee();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function QA(t){const e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function FH(t,e){const n=Q(t),i=e.snapshotVersion;let r=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});r=n.qi;const a=[];e.targetChanges.forEach((u,h)=>{const d=r.get(h);if(!d)return;a.push(n.Cs.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(s,u.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?f=f.withResumeToken(Tt.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(h,f),function(p,g,v){return p.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,f,u)&&a.push(n.Cs.updateTargetData(s,f))});let l=$i(),c=ee();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push($H(s,o,e.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!i.isEqual(Y.min())){const u=n.Cs.getLastRemoteSnapshotVersion(s).next(h=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.qi=r,s))}function $H(t,e,n){let i=ee(),r=ee();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=$i();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Y.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:o,zi:r}})}function VH(t,e){const n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function BH(t,e){const n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Cs.getTargetData(i,e).next(s=>s?(r=s,R.resolve(r)):n.Cs.allocateTargetId(i).next(o=>(r=new ms(e,o,0,i.currentSequenceNumber),n.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.qi.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(i.targetId,i),n.Ui.set(e,i.targetId)),i})}async function zy(t,e,n){const i=Q(t),r=i.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Vc(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.qi=i.qi.remove(e),i.Ui.delete(r.target)}function Mx(t,e,n){const i=Q(t);let r=Y.min(),s=ee();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=Q(a),h=u.Ui.get(c);return h!==void 0?R.resolve(u.qi.get(h)):u.Cs.getTargetData(l,c)}(i,o,Fi(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Li.getDocumentsMatchingQuery(o,e,n?r:Y.min(),n?s:ee())).next(a=>(UH(i,NW(e),a),{documents:a,Hi:s})))}function UH(t,e,n){let i=t.Ki.get(e)||Y.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Ki.set(e,i)}class Dx{constructor(){this.activeTargetIds=UA()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jH{constructor(){this.Lr=new Dx,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,i){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Dx,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,i,r,s){const o=this.ho(e,n);V("RestConnection","Sending: ",o,i);const a={};return this.lo(a,r,s),this.fo(e,o,a,i).then(l=>(V("RestConnection","Received: ",l),l),l=>{throw My("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",i),l})}_o(e,n,i,r,s,o){return this.ao(e,n,i,r,s)}lo(e,n,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+aa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ho(e,n){const i=WH[e];return`${this.oo}/v1/${n}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,i,r){return new Promise((s,o)=>{const a=new iW;a.setWithCredentials(!0),a.listenOnce(eW.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Ag.NO_ERROR:const c=a.getResponseJson();V("Connection","XHR received:",JSON.stringify(c)),s(c);break;case Ag.TIMEOUT:V("Connection",'RPC "'+e+'" timed out'),o(new B(P.DEADLINE_EXCEEDED,"Request time out"));break;case Ag.HTTP_ERROR:const u=a.getStatus();if(V("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const d=h==null?void 0:h.error;if(d&&d.status&&d.message){const f=function(p){const g=p.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(g)>=0?g:P.UNKNOWN}(d.status);o(new B(f,d.message))}else o(new B(P.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new B(P.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{V("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(r);a.send(n,"POST",l,i,15)})}wo(e,n,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=J3(),o=Z3(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new nW({})),this.lo(a.initMessageHeaders,n,i),a.encodeInitMessageHeaders=!0;const l=r.join("");V("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,h=!1;const d=new HH({Hr:p=>{h?V("Connection","Not sending because WebChannel is closed:",p):(u||(V("Connection","Opening WebChannel transport."),c.open(),u=!0),V("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,g,v)=>{p.listen(g,y=>{try{v(y)}catch(m){setTimeout(()=>{throw m},0)}})};return f(c,Su.EventType.OPEN,()=>{h||V("Connection","WebChannel transport opened.")}),f(c,Su.EventType.CLOSE,()=>{h||(h=!0,V("Connection","WebChannel transport closed"),d.io())}),f(c,Su.EventType.ERROR,p=>{h||(h=!0,My("Connection","WebChannel transport errored:",p),d.io(new B(P.UNAVAILABLE,"The operation could not be completed")))}),f(c,Su.EventType.MESSAGE,p=>{var g;if(!h){const v=p.data[0];ye(!!v);const y=v,m=y.error||((g=y[0])===null||g===void 0?void 0:g.error);if(m){V("Connection","WebChannel received error:",m);const w=m.status;let _=function(S){const k=je[S];if(k!==void 0)return FA(k)}(w),b=m.message;_===void 0&&(_=P.INTERNAL,b="Unknown error status: "+w+" with message "+m.message),h=!0,d.io(new B(_,b)),c.close()}else V("Connection","WebChannel received:",v),d.ro(v)}}),f(o,tW.STAT_EVENT,p=>{p.stat===fx.PROXY?V("Connection","Detected buffering proxy"):p.stat===fx.NOPROXY&&V("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.so()},0),d}}function Og(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(t){return new nH(t,!0)}class JA{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,n-i);r>0&&V("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n,i,r,s,o,a,l){this.Hs=e,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new JA(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Ni(n.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===n&&this.Go(i,r)},i=>{e(()=>{const r=new B(P.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,n){const i=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qH extends ZA{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=sH(this.yt,e),i=function(r){if(!("targetChange"in r))return Y.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Y.min():s.readTime?Qn(s.readTime):Y.min()}(e);return this.listener.Wo(n,i)}zo(e){const n={};n.database=jy(this.yt),n.addTarget=function(r,s){let o;const a=s.target;return o=Fy(a)?{documents:lH(r,a)}:{query:cH(r,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=WA(r,s.resumeToken):s.snapshotVersion.compareTo(Y.min())>0&&(o.readTime=kd(r,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const i=hH(this.yt,e);i&&(n.labels=i),this.Bo(n)}Ho(e){const n={};n.database=jy(this.yt),n.removeTarget=e,this.Bo(n)}}class GH extends ZA{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=aH(e.writeResults,e.commitTime),i=Qn(e.commitTime);return this.listener.Zo(i,n)}return ye(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=jy(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>oH(this.yt,i))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(e,n,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new B(P.UNKNOWN,r.toString())})}_o(e,n,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,i,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(P.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class XH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ni(n),this.ou=!1):V("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{i.enqueueAndForget(async()=>{Bs(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Q(a);l._u.add(4),await jc(l),l.gu.set("Unknown"),l._u.delete(4),await hp(l)}(this))})}),this.gu=new XH(i,r)}}async function hp(t){if(Bs(t))for(const e of t.wu)await e(!0)}async function jc(t){for(const e of t.wu)await e(!1)}function eR(t,e){const n=Q(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Uw(n)?Bw(n):ua(n).ko()&&Vw(n,e))}function tR(t,e){const n=Q(t),i=ua(n);n.du.delete(e),i.ko()&&nR(n,e),n.du.size===0&&(i.ko()?i.Fo():Bs(n)&&n.gu.set("Unknown"))}function Vw(t,e){t.yu.Ot(e.targetId),ua(t).zo(e)}function nR(t,e){t.yu.Ot(e),ua(t).Ho(e)}function Bw(t){t.yu=new JW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),ua(t).start(),t.gu.uu()}function Uw(t){return Bs(t)&&!ua(t).No()&&t.du.size>0}function Bs(t){return Q(t)._u.size===0}function iR(t){t.yu=void 0}async function JH(t){t.du.forEach((e,n)=>{Vw(t,e)})}async function ZH(t,e){iR(t),Uw(t)?(t.gu.hu(e),Bw(t)):t.gu.set("Unknown")}async function e5(t,e,n){if(t.gu.set("Online"),e instanceof zA&&e.state===2&&e.cause)try{await async function(i,r){const s=r.cause;for(const o of r.targetIds)i.du.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.du.delete(o),i.yu.removeTarget(o))}(t,e)}catch(i){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Td(t,i)}else if(e instanceof dh?t.yu.Kt(e):e instanceof jA?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(Y.min()))try{const i=await QA(t.localStore);n.compareTo(i)>=0&&await function(r,s){const o=r.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.du.get(l);c&&r.du.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=r.du.get(a);if(!l)return;r.du.set(a,l.withResumeToken(Tt.EMPTY_BYTE_STRING,l.snapshotVersion)),nR(r,a);const c=new ms(l.target,a,1,l.sequenceNumber);Vw(r,c)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(i){V("RemoteStore","Failed to raise snapshot:",i),await Td(t,i)}}async function Td(t,e,n){if(!Vc(e))throw e;t._u.add(1),await jc(t),t.gu.set("Offline"),n||(n=()=>QA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await hp(t)})}function rR(t,e){return e().catch(n=>Td(t,n,e))}async function dp(t){const e=Q(t),n=Pr(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;t5(e);)try{const r=await VH(e.localStore,i);if(r===null){e.fu.length===0&&n.Fo();break}i=r.batchId,n5(e,r)}catch(r){await Td(e,r)}sR(e)&&oR(e)}function t5(t){return Bs(t)&&t.fu.length<10}function n5(t,e){t.fu.push(e);const n=Pr(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function sR(t){return Bs(t)&&!Pr(t).No()&&t.fu.length>0}function oR(t){Pr(t).start()}async function i5(t){Pr(t).eu()}async function r5(t){const e=Pr(t);for(const n of t.fu)e.Xo(n.mutations)}async function s5(t,e,n){const i=t.fu.shift(),r=Lw.from(i,e,n);await rR(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await dp(t)}async function o5(t,e){e&&Pr(t).Yo&&await async function(n,i){if(r=i.code,qW(r)&&r!==P.ABORTED){const s=n.fu.shift();Pr(n).Mo(),await rR(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await dp(n)}var r}(t,e),sR(t)&&oR(t)}async function Nx(t,e){const n=Q(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const i=Bs(n);n._u.add(3),await jc(n),i&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await hp(n)}async function a5(t,e){const n=Q(t);e?(n._u.delete(2),await hp(n)):e||(n._u.add(2),await jc(n),n.gu.set("Unknown"))}function ua(t){return t.pu||(t.pu=function(e,n,i){const r=Q(e);return r.su(),new qH(n,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(t.datastore,t.asyncQueue,{Yr:JH.bind(null,t),Zr:ZH.bind(null,t),Wo:e5.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),Uw(t)?Bw(t):t.gu.set("Unknown")):(await t.pu.stop(),iR(t))})),t.pu}function Pr(t){return t.Iu||(t.Iu=function(e,n,i){const r=Q(e);return r.su(),new GH(n,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(t.datastore,t.asyncQueue,{Yr:i5.bind(null,t),Zr:o5.bind(null,t),tu:r5.bind(null,t),Zo:s5.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await dp(t)):(await t.Iu.stop(),t.fu.length>0&&(V("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new jw(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zw(t,e){if(Ni("AsyncQueue",`${e}: ${t}`),Vc(t))return new B(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.comparator=e?(n,i)=>e(n,i)||U.comparator(n.key,i.key):(n,i)=>U.comparator(n.key,i.key),this.keyedMap=$a(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new Eo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Eo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.Tu=new Ze(U.comparator)}track(e){const n=e.doc.key,i=this.Tu.get(n);i?e.type!==0&&i.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&i.type!==1?this.Tu=this.Tu.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Tu=this.Tu.remove(n):e.type===1&&i.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):K():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,i)=>{e.push(i)}),e}}class Uo{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Uo(e,n,Eo.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(){this.Au=void 0,this.listeners=[]}}class c5{constructor(){this.queries=new ca(e=>CA(e),op),this.onlineState="Unknown",this.Ru=new Set}}async function aR(t,e){const n=Q(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new l5),r)try{s.Au=await n.onListen(i)}catch(o){const a=zw(o,`Initialization of query '${Vy(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&Ww(n)}async function lR(t,e){const n=Q(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=s.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function u5(t,e){const n=Q(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(r)&&(i=!0);o.Au=r}}i&&Ww(n)}function h5(t,e,n){const i=Q(t),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(e)}function Ww(t){t.Ru.forEach(e=>{e.next()})}class cR{constructor(e,n,i){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Uo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.Nu||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.key=e}}class hR{constructor(e){this.key=e}}class d5{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ee(),this.mutatedKeys=ee(),this.Gu=IA(e),this.Qu=new Eo(this.Gu)}get ju(){return this.qu}Wu(e,n){const i=n?n.zu:new Fx,r=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const d=r.get(u),f=Ow(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;d&&f?d.data.isEqual(f.data)?p!==g&&(i.track({type:3,doc:f}),v=!0):this.Hu(d,f)||(i.track({type:2,doc:f}),v=!0,(l&&this.Gu(f,l)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!d&&f?(i.track({type:0,doc:f}),v=!0):d&&!f&&(i.track({type:1,doc:d}),v=!0,(l||c)&&(a=!0)),v&&(f?(o=o.add(f),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{Qu:o,zu:i,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,u)=>function(h,d){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return f(h)-f(d)}(c.type,u.type)||this.Gu(c.doc,u.doc)),this.Ju(i);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new Uo(this.query,e.Qu,r,s,e.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Fx,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ee(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const n=[];return e.forEach(i=>{this.Ku.has(i)||n.push(new hR(i))}),this.Ku.forEach(i=>{e.has(i)||n.push(new uR(i))}),n}tc(e){this.qu=e.Hi,this.Ku=ee();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Uo.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class f5{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class p5{constructor(e){this.key=e,this.nc=!1}}class g5{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new ca(a=>CA(a),op),this.rc=new Map,this.oc=new Set,this.uc=new Ze(U.comparator),this.cc=new Map,this.ac=new Nw,this.hc={},this.lc=new Map,this.fc=Bo.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function m5(t,e){const n=T5(t);let i,r;const s=n.ic.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const o=await BH(n.localStore,Fi(e));n.isPrimaryClient&&eR(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=await y5(n,e,i,a==="current",o.resumeToken)}return r}async function y5(t,e,n,i,r){t._c=(h,d,f)=>async function(p,g,v,y){let m=g.view.Wu(v);m.$i&&(m=await Mx(p.localStore,g.query,!1).then(({documents:b})=>g.view.Wu(b,m)));const w=y&&y.targetChanges.get(g.targetId),_=g.view.applyChanges(m,p.isPrimaryClient,w);return Vx(p,g.targetId,_.Xu),_.snapshot}(t,h,d,f);const s=await Mx(t.localStore,e,!0),o=new d5(e,s.Hi),a=o.Wu(s.documents),l=Uc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);Vx(t,n,c.Xu);const u=new f5(e,n,o);return t.ic.set(e,u),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),c.snapshot}async function v5(t,e){const n=Q(t),i=n.ic.get(e),r=n.rc.get(i.targetId);if(r.length>1)return n.rc.set(i.targetId,r.filter(s=>!op(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await zy(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),tR(n.remoteStore,i.targetId),Wy(n,i.targetId)}).catch($c)):(Wy(n,i.targetId),await zy(n.localStore,i.targetId,!0))}async function w5(t,e,n){const i=C5(t);try{const r=await function(s,o){const a=Q(s),l=Qe.now(),c=o.reduce((d,f)=>d.add(f.key),ee());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let f=$i(),p=ee();return a.Gi.getEntries(d,c).next(g=>{f=g,f.forEach((v,y)=>{y.isValidDocument()||(p=p.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,f)).next(g=>{u=g;const v=[];for(const y of o){const m=WW(y,u.get(y.key).overlayedDocument);m!=null&&v.push(new Vs(y.key,m,TA(m.value.mapValue),Xn.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,v,o)}).next(g=>{h=g;const v=g.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(d,g.batchId,v)})}).then(()=>({batchId:h.batchId,changes:VA(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new Ze(ae)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(i,r.batchId,n),await zc(i,r.changes),await dp(i.remoteStore)}catch(r){const s=zw(r,"Failed to persist write");n.reject(s)}}async function dR(t,e){const n=Q(t);try{const i=await FH(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.cc.get(s);o&&(ye(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.nc=!0:r.modifiedDocuments.size>0?ye(o.nc):r.removedDocuments.size>0&&(ye(o.nc),o.nc=!1))}),await zc(n,i,e)}catch(i){await $c(i)}}function $x(t,e,n){const i=Q(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&r.push(a.snapshot)}),function(s,o){const a=Q(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.bu(o)&&(l=!0)}),l&&Ww(a)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function _5(t,e,n){const i=Q(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.cc.get(e),s=r&&r.key;if(s){let o=new Ze(U.comparator);o=o.insert(s,wt.newNoDocument(s,Y.min()));const a=ee().add(s),l=new cp(Y.min(),new Map,new Je(ae),o,a);await dR(i,l),i.uc=i.uc.remove(s),i.cc.delete(e),Hw(i)}else await zy(i.localStore,e,!1).then(()=>Wy(i,e,n)).catch($c)}async function b5(t,e){const n=Q(t),i=e.batch.batchId;try{const r=await NH(n.localStore,e);pR(n,i,null),fR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await zc(n,r)}catch(r){await $c(r)}}async function x5(t,e,n){const i=Q(t);try{const r=await function(s,o){const a=Q(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(ye(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,e);pR(i,e,n),fR(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await zc(i,r)}catch(r){await $c(r)}}function fR(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function pR(t,e,n){const i=Q(t);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function Wy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.rc.get(e))t.ic.delete(i),n&&t.sc.wc(i,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(i=>{t.ac.containsKey(i)||gR(t,i)})}function gR(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(tR(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),Hw(t))}function Vx(t,e,n){for(const i of n)i instanceof uR?(t.ac.addReference(i.key,e),S5(t,i)):i instanceof hR?(V("SyncEngine","Document no longer in limbo: "+i.key),t.ac.removeReference(i.key,e),t.ac.containsKey(i.key)||gR(t,i.key)):K()}function S5(t,e){const n=e.key,i=n.path.canonicalString();t.uc.get(n)||t.oc.has(i)||(V("SyncEngine","New document in limbo: "+n),t.oc.add(i),Hw(t))}function Hw(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new U(Te.fromString(e)),i=t.fc.next();t.cc.set(i,new p5(n)),t.uc=t.uc.insert(n,i),eR(t.remoteStore,new ms(Fi(Rw(n.path)),i,2,Cw.at))}}async function zc(t,e,n){const i=Q(t),r=[],s=[],o=[];i.ic.isEmpty()||(i.ic.forEach((a,l)=>{o.push(i._c(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){r.push(c);const u=$w.Ci(l.targetId,c);s.push(u)}}))}),await Promise.all(o),i.sc.Wo(r),await async function(a,l){const c=Q(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>R.forEach(l,h=>R.forEach(h.Si,d=>c.persistence.referenceDelegate.addReference(u,h.targetId,d)).next(()=>R.forEach(h.Di,d=>c.persistence.referenceDelegate.removeReference(u,h.targetId,d)))))}catch(u){if(!Vc(u))throw u;V("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const d=c.qi.get(h),f=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(f);c.qi=c.qi.insert(h,p)}}}(i.localStore,s))}async function E5(t,e){const n=Q(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());const i=await XA(n.localStore,e);n.currentUser=e,function(r,s){r.lc.forEach(o=>{o.forEach(a=>{a.reject(new B(P.CANCELLED,s))})}),r.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await zc(n,i.ji)}}function k5(t,e){const n=Q(t),i=n.cc.get(e);if(i&&i.nc)return ee().add(i.key);{let r=ee();const s=n.rc.get(e);if(!s)return r;for(const o of s){const a=n.ic.get(o);r=r.unionWith(a.view.ju)}return r}}function T5(t){const e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_5.bind(null,e),e.sc.Wo=u5.bind(null,e.eventManager),e.sc.wc=h5.bind(null,e.eventManager),e}function C5(t){const e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x5.bind(null,e),e}class I5{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=up(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return LH(this.persistence,new MH,e.initialUser,this.yt)}yc(e){return new RH(Fw.Bs,this.yt)}gc(e){return new jH}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class P5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$x(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=E5.bind(null,this.syncEngine),await a5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new c5}createDatastore(e){const n=up(e.databaseInfo.databaseId),i=(r=e.databaseInfo,new KH(r));var r;return function(s,o,a,l){return new YH(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return n=this.localStore,i=this.datastore,r=e.asyncQueue,s=a=>$x(this.syncEngine,a,0),o=Lx.C()?new Lx:new zH,new QH(n,i,r,s,o);var n,i,r,s,o}createSyncEngine(e,n){return function(i,r,s,o,a,l,c){const u=new g5(i,r,s,o,a,l);return c&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Q(e);V("RemoteStore","RemoteStore shutting down."),n._u.add(5),await jc(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t,e,n){if(!n)throw new B(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function A5(t,e,n,i){if(e===!0&&i===!0)throw new B(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Bx(t){if(!U.isDocumentKey(t))throw new B(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ux(t){if(U.isDocumentKey(t))throw new B(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function Ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kw(t);throw new B(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new Map;class zx{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new B(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,A5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zx({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new B(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zx(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new rW;switch(n.type){case"gapi":const i=n.client;return new lW(i,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new B(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=jx.get(e);n&&(V("ComponentProvider","Removing Datastore"),jx.delete(e),n.terminate())}(this),Promise.resolve()}}function R5(t,e,n,i={}){var r;const s=(t=Ar(t,fp))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&My("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),i.mockUserToken){let o,a;if(typeof i.mockUserToken=="string")o=i.mockUserToken,a=yt.MOCK_USER;else{o=hI(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new B(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new yt(l)}t._authCredentials=new sW(new gA(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class pp{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new pp(this.firestore,e,this._query)}}class _r extends pp{constructor(e,n,i){super(e,n,Rw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new U(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}function yR(t,e,...n){if(t=Re(t),mR("collection","path",e),t instanceof fp){const i=Te.fromString(e,...n);return Ux(i),new _r(t,null,i)}{if(!(t instanceof Zt||t instanceof _r))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Te.fromString(e,...n));return Ux(i),new _r(t.firestore,null,i)}}function gp(t,e,...n){if(t=Re(t),arguments.length===1&&(e=mA.R()),mR("doc","path",e),t instanceof fp){const i=Te.fromString(e,...n);return Bx(i),new Zt(t,null,new U(i))}{if(!(t instanceof Zt||t instanceof _r))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Te.fromString(e,...n));return Bx(i),new Zt(t.firestore,t instanceof _r?t.converter:null,new U(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ni("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=yt.UNAUTHENTICATED,this.clientId=mA.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{V("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=zw(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function M5(t,e){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await XA(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function D5(t,e){t.asyncQueue.verifyOperationInProgress();const n=await L5(t);V("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(r=>Nx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Nx(e.remoteStore,s)),t.onlineComponents=e}async function L5(t){return t.offlineComponents||(V("FirestoreClient","Using default OfflineComponentProvider"),await M5(t,new I5)),t.offlineComponents}async function wR(t){return t.onlineComponents||(V("FirestoreClient","Using default OnlineComponentProvider"),await D5(t,new P5)),t.onlineComponents}function N5(t){return wR(t).then(e=>e.syncEngine)}async function _R(t){const e=await wR(t),n=e.eventManager;return n.onListen=m5.bind(null,e.syncEngine),n.onUnlisten=v5.bind(null,e.syncEngine),n}function F5(t,e,n={}){const i=new Ci;return t.asyncQueue.enqueueAndForget(async()=>function(r,s,o,a,l){const c=new vR({next:h=>{s.enqueueAndForget(()=>lR(r,u));const d=h.docs.has(o);!d&&h.fromCache?l.reject(new B(P.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?l.reject(new B(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new cR(Rw(o.path),c,{includeMetadataChanges:!0,Nu:!0});return aR(r,u)}(await _R(t),t.asyncQueue,e,n,i)),i.promise}function $5(t,e,n={}){const i=new Ci;return t.asyncQueue.enqueueAndForget(async()=>function(r,s,o,a,l){const c=new vR({next:h=>{s.enqueueAndForget(()=>lR(r,u)),h.fromCache&&a.source==="server"?l.reject(new B(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new cR(o,c,{includeMetadataChanges:!0,Nu:!0});return aR(r,u)}(await _R(t),t.asyncQueue,e,n,i)),i.promise}class V5{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new JA(this,"async_queue_retry"),this.Wc=()=>{const n=Og();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Og();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=Og();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Ci;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!Vc(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{this.Kc=i,this.Gc=!1;const r=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(i);throw Ni("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Gc=!1,i))));return this.Bc=n,n}enqueueAfterDelay(e,n,i){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const r=jw.createAndSchedule(this,e,n,i,s=>this.Yc(s));return this.Uc.push(r),r}zc(){this.Kc&&K()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class Wc extends fp{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new V5,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||bR(this),this._firestoreClient.terminate()}}function B5(t,e){const n=typeof t=="object"?t:U0(),i=typeof t=="string"?t:e||"(default)",r=Ff(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=cI("firestore");s&&R5(r,...s)}return r}function qw(t){return t._firestoreClient||bR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bR(t){var e;const n=t._freezeSettings(),i=function(r,s,o,a){return new vW(r,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new O5(t._authCredentials,t._appCheckCredentials,t._queue,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jo(Tt.fromBase64String(e))}catch(n){throw new B(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jo(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=/^__.*__$/;class j5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bc(e,this.data,n,this.fieldTransforms)}}function SR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class Xw{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.yt=i,this.ignoreUndefinedProperties=r,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Xw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Cd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(SR(this.sa)&&U5.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class z5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=i||up(e)}da(e,n,i,r=!1){return new Xw({sa:e,methodName:n,fa:i,path:_t.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function W5(t){const e=t._freezeSettings(),n=up(t._databaseId);return new z5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function H5(t,e,n,i,r,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,r);CR("Data must be an object, but it was:",o,i);const a=kR(i,o);let l,c;if(s.merge)l=new Cn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=K5(e,h,n);if(!o.contains(d))throw new B(P.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);G5(u,d)||u.push(d)}l=new Cn(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new j5(new dn(a),l,c)}function ER(t,e){if(TR(t=Re(t)))return CR("Unsupported field value:",e,t),kR(t,e);if(t instanceof xR)return function(n,i){if(!SR(i.sa))throw i.ha(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,i){const r=[];let s=0;for(const o of n){let a=ER(o,i.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),s++}return{arrayValue:{values:r}}}(t,e)}return function(n,i){if((n=Re(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return $W(i.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=Qe.fromDate(n);return{timestampValue:kd(i.yt,r)}}if(n instanceof Qe){const r=new Qe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:kd(i.yt,r)}}if(n instanceof Yw)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof jo)return{bytesValue:WA(i.yt,n._byteString)};if(n instanceof Zt){const r=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Dw(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.ha(`Unsupported field value: ${Kw(n)}`)}(t,e)}function kR(t,e){const n={};return yA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,(i,r)=>{const s=ER(r,e.ra(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function TR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof Yw||t instanceof jo||t instanceof Zt||t instanceof xR)}function CR(t,e,n){if(!TR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=Kw(n);throw i==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+i)}}function K5(t,e,n){if((e=Re(e))instanceof Gw)return e._internalPath;if(typeof e=="string")return IR(t,e);throw Cd("Field path arguments must be of type string or ",t,!1,void 0,n)}const q5=new RegExp("[~\\*/\\[\\]]");function IR(t,e,n){if(e.search(q5)>=0)throw Cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gw(...e.split("."))._internalPath}catch{throw Cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cd(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new B(P.INVALID_ARGUMENT,a+t+l)}function G5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(AR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Y5 extends PR{data(){return super.data()}}function AR(t,e){return typeof e=="string"?IR(t,e):e instanceof Gw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q5{convertValue(e,n="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw K()}}convertObject(e,n){const i={};return la(e.fields,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new Yw(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=wA(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const n=Ir(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Te.fromString(e);ye(YA(i));const r=new Zl(i.get(1),i.get(3)),s=new U(i.popFirst(5));return r.isEqual(n)||Ni(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RR extends PR{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(AR("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class fh extends RR{data(e={}){return super.data(e)}}class Z5{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Va(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new fh(this._firestore,this._userDataWriter,i.key,i,new Va(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const a=new fh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Va(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new fh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Va(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:e4(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function e4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t){t=Ar(t,Zt);const e=Ar(t.firestore,Wc);return F5(qw(e),t._key).then(n=>i4(e,t,n))}class OR extends Q5{constructor(e){super(),this.firestore=e}convertBytes(e){return new jo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function MR(t){t=Ar(t,pp);const e=Ar(t.firestore,Wc),n=qw(e),i=new OR(e);return X5(t._query),$5(n,t._query).then(r=>new Z5(e,i,t,r))}function DR(t,e,n){t=Ar(t,Zt);const i=Ar(t.firestore,Wc),r=J5(t.converter,e,n);return LR(i,[H5(W5(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Xn.none())])}function n4(t){return LR(Ar(t.firestore,Wc),[new Mw(t._key,Xn.none())])}function LR(t,e){return function(n,i){const r=new Ci;return n.asyncQueue.enqueueAndForget(async()=>w5(await N5(n),i,r)),r.promise}(qw(t),e)}function i4(t,e,n){const i=n.docs.get(e._key),r=new OR(t);return new RR(t,r,e._key,i,new Va(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){aa=n})(ta),Cs(new Tr("firestore",(n,{instanceIdentifier:i,options:r})=>{const s=n.getProvider("app").getImmediate(),o=new Wc(new oW(n.getProvider("auth-internal")),new uW(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new B(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(a.options.projectId,l)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),qn(px,"3.8.1",t),qn(px,"3.8.1","esm2017")})();const r4={apiKey:"AIzaSyBvODCl8G9VGLUKLWPzdmqwoRF7CPm67-w",authDomain:"shoppingfy-1f789.firebaseapp.com",projectId:"shoppingfy-1f789",storageBucket:"shoppingfy-1f789.appspot.com",messagingSenderId:"199838555163",appId:"1:199838555163:web:b64c65c7d512074ab0acbe"},Qw=pI(r4),Jw=Jz(Qw),zo=B5(Qw),nt=Bj(Qw),NR=new gi,FR=new pi,$R=new mi,VR=new yi,BR=Lf({name:"auth",initialState:{isLoggedIn:!1,errorMessage:"",user:null,isLoading:!1},reducers:{submit(t,{payload:{user:e,error:n}}){e?(t.isLoggedIn=!0,t.user=JSON.stringify(e)):t.errorMessage=n},setLoading(t,e){t.isLoading=e.payload.isLoading},resetErrorMessage(t,e){window.scrollTo(0,0),t.errorMessage=e.payload},signOut(t,e){t.isLoggedIn=!1}}}),UR=BR.actions,s4=BR.reducer,o4={"Fruits and vegetables":[{item:"Avocado",count:0,checked:!1},{item:"Banana",count:0,checked:!1},{item:"Bunch of carrots 5pcs",count:0,checked:!1},{item:"Chicken 1kg",count:0,checked:!1},{item:"Pre-cooked corn 450g",count:0,checked:!1},{item:"Mandarin Nadorcott",count:0,checked:!1},{item:"Piele De Sapo Melon",count:0,checked:!1},{item:"Watermelon",count:0,checked:!1}],"Meat and Fish":[{item:"Chicken leg box",count:0,checked:!1},{item:"Chicken 1kg",count:0,checked:!1},{item:"Pork fillets 450g",count:0,checked:!1},{item:"Salmon 1kg",count:0,checked:!1}],Beverages:[{item:"Barley",count:0,checked:!1},{item:"Hot drinks",count:0,checked:!1},{item:"Wine",count:0,checked:!1},{item:"Cocktails",count:0,checked:!1},{item:"Cider",count:0,checked:!1},{item:"Beer",count:0,checked:!1},{item:"Chocolate",count:0,checked:!1},{item:"Mixed Drinks",count:0,checked:!1}],Pet:[{item:"Chicken",count:0,checked:!1},{item:"Pork",count:0,checked:!1},{item:"Whole grain",count:0,checked:!1},{item:"Hamster Feed",count:0,checked:!1}]},jR=Lf({name:"Items",initialState:o4,reducers:{addItem(t,{payload:e}){if(t[e.category]){const n=t[e.category].findIndex(i=>i.item===e.item)+1;n?t[e.category][n-1]={...t[e.category][n-1],count:t[e.category][n-1].count+1}:t[e.category]=[...t[e.category],{item:e.item,count:0,checked:!1}]}else t[e.category]=[e.item]},removeItem(t,{payload:e}){const n=t[e.category].findIndex(i=>i.item===e.item);t[e.category][n]={item:e.item,count:t[e.category][n].count-1}},removeAllIems(t,e){for(const n in t)t[n].forEach(i=>i.count=0)},toggleChecked(t,{payload:e}){const n=t[e.category].findIndex(i=>i.item===e.item);t[e.category][n]={...t[e.category][n],checked:!t[e.category][n].checked}}}}),zR=Lf({name:"Events",initialState:{},reducers:{addEvent(t,{payload:e}){t[e.date]?t[e.date]=[...t[e.date],{name:e.name,date:e.day,status:e.state,id:e.id}]:t[e.date]=[{name:e.name,date:e.day,status:e.state,id:e.id}]},editStatus(t,{payload:e}){t[e.date]=t[e.date].map(n=>n.id!==e.id?n:{...n,status:e.status})}}}),a4={key:"root",version:1,storage:JC},l4=GC({items:jR.reducer,events:zR.reducer,auth:s4}),c4=eV(a4,l4),Si={items:jR.actions,events:zR.actions,auth:UR},WR=b$({reducer:c4,middleware:[hy]});function ph(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ph=function(n){return typeof n}:ph=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ph(t)}function u4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h4(t,e,n){return e&&Wx(t.prototype,e),n&&Wx(t,n),t}function d4(t,e){return e&&(ph(e)==="object"||typeof e=="function")?e:gh(t)}function Hy(t){return Hy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Hy(t)}function gh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ky(t,e)}function Ky(t,e){return Ky=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Ky(t,e)}function mh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var HR=function(t){f4(e,t);function e(){var n,i;u4(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=d4(this,(n=Hy(e)).call.apply(n,[this].concat(s))),mh(gh(i),"state",{bootstrapped:!1}),mh(gh(i),"_unsubscribe",void 0),mh(gh(i),"handlePersistorState",function(){var a=i.props.persistor,l=a.getState(),c=l.bootstrapped;c&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return h4(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(x.PureComponent);mh(HR,"defaultProps",{children:null,loading:null});const Zw=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),mp=x.createContext({});function p4(){return x.useContext(mp).visualElement}const Hc=x.createContext(null),yp=typeof document<"u",Id=yp?x.useLayoutEffect:x.useEffect,KR=x.createContext({strict:!1});function g4(t,e,n,i){const r=p4(),s=x.useContext(KR),o=x.useContext(Hc),a=x.useContext(Zw).reducedMotion,l=x.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(t,{visualState:e,parent:r,props:n,presenceId:o?o.id:void 0,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return Id(()=>{c&&c.render()}),(window.HandoffAppearAnimations?Id:x.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function co(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function m4(t,e,n){return x.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):co(n)&&(n.current=i))},[e])}function rc(t){return typeof t=="string"||Array.isArray(t)}function vp(t){return typeof t=="object"&&typeof t.start=="function"}const y4=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function wp(t){return vp(t.animate)||y4.some(e=>rc(t[e]))}function qR(t){return Boolean(wp(t)||t.variants)}function v4(t,e){if(wp(t)){const{initial:n,animate:i}=t;return{initial:n===!1||rc(n)?n:void 0,animate:rc(i)?i:void 0}}return t.inherit!==!1?e:{}}function w4(t){const{initial:e,animate:n}=v4(t,x.useContext(mp));return x.useMemo(()=>({initial:e,animate:n}),[Hx(e),Hx(n)])}function Hx(t){return Array.isArray(t)?t.join(" "):t}const oi=t=>({isEnabled:e=>t.some(n=>!!e[n])}),sc={measureLayout:oi(["layout","layoutId","drag"]),animation:oi(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:oi(["exit"]),drag:oi(["drag","dragControls"]),focus:oi(["whileFocus"]),hover:oi(["whileHover","onHoverStart","onHoverEnd"]),tap:oi(["whileTap","onTap","onTapStart","onTapCancel"]),pan:oi(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:oi(["whileInView","onViewportEnter","onViewportLeave"])};function _4(t){for(const e in t)e==="projectionNodeConstructor"?sc.projectionNodeConstructor=t[e]:sc[e].Component=t[e]}function _p(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const cl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let b4=1;function x4(){return _p(()=>{if(cl.hasEverUpdated)return b4++})}const e_=x.createContext({});class S4 extends Dn.Component{getSnapshotBeforeUpdate(){const{visualElement:e,props:n}=this.props;return e&&e.setProps(n),null}componentDidUpdate(){}render(){return this.props.children}}const GR=x.createContext({}),E4=Symbol.for("motionComponentSymbol");function k4({preloadedFeatures:t,createVisualElement:e,projectionNodeConstructor:n,useRender:i,useVisualState:r,Component:s}){t&&_4(t);function o(l,c){const u={...x.useContext(Zw),...l,layoutId:T4(l)},{isStatic:h}=u;let d=null;const f=w4(l),p=h?void 0:x4(),g=r(l,h);if(!h&&yp){f.visualElement=g4(s,g,u,e);const v=x.useContext(KR).strict,y=x.useContext(GR);f.visualElement&&(d=f.visualElement.loadFeatures(u,v,t,p,n||sc.projectionNodeConstructor,y))}return x.createElement(S4,{visualElement:f.visualElement,props:u},d,x.createElement(mp.Provider,{value:f},i(s,l,p,m4(g,f.visualElement,c),g,h,f.visualElement)))}const a=x.forwardRef(o);return a[E4]=s,a}function T4({layoutId:t}){const e=x.useContext(e_).id;return e&&t!==void 0?e+"-"+t:t}function C4(t){function e(i,r={}){return k4(t(i,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(i,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const I4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function t_(t){return typeof t!="string"||t.includes("-")?!1:!!(I4.indexOf(t)>-1||/[A-Z]/.test(t))}const Pd={};function P4(t){Object.assign(Pd,t)}const Ad=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ha=new Set(Ad);function YR(t,{layout:e,layoutId:n}){return ha.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Pd[t]||t==="opacity")}const Wt=t=>!!(t!=null&&t.getVelocity),A4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},R4=(t,e)=>Ad.indexOf(t)-Ad.indexOf(e);function O4({transform:t,transformKeys:e},{enableHardwareAcceleration:n=!0,allowTransformNone:i=!0},r,s){let o="";e.sort(R4);for(const a of e)o+=`${A4[a]||a}(${t[a]}) `;return n&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,r?"":o):i&&r&&(o="none"),o}function XR(t){return t.startsWith("--")}const M4=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Wo=(t,e,n)=>Math.min(Math.max(n,t),e),Us={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ul={...Us,transform:t=>Wo(0,1,t)},Tu={...Us,default:1},hl=t=>Math.round(t*1e5)/1e5,oc=/(-)?([\d]*\.?[\d])+/g,qy=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,D4=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Kc(t){return typeof t=="string"}const qc=t=>({test:e=>Kc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wi=qc("deg"),Jn=qc("%"),z=qc("px"),L4=qc("vh"),N4=qc("vw"),Kx={...Jn,parse:t=>Jn.parse(t)/100,transform:t=>Jn.transform(t*100)},qx={...Us,transform:Math.round},QR={borderWidth:z,borderTopWidth:z,borderRightWidth:z,borderBottomWidth:z,borderLeftWidth:z,borderRadius:z,radius:z,borderTopLeftRadius:z,borderTopRightRadius:z,borderBottomRightRadius:z,borderBottomLeftRadius:z,width:z,maxWidth:z,height:z,maxHeight:z,size:z,top:z,right:z,bottom:z,left:z,padding:z,paddingTop:z,paddingRight:z,paddingBottom:z,paddingLeft:z,margin:z,marginTop:z,marginRight:z,marginBottom:z,marginLeft:z,rotate:Wi,rotateX:Wi,rotateY:Wi,rotateZ:Wi,scale:Tu,scaleX:Tu,scaleY:Tu,scaleZ:Tu,skew:Wi,skewX:Wi,skewY:Wi,distance:z,translateX:z,translateY:z,translateZ:z,x:z,y:z,z,perspective:z,transformPerspective:z,opacity:ul,originX:Kx,originY:Kx,originZ:z,zIndex:qx,fillOpacity:ul,strokeOpacity:ul,numOctaves:qx};function n_(t,e,n,i){const{style:r,vars:s,transform:o,transformKeys:a,transformOrigin:l}=t;a.length=0;let c=!1,u=!1,h=!0;for(const d in e){const f=e[d];if(XR(d)){s[d]=f;continue}const p=QR[d],g=M4(f,p);if(ha.has(d)){if(c=!0,o[d]=g,a.push(d),!h)continue;f!==(p.default||0)&&(h=!1)}else d.startsWith("origin")?(u=!0,l[d]=g):r[d]=g}if(e.transform||(c||i?r.transform=O4(t,n,h,i):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:p=0}=l;r.transformOrigin=`${d} ${f} ${p}`}}const i_=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function JR(t,e,n){for(const i in e)!Wt(e[i])&&!YR(i,n)&&(t[i]=e[i])}function F4({transformTemplate:t},e,n){return x.useMemo(()=>{const i=i_();return n_(i,e,{enableHardwareAcceleration:!n},t),Object.assign({},i.vars,i.style)},[e])}function $4(t,e,n){const i=t.style||{},r={};return JR(r,i,t),Object.assign(r,F4(t,e,n)),t.transformValues?t.transformValues(r):r}function V4(t,e,n){const i={},r=$4(t,e,n);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),i.style=r,i}const B4=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],U4=["whileTap","onTap","onTapStart","onTapCancel"],j4=["onPan","onPanStart","onPanSessionStart","onPanEnd"],z4=["whileInView","onViewportEnter","onViewportLeave","viewport"],W4=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","layoutScroll","layoutRoot","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd",...z4,...U4,...B4,...j4]);function Rd(t){return W4.has(t)}let ZR=t=>!Rd(t);function H4(t){t&&(ZR=e=>e.startsWith("on")?!Rd(e):t(e))}try{H4(require("@emotion/is-prop-valid").default)}catch{}function K4(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(ZR(r)||n===!0&&Rd(r)||!e&&!Rd(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function Gx(t,e,n){return typeof t=="string"?t:z.transform(e+n*t)}function q4(t,e,n){const i=Gx(e,t.x,t.width),r=Gx(n,t.y,t.height);return`${i} ${r}`}const G4={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y4={offset:"strokeDashoffset",array:"strokeDasharray"};function X4(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?G4:Y4;t[s.offset]=z.transform(-i);const o=z.transform(e),a=z.transform(n);t[s.array]=`${o} ${a}`}function r_(t,{attrX:e,attrY:n,originX:i,originY:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},c,u,h){if(n_(t,l,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f,dimensions:p}=t;d.transform&&(p&&(f.transform=d.transform),delete d.transform),p&&(i!==void 0||r!==void 0||f.transform)&&(f.transformOrigin=q4(p,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),s!==void 0&&X4(d,s,o,a,!1)}const eO=()=>({...i_(),attrs:{}}),s_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Q4(t,e,n,i){const r=x.useMemo(()=>{const s=eO();return r_(s,e,{enableHardwareAcceleration:!1},s_(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};JR(s,t.style,t),r.style={...s,...r.style}}return r}function J4(t=!1){return(n,i,r,s,{latestValues:o},a)=>{const c=(t_(n)?Q4:V4)(i,o,a,n),h={...K4(i,typeof n=="string",t),...c,ref:s},{children:d}=i,f=x.useMemo(()=>Wt(d)?d.get():d,[d]);return r&&(h["data-projection-id"]=r),x.createElement(n,{...h,children:f})}}const o_=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function tO(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const nO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iO(t,e,n,i){tO(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(nO.has(r)?r:o_(r),e.attrs[r])}function a_(t,e){const{style:n}=t,i={};for(const r in n)(Wt(n[r])||e.style&&Wt(e.style[r])||YR(r,t))&&(i[r]=n[r]);return i}function rO(t,e){const n=a_(t,e);for(const i in t)if(Wt(t[i])||Wt(e[i])){const r=i==="x"||i==="y"?"attr"+i.toUpperCase():i;n[r]=t[i]}return n}function l_(t,e,n,i={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),e}const Od=t=>Array.isArray(t),Z4=t=>Boolean(t&&typeof t=="object"&&t.mix&&t.toValue),e6=t=>Od(t)?t[t.length-1]||0:t;function yh(t){const e=Wt(t)?t.get():t;return Z4(e)?e.toValue():e}function t6({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},i,r,s){const o={latestValues:n6(i,r,s,t),renderState:e()};return n&&(o.mount=a=>n(i,a,o)),o}const sO=t=>(e,n)=>{const i=x.useContext(mp),r=x.useContext(Hc),s=()=>t6(t,e,i,r);return n?s():_p(s)};function n6(t,e,n,i){const r={},s=i(t,{});for(const d in s)r[d]=yh(s[d]);let{initial:o,animate:a}=t;const l=wp(t),c=qR(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;return h&&typeof h!="boolean"&&!vp(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const p=l_(t,f);if(!p)return;const{transitionEnd:g,transition:v,...y}=p;for(const m in y){let w=y[m];if(Array.isArray(w)){const _=u?w.length-1:0;w=w[_]}w!==null&&(r[m]=w)}for(const m in g)r[m]=g[m]}),r}const i6={useVisualState:sO({scrapeMotionValuesFromProps:rO,createRenderState:eO,onMount:(t,e,{renderState:n,latestValues:i})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}r_(n,i,{enableHardwareAcceleration:!1},s_(e.tagName),t.transformTemplate),iO(e,n)}})},r6={useVisualState:sO({scrapeMotionValuesFromProps:a_,createRenderState:i_})};function s6(t,{forwardMotionProps:e=!1},n,i,r){return{...t_(t)?i6:r6,preloadedFeatures:n,useRender:J4(e),createVisualElement:i,projectionNodeConstructor:r,Component:t}}var ge;(function(t){t.Animate="animate",t.Hover="whileHover",t.Tap="whileTap",t.Drag="whileDrag",t.Focus="whileFocus",t.InView="whileInView",t.Exit="exit"})(ge||(ge={}));function bp(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Gy(t,e,n,i){x.useEffect(()=>{const r=t.current;if(n&&r)return bp(r,e,n,i)},[t,e,n,i])}function o6({whileFocus:t,visualElement:e}){const{animationState:n}=e,i=x.useCallback(()=>{n&&n.setActive(ge.Focus,!0)},[n]),r=x.useCallback(()=>{n&&n.setActive(ge.Focus,!1)},[n]);Gy(e,"focus",t?i:void 0),Gy(e,"blur",t?r:void 0)}const oO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function c_(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const aO=t=>e=>oO(e)&&t(e,c_(e));function ko(t,e,n,i){return bp(t,e,aO(n),i)}function Md(t,e,n,i){return Gy(t,e,n&&aO(n),i)}function lO(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Yx=lO("dragHorizontal"),Xx=lO("dragVertical");function cO(t){let e=!1;if(t==="y")e=Xx();else if(t==="x")e=Yx();else{const n=Yx(),i=Xx();n&&i?e=()=>{n(),i()}:(n&&n(),i&&i())}return e}function uO(){const t=cO(!0);return t?(t(),!1):!0}function Qx(t,e,n,i){return(r,s)=>{r.type==="touch"||uO()||(n&&t.animationState&&t.animationState.setActive(ge.Hover,e),i&&i(r,s))}}function a6({onHoverStart:t,onHoverEnd:e,whileHover:n,visualElement:i}){Md(i,"pointerenter",x.useMemo(()=>t||n?Qx(i,!0,Boolean(n),t):void 0,[t,Boolean(n),i]),{passive:!t}),Md(i,"pointerleave",x.useMemo(()=>e||n?Qx(i,!1,Boolean(n),e):void 0,[t,Boolean(n),i]),{passive:!e})}const hO=(t,e)=>e?t===e?!0:hO(t,e.parentElement):!1;function u_(t){return x.useEffect(()=>()=>t(),[])}const l6=(t,e)=>n=>e(t(n)),xp=(...t)=>t.reduce(l6);function c6({onTap:t,onTapStart:e,onTapCancel:n,whileTap:i,visualElement:r,...s}){const o=t||e||n||i,a=x.useRef(!1),l=x.useRef(null),c={passive:!(e||t||n||s.onPointerDown)};function u(){l.current&&l.current(),l.current=null}function h(){return u(),a.current=!1,r.getProps().whileTap&&r.animationState&&r.animationState.setActive(ge.Tap,!1),!uO()}function d(g,v){var y,m,w,_;h()&&(hO(r.current,g.target)?(_=(w=r.getProps()).onTap)===null||_===void 0||_.call(w,g,v):(m=(y=r.getProps()).onTapCancel)===null||m===void 0||m.call(y,g,v))}function f(g,v){var y,m;h()&&((m=(y=r.getProps()).onTapCancel)===null||m===void 0||m.call(y,g,v))}const p=x.useCallback((g,v)=>{var y;if(u(),a.current)return;a.current=!0,l.current=xp(ko(window,"pointerup",d,c),ko(window,"pointercancel",f,c));const m=r.getProps();m.whileTap&&r.animationState&&r.animationState.setActive(ge.Tap,!0),(y=m.onTapStart)===null||y===void 0||y.call(m,g,v)},[Boolean(e),r]);Md(r,"pointerdown",o?p:void 0,c),u_(u)}const Yy=new WeakMap,Mg=new WeakMap,u6=t=>{const e=Yy.get(t.target);e&&e(t)},h6=t=>{t.forEach(u6)};function d6({root:t,...e}){const n=t||document;Mg.has(n)||Mg.set(n,{});const i=Mg.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(h6,{root:t,...e})),i[r]}function f6(t,e,n){const i=d6(e);return Yy.set(t,n),i.observe(t),()=>{Yy.delete(t),i.unobserve(t)}}function p6({visualElement:t,whileInView:e,onViewportEnter:n,onViewportLeave:i,viewport:r={}}){const s=x.useRef({hasEnteredView:!1,isInView:!1});let o=Boolean(e||n||i);r.once&&s.current.hasEnteredView&&(o=!1),(typeof IntersectionObserver>"u"?y6:m6)(o,s.current,t,r)}const g6={some:0,all:1};function m6(t,e,n,{root:i,margin:r,amount:s="some",once:o}){x.useEffect(()=>{if(!t||!n.current)return;const a={root:i==null?void 0:i.current,rootMargin:r,threshold:typeof s=="number"?s:g6[s]},l=c=>{const{isIntersecting:u}=c;if(e.isInView===u||(e.isInView=u,o&&!u&&e.hasEnteredView))return;u&&(e.hasEnteredView=!0),n.animationState&&n.animationState.setActive(ge.InView,u);const h=n.getProps(),d=u?h.onViewportEnter:h.onViewportLeave;d&&d(c)};return f6(n.current,a,l)},[t,i,r,s])}function y6(t,e,n,{fallback:i=!0}){x.useEffect(()=>{!t||!i||requestAnimationFrame(()=>{e.hasEnteredView=!0;const{onViewportEnter:r}=n.getProps();r&&r(null),n.animationState&&n.animationState.setActive(ge.InView,!0)})},[t])}const nr=t=>e=>(t(e),null),v6={inView:nr(p6),tap:nr(c6),focus:nr(o6),hover:nr(a6)};function dO(){const t=x.useContext(Hc);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,r=x.useId();return x.useEffect(()=>i(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}function fO(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const w6=t=>/^\-?\d*\.?\d+$/.test(t),_6=t=>/^0[^.\s]+$/.test(t),Ii={delta:0,timestamp:0},pO=1/60*1e3,b6=typeof performance<"u"?()=>performance.now():()=>Date.now(),gO=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(b6()),pO);function x6(t){let e=[],n=[],i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const h=u&&r,d=h?e:n;return c&&o.add(l),d.indexOf(l)===-1&&(d.push(l),h&&r&&(i=e.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,n]=[n,e],n.length=0,i=e.length,i)for(let c=0;c<i;c++){const u=e[c];u(l),o.has(u)&&(a.schedule(u),t())}r=!1,s&&(s=!1,a.process(l))}};return a}const S6=40;let Xy=!0,ac=!1,Qy=!1;const Gc=["read","update","preRender","render","postRender"],Sp=Gc.reduce((t,e)=>(t[e]=x6(()=>ac=!0),t),{}),Dt=Gc.reduce((t,e)=>{const n=Sp[e];return t[e]=(i,r=!1,s=!1)=>(ac||k6(),n.schedule(i,r,s)),t},{}),Rr=Gc.reduce((t,e)=>(t[e]=Sp[e].cancel,t),{}),Dg=Gc.reduce((t,e)=>(t[e]=()=>Sp[e].process(Ii),t),{}),E6=t=>Sp[t].process(Ii),mO=t=>{ac=!1,Ii.delta=Xy?pO:Math.max(Math.min(t-Ii.timestamp,S6),1),Ii.timestamp=t,Qy=!0,Gc.forEach(E6),Qy=!1,ac&&(Xy=!1,gO(mO))},k6=()=>{ac=!0,Xy=!0,Qy||gO(mO)};function h_(t,e){t.indexOf(e)===-1&&t.push(e)}function d_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class f_{constructor(){this.subscriptions=[]}add(e){return h_(this.subscriptions,e),()=>d_(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function p_(t,e){return e?t*(1e3/e):0}const T6=t=>!isNaN(parseFloat(t));class C6{constructor(e,n={}){this.version="8.5.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=Ii;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Dt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Dt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=T6(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new f_);const i=this.events[e].add(n);return e==="change"?()=>{i(),Dt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?p_(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ho(t,e){return new C6(t,e)}const g_=(t,e)=>n=>Boolean(Kc(n)&&D4.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),yO=(t,e,n)=>i=>{if(!Kc(i))return i;const[r,s,o,a]=i.match(oc);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},I6=t=>Wo(0,255,t),Lg={...Us,transform:t=>Math.round(I6(t))},cs={test:g_("rgb","red"),parse:yO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Lg.transform(t)+", "+Lg.transform(e)+", "+Lg.transform(n)+", "+hl(ul.transform(i))+")"};function P6(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Jy={test:g_("#"),parse:P6,transform:cs.transform},uo={test:g_("hsl","hue"),parse:yO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Jn.transform(hl(e))+", "+Jn.transform(hl(n))+", "+hl(ul.transform(i))+")"},Pt={test:t=>cs.test(t)||Jy.test(t)||uo.test(t),parse:t=>cs.test(t)?cs.parse(t):uo.test(t)?uo.parse(t):Jy.parse(t),transform:t=>Kc(t)?t:t.hasOwnProperty("red")?cs.transform(t):uo.transform(t)},vO="${c}",wO="${n}";function A6(t){var e,n;return isNaN(t)&&Kc(t)&&(((e=t.match(oc))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(qy))===null||n===void 0?void 0:n.length)||0)>0}function Dd(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0,i=0;const r=t.match(qy);r&&(n=r.length,t=t.replace(qy,vO),e.push(...r.map(Pt.parse)));const s=t.match(oc);return s&&(i=s.length,t=t.replace(oc,wO),e.push(...s.map(Us.parse))),{values:e,numColors:n,numNumbers:i,tokenised:t}}function _O(t){return Dd(t).values}function bO(t){const{values:e,numColors:n,tokenised:i}=Dd(t),r=e.length;return s=>{let o=i;for(let a=0;a<r;a++)o=o.replace(a<n?vO:wO,a<n?Pt.transform(s[a]):hl(s[a]));return o}}const R6=t=>typeof t=="number"?0:t;function O6(t){const e=_O(t);return bO(t)(e.map(R6))}const Or={test:A6,parse:_O,createTransformer:bO,getAnimatableNone:O6},M6=new Set(["brightness","contrast","saturate","opacity"]);function D6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(oc)||[];if(!i)return t;const r=n.replace(i,"");let s=M6.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const L6=/([a-z-]*)\(.*?\)/g,Zy={...Or,getAnimatableNone:t=>{const e=t.match(L6);return e?e.map(D6).join(" "):t}},N6={...QR,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:Zy,WebkitFilter:Zy},m_=t=>N6[t];function y_(t,e){var n;let i=m_(t);return i!==Zy&&(i=Or),(n=i.getAnimatableNone)===null||n===void 0?void 0:n.call(i,e)}const xO=t=>e=>e.test(t),F6={test:t=>t==="auto",parse:t=>t},SO=[Us,z,Jn,Wi,N4,L4,F6],xa=t=>SO.find(xO(t)),$6=[...SO,Pt,Or],V6=t=>$6.find(xO(t));function B6(t){const e={};return t.values.forEach((n,i)=>e[i]=n.get()),e}function U6(t){const e={};return t.values.forEach((n,i)=>e[i]=n.getVelocity()),e}function Ep(t,e,n){const i=t.getProps();return l_(i,e,n!==void 0?n:i.custom,B6(t),U6(t))}function j6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ho(n))}function z6(t,e){const n=Ep(t,e);let{transitionEnd:i={},transition:r={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...i};for(const o in s){const a=e6(s[o]);j6(t,o,a)}}function W6(t,e,n){var i,r;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(r=(i=n[l])!==null&&i!==void 0?i:t.readValue(l))!==null&&r!==void 0?r:e[l]),u!=null&&(typeof u=="string"&&(w6(u)||_6(u))?u=parseFloat(u):!V6(u)&&Or.test(c)&&(u=y_(l,c)),t.addValue(l,Ho(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function H6(t,e){return e?(e[t]||e.default||e).from:void 0}function K6(t,e,n){var i;const r={};for(const s in t){const o=H6(s,e);r[s]=o!==void 0?o:(i=n.getValue(s))===null||i===void 0?void 0:i.get()}return r}function Ld(t){return Boolean(Wt(t)&&t.add)}const q6="framerAppearId",G6="data-"+o_(q6);var Y6=function(){},Nd=function(){};const vh=t=>t*1e3,X6={current:!1},v_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,w_=t=>e=>1-t(1-e),__=t=>t*t,Q6=w_(__),b_=v_(__),De=(t,e,n)=>-n*t+n*e+t;function Ng(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function J6({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=Ng(l,a,t+1/3),s=Ng(l,a,t),o=Ng(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const Fg=(t,e,n)=>{const i=t*t;return Math.sqrt(Math.max(0,n*(e*e-i)+i))},Z6=[Jy,cs,uo],e8=t=>Z6.find(e=>e.test(t));function Jx(t){const e=e8(t);let n=e.parse(t);return e===uo&&(n=J6(n)),n}const EO=(t,e)=>{const n=Jx(t),i=Jx(e),r={...n};return s=>(r.red=Fg(n.red,i.red,s),r.green=Fg(n.green,i.green,s),r.blue=Fg(n.blue,i.blue,s),r.alpha=De(n.alpha,i.alpha,s),cs.transform(r))};function kO(t,e){return typeof t=="number"?n=>De(t,e,n):Pt.test(t)?EO(t,e):CO(t,e)}const TO=(t,e)=>{const n=[...t],i=n.length,r=t.map((s,o)=>kO(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}},t8=(t,e)=>{const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=kO(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}},CO=(t,e)=>{const n=Or.createTransformer(e),i=Dd(t),r=Dd(e);return i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?xp(TO(i.values,r.values),n):o=>`${o>0?e:t}`},Fd=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Zx=(t,e)=>n=>De(t,e,n);function n8(t){return typeof t=="number"?Zx:typeof t=="string"?Pt.test(t)?EO:CO:Array.isArray(t)?TO:typeof t=="object"?t8:Zx}function i8(t,e,n){const i=[],r=n||n8(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=xp(l,a)}i.push(a)}return i}function IO(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;Nd(s===e.length),Nd(!i||!Array.isArray(i)||i.length===s-1),t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=i8(e,i,r),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const h=Fd(t[u],t[u+1],c);return o[u](h)};return n?c=>l(Wo(t[0],t[s-1],c)):l}const x_=t=>t,PO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,r8=1e-7,s8=12;function o8(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=PO(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>r8&&++a<s8);return o}function AO(t,e,n,i){if(t===e&&n===i)return x_;const r=s=>o8(s,0,1,t,n);return s=>s===0||s===1?s:PO(r(s),e,i)}const RO=t=>1-Math.sin(Math.acos(t)),S_=w_(RO),a8=v_(S_),OO=AO(.33,1.53,.69,.99),E_=w_(OO),l8=v_(E_),c8=t=>(t*=2)<1?.5*E_(t):.5*(2-Math.pow(2,-10*(t-1))),u8={linear:x_,easeIn:__,easeInOut:b_,easeOut:Q6,circIn:RO,circInOut:a8,circOut:S_,backIn:E_,backInOut:l8,backOut:OO,anticipate:c8},eS=t=>{if(Array.isArray(t)){Nd(t.length===4);const[e,n,i,r]=t;return AO(e,n,i,r)}else if(typeof t=="string")return u8[t];return t},h8=t=>Array.isArray(t)&&typeof t[0]!="number";function d8(t,e){return t.map(()=>e||b_).splice(0,t.length-1)}function f8(t){const e=t.length;return t.map((n,i)=>i!==0?i/(e-1):0)}function p8(t,e){return t.map(n=>n*e)}function ev({keyframes:t,ease:e=b_,times:n,duration:i=300}){t=[...t];const r=h8(e)?e.map(eS):eS(e),s={done:!1,value:t[0]},o=p8(n&&n.length===t.length?n:f8(t),i);function a(){return IO(o,t,{ease:Array.isArray(r)?r:d8(t,r)})}let l=a();return{next:c=>(s.value=l(c),s.done=c>=i,s),flipTarget:()=>{t.reverse(),l=a()}}}const $g=.001,g8=.01,tS=10,m8=.05,y8=1;function v8({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let r,s;Y6(t<=tS*1e3);let o=1-e;o=Wo(m8,y8,o),t=Wo(g8,tS,t/1e3),o<1?(r=c=>{const u=c*o,h=u*t,d=u-n,f=tv(c,o),p=Math.exp(-h);return $g-d/f*p},s=c=>{const h=c*o*t,d=h*n+n,f=Math.pow(o,2)*Math.pow(c,2)*t,p=Math.exp(-h),g=tv(Math.pow(c,2),o);return(-r(c)+$g>0?-1:1)*((d-f)*p)/g}):(r=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-$g+u*h},s=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=_8(r,s,a);if(t=t*1e3,isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const w8=12;function _8(t,e,n){let i=n;for(let r=1;r<w8;r++)i=i-t(i)/e(i);return i}function tv(t,e){return t*Math.sqrt(1-e*e)}const b8=["duration","bounce"],x8=["stiffness","damping","mass"];function nS(t,e){return e.some(n=>t[n]!==void 0)}function S8(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!nS(t,x8)&&nS(t,b8)){const n=v8(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const E8=5;function MO({keyframes:t,restDelta:e,restSpeed:n,...i}){let r=t[0],s=t[t.length-1];const o={done:!1,value:r},{stiffness:a,damping:l,mass:c,velocity:u,duration:h,isResolvedFromDuration:d}=S8(i);let f=k8,p=u?-(u/1e3):0;const g=l/(2*Math.sqrt(a*c));function v(){const y=s-r,m=Math.sqrt(a/c)/1e3,w=Math.abs(y)<5;if(n||(n=w?.01:2),e||(e=w?.005:.5),g<1){const _=tv(m,g);f=b=>{const S=Math.exp(-g*m*b);return s-S*((p+g*m*y)/_*Math.sin(_*b)+y*Math.cos(_*b))}}else if(g===1)f=_=>s-Math.exp(-m*_)*(y+(p+m*y)*_);else{const _=m*Math.sqrt(g*g-1);f=b=>{const S=Math.exp(-g*m*b),k=Math.min(_*b,300);return s-S*((p+g*m*y)*Math.sinh(k)+_*y*Math.cosh(k))/_}}}return v(),{next:y=>{const m=f(y);if(d)o.done=y>=h;else{let w=p;if(y!==0)if(g<1){const S=Math.max(0,y-E8);w=p_(m-f(S),y-S)}else w=0;const _=Math.abs(w)<=n,b=Math.abs(s-m)<=e;o.done=_&&b}return o.value=o.done?s:m,o},flipTarget:()=>{p=-p,[r,s]=[s,r],v()}}}MO.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const k8=t=>0;function T8({keyframes:t=[0],velocity:e=0,power:n=.8,timeConstant:i=350,restDelta:r=.5,modifyTarget:s}){const o=t[0],a={done:!1,value:o};let l=n*e;const c=o+l,u=s===void 0?c:s(c);return u!==c&&(l=u-o),{next:h=>{const d=-l*Math.exp(-h/i);return a.done=!(d>r||d<-r),a.value=a.done?u:u+d,a},flipTarget:()=>{}}}const C8={decay:T8,keyframes:ev,tween:ev,spring:MO};function DO(t,e,n=0){return t-e-n}function I8(t,e=0,n=0,i=!0){return i?DO(e+-t,e,n):e-(t-e)+n}function P8(t,e,n,i){return i?t>=e+n:t<=-n}const A8=t=>{const e=({delta:n})=>t(n);return{start:()=>Dt.update(e,!0),stop:()=>Rr.update(e)}};function $d({duration:t,driver:e=A8,elapsed:n=0,repeat:i=0,repeatType:r="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:l,onStop:c,onComplete:u,onRepeat:h,onUpdate:d,type:f="keyframes",...p}){var g,v;const y=n;let m,w=0,_=t,b=!1,S=!0,k;const T=C8[o.length>2?"keyframes":f]||ev,I=o[0],C=o[o.length-1];let D={done:!1,value:I};!((v=(g=T).needsInterpolation)===null||v===void 0)&&v.call(g,I,C)&&(k=IO([0,100],[I,C],{clamp:!1}),o=[0,100]);const G=T({...p,duration:t,keyframes:o});function de(){w++,r==="reverse"?(S=w%2===0,n=I8(n,_,s,S)):(n=DO(n,_,s),r==="mirror"&&G.flipTarget()),b=!1,h&&h()}function Oe(){m&&m.stop(),u&&u()}function j(J){S||(J=-J),n+=J,b||(D=G.next(Math.max(0,n)),k&&(D.value=k(D.value)),b=S?D.done:n<=0),d&&d(D.value),b&&(w===0&&(_=_!==void 0?_:n),w<i?P8(n,_,s,S)&&de():Oe())}function Z(){l&&l(),m=e(j),m.start()}return a&&Z(),{stop:()=>{c&&c(),m&&m.stop()},set currentTime(J){n=y,j(J)},sample:J=>{n=y;const O=t&&typeof t=="number"?Math.max(t*.5,50):50;let F=0;for(j(0);F<=J;){const W=J-F;j(Math.min(W,O)),F+=O}return D}}}function R8(t){return!t||Array.isArray(t)||typeof t=="string"&&LO[t]}const Ba=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,LO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ba([0,.65,.55,1]),circOut:Ba([.55,0,1,.45]),backIn:Ba([.31,.01,.66,-.59]),backOut:Ba([.33,1.53,.69,.99])};function O8(t){if(t)return Array.isArray(t)?Ba(t):LO[t]}function M8(t,e,n,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){return t.animate({[e]:n,offset:l},{delay:i,duration:r,easing:O8(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const iS={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},Vg={},NO={};for(const t in iS)NO[t]=()=>(Vg[t]===void 0&&(Vg[t]=iS[t]()),Vg[t]);function D8(t,{repeat:e,repeatType:n="loop"}){const i=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[i]}const L8=new Set(["opacity"]),Cu=10;function N8(t,e,{onUpdate:n,onComplete:i,...r}){if(!(NO.waapi()&&L8.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0))return!1;let{keyframes:o,duration:a=300,elapsed:l=0,ease:c}=r;if(r.type==="spring"||!R8(r.ease)){if(r.repeat===1/0)return;const h=$d({...r,elapsed:0});let d={done:!1,value:o[0]};const f=[];let p=0;for(;!d.done&&p<2e4;)d=h.sample(p),f.push(d.value),p+=Cu;o=f,a=p-Cu,c="linear"}const u=M8(t.owner.current,e,o,{...r,delay:-l,duration:a,ease:c});return u.onfinish=()=>{t.set(D8(o,r)),i&&i()},{get currentTime(){return u.currentTime||0},set currentTime(h){u.currentTime=h},stop:()=>{const{currentTime:h}=u;if(h){const d=$d({...r,autoplay:!1});t.setWithVelocity(d.sample(h-Cu).value,d.sample(h).value,Cu)}Dt.update(()=>u.cancel())}}}function FO(t,e){const n=performance.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(Rr.read(i),t(s-e))};return Dt.read(i,!0),()=>Rr.read(i)}function F8({keyframes:t,elapsed:e,onUpdate:n,onComplete:i}){const r=()=>{n&&n(t[t.length-1]),i&&i()};return e?{stop:FO(r,-e)}:r()}function $8({keyframes:t,velocity:e=0,min:n,max:i,power:r=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:c,driver:u,onUpdate:h,onComplete:d,onStop:f}){const p=t[0];let g;function v(_){return n!==void 0&&_<n||i!==void 0&&_>i}function y(_){return n===void 0?i:i===void 0||Math.abs(n-_)<Math.abs(i-_)?n:i}function m(_){g==null||g.stop(),g=$d({keyframes:[0,1],velocity:0,..._,driver:u,onUpdate:b=>{var S;h==null||h(b),(S=_.onUpdate)===null||S===void 0||S.call(_,b)},onComplete:d,onStop:f})}function w(_){m({type:"spring",stiffness:o,damping:a,restDelta:l,..._})}if(v(p))w({velocity:e,keyframes:[p,y(p)]});else{let _=r*e+p;typeof c<"u"&&(_=c(_));const b=y(_),S=b===n?-1:1;let k,T;const I=C=>{k=T,T=C,e=p_(C-k,Ii.delta),(S===1&&C>b||S===-1&&C<b)&&w({keyframes:[C,b],velocity:e})};m({type:"decay",keyframes:[p,0],velocity:e,timeConstant:s,power:r,restDelta:l,modifyTarget:c,onUpdate:v(_)?I:void 0})}return{stop:()=>g==null?void 0:g.stop()}}const zr=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),Iu=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Bg=()=>({type:"keyframes",ease:"linear",duration:.3}),V8={type:"keyframes",duration:.8},rS={x:zr,y:zr,z:zr,rotate:zr,rotateX:zr,rotateY:zr,rotateZ:zr,scaleX:Iu,scaleY:Iu,scale:Iu,opacity:Bg,backgroundColor:Bg,color:Bg,default:Iu},B8=(t,{keyframes:e})=>e.length>2?V8:(rS[t]||rS.default)(e[1]),nv=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Or.test(e)&&!e.startsWith("url("));function U8({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function sS(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function oS(t){return typeof t=="number"?0:y_("",t)}function $O(t,e){return t[e]||t.default||t}function j8(t,e,n,i){const r=nv(e,n);let s=i.from!==void 0?i.from:t.get();return s==="none"&&r&&typeof n=="string"?s=y_(e,n):sS(s)&&typeof n=="string"?s=oS(n):!Array.isArray(n)&&sS(n)&&typeof s=="string"&&(n=oS(s)),Array.isArray(n)?(n[0]===null&&(n[0]=s),n):[s,n]}const k_=(t,e,n,i={})=>r=>{const s=$O(i,t)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-vh(o);const l=j8(e,t,n,s),c=l[0],u=l[l.length-1],h=nv(t,c),d=nv(t,u);let f={keyframes:l,velocity:e.getVelocity(),...s,elapsed:a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(!h||!d||X6.current||s.type===!1)return F8(f);if(s.type==="inertia")return $8(f);U8(s)||(f={...f,...B8(t,f)}),f.duration&&(f.duration=vh(f.duration)),f.repeatDelay&&(f.repeatDelay=vh(f.repeatDelay));const p=e.owner,g=p&&p.current;if(p&&g instanceof HTMLElement&&!(p!=null&&p.getProps().onUpdate)){const v=N8(e,t,f);if(v)return v}return $d(f)};function z8(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>iv(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=iv(t,e,n);else{const r=typeof e=="function"?Ep(t,e,n.custom):e;i=VO(t,r,n)}return i.then(()=>t.notify("AnimationComplete",e))}function iv(t,e,n={}){var i;const r=Ep(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>VO(t,r,n):()=>Promise.resolve(),a=!((i=t.variantChildren)===null||i===void 0)&&i.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:d}=s;return W8(t,e,u+c,h,d,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(u)}else return Promise.all([o(),a(n.delay)])}function VO(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");i&&(o=i);const u=[],h=r&&((s=t.animationState)===null||s===void 0?void 0:s.getState()[r]);for(const d in l){const f=t.getValue(d),p=l[d];if(!f||p===void 0||h&&K8(h,d))continue;const g={delay:n,elapsed:0,...o};if(window.HandoffAppearAnimations&&!f.hasAnimated){const y=t.getProps()[G6];y&&(g.elapsed=window.HandoffAppearAnimations(y,d,f,Dt))}let v=f.start(k_(d,f,p,t.shouldReduceMotion&&ha.has(d)?{type:!1}:g));Ld(c)&&(c.add(d),v=v.then(()=>c.remove(d))),u.push(v)}return Promise.all(u).then(()=>{a&&z6(t,a)})}function W8(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(H8).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(iv(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function H8(t,e){return t.sortNodePosition(e)}function K8({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}const T_=[ge.Animate,ge.InView,ge.Focus,ge.Hover,ge.Tap,ge.Drag,ge.Exit],q8=[...T_].reverse(),G8=T_.length;function Y8(t){return e=>Promise.all(e.map(({animation:n,options:i})=>z8(t,n,i)))}function X8(t){let e=Y8(t);const n=J8();let i=!0;const r=(l,c)=>{const u=Ep(t,c);if(u){const{transition:h,transitionEnd:d,...f}=u;l={...l,...f,...d}}return l};function s(l){e=l(t)}function o(l,c){const u=t.getProps(),h=t.getVariantContext(!0)||{},d=[],f=new Set;let p={},g=1/0;for(let y=0;y<G8;y++){const m=q8[y],w=n[m],_=u[m]!==void 0?u[m]:h[m],b=rc(_),S=m===c?w.isActive:null;S===!1&&(g=y);let k=_===h[m]&&_!==u[m]&&b;if(k&&i&&t.manuallyAnimateOnMount&&(k=!1),w.protectedKeys={...p},!w.isActive&&S===null||!_&&!w.prevProp||vp(_)||typeof _=="boolean")continue;const T=Q8(w.prevProp,_);let I=T||m===c&&w.isActive&&!k&&b||y>g&&b;const C=Array.isArray(_)?_:[_];let D=C.reduce(r,{});S===!1&&(D={});const{prevResolvedValues:G={}}=w,de={...G,...D},Oe=j=>{I=!0,f.delete(j),w.needsAnimating[j]=!0};for(const j in de){const Z=D[j],J=G[j];p.hasOwnProperty(j)||(Z!==J?Od(Z)&&Od(J)?!fO(Z,J)||T?Oe(j):w.protectedKeys[j]=!0:Z!==void 0?Oe(j):f.add(j):Z!==void 0&&f.has(j)?Oe(j):w.protectedKeys[j]=!0)}w.prevProp=_,w.prevResolvedValues=D,w.isActive&&(p={...p,...D}),i&&t.blockInitialAnimation&&(I=!1),I&&!k&&d.push(...C.map(j=>({animation:j,options:{type:m,...l}})))}if(f.size){const y={};f.forEach(m=>{const w=t.getBaseTarget(m);w!==void 0&&(y[m]=w)}),d.push({animation:y})}let v=Boolean(d.length);return i&&u.initial===!1&&!t.manuallyAnimateOnMount&&(v=!1),i=!1,v?e(d):Promise.resolve()}function a(l,c,u){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const d=o(u,l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function Q8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!fO(e,t):!1}function Wr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function J8(){return{[ge.Animate]:Wr(!0),[ge.InView]:Wr(),[ge.Hover]:Wr(),[ge.Tap]:Wr(),[ge.Drag]:Wr(),[ge.Focus]:Wr(),[ge.Exit]:Wr()}}const Z8={animation:nr(({visualElement:t,animate:e})=>{t.animationState||(t.animationState=X8(t)),vp(e)&&x.useEffect(()=>e.subscribe(t),[e])}),exit:nr(t=>{const{custom:e,visualElement:n}=t,[i,r]=dO(),s=x.useContext(Hc);x.useEffect(()=>{n.isPresent=i;const o=n.animationState&&n.animationState.setActive(ge.Exit,!i,{custom:s&&s.custom||e});o&&!i&&o.then(r)},[i])})},aS=(t,e)=>Math.abs(t-e);function eK(t,e){const n=aS(t.x,e.x),i=aS(t.y,e.y);return Math.sqrt(n**2+i**2)}class BO{constructor(e,n,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=jg(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,h=eK(c.offset,{x:0,y:0})>=3;if(!u&&!h)return;const{point:d}=c,{timestamp:f}=Ii;this.history.push({...d,timestamp:f});const{onStart:p,onMove:g}=this.handlers;u||(p&&p(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=Ug(u,this.transformPagePoint),Dt.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:d}=this.handlers,f=jg(c.type==="pointercancel"?this.lastMoveEventInfo:Ug(u,this.transformPagePoint),this.history);this.startEvent&&h&&h(c,f),d&&d(c,f)},!oO(e))return;this.handlers=n,this.transformPagePoint=i;const r=c_(e),s=Ug(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=Ii;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,jg(s,this.history)),this.removeListeners=xp(ko(window,"pointermove",this.handlePointerMove),ko(window,"pointerup",this.handlePointerUp),ko(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Rr.update(this.updatePoint)}}function Ug(t,e){return e?{point:e(t.point)}:t}function lS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jg({point:t},e){return{point:t,delta:lS(t,UO(e)),offset:lS(t,tK(e)),velocity:nK(e,.1)}}function tK(t){return t[0]}function UO(t){return t[t.length-1]}function nK(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=UO(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>vh(e)));)n--;if(!i)return{x:0,y:0};const s=(r.timestamp-i.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function rn(t){return t.max-t.min}function rv(t,e=0,n=.01){return Math.abs(t-e)<=n}function cS(t,e,n,i=.5){t.origin=i,t.originPoint=De(e.min,e.max,t.origin),t.scale=rn(n)/rn(e),(rv(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=De(n.min,n.max,t.origin)-t.originPoint,(rv(t.translate)||isNaN(t.translate))&&(t.translate=0)}function dl(t,e,n,i){cS(t.x,e.x,n.x,i==null?void 0:i.originX),cS(t.y,e.y,n.y,i==null?void 0:i.originY)}function uS(t,e,n){t.min=n.min+e.min,t.max=t.min+rn(e)}function iK(t,e,n){uS(t.x,e.x,n.x),uS(t.y,e.y,n.y)}function hS(t,e,n){t.min=e.min-n.min,t.max=t.min+rn(e)}function fl(t,e,n){hS(t.x,e.x,n.x),hS(t.y,e.y,n.y)}function rK(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?De(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?De(n,t,i.max):Math.min(t,n)),t}function dS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function sK(t,{top:e,left:n,bottom:i,right:r}){return{x:dS(t.x,n,r),y:dS(t.y,e,i)}}function fS(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function oK(t,e){return{x:fS(t.x,e.x),y:fS(t.y,e.y)}}function aK(t,e){let n=.5;const i=rn(t),r=rn(e);return r>i?n=Fd(e.min,e.max-i,t.min):i>r&&(n=Fd(t.min,t.max-r,e.min)),Wo(0,1,n)}function lK(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const sv=.35;function cK(t=sv){return t===!1?t=0:t===!0&&(t=sv),{x:pS(t,"left","right"),y:pS(t,"top","bottom")}}function pS(t,e,n){return{min:gS(t,e),max:gS(t,n)}}function gS(t,e){return typeof t=="number"?t:t[e]||0}const mS=()=>({translate:0,scale:1,origin:0,originPoint:0}),pl=()=>({x:mS(),y:mS()}),yS=()=>({min:0,max:0}),Ke=()=>({x:yS(),y:yS()});function Vn(t){return[t("x"),t("y")]}function jO({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function uK({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function hK(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function zg(t){return t===void 0||t===1}function ov({scale:t,scaleX:e,scaleY:n}){return!zg(t)||!zg(e)||!zg(n)}function Zr(t){return ov(t)||zO(t)||t.z||t.rotate||t.rotateX||t.rotateY}function zO(t){return vS(t.x)||vS(t.y)}function vS(t){return t&&t!=="0%"}function Vd(t,e,n){const i=t-n,r=e*i;return n+r}function wS(t,e,n,i,r){return r!==void 0&&(t=Vd(t,r,i)),Vd(t,n,i)+e}function av(t,e=0,n=1,i,r){t.min=wS(t.min,e,n,i,r),t.max=wS(t.max,e,n,i,r)}function WO(t,{x:e,y:n}){av(t.x,e.translate,e.scale,e.originPoint),av(t.y,n.translate,n.scale,n.originPoint)}function dK(t,e,n,i=!1){var r,s;const o=n.length;if(!o)return;e.x=e.y=1;let a,l;for(let c=0;c<o;c++)a=n[c],l=a.projectionDelta,((s=(r=a.instance)===null||r===void 0?void 0:r.style)===null||s===void 0?void 0:s.display)!=="contents"&&(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ho(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,WO(t,l)),i&&Zr(a.latestValues)&&ho(t,a.latestValues));e.x=_S(e.x),e.y=_S(e.y)}function _S(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function qi(t,e){t.min=t.min+e,t.max=t.max+e}function bS(t,e,[n,i,r]){const s=e[r]!==void 0?e[r]:.5,o=De(t.min,t.max,s);av(t,e[n],e[i],o,e.scale)}const fK=["x","scaleX","originX"],pK=["y","scaleY","originY"];function ho(t,e){bS(t.x,e,fK),bS(t.y,e,pK)}function HO(t,e){return jO(hK(t.getBoundingClientRect(),e))}function gK(t,e,n){const i=HO(t,n),{scroll:r}=e;return r&&(qi(i.x,r.offset.x),qi(i.y,r.offset.y)),i}const mK=new WeakMap;class yK{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ke(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){if(this.visualElement.isPresent===!1)return;const i=a=>{this.stopAnimation(),n&&this.snapToCursor(c_(a,"page").point)},r=(a,l)=>{var c;const{drag:u,dragPropagation:h,onDragStart:d}=this.getProps();u&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=cO(u),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(f=>{var p,g;let v=this.getAxisMotionValue(f).get()||0;if(Jn.test(v)){const y=(g=(p=this.visualElement.projection)===null||p===void 0?void 0:p.layout)===null||g===void 0?void 0:g.layoutBox[f];y&&(v=rn(y)*(parseFloat(v)/100))}this.originPoint[f]=v}),d==null||d(a,l),(c=this.visualElement.animationState)===null||c===void 0||c.setActive(ge.Drag,!0))},s=(a,l)=>{const{dragPropagation:c,dragDirectionLock:u,onDirectionLock:h,onDrag:d}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:f}=l;if(u&&this.currentDirection===null){this.currentDirection=vK(f),this.currentDirection!==null&&(h==null||h(this.currentDirection));return}this.updateAxis("x",l.point,f),this.updateAxis("y",l.point,f),this.visualElement.render(),d==null||d(a,l)},o=(a,l)=>this.stop(a,l);this.panSession=new BO(e,{onSessionStart:i,onStart:r,onMove:s,onSessionEnd:o},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s==null||s(e,n)}cancel(){var e,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(ge.Drag,!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Pu(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=rK(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&co(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=sK(i.layoutBox,e):this.constraints=!1,this.elastic=cK(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Vn(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=lK(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!co(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=gK(i,r.root,this.visualElement.getTransformPagePoint());let o=oK(r.layout.layoutBox,s);if(n){const a=n(uK(o));this.hasMutatedConstraints=!!a,a&&(o=jO(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Vn(u=>{if(!Pu(u,n,this.currentDirection))return;let h=(l==null?void 0:l[u])||{};o&&(h={min:0,max:0});const d=r?200:1e6,f=r?40:1e7,p={type:"inertia",velocity:i?e[u]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return i.start(k_(e,i,0,n))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){var n;const i="_drag"+e.toUpperCase(),r=this.visualElement.getProps()[i];return r||this.visualElement.getValue(e,((n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[e])||0)}snapToCursor(e){Vn(n=>{const{drag:i}=this.getProps();if(!Pu(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-De(o,a,.5))}})}scalePositionWithinConstraints(){var e;if(!this.visualElement.current)return;const{drag:n,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!co(i)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Vn(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=aK({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",(e=r.root)===null||e===void 0||e.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vn(a=>{if(!Pu(a,n,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(De(c,u,s[a]))})}addListeners(){var e;if(!this.visualElement.current)return;mK.set(this.visualElement,this);const n=this.visualElement.current,i=ko(n,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();co(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&((e=s.root)===null||e===void 0||e.updateScroll(),s.updateLayout()),r();const a=bp(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Vn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=c[h].translate,d.set(d.get()+c[h].translate))}),this.visualElement.render())});return()=>{a(),i(),o(),l==null||l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=sv,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Pu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function vK(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}function wK(t){const{dragControls:e,visualElement:n}=t,i=_p(()=>new yK(n));x.useEffect(()=>e&&e.subscribe(i),[i,e]),x.useEffect(()=>i.addListeners(),[i])}function _K({onPan:t,onPanStart:e,onPanEnd:n,onPanSessionStart:i,visualElement:r}){const s=t||e||n||i,o=x.useRef(null),{transformPagePoint:a}=x.useContext(Zw),l={onSessionStart:i,onStart:e,onMove:t,onEnd:(u,h)=>{o.current=null,n&&n(u,h)}};x.useEffect(()=>{o.current!==null&&o.current.updateHandlers(l)});function c(u){o.current=new BO(u,l,{transformPagePoint:a})}Md(r,"pointerdown",s&&c),u_(()=>o.current&&o.current.end())}const bK={pan:nr(_K),drag:nr(wK)};function lv(t){return typeof t=="string"&&t.startsWith("var(--")}const KO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function xK(t){const e=KO.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]}function cv(t,e,n=1){const[i,r]=xK(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);return s?s.trim():lv(r)?cv(r,e,n+1):r}function SK(t,{...e},n){const i=t.current;if(!(i instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const s=r.get();if(!lv(s))return;const o=cv(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!lv(s))continue;const o=cv(s,i);o&&(e[r]=o,n&&n[r]===void 0&&(n[r]=s))}return{target:e,transitionEnd:n}}const EK=new Set(["width","height","top","left","right","bottom","x","y"]),qO=t=>EK.has(t),kK=t=>Object.keys(t).some(qO),xS=t=>t===Us||t===z;var SS;(function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"})(SS||(SS={}));const ES=(t,e)=>parseFloat(t.split(", ")[e]),kS=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return ES(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?ES(s[1],t):0}},TK=new Set(["x","y","z"]),CK=Ad.filter(t=>!TK.has(t));function IK(t){const e=[];return CK.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const TS={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:kS(4,13),y:kS(5,14)},PK=(t,e,n)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=TS[c](i,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=TS[c](l,s)}),t},AK=(t,e,n={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(qO);let s=[],o=!1;const a=[];if(r.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],h=xa(u);const d=e[l];let f;if(Od(d)){const p=d.length,g=d[0]===null?1:0;u=d[g],h=xa(u);for(let v=g;v<p;v++)f?Nd(xa(d[v])===f):f=xa(d[v])}else f=xa(d);if(h!==f)if(xS(h)&&xS(f)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&f===z&&(e[l]=d.map(parseFloat))}else h!=null&&h.transform&&(f!=null&&f.transform)&&(u===0||d===0)?u===0?c.set(f.transform(u)):e[l]=h.transform(d):(o||(s=IK(t),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=PK(e,t,a);return s.length&&s.forEach(([u,h])=>{t.getValue(u).set(h)}),t.render(),yp&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function RK(t,e,n,i){return kK(e)?AK(t,e,n,i):{target:e,transitionEnd:i}}const OK=(t,e,n,i)=>{const r=SK(t,e,i);return e=r.target,i=r.transitionEnd,RK(t,e,n,i)},uv={current:null},GO={current:!1};function MK(){if(GO.current=!0,!!yp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>uv.current=t.matches;t.addListener(e),e()}else uv.current=!1}function DK(t,e,n){const{willChange:i}=e;for(const r in e){const s=e[r],o=n[r];if(Wt(s))t.addValue(r,s),Ld(i)&&i.add(r);else if(Wt(o))t.addValue(r,Ho(s,{owner:t})),Ld(i)&&i.remove(r);else if(o!==s)if(t.hasValue(r)){const a=t.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Ho(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const YO=Object.keys(sc),LK=YO.length,CS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class NK{constructor({parent:e,props:n,reducedMotionConfig:i,visualState:r},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Dt.render(this.render,!1,!0);const{latestValues:o,renderState:a}=r;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=a,this.parent=e,this.props=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=wp(n),this.isVariantNode=qR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:l,...c}=this.scrapeMotionValuesFromProps(n,{});for(const u in c){const h=c[u];o[u]!==void 0&&Wt(h)&&(h.set(o[u],!1),Ld(l)&&l.add(u))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){var n;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(n=this.parent)===null||n===void 0?void 0:n.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),GO.current||MK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uv.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var e,n,i;(e=this.projection)===null||e===void 0||e.unmount(),Rr.update(this.notifyUpdate),Rr.render(this.render),this.valueSubscriptions.forEach(r=>r()),(n=this.removeFromVariantTree)===null||n===void 0||n.call(this),(i=this.parent)===null||i===void 0||i.children.delete(this);for(const r in this.events)this.events[r].clear();this.current=null}bindToMotionValue(e,n){const i=ha.has(e),r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Dt.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},i,r,s,o,a){const l=[];for(let c=0;c<LK;c++){const u=YO[c],{isEnabled:h,Component:d}=sc[u];h(n)&&d&&l.push(x.createElement(d,{key:u,...n,visualElement:this}))}if(!this.projection&&o){this.projection=new o(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:h,dragConstraints:d,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:Boolean(h)||d&&co(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:f,layoutRoot:p})}return l}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ke()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}setProps(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender();const n=this.props;this.props=e;for(let i=0;i<CS.length;i++){const r=CS[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=DK(this,this.scrapeMotionValuesFromProps(e,n),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){var n;return(n=this.props.variants)===null||n===void 0?void 0:n[e]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var e;return this.isVariantNode?this:(e=this.parent)===null||e===void 0?void 0:e.getClosestVariantNode()}getVariantContext(e=!1){var n,i;if(e)return(n=this.parent)===null||n===void 0?void 0:n.getVariantContext();if(!this.isControllingVariants){const s=((i=this.parent)===null||i===void 0?void 0:i.getVariantContext())||{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const r={};for(let s=0;s<FK;s++){const o=XO[s],a=this.props[o];(rc(a)||a===!1)&&(r[o]=a)}return r}addVariantChild(e){var n;const i=this.getClosestVariantNode();if(i)return(n=i.variantChildren)===null||n===void 0||n.add(e),()=>i.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){var n;this.values.delete(e),(n=this.valueSubscriptions.get(e))===null||n===void 0||n(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Ho(n,{owner:this}),this.addValue(e,i)),i}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(n=l_(this.props,i))===null||n===void 0?void 0:n[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Wt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new f_),this.events[e].add(n)}notify(e,...n){var i;(i=this.events[e])===null||i===void 0||i.notify(...n)}}const XO=["initial",...T_],FK=XO.length;class QO extends NK{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){var i;return(i=e.style)===null||i===void 0?void 0:i[n]}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...i},{transformValues:r},s){let o=K6(i,e||{},this);if(r&&(n&&(n=r(n)),i&&(i=r(i)),o&&(o=r(o))),s){W6(this,i,o);const a=OK(this,i,o,n);n=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:n,...i}}}function $K(t){return window.getComputedStyle(t)}class VK extends QO{readValueFromInstance(e,n){if(ha.has(n)){const i=m_(n);return i&&i.default||0}else{const i=$K(e),r=(XR(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return HO(e,n)}build(e,n,i,r){n_(e,n,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return a_(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,i,r){tO(e,n,i,r)}}class BK extends QO{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){var i;return ha.has(n)?((i=m_(n))===null||i===void 0?void 0:i.default)||0:(n=nO.has(n)?n:o_(n),e.getAttribute(n))}measureInstanceViewportBox(){return Ke()}scrapeMotionValuesFromProps(e,n){return rO(e,n)}build(e,n,i,r){r_(e,n,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,i,r){iO(e,n,i,r)}mount(e){this.isSVGTag=s_(e.tagName),super.mount(e)}}const UK=(t,e)=>t_(t)?new BK(e,{enableHardwareAcceleration:!1}):new VK(e,{enableHardwareAcceleration:!0});function IS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Sa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(z.test(t))t=parseFloat(t);else return t;const n=IS(t,e.target.x),i=IS(t,e.target.y);return`${n}% ${i}%`}},PS="_$css",jK={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=t.includes("var("),s=[];r&&(t=t.replace(KO,f=>(s.push(f),PS)));const o=Or.parse(t);if(o.length>5)return i;const a=Or.createTransformer(t),l=typeof o[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;o[0+l]/=c,o[1+l]/=u;const h=De(c,u,.5);typeof o[2+l]=="number"&&(o[2+l]/=h),typeof o[3+l]=="number"&&(o[3+l]/=h);let d=a(o);if(r){let f=0;d=d.replace(PS,()=>{const p=s[f];return f++,p})}return d}};class zK extends Dn.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;P4(HK),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),cl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Dt.postRender(()=>{var a;!((a=o.getStack())===null||a===void 0)&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n!=null&&n.group&&n.group.remove(r),i!=null&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e==null||e()}render(){return null}}function WK(t){const[e,n]=dO(),i=x.useContext(e_);return Dn.createElement(zK,{...t,layoutGroup:i,switchLayoutGroup:x.useContext(GR),isPresent:e,safeToRemove:n})}const HK={borderRadius:{...Sa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sa,borderTopRightRadius:Sa,borderBottomLeftRadius:Sa,borderBottomRightRadius:Sa,boxShadow:jK},KK={measureLayout:WK};function qK(t,e,n={}){const i=Wt(t)?t:Ho(t);return i.start(k_("",i,e,n)),{stop:()=>i.stop(),isAnimating:()=>i.isAnimating()}}const JO=["TopLeft","TopRight","BottomLeft","BottomRight"],GK=JO.length,AS=t=>typeof t=="string"?parseFloat(t):t,RS=t=>typeof t=="number"||z.test(t);function YK(t,e,n,i,r,s){r?(t.opacity=De(0,n.opacity!==void 0?n.opacity:1,XK(i)),t.opacityExit=De(e.opacity!==void 0?e.opacity:1,0,QK(i))):s&&(t.opacity=De(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<GK;o++){const a=`border${JO[o]}Radius`;let l=OS(e,a),c=OS(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||RS(l)===RS(c)?(t[a]=Math.max(De(AS(l),AS(c),i),0),(Jn.test(c)||Jn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=De(e.rotate||0,n.rotate||0,i))}function OS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const XK=ZO(0,.5,S_),QK=ZO(.5,.95,x_);function ZO(t,e,n){return i=>i<t?0:i>e?1:n(Fd(t,e,i))}function MS(t,e){t.min=e.min,t.max=e.max}function xn(t,e){MS(t.x,e.x),MS(t.y,e.y)}function DS(t,e,n,i,r){return t-=e,t=Vd(t,1/n,i),r!==void 0&&(t=Vd(t,1/r,i)),t}function JK(t,e=0,n=1,i=.5,r,s=t,o=t){if(Jn.test(e)&&(e=parseFloat(e),e=De(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=De(s.min,s.max,i);t===s&&(a-=e),t.min=DS(t.min,e,n,a,r),t.max=DS(t.max,e,n,a,r)}function LS(t,e,[n,i,r],s,o){JK(t,e[n],e[i],e[r],e.scale,s,o)}const ZK=["x","scaleX","originX"],eq=["y","scaleY","originY"];function NS(t,e,n,i){LS(t.x,e,ZK,n==null?void 0:n.x,i==null?void 0:i.x),LS(t.y,e,eq,n==null?void 0:n.y,i==null?void 0:i.y)}function FS(t){return t.translate===0&&t.scale===1}function eM(t){return FS(t.x)&&FS(t.y)}function tM(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function $S(t){return rn(t.x)/rn(t.y)}class tq{constructor(){this.members=[]}add(e){h_(this.members,e),e.scheduleRender()}remove(e){if(d_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){var i;const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),!((i=e.root)===null||i===void 0)&&i.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{var n,i,r,s,o;(i=(n=e.options).onExitComplete)===null||i===void 0||i.call(n),(o=(r=e.resumingFrom)===null||r===void 0?void 0:(s=r.options).onExitComplete)===null||o===void 0||o.call(s)})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VS(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),u&&(i+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const nq=(t,e)=>t.depth-e.depth;class iq{constructor(){this.children=[],this.isDirty=!1}add(e){h_(this.children,e),this.isDirty=!0}remove(e){d_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nq),this.isDirty=!1,this.children.forEach(e)}}const BS=["","X","Y","Z"],US=1e3;let rq=0;function nM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=rq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(aq),this.nodes.forEach(uq),this.nodes.forEach(hq)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new iq)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new f_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l==null||l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){var l;if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),(l=this.parent)===null||l===void 0||l.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||c)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=FO(f,250),cl.hasAnimatedSinceResize&&(cl.hasAnimatedSinceResize=!1,this.nodes.forEach(zS))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:g})=>{var v,y,m,w,_;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=(y=(v=this.options.transition)!==null&&v!==void 0?v:h.getDefaultTransition())!==null&&y!==void 0?y:mq,{onLayoutAnimationStart:S,onLayoutAnimationComplete:k}=h.getProps(),T=!this.targetLayout||!tM(this.targetLayout,g)||p,I=!f&&p;if(this.options.layoutRoot||!((m=this.resumeFrom)===null||m===void 0)&&m.instance||I||f&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,I);const C={...$O(b,"layout"),onPlay:S,onComplete:k};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else!f&&this.animationProgress===0&&zS(this),this.isLead()&&((_=(w=this.options).onExitComplete)===null||_===void 0||_.call(w));this.targetLayout=g})}unmount(){var o,a;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(o=this.getStack())===null||o===void 0||o.remove(this),(a=this.parent)===null||a===void 0||a.children.delete(this),this.instance=void 0,Rr.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var o;return this.isAnimationBlocked||((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimationBlocked())||!1}startUpdate(){var o;this.isUpdateBlocked()||(this.isUpdating=!0,(o=this.nodes)===null||o===void 0||o.forEach(dq),this.animationId++)}getTransformTemplate(){var o;return(o=this.options.visualElement)===null||o===void 0?void 0:o.getProps().transformTemplate}willUpdate(o=!0){var a,l,c;if(this.root.isUpdateBlocked()){(l=(a=this.options).onExitComplete)===null||l===void 0||l.call(a);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;u===void 0&&!h||(this.prevTransformTemplateValue=(c=this.getTransformTemplate())===null||c===void 0?void 0:c(this.latestValues,""),this.updateSnapshot(),o&&this.notifyListeners("willUpdate"))}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jS);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(yq),this.potentialNodes.clear()),this.nodes.forEach(cq),this.nodes.forEach(sq),this.nodes.forEach(oq),this.clearAllSnapshots(),Dg.update(),Dg.preRender(),Dg.render())}clearAllSnapshots(){this.nodes.forEach(lq),this.sharedNodes.forEach(fq)}scheduleUpdateProjection(){Dt.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var o;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(o=this.options.visualElement)===null||o===void 0||o.notify("LayoutMeasure",this.layout.layoutBox,a==null?void 0:a.layoutBox)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:n(this.instance)})}resetTransform(){var o;if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!eM(this.projectionDelta),c=(o=this.getTransformTemplate())===null||o===void 0?void 0:o(this.latestValues,""),u=c!==this.prevTransformTemplateValue;a&&(l||Zr(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),vq(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ke();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(qi(a.x,l.offset.x),qi(a.y,l.offset.y)),a}removeElementScroll(o){const a=Ke();xn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:h}=c;if(c!==this.root&&u&&h.layoutScroll){if(u.isRoot){xn(a,o);const{scroll:d}=this.root;d&&(qi(a.x,-d.offset.x),qi(a.y,-d.offset.y))}qi(a.x,u.offset.x),qi(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Ke();xn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ho(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Zr(u.latestValues)&&ho(l,u.latestValues)}return Zr(this.latestValues)&&ho(l,this.latestValues),l}removeTransform(o){var a;const l=Ke();xn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Zr(u.latestValues))continue;ov(u.latestValues)&&u.updateSnapshot();const h=Ke(),d=u.measurePageBox();xn(h,d),NS(l,u.latestValues,(a=u.snapshot)===null||a===void 0?void 0:a.layoutBox,h)}return Zr(this.latestValues)&&NS(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:l,layoutId:c}=this.options;if(!(!this.layout||!(l||c))){if(!this.targetDelta&&!this.relativeTarget){const u=this.getClosestProjectingParent();u&&u.layout?(this.relativeParent=u,this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),fl(this.relativeTargetOrigin,this.layout.layoutBox,u.layout.layoutBox),xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ke(),this.targetWithTransforms=Ke()),this.relativeTarget&&this.relativeTargetOrigin&&(!((o=this.relativeParent)===null||o===void 0)&&o.target)?iK(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):xn(this.target,this.layout.layoutBox),WO(this.target,this.targetDelta)):xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const u=this.getClosestProjectingParent();u&&Boolean(u.resumingFrom)===Boolean(this.resumingFrom)&&!u.options.layoutScroll&&u.target?(this.relativeParent=u,this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),fl(this.relativeTargetOrigin,this.target,u.target),xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ov(this.parent.latestValues)||zO(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta||this.parent.options.layoutRoot)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var o;const{isProjectionDirty:a,isTransformDirty:l}=this;this.isProjectionDirty=this.isTransformDirty=!1;const c=this.getLead(),u=Boolean(this.resumingFrom)||this!==c;let h=!0;if(a&&(h=!1),u&&l&&(h=!1),h)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=Boolean(((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;xn(this.layoutCorrected,this.layout.layoutBox),dK(this.layoutCorrected,this.treeScale,this.path,u);const{target:p}=c;if(!p)return;this.projectionDelta||(this.projectionDelta=pl(),this.projectionDeltaWithTransform=pl());const g=this.treeScale.x,v=this.treeScale.y,y=this.projectionTransform;dl(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=VS(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==g||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a,l,c;(l=(a=this.options).scheduleRender)===null||l===void 0||l.call(a),o&&((c=this.getStack())===null||c===void 0||c.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){var l,c;const u=this.snapshot,h=(u==null?void 0:u.latestValues)||{},d={...this.latestValues},f=pl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ke(),g=(u==null?void 0:u.source)!==((l=this.layout)===null||l===void 0?void 0:l.source),v=(((c=this.getStack())===null||c===void 0?void 0:c.members.length)||0)<=1,y=Boolean(g&&!v&&this.options.crossfade===!0&&!this.path.some(gq));this.animationProgress=0,this.mixTargetDelta=m=>{var w;const _=m/1e3;WS(f.x,o.x,_),WS(f.y,o.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((w=this.relativeParent)===null||w===void 0)&&w.layout)&&(fl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pq(this.relativeTarget,this.relativeTargetOrigin,p,_)),g&&(this.animationValues=d,YK(d,h,this.latestValues,_,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)===null||a===void 0||a.stop(),this.resumingFrom&&((l=this.resumingFrom.currentAnimation)===null||l===void 0||l.stop()),this.pendingAnimation&&(Rr.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dt.update(()=>{cl.hasAnimatedSinceResize=!0,this.currentAnimation=qK(0,US,{...o,onUpdate:c=>{var u;this.mixTargetDelta(c),(u=o.onUpdate)===null||u===void 0||u.call(o,c)},onComplete:()=>{var c;(c=o.onComplete)===null||c===void 0||c.call(o),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var o;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(o=this.getStack())===null||o===void 0||o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var o;this.currentAnimation&&((o=this.mixTargetDelta)===null||o===void 0||o.call(this,US),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&iM(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ke();const h=rn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=rn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}xn(a,l),ho(a,u),dl(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){var l,c,u;this.sharedNodes.has(o)||this.sharedNodes.set(o,new tq),this.sharedNodes.get(o).add(a),a.promote({transition:(l=a.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(u=(c=a.options.initialPromotionConfig)===null||c===void 0?void 0:c.shouldPreserveFollowOpacity)===null||u===void 0?void 0:u.call(c,a)})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<BS.length;u++){const h="rotate"+BS[u];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o==null||o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=yh(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=yh(o.pointerEvents)||""),this.hasProjected&&!Zr(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=VS(this.projectionDeltaWithTransform,this.treeScale,d),u&&(c.transform=u(d,c.transform));const{x:f,y:p}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Pd){if(d[g]===void 0)continue;const{correct:v,applyTo:y}=Pd[g],m=c.transform==="none"?d[g]:v(d[g],h);if(y){const w=y.length;for(let _=0;_<w;_++)c[y[_]]=m}else c[g]=m}return this.options.layoutId&&(c.pointerEvents=h===this?yh(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(jS),this.root.sharedNodes.clear()}}}function sq(t){t.updateLayout()}function oq(t){var e,n,i;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=t.layout,{animationType:a}=t.options,l=r.source!==t.layout.source;a==="size"?Vn(f=>{const p=l?r.measuredBox[f]:r.layoutBox[f],g=rn(p);p.min=s[f].min,p.max=p.min+g}):iM(a,r.layoutBox,s)&&Vn(f=>{const p=l?r.measuredBox[f]:r.layoutBox[f],g=rn(s[f]);p.max=p.min+g});const c=pl();dl(c,s,r.layoutBox);const u=pl();l?dl(u,t.applyTransform(o,!0),r.measuredBox):dl(u,s,r.layoutBox);const h=!eM(c);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const v=Ke();fl(v,r.layoutBox,p.layoutBox);const y=Ke();fl(y,s,g.layoutBox),tM(v,y)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeTargetChanged:d})}else t.isLead()&&((i=(n=t.options).onExitComplete)===null||i===void 0||i.call(n));t.options.transition=void 0}function aq(t){t.isProjectionDirty||(t.isProjectionDirty=Boolean(t.parent&&t.parent.isProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=Boolean(t.parent&&t.parent.isTransformDirty))}function lq(t){t.clearSnapshot()}function jS(t){t.clearMeasurements()}function cq(t){const{visualElement:e}=t.options;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function uq(t){t.resolveTargetDelta()}function hq(t){t.calcProjection()}function dq(t){t.resetRotation()}function fq(t){t.removeLeadSnapshot()}function WS(t,e,n){t.translate=De(e.translate,0,n),t.scale=De(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function HS(t,e,n,i){t.min=De(e.min,n.min,i),t.max=De(e.max,n.max,i)}function pq(t,e,n,i){HS(t.x,e.x,n.x,i),HS(t.y,e.y,n.y,i)}function gq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const mq={duration:.45,ease:[.4,0,.1,1]};function yq(t,e){let n=t.root;for(let s=t.path.length-1;s>=0;s--)if(Boolean(t.path[s].instance)){n=t.path[s];break}const r=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);r&&t.mount(r,!0)}function KS(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function vq(t){KS(t.x),KS(t.y)}function iM(t,e,n){return t==="position"||t==="preserve-aspect"&&!rv($S(e),$S(n),.2)}const wq=nM({attachResizeListener:(t,e)=>bp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wg={current:void 0},_q=nM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wg.current){const t=new wq(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),Wg.current=t}return Wg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>Boolean(window.getComputedStyle(t).position==="fixed")}),bq={...Z8,...v6,...bK,...KK},Mn=C4((t,e)=>s6(t,e,bq,UK,_q));function rM(){const t=x.useRef(!1);return Id(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function xq(){const t=rM(),[e,n]=x.useState(0),i=x.useCallback(()=>{t.current&&n(e+1)},[e]);return[x.useCallback(()=>Dt.postRender(i),[i]),e]}class Sq extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Eq({children:t,isPresent:e}){const n=x.useId(),i=x.useRef(null),r=x.useRef({width:0,height:0,top:0,left:0});return x.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=r.current;if(e||!i.current||!s||!o)return;i.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),x.createElement(Sq,{isPresent:e,childRef:i,sizeRef:r},x.cloneElement(t,{ref:i}))}const Hg=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=_p(kq),l=x.useId(),c=x.useMemo(()=>({id:l,initial:e,isPresent:n,custom:r,onExitComplete:u=>{a.set(u,!0);for(const h of a.values())if(!h)return;i&&i()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[n]);return x.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),x.useEffect(()=>{!n&&!a.size&&i&&i()},[n]),o==="popLayout"&&(t=x.createElement(Eq,{isPresent:n},t)),x.createElement(Hc.Provider,{value:c},t)};function kq(){return new Map}const Gs=t=>t.key||"";function Tq(t,e){t.forEach(n=>{const i=Gs(n);e.set(i,n)})}function Cq(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const Iq=({children:t,custom:e,initial:n=!0,onExitComplete:i,exitBeforeEnter:r,presenceAffectsLayout:s=!0,mode:o="sync"})=>{r&&(o="wait");let[a]=xq();const l=x.useContext(e_).forceRender;l&&(a=l);const c=rM(),u=Cq(t);let h=u;const d=new Set,f=x.useRef(h),p=x.useRef(new Map).current,g=x.useRef(!0);if(Id(()=>{g.current=!1,Tq(u,p),f.current=h}),u_(()=>{g.current=!0,p.clear(),d.clear()}),g.current)return x.createElement(x.Fragment,null,h.map(w=>x.createElement(Hg,{key:Gs(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},w)));h=[...h];const v=f.current.map(Gs),y=u.map(Gs),m=v.length;for(let w=0;w<m;w++){const _=v[w];y.indexOf(_)===-1&&d.add(_)}return o==="wait"&&d.size&&(h=[]),d.forEach(w=>{if(y.indexOf(w)!==-1)return;const _=p.get(w);if(!_)return;const b=v.indexOf(w),S=()=>{p.delete(w),d.delete(w);const k=f.current.findIndex(T=>T.key===w);if(f.current.splice(k,1),!d.size){if(f.current=u,c.current===!1)return;a(),i&&i()}};h.splice(b,0,x.createElement(Hg,{key:Gs(_),isPresent:!1,onExitComplete:S,custom:e,presenceAffectsLayout:s,mode:o},_))}),h=h.map(w=>{const _=w.key;return d.has(_)?w:x.createElement(Hg,{key:Gs(w),isPresent:!0,presenceAffectsLayout:s,mode:o},w)}),x.createElement(x.Fragment,null,d.size?h:h.map(w=>x.cloneElement(w)))};let Be=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const Pq="/assets/video-575a1e2e.mp4";var ys={},Aq={get exports(){return ys},set exports(t){ys=t}},Rq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Oq=Rq,Mq=Oq;function sM(){}function oM(){}oM.resetWarningCache=sM;var Dq=function(){function t(i,r,s,o,a,l){if(l!==Mq){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:oM,resetWarningCache:sM};return n.PropTypes=n,n};Aq.exports=Dq();const Lq="/assets/chevron-daab74bd.svg",aM="/assets/date-b0a6b65f.svg";function lM({name:t,status:e,date:n,id:i,setClickedEvent:r}){const s=ni();return M("div",{className:"previous-events",onClick:()=>{s(`/history/:${i}`)},children:[E("p",{className:"name",children:t}),E("img",{src:aM,alt:"calender"}),E("p",{className:"date",children:n}),E("div",{className:"status",onClick:o=>{o.stopPropagation(),r([i,o.currentTarget.parentElement.parentElement.firstElementChild.textContent])},children:E("p",{className:`${e}`,children:e})}),E("img",{src:Lq,alt:"chevron"})]})}lM.propTypes={name:ys.string.isRequired,status:ys.string.isRequired};function Nq({navShown:t,setClickedEvent:e}){const n=yn(i=>Object.entries(i.events));return E(Mn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"history",style:{display:t?"none":"block"},children:M("div",{className:"container",children:[E("h2",{children:"Shopping History"}),M("div",{className:"video-container",children:[E("p",{children:"How to add events to history"}),E("video",{src:Pq,controls:!0})]}),n.map(([i,r])=>M("div",{children:[E("h3",{children:i}),r.map(s=>E(lM,{setClickedEvent:e,...s},Be()))]},Be()))]})})}const Fq="/assets/search-25e2ae55.svg";function $q(){const t=x.useId();return M("header",{className:"header",children:[M("p",{children:[E("span",{children:"Shoppingfy "}),"allows you take your shopping list wherever you go"]}),M("label",{htmlFor:t,children:[E("img",{src:Fq,alt:"search"}),E("input",{type:"text",id:t,placeholder:"search item"})]})]})}const Vq="/assets/plus-solid-30a6bdb2.svg";function Bq({children:t,onClick:e}){return M("div",{className:"item",children:[E("p",{children:t}),E("img",{src:Vq,alt:"add-item",onClick:e})]})}function Uq({navShown:t}){const e=yn(i=>Object.entries(i.items)),n=Vr();return E(Mn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"homepage",style:{display:t?"none":"block"},children:M("div",{className:"container",children:[E($q,{}),E("section",{children:e.map(i=>M("div",{children:[E("h2",{children:i[0]}),i[1].map(r=>E(Bq,{onClick:()=>{n(Si.items.addItem({category:i[0],item:r.item}))},children:r.item},Be()))]},Be()))})]})})}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Yc(t){return t+.5|0}const ir=(t,e,n)=>Math.max(Math.min(t,n),e);function Ua(t){return ir(Yc(t*2.55),0,255)}function br(t){return ir(Yc(t*255),0,255)}function fi(t){return ir(Yc(t/2.55)/100,0,1)}function qS(t){return ir(Yc(t*100),0,100)}const ln={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hv=[..."0123456789ABCDEF"],jq=t=>hv[t&15],zq=t=>hv[(t&240)>>4]+hv[t&15],Au=t=>(t&240)>>4===(t&15),Wq=t=>Au(t.r)&&Au(t.g)&&Au(t.b)&&Au(t.a);function Hq(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ln[t[1]]*17,g:255&ln[t[2]]*17,b:255&ln[t[3]]*17,a:e===5?ln[t[4]]*17:255}:(e===7||e===9)&&(n={r:ln[t[1]]<<4|ln[t[2]],g:ln[t[3]]<<4|ln[t[4]],b:ln[t[5]]<<4|ln[t[6]],a:e===9?ln[t[7]]<<4|ln[t[8]]:255})),n}const Kq=(t,e)=>t<255?e(t):"";function qq(t){var e=Wq(t)?jq:zq;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Kq(t.a,e):void 0}const Gq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function cM(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Yq(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Xq(t,e,n){const i=cM(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function Qq(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function C_(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=Qq(n,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function I_(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(br)}function P_(t,e,n){return I_(cM,t,e,n)}function Jq(t,e,n){return I_(Xq,t,e,n)}function Zq(t,e,n){return I_(Yq,t,e,n)}function uM(t){return(t%360+360)%360}function eG(t){const e=Gq.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Ua(+e[5]):br(+e[5]));const r=uM(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=Jq(r,s,o):e[1]==="hsv"?i=Zq(r,s,o):i=P_(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function tG(t,e){var n=C_(t);n[0]=uM(n[0]+e),n=P_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function nG(t){if(!t)return;const e=C_(t),n=e[0],i=qS(e[1]),r=qS(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${fi(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const GS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},YS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function iG(){const t={},e=Object.keys(YS),n=Object.keys(GS);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,GS[s]);s=parseInt(YS[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Ru;function rG(t){Ru||(Ru=iG(),Ru.transparent=[0,0,0,0]);const e=Ru[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const sG=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function oG(t){const e=sG.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?Ua(o):ir(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Ua(i):ir(i,0,255)),r=255&(e[4]?Ua(r):ir(r,0,255)),s=255&(e[6]?Ua(s):ir(s,0,255)),{r:i,g:r,b:s,a:n}}}function aG(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${fi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Kg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ws=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function lG(t,e,n){const i=Ws(fi(t.r)),r=Ws(fi(t.g)),s=Ws(fi(t.b));return{r:br(Kg(i+n*(Ws(fi(e.r))-i))),g:br(Kg(r+n*(Ws(fi(e.g))-r))),b:br(Kg(s+n*(Ws(fi(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Ou(t,e,n){if(t){let i=C_(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=P_(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function hM(t,e){return t&&Object.assign(e||{},t)}function XS(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=br(t[3]))):(e=hM(t,{r:0,g:0,b:0,a:1}),e.a=br(e.a)),e}function cG(t){return t.charAt(0)==="r"?oG(t):eG(t)}class lc{constructor(e){if(e instanceof lc)return e;const n=typeof e;let i;n==="object"?i=XS(e):n==="string"&&(i=Hq(e)||rG(e)||cG(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=hM(this._rgb);return e&&(e.a=fi(e.a)),e}set rgb(e){this._rgb=XS(e)}rgbString(){return this._valid?aG(this._rgb):void 0}hexString(){return this._valid?qq(this._rgb):void 0}hslString(){return this._valid?nG(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=lG(this._rgb,e._rgb,n)),this}clone(){return new lc(this.rgb)}alpha(e){return this._rgb.a=br(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Yc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ou(this._rgb,2,e),this}darken(e){return Ou(this._rgb,2,-e),this}saturate(e){return Ou(this._rgb,1,e),this}desaturate(e){return Ou(this._rgb,1,-e),this}rotate(e){return tG(this._rgb,e),this}}/*!
 * Chart.js v4.2.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function ai(){}const uG=(()=>{let t=0;return()=>t++})();function se(t){return t===null||typeof t>"u"}function _e(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function te(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Le(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function qt(t,e){return Le(t)?t:e}function X(t,e){return typeof t>"u"?e:t}const hG=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,dM=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function pe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function le(t,e,n,i){let r,s,o;if(_e(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(te(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function Bd(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Ud(t){if(_e(t))return t.map(Ud);if(te(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=Ud(t[n[r]]);return e}return t}function fM(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function dG(t,e,n,i){if(!fM(t))return;const r=e[t],s=n[t];te(r)&&te(s)?cc(r,s,i):e[t]=Ud(s)}function cc(t,e,n){const i=_e(e)?e:[e],r=i.length;if(!te(t))return t;n=n||{};const s=n.merger||dG;let o;for(let a=0;a<r;++a){if(o=i[a],!te(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function gl(t,e){return cc(t,e,{merger:fG})}function fG(t,e,n){if(!fM(t))return;const i=e[t],r=n[t];te(i)&&te(r)?gl(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ud(r))}const QS={"":t=>t,x:t=>t.x,y:t=>t.y};function pG(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function gG(t){const e=pG(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Mr(t,e){return(QS[e]||(QS[e]=gG(e)))(t)}function A_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const wn=t=>typeof t<"u",Dr=t=>typeof t=="function",JS=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function mG(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ce=Math.PI,xe=2*Ce,yG=xe+Ce,jd=Number.POSITIVE_INFINITY,vG=Ce/180,Ne=Ce/2,Hr=Ce/4,ZS=Ce*2/3,rr=Math.log10,Zn=Math.sign;function ml(t,e,n){return Math.abs(t-e)<n}function eE(t){const e=Math.round(t);t=ml(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(rr(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function wG(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function Ko(t){return!isNaN(parseFloat(t))&&isFinite(t)}function _G(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function pM(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function In(t){return t*(Ce/180)}function R_(t){return t*(180/Ce)}function tE(t){if(!Le(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function gM(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Ce&&(s+=xe),{angle:s,distance:r}}function dv(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function bG(t,e){return(t-e+yG)%xe-Ce}function Yt(t){return(t%xe+xe)%xe}function uc(t,e,n,i){const r=Yt(t),s=Yt(e),o=Yt(n),a=Yt(s-r),l=Yt(o-r),c=Yt(r-s),u=Yt(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function it(t,e,n){return Math.max(e,Math.min(n,t))}function xG(t){return it(t,-32768,32767)}function Ei(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function O_(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const ki=(t,e,n,i)=>O_(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),SG=(t,e,n)=>O_(t,n,i=>t[i][e]>=n);function EG(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const mM=["push","pop","shift","splice","unshift"];function kG(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),mM.forEach(n=>{const i="_onData"+A_(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function nE(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(mM.forEach(s=>{delete t[s]}),delete t._chartjs)}function yM(t){const e=new Set;let n,i;for(n=0,i=t.length;n<i;++n)e.add(t[n]);return e.size===i?t:Array.from(e)}const vM=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function wM(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,vM.call(window,()=>{i=!1,t.apply(e,n)}))}}function TG(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const M_=t=>t==="start"?"left":t==="end"?"right":"center",mt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,CG=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function _M(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(r=it(Math.min(ki(a,o.axis,c).lo,n?i:ki(e,l,o.getPixelForValue(c)).lo),0,i-1)),d?s=it(Math.max(ki(a,o.axis,u,!0).hi+1,n?0:ki(e,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function bM(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Mu=t=>t===0||t===1,iE=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*xe/n)),rE=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*xe/n)+1,yl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ne)+1,easeOutSine:t=>Math.sin(t*Ne),easeInOutSine:t=>-.5*(Math.cos(Ce*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Mu(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Mu(t)?t:iE(t,.075,.3),easeOutElastic:t=>Mu(t)?t:rE(t,.075,.3),easeInOutElastic(t){return Mu(t)?t:t<.5?.5*iE(t*2,.1125,.45):.5+.5*rE(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-yl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?yl.easeInBounce(t*2)*.5:yl.easeOutBounce(t*2-1)*.5+.5};function xM(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function sE(t){return xM(t)?t:new lc(t)}function qg(t){return xM(t)?t:new lc(t).saturate(.5).darken(.1).hexString()}const IG=["x","y","borderWidth","radius","tension"],PG=["color","borderColor","backgroundColor"];function AG(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:PG},numbers:{type:"number",properties:IG}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function RG(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const oE=new Map;function OG(t,e){e=e||{};const n=t+JSON.stringify(e);let i=oE.get(n);return i||(i=new Intl.NumberFormat(t,e),oE.set(n,i)),i}function Xc(t,e,n){return OG(e,n).format(t)}const SM={values(t){return _e(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=MG(t,n)}const o=rr(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Xc(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(rr(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?SM.numeric.call(this,t,e,n):""}};function MG(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var kp={formatters:SM};function DG(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:kp.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ds=Object.create(null),fv=Object.create(null);function vl(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function Gg(t,e,n){return typeof e=="string"?cc(vl(t,e),n):cc(vl(t,""),e)}class LG{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>qg(r.backgroundColor),this.hoverBorderColor=(i,r)=>qg(r.borderColor),this.hoverColor=(i,r)=>qg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Gg(this,e,n)}get(e){return vl(this,e)}describe(e,n){return Gg(fv,e,n)}override(e,n){return Gg(Ds,e,n)}route(e,n,i,r){const s=vl(this,e),o=vl(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return te(l)?Object.assign({},c,l):X(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ue=new LG({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[AG,RG,DG]);function NG(t){return!t||se(t.size)||se(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function zd(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function FG(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&_e(h)!==!0)o=zd(t,r,s,o,h);else if(_e(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!_e(d)&&(o=zd(t,r,s,o,d));t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function Kr(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function aE(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function pv(t,e,n,i){EM(t,e,n,i,null)}function EM(t,e,n,i,r){let s,o,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,g=e.radius;let v=(p||0)*vG;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,g,0,0,xe):t.arc(n,i,g,0,xe),t.closePath();break;case"triangle":u=r?r/2:g,t.moveTo(n+Math.sin(v)*u,i-Math.cos(v)*g),v+=ZS,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*g),v+=ZS,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(v+Hr)*l,h=Math.cos(v+Hr)*(r?r/2-c:l),a=Math.sin(v+Hr)*l,d=Math.sin(v+Hr)*(r?r/2-c:l),t.arc(n-h,i-a,c,v-Ce,v-Ne),t.arc(n+d,i-o,c,v-Ne,v),t.arc(n+h,i+a,c,v,v+Ne),t.arc(n-d,i+o,c,v+Ne,v+Ce),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}v+=Hr;case"rectRot":h=Math.cos(v)*(r?r/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+d,i-o),t.lineTo(n+h,i+a),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":v+=Hr;case"cross":h=Math.cos(v)*(r?r/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":h=Math.cos(v)*(r?r/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),v+=Hr,h=Math.cos(v)*(r?r/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=r?r/2:Math.cos(v)*g,a=Math.sin(v)*g,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(v)*(r?r/2:g),i+Math.sin(v)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function hc(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Tp(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Cp(t){t.restore()}function $G(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function VG(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Ls(t,e,n,i,r,s={}){const o=_e(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,BG(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&jG(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),se(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),UG(t,n,i,c,s),i+=r.lineHeight;t.restore()}function BG(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),se(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function UG(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function jG(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function dc(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-Ne,Ce,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Ce,Ne,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Ne,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Ne,!0),t.lineTo(n+o.topLeft,i)}const zG=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,WG=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function HG(t,e){const n=(""+t).match(zG);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const KG=t=>+t||0;function D_(t,e){const n={},i=te(e),r=i?Object.keys(e):e,s=te(t)?i?o=>X(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=KG(s(o));return n}function kM(t){return D_(t,{top:"y",right:"x",bottom:"y",left:"x"})}function vs(t){return D_(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ct(t){const e=kM(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Xe(t,e){t=t||{},e=e||Ue.font;let n=X(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=X(t.style,e.style);i&&!(""+i).match(WG)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:X(t.family,e.family),lineHeight:HG(X(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:X(t.weight,e.weight),string:""};return r.string=NG(r),r}function ja(t,e,n,i){let r=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),n!==void 0&&_e(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function qG(t,e,n){const{min:i,max:r}=t,s=dM(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function jr(t,e){return Object.assign(Object.create(t),e)}function L_(t,e=[""],n=t,i,r=()=>t[0]){wn(i)||(i=PM("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:i,_getTarget:r,override:o=>L_([o,...t],e,n,i)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete o._keys,delete t[0][a],!0},get(o,a){return CM(o,a,()=>t9(a,e,t,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,a){return cE(o).includes(a)},ownKeys(o){return cE(o)},set(o,a,l){const c=o._storage||(o._storage=r());return o[a]=c[a]=l,delete o._keys,!0}})}function qo(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:TM(t,i),setContext:s=>qo(t,s,n,i),override:s=>qo(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return CM(s,o,()=>YG(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function TM(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Dr(n)?n:()=>n,isIndexable:Dr(i)?i:()=>i}}const GG=(t,e)=>t?t+A_(e):e,N_=(t,e)=>te(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function CM(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function YG(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return Dr(a)&&o.isScriptable(e)&&(a=XG(e,a,t,n)),_e(a)&&a.length&&(a=QG(e,a,t,o.isIndexable)),N_(e,a)&&(a=qo(a,r,s&&s[e],o)),a}function XG(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(s,o||i),a.delete(t),N_(t,e)&&(e=F_(r._scopes,r,t,e)),e}function QG(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(wn(s.index)&&i(t))e=e[s.index%e.length];else if(te(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=F_(c,r,t,u);e.push(qo(h,s,o&&o[t],a))}}return e}function IM(t,e,n){return Dr(t)?t(e,n):t}const JG=(t,e)=>t===!0?e:typeof t=="string"?Mr(e,t):void 0;function ZG(t,e,n,i,r){for(const s of e){const o=JG(n,s);if(o){t.add(o);const a=IM(o._fallback,n,r);if(wn(a)&&a!==n&&a!==i)return a}else if(o===!1&&wn(i)&&n!==i)return null}return!1}function F_(t,e,n,i){const r=e._rootScopes,s=IM(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=lE(a,o,n,s||n,i);return l===null||wn(s)&&s!==n&&(l=lE(a,o,s,l,i),l===null)?!1:L_(Array.from(a),[""],r,s,()=>e9(e,n,i))}function lE(t,e,n,i,r){for(;n;)n=ZG(t,e,n,i,r);return n}function e9(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return _e(r)&&te(n)?n:r||{}}function t9(t,e,n,i){let r;for(const s of e)if(r=PM(GG(s,t),n),wn(r))return N_(t,r)?F_(n,i,t,r):r}function PM(t,e){for(const n of e){if(!n)continue;const i=n[t];if(wn(i))return i}}function cE(t){let e=t._keys;return e||(e=t._keys=n9(t._scopes)),e}function n9(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function AM(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:r.parse(Mr(u,s),c)};return o}const i9=Number.EPSILON||1e-14,Go=(t,e)=>e<t.length&&!t[e].skip&&t[e],RM=t=>t==="x"?"y":"x";function r9(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=dv(s,r),l=dv(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+d*(o.x-r.x),y:s.y+d*(o.y-r.y)}}}function s9(t,e,n){const i=t.length;let r,s,o,a,l,c=Go(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Go(t,u+1),!(!l||!c)){if(ml(e[u],0,i9)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])}}function o9(t,e,n="x"){const i=RM(n),r=t.length;let s,o,a,l=Go(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Go(t,c+1),!a)continue;const u=a[n],h=a[i];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${i}`]=h-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${i}`]=h+s*e[c])}}function a9(t,e="x"){const n=RM(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Go(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Go(t,o+1),!!l){if(c){const u=c[e]-l[e];r[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Zn(r[o-1])!==Zn(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}s9(t,r,s),o9(t,s,e)}function Du(t,e,n){return Math.max(Math.min(t,n),e)}function l9(t,e){let n,i,r,s,o,a=hc(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&hc(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Du(r.cp1x,e.left,e.right),r.cp1y=Du(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Du(r.cp2x,e.left,e.right),r.cp2y=Du(r.cp2y,e.top,e.bottom)))}function c9(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")a9(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=r9(c,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&l9(t,n)}function OM(){return typeof window<"u"&&typeof document<"u"}function $_(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Wd(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Ip=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function u9(t,e){return Ip(t).getPropertyValue(e)}const h9=["top","right","bottom","left"];function ws(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=h9[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const d9=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function f9(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(d9(r,s,t.target))a=r,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function es(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Ip(n),s=r.boxSizing==="border-box",o=ws(r,"padding"),a=ws(r,"border","width"),{x:l,y:c,box:u}=f9(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}function p9(t,e,n){let i,r;if(e===void 0||n===void 0){const s=$_(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Ip(s),l=ws(a,"border","width"),c=ws(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=Wd(a.maxWidth,s,"clientWidth"),r=Wd(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||jd,maxHeight:r||jd}}const Lu=t=>Math.round(t*10)/10;function g9(t,e,n,i){const r=Ip(t),s=ws(r,"margin"),o=Wd(r.maxWidth,t,"clientWidth")||jd,a=Wd(r.maxHeight,t,"clientHeight")||jd,l=p9(t,e,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const d=ws(r,"border","width"),f=ws(r,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=Lu(Math.min(c,o,l.maxWidth)),u=Lu(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Lu(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=Lu(Math.floor(u*i))),{width:c,height:u}}function uE(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const m9=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function hE(t,e){const n=u9(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ts(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function y9(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function v9(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=ts(t,r,n),a=ts(r,s,n),l=ts(s,e,n),c=ts(o,a,n),u=ts(a,l,n);return ts(c,u,n)}const w9=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},_9=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function To(t,e,n){return t?w9(e,n):_9()}function MM(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function DM(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function LM(t){return t==="angle"?{between:uc,compare:bG,normalize:Yt}:{between:Ei,compare:(e,n)=>e-n,normalize:e=>e}}function dE({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function b9(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=LM(i),l=e.length;let{start:c,end:u,loop:h}=t,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(e[c%l][i]),r,s);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function NM(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=LM(i),{start:u,end:h,loop:d,style:f}=b9(t,e,n),p=[];let g=!1,v=null,y,m,w;const _=()=>l(r,w,y)&&a(r,w)!==0,b=()=>a(s,y)===0||l(s,w,y),S=()=>g||_(),k=()=>!g||b();for(let T=u,I=u;T<=h;++T)m=e[T%o],!m.skip&&(y=c(m[i]),y!==w&&(g=l(y,r,s),v===null&&S()&&(v=a(y,r)===0?T:I),v!==null&&k()&&(p.push(dE({start:v,end:T,loop:d,count:o,style:f})),v=null),I=T,w=y));return v!==null&&p.push(dE({start:v,end:h,loop:d,count:o,style:f})),p}function FM(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=NM(i[r],t.points,e);s.length&&n.push(...s)}return n}function x9(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function S9(t,e,n,i){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function E9(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=x9(n,r,s,i);if(i===!0)return fE(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return fE(t,S9(n,o,l,c),n,e)}function fE(t,e,n,i){return!i||!i.setContext||!n?e:k9(t,e,n,i)}function k9(t,e,n,i){const r=t._chart.getContext(),s=pE(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,d=h;function f(p,g,v,y){const m=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=m;for(;n[g%l].skip;)g+=m;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:v,style:y}),u=y,h=g%l)}}for(const p of e){h=a?h:p.start;let g=n[h%l],v;for(d=h+1;d<=p.end;d++){const y=n[d%l];v=pE(i.setContext(jr(r,{type:"segment",p0:g,p1:y,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),T9(v,u)&&f(h,d-1,p.loop,u),g=y,u=v}h<d-1&&f(h,d-1,p.loop,u)}return c}function pE(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function T9(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v4.2.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class C9{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=vM.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ci=new C9;const gE="transparent",I9={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=sE(t||gE),r=i.valid&&sE(e||gE);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class P9{constructor(e,n,i,r){const s=n[i];r=ja([e.to,r,s,e.from]);const o=ja([e.from,s,r]);this._active=!0,this._fn=e.fn||I9[e.type||typeof o],this._easing=yl[e.easing]||yl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ja([e.to,n,r,e.from]),this._from=ja([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class $M{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!te(e))return;const n=Object.keys(Ue.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!te(s))return;const o={};for(const a of n)o[a]=s[a];(_e(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=R9(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&A9(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[c];let h=s[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}s[c]=h=new P9(d,e,c,u),r.push(h)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return ci.add(this._chart,i),!0}}function A9(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function R9(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function mE(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function O9(t,e,n){if(n===!1)return!1;const i=mE(t,n),r=mE(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function M9(t){let e,n,i,r;return te(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function VM(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function yE(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=t.values[l],Le(c)&&(s||e===0||Zn(e)===Zn(c))&&(e+=c)}return e}}function D9(t){const e=Object.keys(t),n=new Array(e.length);let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],n[i]={x:s,y:t[s]};return n}function vE(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function L9(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function N9(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function F9(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function wE(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function _E(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=L9(s,o,i),h=e.length;let d;for(let f=0;f<h;++f){const p=e[f],{[l]:g,[c]:v}=p,y=p._stacks||(p._stacks={});d=y[c]=F9(r,u,g),d[a]=v,d._top=wE(d,o,!0,i.type),d._bottom=wE(d,o,!1,i.type);const m=d._visualValues||(d._visualValues={});m[a]=v}}function Yg(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function $9(t,e){return jr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function V9(t,e,n){return jr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ea(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Xg=t=>t==="reset"||t==="none",bE=(t,e)=>e?t:Object.assign({},t),B9=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:VM(n,!0),values:null};class Rn{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=vE(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ea(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,s=n.xAxisID=X(i.xAxisID,Yg(e,"x")),o=n.yAxisID=X(i.yAxisID,Yg(e,"y")),a=n.rAxisID=X(i.rAxisID,Yg(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),u=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&nE(this._data,this),e._stacked&&Ea(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(te(n))this._data=D9(n);else if(i!==n){if(i){nE(i,this);const r=this._cachedMeta;Ea(r),r._parsed=[]}n&&Object.isExtensible(n)&&kG(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=vE(n.vScale,n),n.stack!==i.stack&&(r=!0,Ea(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&_E(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,d;if(this._parsing===!1)i._parsed=r,i._sorted=!0,d=r;else{_e(r[e])?d=this.parseArrayData(i,r,e,n):te(r[e])?d=this.parseObjectData(i,r,e,n):d=this.parsePrimitiveData(i,r,e,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);i._sorted=l}o&&_E(this,d)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(r);let d,f,p;for(d=0,f=r;d<f;++d)p=d+i,h[d]={[a]:u||s.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,c,u,h;for(l=0,c=r;l<c;++l)u=l+i,h=n[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,h,d,f;for(u=0,h=r;u<h;++u)d=u+i,f=n[d],c[u]={x:s.parse(Mr(f,a),d),y:o.parse(Mr(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:VM(r,!0),values:n._stacks[e.axis]._visualValues};return yE(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=yE(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=B9(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=N9(a);let d,f;function p(){f=r[d];const g=f[a.axis];return!Le(f[e.axis])||u>g||h<g}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],Le(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=M9(X(this.options.clip,O9(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const h=r[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=V9(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=$9(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&wn(i);if(a)return bE(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Ue.elements[e]),p=()=>this.getContext(i,r,n),g=c.resolveNamedOptions(d,f,p,h);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(bE(g,l))),g}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,i,n))}const c=new $M(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Xg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){Xg(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Xg(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Ea(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}N(Rn,"defaults",{}),N(Rn,"datasetElementType",null),N(Rn,"dataElementType",null);function U9(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=yM(i.sort((r,s)=>r-s))}return t._cache.$bar}function j9(t){const e=t.iScale,n=U9(e,t.type);let i=e._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(wn(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function z9(t,e,n,i){const r=n.barThickness;let s,o;return se(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function W9(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function H9(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function BM(t,e,n,i){return _e(t)?H9(t,e,n,i):e[n.axis]=n.parse(t,i),e}function xE(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(BM(d,h,s,c));return l}function Qg(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function K9(t,e,n){return t!==0?Zn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function q9(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function G9(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=q9(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[SE(u,o,a,l)]=!0,r=c)),s[SE(r,o,a,l)]=!0,t.borderSkipped=s}function SE(t,e,n,i){return i?(t=Y9(t,e,n),t=EE(t,n,e)):t=EE(t,e,n),t}function Y9(t,e,n){return t===e?n:t===n?e:t}function EE(t,e,n){return t==="start"?e:t==="end"?n:t}function X9(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class wh extends Rn{parsePrimitiveData(e,n,i,r){return xE(e,n,i,r)}parseArrayData(e,n,i,r){return xE(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,p,g;for(d=i,f=i+r;d<f;++d)g=n[d],p={},p[s.axis]=s.parse(Mr(g,c),d),h.push(BM(Mr(g,u),p,o,d));return h}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),o=s._custom,a=Qg(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,r);for(let f=n;f<n+i;f++){const p=this.getParsed(f),g=s||se(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,u),y=(p._stacks||{})[a.axis],m={horizontal:c,base:g.base,enableBorderRadius:!y||Qg(p._custom)||o===y._top||o===y._bottom,x:c?g.head:v.center,y:c?v.center:g.head,height:c?v.size:Math.abs(g.size),width:c?Math.abs(g.size):v.size};d&&(m.options=h||this.resolveDataElementOptions(f,e[f].active?"active":r));const w=m.options||e[f].options;G9(m,w,y,o),X9(m,w,u.ratio),this.updateElement(e[f],f,m,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(se(u)||isNaN(u))return!0};for(const l of r)if(!(n!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=e.barThickness;return{min:a||j9(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=Qg(c);let h=l[n.axis],d=0,f=i?this.applyStack(n,l,i):h,p,g;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&Zn(h)!==Zn(c.barEnd)&&(d=0),d+=h);const v=!se(s)&&!u?s:d;let y=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(d+f):p=y,g=p-y,Math.abs(g)<o){g=K9(g,n,a)*o,h===a&&(y-=g/2);const m=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),_=Math.min(m,w),b=Math.max(m,w);y=Math.max(Math.min(y,b),_),p=y+g,i&&!u&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(p)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const m=Zn(g)*n.getLineWidthForValue(a)/2;y+=m,g-=m}return{size:g,base:y,head:p,center:p+g/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,o=X(r.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=r.barThickness==="flex"?W9(e,n,r,c):z9(e,n,r,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&i[s].draw(this._ctx)}}N(wh,"id","bar"),N(wh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),N(wh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class _h extends Rn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,r){const s=super.parsePrimitiveData(e,n,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(e,n,i,r){const s=super.parseArrayData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=X(a[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(e,n,i,r){const s=super.parseObjectData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=X(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,r),u=o.axis,h=a.axis;for(let d=n;d<n+i;d++){const f=e[d],p=!s&&this.getParsed(d),g={},v=g[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),y=g[h]=s?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(v)||isNaN(y),c&&(g.options=l||this.resolveDataElementOptions(d,f.active?"active":r),s&&(g.options.radius=0)),this.updateElement(f,d,g,r)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return n!=="active"&&(r.radius=0),r.radius+=X(i&&i._custom,s),r}}N(_h,"id","bubble"),N(_h,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),N(_h,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Q9(t,e,n){let i=1,r=1,s=0,o=0;if(e<xe){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(w,_,b)=>uc(w,a,l,!0)?1:Math.max(_,_*n,b,b*n),p=(w,_,b)=>uc(w,a,l,!0)?-1:Math.min(_,_*n,b,b*n),g=f(0,c,h),v=f(Ne,u,d),y=p(Ce,c,h),m=p(Ce+Ne,u,d);i=(g-y)/2,r=(v-m)/2,s=-(g+y)/2,o=-(v+m)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class us extends Rn{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(te(i[e])){const{key:l="value"}=this._parsing;s=c=>+Mr(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return In(this.options.rotation-90)}_getCircumference(){return In(this.options.circumference)}_getRotationExtents(){let e=xe,n=-xe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(hG(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:p,offsetY:g}=Q9(h,u,l),v=(i.width-o)/d,y=(i.height-o)/f,m=Math.max(Math.min(v,y)/2,0),w=dM(this.options.radius,m),_=Math.max(w*l,0),b=(w-_)/this._getVisibleDatasetWeightTotal();this.offsetX=p*w,this.offsetY=g*w,r.total=this.calculateTotal(),this.outerRadius=w-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/xe)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=s&&c.animateScale,f=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:g,includeOptions:v}=this._getSharedOptions(n,r);let y=this._getRotation(),m;for(m=0;m<n;++m)y+=this._circumference(m,s);for(m=n;m<n+i;++m){const w=this._circumference(m,s),_=e[m],b={x:u+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+w,circumference:w,outerRadius:p,innerRadius:f};v&&(b.options=g||this.resolveDataElementOptions(m,_.active?"active":r)),y+=w,this.updateElement(_,m,b,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?xe*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Xc(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,a,l;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(X(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}N(us,"id","doughnut"),N(us,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),N(us,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"}),N(us,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class wl extends Rn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=_M(n,r,o);this._drawStart=a,this._drawCount=l,bM(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,r),d=o.axis,f=a.axis,{spanGaps:p,segment:g}=this.options,v=Ko(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||r==="none",m=n+i,w=e.length;let _=n>0&&this.getParsed(n-1);for(let b=0;b<w;++b){const S=e[b],k=y?S:{};if(b<n||b>=m){k.skip=!0;continue}const T=this.getParsed(b),I=se(T[f]),C=k[d]=o.getPixelForValue(T[d],b),D=k[f]=s||I?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[f],b);k.skip=isNaN(C)||isNaN(D)||I,k.stop=b>0&&Math.abs(T[d]-_[d])>v,g&&(k.parsed=T,k.raw=c.data[b]),h&&(k.options=u||this.resolveDataElementOptions(b,S.active?"active":r)),y||this.updateElement(S,b,k,r),_=T}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}N(wl,"id","line"),N(wl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),N(wl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class _l extends Rn{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Xc(n._parsed[e].r,i.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,n,i,r){return AM.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*Ce;let f=d,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)f+=this._computeAngle(p,r,g);for(p=n;p<n+i;p++){const v=e[p];let y=f,m=f+this._computeAngle(p,r,g),w=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=m,s&&(l.animateScale&&(w=0),l.animateRotate&&(y=m=d));const _={x:u,y:h,innerRadius:0,outerRadius:w,startAngle:y,endAngle:m,options:this.resolveDataElementOptions(p,v.active?"active":r)};this.updateElement(v,p,_,r)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?In(this.resolveDataElementOptions(e,n).angle||i):0}}N(_l,"id","polarArea"),N(_l,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),N(_l,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class gv extends us{}N(gv,"id","pie"),N(gv,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class bh extends Rn{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,r){return AM.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":r),u=s.getPointPositionForValue(a,this.getParsed(a).r),h=o?s.xCenter:u.x,d=o?s.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,r)}}}N(bh,"id","radar"),N(bh,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),N(bh,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class xh extends Rn{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:s,count:o}=_M(n,i,r);if(this._drawStart=s,this._drawCount=o,bM(n)&&(s=0,o=i.length),this.options.showLine){const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:c},e)}this.updateElements(i,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,r),h=this.getSharedOptions(u),d=this.includeOptions(r,h),f=o.axis,p=a.axis,{spanGaps:g,segment:v}=this.options,y=Ko(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||r==="none";let w=n>0&&this.getParsed(n-1);for(let _=n;_<n+i;++_){const b=e[_],S=this.getParsed(_),k=m?b:{},T=se(S[p]),I=k[f]=o.getPixelForValue(S[f],_),C=k[p]=s||T?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[p],_);k.skip=isNaN(I)||isNaN(C)||T,k.stop=_>0&&Math.abs(S[f]-w[f])>y,v&&(k.parsed=S,k.raw=c.data[_]),d&&(k.options=h||this.resolveDataElementOptions(_,b.active?"active":r)),m||this.updateElement(b,_,k,r),w=S}this.updateSharedOptions(h,r,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,o)/2}}N(xh,"id","scatter"),N(xh,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),N(xh,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var J9=Object.freeze({__proto__:null,BarController:wh,BubbleController:_h,DoughnutController:us,LineController:wl,PolarAreaController:_l,PieController:gv,RadarController:bh,ScatterController:xh});function qr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class V_{static override(e){Object.assign(V_.prototype,e)}constructor(e){this.options=e||{}}init(){}formats(){return qr()}parse(){return qr()}format(){return qr()}add(){return qr()}diff(){return qr()}startOf(){return qr()}endOf(){return qr()}}var Z9={_date:V_};function eY(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?SG:ki;if(i){if(r._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(s,e,n-u),d=l(s,e,n+u);return{lo:h.lo,hi:d.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function Qc(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:d}=eY(s[a],e,o,r);for(let f=h;f<=d;++f){const p=u[f];p.skip||i(p,c,f)}}}function tY(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Jg(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||Qc(t,n,e,function(a,l,c){!r&&!hc(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function nY(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=gM(o,{x:e.x,y:e.y});uc(h,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return Qc(t,n,e,s),r}function iY(t,e,n,i,r,s){let o=[];const a=tY(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,r);if(i&&!f)return;const p=u.getCenterPoint(r);if(!(!!s||t.isPointInArea(p))&&!f)return;const v=a(e,p);v<l?(o=[{element:u,datasetIndex:h,index:d}],l=v):v===l&&o.push({element:u,datasetIndex:h,index:d})}return Qc(t,n,e,c),o}function Zg(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?nY(t,e,n,r):iY(t,e,n,i,r,s)}function kE(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Qc(t,n,e,(l,c,u)=>{l[o](e[n],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var rY={evaluateInteractionItems:Qc,modes:{index(t,e,n,i){const r=es(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Jg(t,r,s,i,o):Zg(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const r=es(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Jg(t,r,s,i,o):Zg(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const r=es(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Jg(t,r,s,i,o)},nearest(t,e,n,i){const r=es(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Zg(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=es(e,t);return kE(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=es(e,t);return kE(t,r,"y",n.intersect,i)}}};const UM=["left","top","right","bottom"];function ka(t,e){return t.filter(n=>n.pos===e)}function TE(t,e){return t.filter(n=>UM.indexOf(n.pos)===-1&&n.box.axis===e)}function Ta(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function sY(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function oY(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!UM.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function aY(t,e){const n=oY(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return n}function lY(t){const e=sY(t),n=Ta(e.filter(c=>c.box.fullSize),!0),i=Ta(ka(e,"left"),!0),r=Ta(ka(e,"right")),s=Ta(ka(e,"top"),!0),o=Ta(ka(e,"bottom")),a=TE(e,"x"),l=TE(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:ka(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function CE(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function jM(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function cY(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!te(r)){n.size&&(t[r]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[r]+=n.size}s.getPadding&&jM(o,s.getPadding());const a=Math.max(0,e.outerWidth-CE(o,t,"left","right")),l=Math.max(0,e.outerHeight-CE(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function uY(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function hY(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function za(t,e,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,hY(a.horizontal,e));const{same:h,other:d}=cY(e,n,a,i);c|=h&&r.length,u=u||d,l.fullSize||r.push(a)}return c&&za(r,e,n,i)||u}function Nu(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function IE(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;wn(c.start)&&(o=c.start),l.fullSize?Nu(l,r.left,o,n.outerWidth-r.right-r.left,d):Nu(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;wn(c.start)&&(s=c.start),l.fullSize?Nu(l,s,r.top,d,n.outerHeight-r.bottom-r.top):Nu(l,s,e.top+c.placed,d,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}var bt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Ct(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=lY(t.boxes),l=a.vertical,c=a.horizontal;le(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,v)=>v.box.options&&v.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},r);jM(d,Ct(i));const f=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),p=aY(l.concat(c),h);za(a.fullSize,f,h,p),za(l,f,h,p),za(c,f,h,p)&&za(l,f,h,p),uY(f),IE(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,IE(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},le(a.chartArea,g=>{const v=g.box;Object.assign(v,t.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class zM{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class dY extends zM{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Sh="$chartjs",fY={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},PE=t=>t===null||t==="";function pY(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Sh]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",PE(r)){const s=hE(t,"width");s!==void 0&&(t.width=s)}if(PE(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=hE(t,"height");s!==void 0&&(t.height=s)}return t}const WM=m9?{passive:!0}:!1;function gY(t,e,n){t.addEventListener(e,n,WM)}function mY(t,e,n){t.canvas.removeEventListener(e,n,WM)}function yY(t,e){const n=fY[t.type]||t.type,{x:i,y:r}=es(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Hd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function vY(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Hd(a.addedNodes,i),o=o&&!Hd(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function wY(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Hd(a.removedNodes,i),o=o&&!Hd(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const fc=new Map;let AE=0;function HM(){const t=window.devicePixelRatio;t!==AE&&(AE=t,fc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function _Y(t,e){fc.size||window.addEventListener("resize",HM),fc.set(t,e)}function bY(t){fc.delete(t),fc.size||window.removeEventListener("resize",HM)}function xY(t,e,n){const i=t.canvas,r=i&&$_(i);if(!r)return;const s=wM((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),_Y(t,s),o}function em(t,e,n){n&&n.disconnect(),e==="resize"&&bY(t)}function SY(t,e,n){const i=t.canvas,r=wM(s=>{t.ctx!==null&&n(yY(s,t))},t);return gY(i,e,r),r}class EY extends zM{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(pY(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Sh])return!1;const i=n[Sh].initial;["height","width"].forEach(s=>{const o=i[s];se(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Sh],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:vY,detach:wY,resize:xY}[n]||SY;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:em,detach:em,resize:em}[n]||mY)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return g9(e,n,i,r)}isAttached(e){const n=$_(e);return!!(n&&n.isConnected)}}function kY(t){return!OM()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?dY:EY}var Hu;let Bi=(Hu=class{constructor(){N(this,"active",!1)}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Ko(this.x)&&Ko(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},N(Hu,"defaults",{}),N(Hu,"defaultRoutes"),Hu);function TY(t,e){const n=t.options.ticks,i=CY(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?PY(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return AY(e,c,s,o/r),c;const u=IY(s,e,r);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(Fu(e,c,u,se(f)?0:a-f,a),h=0,d=o-1;h<d;h++)Fu(e,c,u,s[h],s[h+1]);return Fu(e,c,u,l,se(f)?e.length:l+f),c}return Fu(e,c,u),c}function CY(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function IY(t,e,n){const i=RY(t),r=e.length/n;if(!i)return Math.max(r,1);const s=wG(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function PY(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function AY(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function Fu(t,e,n,i,r){const s=X(i,0),o=Math.min(X(r,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function RY(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const OY=t=>t==="left"?"right":t==="right"?"left":t,RE=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n;function OE(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function MY(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function DY(t,e){le(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function Ca(t){return t.drawTicks?t.tickLength:0}function ME(t,e){if(!t.display)return 0;const n=Xe(t.font,e),i=Ct(t.padding);return(_e(t.text)?t.text.length:1)*n.lineHeight+i.height}function LY(t,e){return jr(t,{scale:e,type:"scale"})}function NY(t,e,n){return jr(t,{tick:n,index:e,type:"tick"})}function FY(t,e,n){let i=M_(t);return(n&&e!=="right"||!n&&e==="right")&&(i=OY(i)),i}function $Y(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,d,f,p;const g=o-r,v=a-s;if(t.isHorizontal()){if(f=mt(i,s,a),te(n)){const y=Object.keys(n)[0],m=n[y];p=u[y].getPixelForValue(m)+g-e}else n==="center"?p=(c.bottom+c.top)/2+g-e:p=RE(t,n,e);d=a-s}else{if(te(n)){const y=Object.keys(n)[0],m=n[y];f=u[y].getPixelForValue(m)-v+e}else n==="center"?f=(c.left+c.right)/2-v+e:f=RE(t,n,e);p=mt(i,o,r),h=n==="left"?-Ne:Ne}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class js extends Bi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=qt(e,Number.POSITIVE_INFINITY),n=qt(n,Number.NEGATIVE_INFINITY),i=qt(i,Number.POSITIVE_INFINITY),r=qt(r,Number.NEGATIVE_INFINITY),{min:qt(e,i),max:qt(n,r),minDefined:Le(e),maxDefined:Le(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:qt(n,qt(i,n)),max:qt(i,qt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pe(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=qG(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?OE(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=TY(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pe(this.options.afterUpdate,[this])}beforeSetDimensions(){pe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),pe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=pe(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){pe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=this.ticks.length,r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=it(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-Ca(e.grid)-n.padding-ME(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=R_(Math.min(Math.asin(it((u.highest.height+6)/a,-1,1)),Math.asin(it(l/c,-1,1))-Math.asin(it(d/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){pe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=ME(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=Ca(s)+l):(e.height=this.maxHeight,e.width=Ca(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,p=In(this.labelRotation),g=Math.cos(p),v=Math.sin(p);if(a){const y=i.mirror?0:v*h.width+g*d.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=i.mirror?0:g*h.width+v*d.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,v,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=r*e.width,f=i*n.height):(d=i*e.height,f=r*n.width):s==="start"?f=n.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)se(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=OE(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length)}return e}_computeLabelSizes(e,n){const{ctx:i,_longestTextCache:r}=this,s=[],o=[];let a=0,l=0,c,u,h,d,f,p,g,v,y,m,w;for(c=0;c<n;++c){if(d=e[c].label,f=this._resolveTickFontOptions(c),i.font=p=f.string,g=r[p]=r[p]||{data:{},gc:[]},v=f.lineHeight,y=m=0,!se(d)&&!_e(d))y=zd(i,g.data,g.gc,y,d),m=v;else if(_e(d))for(u=0,h=d.length;u<h;++u)w=d[u],!se(w)&&!_e(w)&&(y=zd(i,g.data,g.gc,y,w),m+=v);s.push(y),o.push(m),a=Math.max(y,a),l=Math.max(m,l)}DY(r,n);const _=s.indexOf(a),b=o.indexOf(l),S=k=>({width:s[k]||0,height:o[k]||0});return{first:S(0),last:S(n-1),widest:S(_),highest:S(b),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return xG(this._alignToPixels?Kr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=NY(this.getContext(),e,i))}return this.$context||(this.$context=LY(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=In(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=Ca(s),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,v=g/2,y=function(Z){return Kr(i,Z,g)};let m,w,_,b,S,k,T,I,C,D,G,de;if(o==="top")m=y(this.bottom),k=this.bottom-d,I=m-v,D=y(e.top)+v,de=e.bottom;else if(o==="bottom")m=y(this.top),D=e.top,de=y(e.bottom)-v,k=m+v,I=this.top+d;else if(o==="left")m=y(this.right),S=this.right-d,T=m-v,C=y(e.left)+v,G=e.right;else if(o==="right")m=y(this.left),C=e.left,G=y(e.right)-v,S=m+v,T=this.left+d;else if(n==="x"){if(o==="center")m=y((e.top+e.bottom)/2+.5);else if(te(o)){const Z=Object.keys(o)[0],J=o[Z];m=y(this.chart.scales[Z].getPixelForValue(J))}D=e.top,de=e.bottom,k=m+v,I=k+d}else if(n==="y"){if(o==="center")m=y((e.left+e.right)/2);else if(te(o)){const Z=Object.keys(o)[0],J=o[Z];m=y(this.chart.scales[Z].getPixelForValue(J))}S=m-v,T=S-d,C=e.left,G=e.right}const Oe=X(r.ticks.maxTicksLimit,h),j=Math.max(1,Math.ceil(h/Oe));for(w=0;w<h;w+=j){const Z=this.getContext(w),J=s.setContext(Z),O=a.setContext(Z),F=J.lineWidth,W=J.color,fe=O.dash||[],ve=O.dashOffset,Ln=J.tickWidth,Ht=J.tickColor,ri=J.tickBorderDash||[],Kt=J.tickBorderDashOffset;_=MY(this,w,l),_!==void 0&&(b=Kr(i,_,F),c?S=T=C=G=b:k=I=D=de=b,f.push({tx1:S,ty1:k,tx2:T,ty2:I,x1:C,y1:D,x2:G,y2:de,width:F,color:W,borderDash:fe,borderDashOffset:ve,tickWidth:Ln,tickColor:Ht,tickBorderDash:ri,tickBorderDashOffset:Kt}))}return this._ticksLength=h,this._borderValue=m,f}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,d=Ca(i.grid),f=d+u,p=h?-u:f,g=-In(this.labelRotation),v=[];let y,m,w,_,b,S,k,T,I,C,D,G,de="middle";if(r==="top")S=this.bottom-p,k=this._getXAxisLabelAlignment();else if(r==="bottom")S=this.top+p,k=this._getXAxisLabelAlignment();else if(r==="left"){const j=this._getYAxisLabelAlignment(d);k=j.textAlign,b=j.x}else if(r==="right"){const j=this._getYAxisLabelAlignment(d);k=j.textAlign,b=j.x}else if(n==="x"){if(r==="center")S=(e.top+e.bottom)/2+f;else if(te(r)){const j=Object.keys(r)[0],Z=r[j];S=this.chart.scales[j].getPixelForValue(Z)+f}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")b=(e.left+e.right)/2-f;else if(te(r)){const j=Object.keys(r)[0],Z=r[j];b=this.chart.scales[j].getPixelForValue(Z)}k=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?de="top":l==="end"&&(de="bottom"));const Oe=this._getLabelSizes();for(y=0,m=a.length;y<m;++y){w=a[y],_=w.label;const j=s.setContext(this.getContext(y));T=this.getPixelForTick(y)+s.labelOffset,I=this._resolveTickFontOptions(y),C=I.lineHeight,D=_e(_)?_.length:1;const Z=D/2,J=j.color,O=j.textStrokeColor,F=j.textStrokeWidth;let W=k;o?(b=T,k==="inner"&&(y===m-1?W=this.options.reverse?"left":"right":y===0?W=this.options.reverse?"right":"left":W="center"),r==="top"?c==="near"||g!==0?G=-D*C+C/2:c==="center"?G=-Oe.highest.height/2-Z*C+C:G=-Oe.highest.height+C/2:c==="near"||g!==0?G=C/2:c==="center"?G=Oe.highest.height/2-Z*C:G=Oe.highest.height-D*C,h&&(G*=-1),g!==0&&!j.showLabelBackdrop&&(b+=C/2*Math.sin(g))):(S=T,G=(1-D)*C/2);let fe;if(j.showLabelBackdrop){const ve=Ct(j.backdropPadding),Ln=Oe.heights[y],Ht=Oe.widths[y];let ri=G-ve.top,Kt=0-ve.left;switch(de){case"middle":ri-=Ln/2;break;case"bottom":ri-=Ln;break}switch(k){case"center":Kt-=Ht/2;break;case"right":Kt-=Ht;break}fe={left:Kt,top:ri,width:Ht+ve.width,height:Ln+ve.height,color:j.backdropColor}}v.push({label:_,font:I,textOffset:G,options:{rotation:g,color:J,strokeColor:O,strokeWidth:F,textAlign:W,textBaseline:de,translation:[b,S],backdrop:fe}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-In(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=Kr(e,this.left,o)-o/2,u=Kr(e,this.right,a)+a/2,h=d=l):(h=Kr(e,this.top,o)-o/2,d=Kr(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Tp(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Ls(i,c,0,u,l,a)}r&&Cp(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=Xe(i.font),o=Ct(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||te(n)?(l+=o.bottom,_e(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=$Y(this,l,n,a);Ls(e,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:d,textAlign:FY(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=X(e.grid&&e.grid.z,-1),r=X(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==js.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Xe(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class $u{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;UY(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,VY(e,o,i),this.override&&Ue.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Ue[r]&&(delete Ue[r][i],this.override&&delete Ds[i])}}function VY(t,e,n){const i=cc(Object.create(null),[n?Ue.get(n):{},Ue.get(e),t.defaults]);Ue.set(e,i),t.defaultRoutes&&BY(e,t.defaultRoutes),t.descriptors&&Ue.describe(e,t.descriptors)}function BY(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Ue.route(s,r,l,a)})}function UY(t){return"id"in t&&"defaults"in t}class jY{constructor(){this.controllers=new $u(Rn,"datasets",!0),this.elements=new $u(Bi,"elements"),this.plugins=new $u(Object,"plugins"),this.scales=new $u(js,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):le(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=A_(e);pe(i["before"+r],[],i),n[e](i),pe(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Bn=new jY;class zY{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(pe(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=X(i.options&&i.options.plugins,{}),s=WY(i);return r===!1&&!n?[]:KY(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function WY(t){const e={},n=[],i=Object.keys(Bn.plugins.items);for(let s=0;s<i.length;s++)n.push(Bn.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function HY(t,e){return!e&&t===!1?null:t===!0?{}:t}function KY(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=HY(i[l],r);c!==null&&s.push({plugin:a,options:qY(t.config,{plugin:a,local:n[l]},c,o)})}return s}function qY(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mv(t,e){const n=Ue.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function GY(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function YY(t,e){return t===e?"_index_":"_value_"}function XY(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Kd(t,e){if(t==="x"||t==="y"||t==="r"||(t=e.axis||XY(e.position)||t.length>1&&Kd(t[0].toLowerCase(),e),t))return t;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function QY(t,e){const n=Ds[t.type]||{scales:{}},i=e.scales||{},r=mv(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!te(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Kd(o,a),c=YY(l,r),u=n.scales||{};s[o]=gl(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||mv(a,e),u=(Ds[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=GY(h,l),f=o[d+"AxisID"]||d;s[f]=s[f]||Object.create(null),gl(s[f],[{axis:d},i[f],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];gl(a,[Ue.scales[a.type],Ue.scale])}),s}function KM(t){const e=t.options||(t.options={});e.plugins=X(e.plugins,{}),e.scales=QY(t,e)}function qM(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function JY(t){return t=t||{},t.data=qM(t.data),KM(t),t}const DE=new Map,GM=new Set;function Vu(t,e){let n=DE.get(t);return n||(n=e(),DE.set(t,n),GM.add(n)),n}const Ia=(t,e,n)=>{const i=Mr(e,n);i!==void 0&&t.add(i)};class ZY{constructor(e){this._config=JY(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=qM(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),KM(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Vu(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Vu(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Vu(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Vu(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>Ia(l,e,h))),u.forEach(h=>Ia(l,r,h)),u.forEach(h=>Ia(l,Ds[s]||{},h)),u.forEach(h=>Ia(l,Ue,h)),u.forEach(h=>Ia(l,fv,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),GM.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ds[n]||{},Ue.datasets[n]||{},{type:n},Ue,fv]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=LE(this._resolverCache,e,r);let l=o;if(tX(o,n)){s.$shared=!1,i=Dr(i)?i():i;const c=this.createResolver(e,i,a);l=qo(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=LE(this._resolverCache,e,i);return te(n)?qo(s,n,void 0,r):s}}function LE(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:L_(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const eX=t=>te(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||Dr(t[n]),!1);function tX(t,e){const{isScriptable:n,isIndexable:i}=TM(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(Dr(a)||eX(a))||o&&_e(a))return!0}return!1}var nX="4.2.0";const iX=["top","bottom","left","right","chartArea"];function NE(t,e){return t==="top"||t==="bottom"||iX.indexOf(t)===-1&&e==="x"}function FE(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function $E(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),pe(n&&n.onComplete,[t],e)}function rX(t){const e=t.chart,n=e.options.animation;pe(n&&n.onProgress,[t],e)}function YM(t){return OM()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Eh={},VE=t=>{const e=YM(t);return Object.values(Eh).filter(n=>n.canvas===e).pop()};function sX(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function oX(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function aX(t){const{xScale:e,yScale:n}=t;if(e&&n)return{left:e.left,right:e.right,top:n.top,bottom:n.bottom}}var zi;let Pp=(zi=class{static register(...e){Bn.add(...e),BE()}static unregister(...e){Bn.remove(...e),BE()}constructor(e,n){const i=this.config=new ZY(n),r=YM(e),s=VE(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||kY(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=uG(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zY,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=TG(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Eh[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ci.listen(this,"complete",$E),ci.listen(this,"progress",rX),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return se(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Bn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():uE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return aE(this.canvas,this.ctx),this}stop(){return ci.stop(this),this}resize(e,n){ci.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,uE(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),pe(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};le(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Kd(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),le(s,o=>{const a=o.options,l=a.id,c=Kd(l,a),u=X(a.type,o.dtype);(a.position===void 0||NE(a.position,c)!==NE(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const d=Bn.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,e)}),le(r,(o,a)=>{o||delete i[a]}),le(i,o=>{bt.configure(this,o,o.options),bt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(FE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||mv(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Bn.getController(a),{datasetElementType:c,dataElementType:u}=Ue.datasets[a];Object.assign(l,{dataElementType:Bn.getElement(u),datasetElementType:c&&Bn.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){le(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!r&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||le(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(FE("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){le(this.scales,e=>{bt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!JS(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;sX(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!JS(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;bt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],le(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Dr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ci.has(this)?this.attached&&!ci.running(this)&&ci.start(this):(this.draw(),$E({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,s=aX(e)||this.chartArea,o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&Tp(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&Cp(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return hc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=rY.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=jr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);wn(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ci.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),aE(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Eh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};le(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){le(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},le(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Bd(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=mG(e),c=oX(e,this._lastEvent,i,l);i&&(this._lastEvent=null,pe(s.onHover,[e,a,this],this),l&&pe(s.onClick,[e,a,this],this));const u=!Bd(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},N(zi,"defaults",Ue),N(zi,"instances",Eh),N(zi,"overrides",Ds),N(zi,"registry",Bn),N(zi,"version",nX),N(zi,"getChart",VE),zi);function BE(){return le(Pp.instances,t=>t._plugins.invalidate())}function lX(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+Ne,i-Ne),t.closePath(),t.clip()}function cX(t){return D_(t,["outerStart","outerEnd","innerStart","innerEnd"])}function uX(t,e,n,i){const r=cX(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=l=>{const c=(n-Math.min(s,l))*i/2;return it(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:it(r.innerStart,0,o),innerEnd:it(r.innerEnd,0,o)}}function Hs(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function qd(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=r-l;if(i){const j=u>0?u-i:0,Z=h>0?h-i:0,J=(j+Z)/2,O=J!==0?p*J/(J+i):p;f=(p-O)/2}const g=Math.max(.001,p*h-n/Ce)/h,v=(p-g)/2,y=l+v+f,m=r-v-f,{outerStart:w,outerEnd:_,innerStart:b,innerEnd:S}=uX(e,d,h,m-y),k=h-w,T=h-_,I=y+w/k,C=m-_/T,D=d+b,G=d+S,de=y+b/D,Oe=m-S/G;if(t.beginPath(),s){const j=(I+C)/2;if(t.arc(o,a,h,I,j),t.arc(o,a,h,j,C),_>0){const F=Hs(T,C,o,a);t.arc(F.x,F.y,_,C,m+Ne)}const Z=Hs(G,m,o,a);if(t.lineTo(Z.x,Z.y),S>0){const F=Hs(G,Oe,o,a);t.arc(F.x,F.y,S,m+Ne,Oe+Math.PI)}const J=(m-S/d+(y+b/d))/2;if(t.arc(o,a,d,m-S/d,J,!0),t.arc(o,a,d,J,y+b/d,!0),b>0){const F=Hs(D,de,o,a);t.arc(F.x,F.y,b,de+Math.PI,y-Ne)}const O=Hs(k,y,o,a);if(t.lineTo(O.x,O.y),w>0){const F=Hs(k,I,o,a);t.arc(F.x,F.y,w,y-Ne,I)}}else{t.moveTo(o,a);const j=Math.cos(I)*h+o,Z=Math.sin(I)*h+a;t.lineTo(j,Z);const J=Math.cos(C)*h+o,O=Math.sin(C)*h+a;t.lineTo(J,O)}t.closePath()}function hX(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){qd(t,e,n,i,l,r);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%xe||xe))}return qd(t,e,n,i,l,r),t.fill(),l}function dX(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,h=l.borderAlign==="inner";if(!c)return;h?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let d=e.endAngle;if(s){qd(t,e,n,i,d,r);for(let f=0;f<s;++f)t.stroke();isNaN(a)||(d=o+(a%xe||xe))}h&&lX(t,e,d),s||(qd(t,e,n,i,d,r),t.stroke())}class kh extends Bi{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.getProps(["x","y"],i),{angle:s,distance:o}=gM(r,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=this.options.spacing/2,p=X(h,l-a)>=xe||uc(s,a,l),g=Ei(o,c+d,u+d);return p&&g}getCenterPoint(e){const{x:n,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:l,spacing:c}=this.options,u=(r+s)/2,h=(o+a+c+l)/2;return{x:n+Math.cos(u)*h,y:i+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,r=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>xe?Math.floor(i/xe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);const l=1-Math.sin(Math.min(Ce,i||0)),c=r*l;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,hX(e,this,c,s,o),dX(e,this,c,s,o),e.restore()}}N(kh,"id","arc"),N(kh,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),N(kh,"defaultRoutes",{backgroundColor:"backgroundColor"});function XM(t,e,n=e){t.lineCap=X(n.borderCapStyle,e.borderCapStyle),t.setLineDash(X(n.borderDash,e.borderDash)),t.lineDashOffset=X(n.borderDashOffset,e.borderDashOffset),t.lineJoin=X(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=X(n.borderWidth,e.borderWidth),t.strokeStyle=X(n.borderColor,e.borderColor)}function fX(t,e,n){t.lineTo(n.x,n.y)}function pX(t){return t.stepped?$G:t.tension||t.cubicInterpolationMode==="monotone"?VG:fX}function QM(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function gX(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=QM(r,n,i),u=pX(s);let{move:h=!0,reverse:d}=i||{},f,p,g;for(f=0;f<=c;++f)p=r[(a+(d?c-f:f))%o],!p.skip&&(h?(t.moveTo(p.x,p.y),h=!1):u(t,g,p,d,s.stepped),g=p);return l&&(p=r[(a+(d?c:0))%o],u(t,g,p,d,s.stepped)),!!l}function mX(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=QM(r,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,d,f,p,g,v,y;const m=_=>(o+(c?a-_:_))%s,w=()=>{g!==v&&(t.lineTo(u,v),t.lineTo(u,g),t.lineTo(u,y))};for(l&&(f=r[m(0)],t.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=r[m(d)],f.skip)continue;const _=f.x,b=f.y,S=_|0;S===p?(b<g?g=b:b>v&&(v=b),u=(h*u+_)/++h):(w(),t.lineTo(_,b),p=S,h=0,g=v=b),y=b}w()}function yv(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?mX:gX}function yX(t){return t.stepped?y9:t.tension||t.cubicInterpolationMode==="monotone"?v9:ts}function vX(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),XM(t,e.options),t.stroke(r)}function wX(t,e,n,i){const{segments:r,options:s}=e,o=yv(e);for(const a of r)XM(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const _X=typeof Path2D=="function";function bX(t,e,n,i){_X&&!e.options.segment?vX(t,e,n,i):wX(t,e,n,i)}class sr extends Bi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;c9(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=E9(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=FM(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=yX(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=s[h],p=s[d];if(f===p){a.push(f);continue}const g=Math.abs((r-f[n])/(p[n]-f[n])),v=l(f,p,g,i.stepped);v[n]=e[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,n,i){return yv(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=yv(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),bX(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}N(sr,"id","line"),N(sr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),N(sr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),N(sr,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function UE(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Th extends Bi{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(n-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,n){return UE(this,e,"x",n)}inYRange(e,n){return UE(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!hc(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,pv(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}N(Th,"id","point"),N(Th,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),N(Th,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function JM(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=s/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function or(t,e,n,i){return t?0:it(e,n,i)}function xX(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=kM(i);return{t:or(r.top,s.top,0,n),r:or(r.right,s.right,0,e),b:or(r.bottom,s.bottom,0,n),l:or(r.left,s.left,0,e)}}function SX(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=vs(r),o=Math.min(e,n),a=t.borderSkipped,l=i||te(r);return{topLeft:or(!l||a.top||a.left,s.topLeft,0,o),topRight:or(!l||a.top||a.right,s.topRight,0,o),bottomLeft:or(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:or(!l||a.bottom||a.right,s.bottomRight,0,o)}}function EX(t){const e=JM(t),n=e.right-e.left,i=e.bottom-e.top,r=xX(t,n/2,i/2),s=SX(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function tm(t,e,n,i){const r=e===null,s=n===null,a=t&&!(r&&s)&&JM(t,i);return a&&(r||Ei(e,a.left,a.right))&&(s||Ei(n,a.top,a.bottom))}function kX(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function TX(t,e){t.rect(e.x,e.y,e.w,e.h)}function nm(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class Ch extends Bi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=EX(this),a=kX(o.radius)?dc:TX;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,nm(o,n,s)),e.clip(),a(e,nm(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,nm(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return tm(this,e,n,i)}inXRange(e,n){return tm(this,e,null,n)}inYRange(e,n){return tm(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}N(Ch,"id","bar"),N(Ch,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),N(Ch,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var CX=Object.freeze({__proto__:null,ArcElement:kh,LineElement:sr,PointElement:Th,BarElement:Ch});const vv=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],jE=vv.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function ZM(t){return vv[t%vv.length]}function eD(t){return jE[t%jE.length]}function IX(t,e){return t.borderColor=ZM(e),t.backgroundColor=eD(e),++e}function PX(t,e){return t.backgroundColor=t.data.map(()=>ZM(e++)),e}function AX(t,e){return t.backgroundColor=t.data.map(()=>eD(e++)),e}function RX(t){let e=0;return(n,i)=>{const r=t.getDatasetMeta(i).controller;r instanceof us?e=PX(n,e):r instanceof _l?e=AX(n,e):r&&(e=IX(n,e))}}function zE(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function OX(t){return t&&(t.borderColor||t.backgroundColor)}var MX={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=t.config,{elements:s}=r;if(!n.forceOverride&&(zE(i)||OX(r)||s&&zE(s)))return;const o=RX(t);i.forEach(o)}};function DX(t,e,n,i,r){const s=r.samples||i;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let l=0;const c=e+n-1;let u=e,h,d,f,p,g;for(o[l++]=t[u],h=0;h<s-2;h++){let v=0,y=0,m;const w=Math.floor((h+1)*a)+1+e,_=Math.min(Math.floor((h+2)*a)+1,n)+e,b=_-w;for(m=w;m<_;m++)v+=t[m].x,y+=t[m].y;v/=b,y/=b;const S=Math.floor(h*a)+1+e,k=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:T,y:I}=t[u];for(f=p=-1,m=S;m<k;m++)p=.5*Math.abs((T-v)*(t[m].y-I)-(T-t[m].x)*(y-I)),p>f&&(f=p,d=t[m],g=m);o[l++]=d,u=g}return o[l++]=t[c],o}function LX(t,e,n,i){let r=0,s=0,o,a,l,c,u,h,d,f,p,g;const v=[],y=e+n-1,m=t[e].x,_=t[y].x-m;for(o=e;o<e+n;++o){a=t[o],l=(a.x-m)/_*i,c=a.y;const b=l|0;if(b===u)c<p?(p=c,h=o):c>g&&(g=c,d=o),r=(s*r+a.x)/++s;else{const S=o-1;if(!se(h)&&!se(d)){const k=Math.min(h,d),T=Math.max(h,d);k!==f&&k!==S&&v.push({...t[k],x:r}),T!==f&&T!==S&&v.push({...t[T],x:r})}o>0&&S!==f&&v.push(t[S]),v.push(a),u=b,s=0,p=g=c,h=d=f=o}}return v}function tD(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function WE(t){t.data.datasets.forEach(e=>{tD(e)})}function NX(t,e){const n=e.length;let i=0,r;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=it(ki(e,s.axis,o).lo,0,n-1)),c?r=it(ki(e,s.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var FX={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){WE(t);return}const i=t.width;t.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=t.getDatasetMeta(s),c=o||r.data;if(ja([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:h,count:d}=NX(l,c);const f=n.threshold||4*i;if(d<=f){tD(r);return}se(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=DX(c,h,d,i,n);break;case"min-max":p=LX(c,h,d,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=p})},destroy(t){WE(t)}};function $X(t,e,n){const i=t.segments,r=t.points,s=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=B_(l,c,r);const u=wv(n,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const h=FM(e,u);for(const d of h){const f=wv(n,s[d.start],s[d.end],d.loop),p=NM(a,r,f);for(const g of p)o.push({source:g,target:d,start:{[n]:HE(u,f,"start",Math.max)},end:{[n]:HE(u,f,"end",Math.min)}})}}return o}function wv(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=Yt(r),s=Yt(s)),{property:t,start:r,end:s}}function VX(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=B_(o,a,r);const l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function B_(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function HE(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function nD(t,e){let n=[],i=!1;return _e(t)?(i=!0,n=t):n=VX(t,e),n.length?new sr({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function KE(t){return t&&t.fill!==!1}function BX(t,e,n){let r=t[e].fill;const s=[e];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Le(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function UX(t,e,n){const i=HX(t);if(te(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Le(r)&&Math.floor(r)===r?jX(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function jX(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function zX(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:te(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function WX(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:te(t)?i=t.value:i=e.getBaseValue(),i}function HX(t){const e=t.options,n=e.fill;let i=X(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function KX(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=qX(e,n);a.push(nD({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)GX(r,o[u],a)}return new sr({points:r,options:{}})}function qX(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function GX(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=YX(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function YX(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],h=o[u.start][n],d=o[u.end][n];if(Ei(r,h,d)){a=r===h,l=r===d;break}}return{first:a,last:l,point:i}}class iD{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:xe},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function XX(t){const{chart:e,fill:n,line:i}=t;if(Le(n))return QX(e,n);if(n==="stack")return KX(t);if(n==="shape")return!0;const r=JX(t);return r instanceof iD?r:nD(r,i)}function QX(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function JX(t){return(t.scale||{}).getPointPositionForValue?e7(t):ZX(t)}function ZX(t){const{scale:e={},fill:n}=t,i=zX(n,e);if(Le(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function e7(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=WX(n,e,s),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new iD({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function im(t,e,n){const i=XX(e),{line:r,scale:s,axis:o}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&r.points.length&&(Tp(t,n),t7(t,{line:r,target:i,above:u,below:h,area:n,scale:s,axis:o}),Cp(t))}function t7(t,e){const{line:n,target:i,above:r,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&s!==r&&(qE(t,i,o.top),GE(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),qE(t,i,o.bottom)),GE(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore()}function qE(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],h=r[B_(l,c,r)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function GE(t,e){const{line:n,target:i,property:r,color:s,scale:o}=e,a=$X(n,i,r);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:d=s}={}}=l,f=i!==!0;t.save(),t.fillStyle=d,n7(t,o,f&&wv(r,u,h)),t.beginPath();const p=!!n.pathSegment(t,l);let g;if(f){p?t.closePath():YE(t,i,h,r);const v=!!i.pathSegment(t,c,{move:p,reverse:!0});g=p&&v,g||YE(t,i,u,r)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function n7(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,i,a-o,r-i),t.clip())}function YE(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var i7={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof sr&&(l={visible:t.isDatasetVisible(o),index:o,fill:UX(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=BX(r,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&im(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;KE(s)&&im(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!KE(i)||n.drawTime!=="beforeDatasetDraw"||im(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const XE=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},r7=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class QE extends Bi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=pe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Xe(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=XE(i,s);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let h=e;s.textAlign="left",s.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((p,g)=>{const v=i+n/2+s.measureText(p.text).width;(g===0||c[c.length-1]+v+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,f+=u,d++),l[g]={left:0,top:f,row:d,width:v,height:r},c[c.length-1]+=v+a}),h}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,f=0,p=0,g=0;return this.legendItems.forEach((v,y)=>{const{itemWidth:m,itemHeight:w}=s7(i,n,s,v,r);y>0&&f+w+2*a>u&&(h+=d+a,c.push({width:d,height:f}),p+=d+a,g++,d=f=0),l[y]={left:p,top:f,col:g,width:m,height:w},d=Math.max(d,m),f+=w+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=To(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=mt(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=mt(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=mt(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=mt(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Tp(e,this),this._draw(),Cp(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=Ue.color,l=To(e.rtl,this.left,this.width),c=Xe(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:v}=XE(o,h),y=function(S,k,T){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;r.save();const I=X(T.lineWidth,1);if(r.fillStyle=X(T.fillStyle,a),r.lineCap=X(T.lineCap,"butt"),r.lineDashOffset=X(T.lineDashOffset,0),r.lineJoin=X(T.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=X(T.strokeStyle,a),r.setLineDash(X(T.lineDash,[])),o.usePointStyle){const C={radius:g*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:I},D=l.xPlus(S,p/2),G=k+d;EM(r,C,D,G,o.pointStyleWidth&&p)}else{const C=k+Math.max((h-g)/2,0),D=l.leftForLtr(S,p),G=vs(T.borderRadius);r.beginPath(),Object.values(G).some(de=>de!==0)?dc(r,{x:D,y:C,w:p,h:g,radius:G}):r.rect(D,C,p,g),r.fill(),I!==0&&r.stroke()}r.restore()},m=function(S,k,T){Ls(r,T.text,S,k+v/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},w=this.isHorizontal(),_=this._computeTitleHeight();w?f={x:mt(s,this.left+u,this.right-i[0]),y:this.top+u+_,line:0}:f={x:this.left+u,y:mt(s,this.top+_+u,this.bottom-n[0].height),line:0},MM(this.ctx,e.textDirection);const b=v+u;this.legendItems.forEach((S,k)=>{r.strokeStyle=S.fontColor,r.fillStyle=S.fontColor;const T=r.measureText(S.text).width,I=l.textAlign(S.textAlign||(S.textAlign=o.textAlign)),C=p+d+T;let D=f.x,G=f.y;l.setWidth(this.width),w?k>0&&D+C+u>this.right&&(G=f.y+=b,f.line++,D=f.x=mt(s,this.left+u,this.right-i[f.line])):k>0&&G+b>this.bottom&&(D=f.x=D+n[f.line].width+u,f.line++,G=f.y=mt(s,this.top+_+u,this.bottom-n[f.line].height));const de=l.x(D);if(y(de,G,S),D=CG(I,D+p+d,w?D+C:this.right,e.rtl),m(l.x(D),G,S),w)f.x+=C+u;else if(typeof S.text!="string"){const Oe=c.lineHeight;f.y+=rD(S,Oe)}else f.y+=b}),DM(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Xe(n.font),r=Ct(n.padding);if(!n.display)return;const s=To(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=mt(e.align,h,this.right-d);else{const p=this.columnSizes.reduce((g,v)=>Math.max(g,v.height),0);u=c+mt(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=mt(a,h,h+d);o.textAlign=s.textAlign(M_(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Ls(o,n.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,n=Xe(e.font),i=Ct(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(Ei(e,this.left,this.right)&&Ei(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Ei(e,r.left,r.left+r.width)&&Ei(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!l7(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=r7(r,i);r&&!s&&pe(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&pe(n.onHover,[e,i,this],this)}else i&&pe(n.onClick,[e,i,this],this)}}function s7(t,e,n,i,r){const s=o7(i,t,e,n),o=a7(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function o7(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function a7(t,e,n){let i=t;return typeof e.text!="string"&&(i=rD(e,n)),i}function rD(t,e){const n=t.text?t.text.length+.5:0;return e*n}function l7(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var c7={id:"legend",_element:QE,start(t,e,n){const i=t.legend=new QE({ctx:t.ctx,options:n,chart:t});bt.configure(t,i,n),bt.addBox(t,i)},stop(t){bt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;bt.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Ct(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class U_ extends Bi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=_e(i.text)?i.text.length:1;this._padding=Ct(i.padding);const s=r*Xe(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=mt(a,i,s),h=n+e,c=s-i):(o.position==="left"?(u=i+e,h=mt(a,r,n),l=Ce*-.5):(u=s-e,h=mt(a,n,r),l=Ce*.5),c=r-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Xe(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Ls(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:M_(n.align),textBaseline:"middle",translation:[o,a]})}}function u7(t,e){const n=new U_({ctx:t.ctx,options:e,chart:t});bt.configure(t,n,e),bt.addBox(t,n),t.titleBlock=n}var h7={id:"title",_element:U_,start(t,e,n){u7(t,n)},stop(t){const e=t.titleBlock;bt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;bt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bu=new WeakMap;var d7={id:"subtitle",start(t,e,n){const i=new U_({ctx:t.ctx,options:n,chart:t});bt.configure(t,i,n),bt.addBox(t,i),Bu.set(t,i)},stop(t){bt.removeBox(t,Bu.get(t)),Bu.delete(t)},beforeUpdate(t,e,n){const i=Bu.get(t);bt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wa={average(t){if(!t.length)return!1;let e,n,i=0,r=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,r+=a.y,++s}}return{x:i/s,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=dv(e,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Fn(t,e){return e&&(_e(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ui(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function f7(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function JE(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Xe(e.bodyFont),c=Xe(e.titleFont),u=Xe(e.footerFont),h=s.length,d=r.length,f=i.length,p=Ct(e.padding);let g=p.height,v=0,y=i.reduce((_,b)=>_+b.before.length+b.lines.length+b.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const _=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*_+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let m=0;const w=function(_){v=Math.max(v,n.measureText(_).width+m)};return n.save(),n.font=c.string,le(t.title,w),n.font=l.string,le(t.beforeBody.concat(t.afterBody),w),m=e.displayColors?o+2+e.boxPadding:0,le(i,_=>{le(_.before,w),le(_.lines,w),le(_.after,w)}),m=0,n.font=u.string,le(t.footer,w),n.restore(),v+=p.width,{width:v,height:g}}function p7(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function g7(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function m7(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),g7(c,t,e,n)&&(c="center"),c}function ZE(t,e,n){const i=n.yAlign||e.yAlign||p7(t,n);return{xAlign:n.xAlign||e.xAlign||m7(t,e,n,i),yAlign:i}}function y7(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function v7(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function ek(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=vs(o);let p=y7(e,a);const g=v7(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,d)+r:a==="right"&&(p+=Math.max(h,f)+r),{x:it(p,0,i.width-e.width),y:it(g,0,i.height-e.height)}}function Uu(t,e,n){const i=Ct(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function tk(t){return Fn([],ui(t))}function w7(t,e,n){return jr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function nk(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const sD={beforeTitle:ai,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:ai,beforeBody:ai,beforeLabel:ai,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return se(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ai,afterBody:ai,beforeFooter:ai,footer:ai,afterFooter:ai};function Ft(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?sD[e].call(n,i):r}class _v extends Bi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new $M(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=w7(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Ft(i,"beforeTitle",this,e),s=Ft(i,"title",this,e),o=Ft(i,"afterTitle",this,e);let a=[];return a=Fn(a,ui(r)),a=Fn(a,ui(s)),a=Fn(a,ui(o)),a}getBeforeBody(e,n){return tk(Ft(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return le(e,s=>{const o={before:[],lines:[],after:[]},a=nk(i,s);Fn(o.before,ui(Ft(a,"beforeLabel",this,s))),Fn(o.lines,Ft(a,"label",this,s)),Fn(o.after,ui(Ft(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return tk(Ft(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Ft(i,"beforeFooter",this,e),s=Ft(i,"footer",this,e),o=Ft(i,"afterFooter",this,e);let a=[];return a=Fn(a,ui(r)),a=Fn(a,ui(s)),a=Fn(a,ui(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(f7(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,i))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,i))),le(a,u=>{const h=nk(e.callbacks,u);r.push(Ft(h,"labelColor",this,u)),s.push(Ft(h,"labelPointStyle",this,u)),o.push(Ft(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=Wa[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=JE(this,i),c=Object.assign({},a,l),u=ZE(this.chart,i,c),h=ek(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=vs(a),{x:d,y:f}=e,{width:p,height:g}=n;let v,y,m,w,_,b;return s==="center"?(_=f+g/2,r==="left"?(v=d,y=v-o,w=_+o,b=_-o):(v=d+p,y=v+o,w=_-o,b=_+o),m=v):(r==="left"?y=d+Math.max(l,u)+o:r==="right"?y=d+p-Math.max(c,h)-o:y=this.caretX,s==="top"?(w=f,_=w-o,v=y-o,m=y+o):(w=f+g,_=w+o,v=y+o,m=y-o),b=w),{x1:v,x2:y,x3:m,y1:w,y2:_,y3:b}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=To(i.rtl,this.x,this.width);for(e.x=Uu(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=Xe(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c,boxPadding:u}=s,h=Xe(s.bodyFont),d=Uu(this,"left",s),f=r.x(d),p=l<h.lineHeight?(h.lineHeight-l)/2:0,g=n.y+p;if(s.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=r.leftForLtr(f,c)+c/2,m=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,pv(e,v,y,m),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,pv(e,v,y,m)}else{e.lineWidth=te(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=r.leftForLtr(f,c-u),y=r.leftForLtr(r.xPlus(f,1),c-u-2),m=vs(o.borderRadius);Object.values(m).some(w=>w!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,dc(e,{x:v,y:g,w:c,h:l,radius:m}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),dc(e,{x:y,y:g+1,w:c-2,h:l-2,radius:m}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(v,g,c,l),e.strokeRect(v,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=Xe(i.bodyFont);let d=h.lineHeight,f=0;const p=To(i.rtl,this.x,this.width),g=function(T){n.fillText(T,p.x(e.x+f),e.y+d/2),e.y+=d+s},v=p.textAlign(o);let y,m,w,_,b,S,k;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Uu(this,v,i),n.fillStyle=i.bodyColor,le(this.beforeBody,g),f=a&&v!=="right"?o==="center"?c/2+u:c+2+u:0,_=0,S=r.length;_<S;++_){for(y=r[_],m=this.labelTextColors[_],n.fillStyle=m,le(y.before,g),w=y.lines,a&&w.length&&(this._drawColorBox(n,e,_,p,i),d=Math.max(h.lineHeight,l)),b=0,k=w.length;b<k;++b)g(w[b]),d=h.lineHeight;le(y.after,g)}f=0,d=h.lineHeight,le(this.afterBody,g),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=To(i.rtl,this.x,this.width);for(e.x=Uu(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=Xe(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=vs(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Wa[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=JE(this,e),l=Object.assign({},o,this._size),c=ZE(n,e,l),u=ek(e,l,c,n);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Ct(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),MM(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),DM(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Bd(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!Bd(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n;const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=Wa[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}N(_v,"positioners",Wa);var _7={id:"tooltip",_element:_v,positioners:Wa,afterInit(t,e,n){n&&(t.tooltip=new _v({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:sD},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},b7=Object.freeze({__proto__:null,Colors:MX,Decimation:FX,Filler:i7,Legend:c7,SubTitle:d7,Title:h7,Tooltip:_7});const x7=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function S7(t,e,n,i){const r=t.indexOf(e);if(r===-1)return x7(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const E7=(t,e)=>t===null?null:it(Math.round(t),0,e);function ik(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class bv extends js{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(se(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:S7(i,e,X(n,e),this._addedLabels),E7(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return ik.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}N(bv,"id","category"),N(bv,"defaults",{ticks:{callback:ik}});function k7(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,f=s||1,p=u-1,{min:g,max:v}=e,y=!se(o),m=!se(a),w=!se(c),_=(v-g)/(h+1);let b=eE((v-g)/p/f)*f,S,k,T,I;if(b<1e-14&&!y&&!m)return[{value:g},{value:v}];I=Math.ceil(v/b)-Math.floor(g/b),I>p&&(b=eE(I*b/p/f)*f),se(l)||(S=Math.pow(10,l),b=Math.ceil(b*S)/S),r==="ticks"?(k=Math.floor(g/b)*b,T=Math.ceil(v/b)*b):(k=g,T=v),y&&m&&s&&_G((a-o)/s,b/1e3)?(I=Math.round(Math.min((a-o)/b,u)),b=(a-o)/I,k=o,T=a):w?(k=y?o:k,T=m?a:T,I=c-1,b=(T-k)/I):(I=(T-k)/b,ml(I,Math.round(I),b/1e3)?I=Math.round(I):I=Math.ceil(I));const C=Math.max(tE(b),tE(k));S=Math.pow(10,se(l)?C:l),k=Math.round(k*S)/S,T=Math.round(T*S)/S;let D=0;for(y&&(d&&k!==o?(n.push({value:o}),k<o&&D++,ml(Math.round((k+D*b)*S)/S,o,rk(o,_,t))&&D++):k<o&&D++);D<I;++D)n.push({value:Math.round((k+D*b)*S)/S});return m&&d&&T!==a?n.length&&ml(n[n.length-1].value,a,rk(a,_,t))?n[n.length-1].value=a:n.push({value:a}):(!m||T===a)&&n.push({value:T}),n}function rk(t,e,{horizontal:n,minRotation:i}){const r=In(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Gd extends js{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return se(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=Zn(r),c=Zn(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=k7(r,s);return e.bounds==="ticks"&&pM(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Xc(e,this.chart.options.locale,this.options.ticks.format)}}class xv extends Gd{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Le(e)?e:0,this.max=Le(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=In(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}N(xv,"id","linear"),N(xv,"defaults",{ticks:{callback:kp.formatters.numeric}});const pc=t=>Math.floor(rr(t)),Gr=(t,e)=>Math.pow(10,pc(t)+e);function sk(t){return t/Math.pow(10,pc(t))===1}function ok(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function T7(t,e){const n=e-t;let i=pc(n);for(;ok(t,e,i)>10;)i++;for(;ok(t,e,i)<10;)i--;return Math.min(i,pc(t))}function C7(t,{min:e,max:n}){e=qt(t.min,e);const i=[],r=pc(e);let s=T7(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,s)),d=qt(t.min,Math.round((l+u+h*Math.pow(10,s))*o)/o);for(;d<n;)i.push({value:d,major:sk(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),d=Math.round((l+u+h*Math.pow(10,s))*o)/o;const f=qt(t.max,d);return i.push({value:f,major:sk(f),significand:h}),i}class Sv extends js{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=Gd.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Le(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Le(e)?Math.max(0,e):null,this.max=Le(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Le(this._userMin)&&(this.min=e===Gr(this.min,0)?Gr(this.min,-1):Gr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=a=>i=e?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(Gr(i,-1)),o(Gr(r,1)))),i<=0&&s(Gr(r,-1)),r<=0&&o(Gr(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=C7(n,this);return e.bounds==="ticks"&&pM(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Xc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=rr(e),this._valueRange=rr(this.max)-rr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(rr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}N(Sv,"id","logarithmic"),N(Sv,"defaults",{ticks:{callback:kp.formatters.logarithmic,major:{enabled:!0}}});function Ev(t){const e=t.ticks;if(e.display&&t.display){const n=Ct(e.backdropPadding);return X(e.font&&e.font.size,Ue.font.size)+n.height}return 0}function I7(t,e,n){return n=_e(n)?n:[n],{w:FG(t,e.string,n),h:n.length*e.lineHeight}}function ak(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function P7(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Ce/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));r[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+r[l],a),h=Xe(c.font),d=I7(t.ctx,h,t._pointLabels[l]);i[l]=d;const f=Yt(t.getIndexAngle(l)+a),p=Math.round(R_(f)),g=ak(p,u.x,d.w,0,180),v=ak(p,u.y,d.h,90,270);A7(n,e,f,g,v)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=R7(t,i,r)}function A7(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function R7(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,o=Ev(s)/2,a=t.drawingArea,l=s.pointLabels.centerPointLabels?Ce/r:0;for(let c=0;c<r;c++){const u=t.getPointPosition(c,a+o+n[c],l),h=Math.round(R_(Yt(u.angle+Ne))),d=e[c],f=D7(u.y,d.h,h),p=O7(h),g=M7(u.x,d.w,p);i.push({x:u.x,y:f,textAlign:p,left:g,top:f,right:g+d.w,bottom:f+d.h})}return i}function O7(t){return t===0||t===180?"center":t<180?"left":"right"}function M7(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function D7(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function L7(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const s=i.setContext(t.getPointLabelContext(r)),o=Xe(s.font),{x:a,y:l,textAlign:c,left:u,top:h,right:d,bottom:f}=t._pointLabelItems[r],{backdropColor:p}=s;if(!se(p)){const g=vs(s.borderRadius),v=Ct(s.backdropPadding);n.fillStyle=p;const y=u-v.left,m=h-v.top,w=d-u+v.width,_=f-h+v.height;Object.values(g).some(b=>b!==0)?(n.beginPath(),dc(n,{x:y,y:m,w,h:_,radius:g}),n.fill()):n.fillRect(y,m,w,_)}Ls(n,t._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}function oD(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,xe);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function N7(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),oD(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function F7(t,e,n){return jr(t,{label:n,index:e,type:"pointLabel"})}class Ha extends Gd{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ct(Ev(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Le(e)&&!isNaN(e)?e:0,this.max=Le(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ev(this.options))}generateTickLabels(e){Gd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const r=pe(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?P7(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){const n=xe/(this._pointLabels.length||1),i=this.options.startAngle||0;return Yt(e*n+In(i))}getDistanceFromCenterForValue(e){if(se(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(se(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return F7(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const r=this.getIndexAngle(e)-Ne+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),oD(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&L7(this,o),r.display&&this.ticks.forEach((u,h)=>{if(h!==0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=r.setContext(d),p=s.setContext(d);N7(this,f,l,o,p)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(e.lineWidth=d,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=Xe(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=Ct(c.backdropPadding);e.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}Ls(e,a.label,0,-s,u,{color:c.color})}),e.restore()}drawTitle(){}}N(Ha,"id","radialLinear"),N(Ha,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:kp.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),N(Ha,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),N(Ha,"descriptors",{angleLines:{_fallback:"grid"}});const Ap={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vt=Object.keys(Ap);function $7(t,e){return t-e}function lk(t,e){if(se(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Le(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Ko(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function ck(t,e,n,i){const r=Vt.length;for(let s=Vt.indexOf(t);s<r-1;++s){const o=Ap[Vt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Vt[s]}return Vt[r-1]}function V7(t,e,n,i,r){for(let s=Vt.length-1;s>=Vt.indexOf(n);s--){const o=Vt[s];if(Ap[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Vt[n?Vt.indexOf(n):0]}function B7(t){for(let e=Vt.indexOf(t)+1,n=Vt.length;e<n;++e)if(Ap[Vt[e]].common)return Vt[e]}function uk(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=O_(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function U7(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function hk(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:U7(t,i,r,n)}class gc extends js{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new Z9._date(e.adapters.date);r.init(n),gl(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:lk(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Le(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=Le(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=EG(r,s,o);return this._unit=n.unit||(i.autoSkip?ck(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):V7(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:B7(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),hk(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=it(n,0,o),i=it(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||ck(s.minUnit,n,i,this._getLabelCapacity(n)),a=X(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=Ko(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=r.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+e.add(d,a,o),f++)uk(u,d,p);return(d===i||r.bounds==="ticks"||f===1)&&uk(u,d,p),Object.keys(u).sort((g,v)=>g-v).map(g=>+g)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return pe(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=i[n],f=c&&h&&d&&d.major;return this._adapter.format(e,r||(f?h:u))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=In(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,hk(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(lk(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return yM(e.sort($7))}}N(gc,"id","time"),N(gc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ju(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=ki(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=ki(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class kv extends gc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ju(n,this.min),this._tableRange=ju(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(ju(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return ju(this._table,i*this._tableRange+this._minPos,!0)}}N(kv,"id","timeseries"),N(kv,"defaults",gc.defaults);var j7=Object.freeze({__proto__:null,CategoryScale:bv,LinearScale:xv,LogarithmicScale:Sv,RadialLinearScale:Ha,TimeScale:gc,TimeSeriesScale:kv});const z7=[J9,CX,b7,j7],aD="label";function dk(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function W7(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function lD(t,e){t.labels=e}function cD(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:aD;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function H7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:aD;const n={labels:[],datasets:[]};return lD(n,t.labels),cD(n,t.datasets,e),n}function K7(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...d}=t,f=x.useRef(null),p=x.useRef(),g=()=>{f.current&&(p.current=new Pp(f.current,{type:o,data:H7(a,s),options:l&&{...l},plugins:c}),dk(e,p.current))},v=()=>{dk(e,null),p.current&&(p.current.destroy(),p.current=null)};return x.useEffect(()=>{!r&&p.current&&l&&W7(p.current,l)},[r,l]),x.useEffect(()=>{!r&&p.current&&lD(p.current.config.data,a.labels)},[r,a.labels]),x.useEffect(()=>{!r&&p.current&&a.datasets&&cD(p.current.config.data,a.datasets,s)},[r,a.datasets]),x.useEffect(()=>{p.current&&(r?(v(),setTimeout(g)):p.current.update(h))},[r,l,a.labels,a.datasets,h]),x.useEffect(()=>{p.current&&(v(),setTimeout(g))},[o]),x.useEffect(()=>(g(),()=>v()),[]),Dn.createElement("canvas",Object.assign({ref:f,role:"img",height:n,width:i},d),u)}const q7=x.forwardRef(K7);function G7(t,e){return Pp.register(e),x.forwardRef((n,i)=>Dn.createElement(q7,Object.assign({},n,{ref:i,type:t})))}const Y7=G7("line",wl);Pp.register(...z7);function ns({name:t,percentage:e,color:n}){return M("div",{className:"item-statistics",children:[E("p",{className:"name",children:t}),M("p",{className:"percentage",children:[e,"%"]}),E("div",{className:"progress",style:{backgroundImage:`linear-gradient(to right, ${n} ${e}%, #E0E0E0 ${e}%)`}})]})}ns.proptypes={name:ys.PropTypes.string.isRequired,percentage:ys.PropTypes.number.isRequired,color:ys.PropTypes.string.isRequired};const X7={labels:["January","February","March","April","May","June","July"],datasets:[{label:"Summary",data:[144,52,34,65,31,18,38],borderColor:"#F9A109"}]};function Q7({navShown:t}){return E(Mn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"statistics",style:{display:t?"none":"block"},children:M("div",{className:"container",children:[M("div",{className:"top-container",children:[M("div",{className:"top top-items",children:[E("h3",{children:"Top items"}),E(ns,{name:"Banana",color:"#F9A109",percentage:12}),E(ns,{name:"Rice",color:"#F9A109",percentage:10}),E(ns,{name:"Chicken 1kg",color:"#F9A109",percentage:8})]}),M("div",{className:"top top-categories",children:[E("h3",{children:"Top Categories"}),E(ns,{name:"Fruits and vegetables",color:"#56CCF2",percentage:23}),E(ns,{name:"Meat and Fish",color:"#56CCF2",percentage:14}),E(ns,{name:"Pets",color:"#56CCF2",percentage:11})]})]}),M("div",{className:"chart",children:[E("h3",{children:"Monthly Summary"}),E(Y7,{data:X7})]})]})})}function J7({type:t,label:e,placeholder:n,textarea:i,children:r,onFocus:s,onBlur:o,className:a,readOnly:l,value:c},u){const h=x.useId();return M("label",{htmlFor:h,className:`input ${a}`,children:[e,r,i?E("textarea",{placeholder:n,onFocus:s,onBlur:o,ref:u}):E("input",{readOnly:l,type:t,id:h,placeholder:n,onFocus:s,onBlur:o,value:c,ref:u})]})}const zu=Dn.forwardRef(J7);function Ot({type:t,children:e,onClick:n}){return E("button",{type:t,className:"button",onClick:n,children:e})}const Z7="/assets/xmark-solid-80f8600c.svg";function eQ({navShown:t,setAsideState:e,setNewItem:n}){const i=x.useRef(),r=x.useRef(),s=x.useRef(),o=x.useRef(),a=x.useRef(),l=x.useId(),c=yn(p=>Object.keys(p.items)),u=rw(Jw,"practise"),h=function(p){const g=i.current.children;Array.from(g).map(v=>v.classList.remove("active")),p.target.classList.add("active"),a.current.value=p.target.textContent},d=function(){if(r.current.value.trim()===""){r.current.focus();return}if(a.current.value.trim()===""){a.current.focus();return}n({name:r.current.value,url:o.current.value,note:s.current.value,category:a.current.value}),o.current.readOnly=!1,e("final")},f=async function(p){const g=p.target.files[0];if(console.log(g),g.type.slice(0,5)!=="image"){console.error("The selected file is not an image");return}o.current.readOnly=!0;try{const v=await hP(u,g);console.log(v);const y=await dP(v.ref);o.current.value=y}catch(v){console.log(g),console.dir(v)}};return E(Mn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",duration:.25},className:"addItem",style:{display:t?"block":"none"},children:M("div",{className:"container",children:[E("h2",{children:"Add a new item"}),E(zu,{ref:r,label:"name",placeholder:"Enter a name"},Be()),E(zu,{ref:s,textarea:!0,placeholder:"Enter a note",label:"Note (optional)"},Be()),E(zu,{ref:o,label:"Image (optional)",placeholder:"Enter a url",children:M("label",{htmlFor:l,className:"upload",children:["Or upload an image",E("input",{type:"file",id:l,onChange:f})]})},Be()),E(zu,{ref:a,className:"category",label:"Category",readOnly:!0,placeholder:"Enter a category",onFocus:()=>{var p;return(p=i.current)==null?void 0:p.classList.add("visible")},onBlur:()=>{setTimeout(()=>{var p;return(p=i.current)==null?void 0:p.classList.remove("visible")},500)},children:E("img",{src:Z7,alt:"cancel"})},Be()),E("div",{className:"drop-down",ref:i,children:c.map(p=>E("p",{onClick:h,children:p},Be()))}),M("div",{className:"button-container",children:[E(Ot,{onClick:()=>{e("list"),o.current.readOnly=!1},style:{bg:"transparent"},children:"cancel"}),E(Ot,{onClick:d,style:{bg:"#F9A109",color:"#fff"},children:"Save"})]})]})})}const uD="/assets/arrow-left-20c10350.svg";function tQ({navShown:t,newItem:e,setAsideState:n}){const i=Vr(),r=function(){i(Si.items.addItem({category:e.category,item:e.name})),n("list")};return E(Mn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",duration:.25},className:"item-preview",style:{display:t?"block":"none"},children:M("div",{className:"container",children:[M("div",{onClick:()=>n("add"),className:"back-btn",children:[E("img",{src:uD,alt:"back"}),E("p",{children:"back"})]}),E("img",{src:e.url||`https://source.unsplash.com/random/?${e.name.replace(" ",",")}} alt="food image" className="placeholder`}),E("h3",{children:"name"}),E("p",{children:e.name}),E("h3",{children:"category"}),E("p",{children:e.category}),E("h3",{children:"note"}),E("p",{children:e.note||`Nutrient-dense foods are those that provide substantial amounts of
          vitamins, minerals and other nutrients with relatively few calories.
          One-third of a medium avocado (50 g) has 80 calories and contributes
          nearly 20 vitamins and minerals, making it a great nutrient-dense food
          choice.`}),M("div",{className:"btn-container",children:[E(Ot,{onClick:()=>n("list"),style:{bg:"transparent"},children:"delete"}),E(Ot,{onClick:r,style:{bg:"#F9A109",color:"#fff"},children:"Add to list"})]})]})})}const nQ="/assets/logo-5b151dc7.svg",iQ="/assets/cart-c8539b59.svg",rQ="/assets/list-09fa9a33.svg",sQ="/assets/poll-2d85d8da.svg",oQ="/assets/rotate-922f8a36.svg",aQ="/assets/circle-user-solid-ff6b037b.svg";function lQ({setNavShown:t}){const e=yn(n=>Object.entries(n.items).map(r=>r[1].map(s=>s.count!==0)).flat().filter(r=>r).length);return M("nav",{className:"navigation",children:[E("img",{src:nQ,alt:"logo",className:"logo"}),M("div",{className:"pages",children:[E(ao,{to:"/user-details",children:E("img",{src:aQ,alt:"user",title:"user"})}),E(ao,{to:"/",children:E("img",{src:rQ,alt:"list",title:"items"})}),E(ao,{to:"/history",children:E("img",{src:oQ,alt:"history",title:"history"})}),E(ao,{to:"/statistics",children:E("img",{src:sQ,alt:"statistics",title:"statistics"})})]}),M("div",{className:"cart",onClick:()=>t(n=>!n),children:[E("p",{children:e}),E("img",{src:iQ,alt:"cart",className:"cart__img"})]})]})}const cQ="/assets/source-0de770c6.svg",uQ="/assets/shopping_app-f057a948.svg",hQ="/assets/pen-solid-7596dc6b.svg";const dQ="/assets/check-solid-ad87b899.svg",fQ="/assets/minus-solid-96f53c78.svg";function pQ({item:t,itemCount:e,selected:n}){const i=Vr();return M("div",{className:"items",children:[E("div",{className:"checkbox",onClick:r=>{const s=r.target.parentElement.closest(".items-container").firstElementChild;i(Si.items.toggleChecked({category:s.textContent,item:t}))},children:n&&E("img",{src:dQ,alt:"check"})}),E("p",{style:{textDecoration:n?"line-through":"none"},children:t}),M("p",{className:"item-count",children:[e," pcs"," ",E("img",{src:fQ,alt:"minus",onClick:r=>{const s=r.target.parentElement.closest(".items-container").firstElementChild;i(Si.items.removeItem({item:t,category:s.textContent}))}})]})]})}function gQ({navShown:t,setAsideState:e,clickedEvent:n,setClickedEvent:i}){const r=x.useId(),s=ni(),o=x.useRef(),a=Vr(),l=yn(h=>Object.entries(h.items)),c=l.every(h=>h[1].every(d=>d.count===0)),u=async function(){if(!c&&o.current.value.trim()){const h=new Date,d=new Intl.DateTimeFormat(["en","GB"]).format(h).split("/"),[f,,p]=new Intl.DateTimeFormat("en-GB",{weekday:"short",month:"long"}).format(h).split(" "),g=`${nt.currentUser.uid}${Date.now()}`;a(Si.events.addEvent({day:`${f} ${d.join(".")}`,state:"pending",name:o.current.value,date:`${p.slice(0,-1)} ${d[2]}`,id:g}));const v=l.map(([y,m])=>{const w=m.filter(_=>_.count>0);return w.length?[y,w]:[]}).filter(y=>y.length!==0);try{const y=await DR(gp(zo,"selectedItems",`${g}`),{name:o.current.value,day:`${f} ${d.join(".")}`,...Object.fromEntries(v)})}catch(y){console.log(y.message)}a(Si.items.removeAllIems()),s("/history")}};return E(Mn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",duration:.25},className:"shopping_list",style:{display:t?"block":"none"},children:M("div",{className:"container",children:[M("div",{className:"hero",children:[E("img",{src:cQ,alt:"add-item"}),M("div",{children:[E("p",{children:"Didnt find what you need?"}),E(Ot,{onClick:()=>e("add"),children:"Add Item"})]})]}),c&&E("p",{className:"no-items",children:"No items"}),M("div",{className:"container",children:[M("div",{className:"heading",children:[E("p",{children:"Shopping list"}),E("img",{src:hQ,alt:"add-item"})]}),l.map(h=>M("div",{className:"items-container",children:[E("h3",{children:h[0]}),h[1].map(d=>{if(d.count!==0)return E(pQ,{item:d.item,itemCount:d.count,selected:d.checked,toggleSelect:d.checkToggle},Be())})]},Be()))]}),M("div",{className:`input ${c?"empty":""}`,children:[c&&E("img",{src:uQ,alt:"shopper"}),n.length?M("label",{htmlFor:`a${r}`,className:"btn-container",children:[E(Ot,{onClick:()=>{a(Si.events.editStatus({id:n[0],status:"cancelled",date:n[1]})),i([])},children:"cancel"}),E(Ot,{onClick:()=>{a(Si.events.editStatus({id:n[0],status:"completed",date:n[1]})),i([])},style:{bg:"#56CCF2",color:"#fff"},children:"Complete"})]}):M("label",{htmlFor:r,children:[E("input",{type:"text",id:r,placeholder:"Enter a name",ref:o,disabled:c}),E(Ot,{onClick:u,style:{bg:c?"#C1C1C4":"#F9A109",color:"#FFFFFF"},children:"Save"})]})]})]})})}function mQ({item:t,count:e}){return M("div",{className:"event",children:[E("p",{className:"event__item",children:t}),M("p",{className:"event__count",children:[e," pcs"]})]})}let Wu;function yQ(){const t=D2(),e=ni(),[n,i]=x.useState();return x.useEffect(()=>{(async()=>{const r=gp(zo,"selectedItems",`${t.id.slice(1)}`),s=await t4(r);s.exists()?(Wu=Object.entries(s.data()).filter(o=>!["name","day"].includes(o[0])),i(s.data())):console.log("No such document!")})()},[]),E("div",{className:"event-info",children:M("div",{className:"container",children:[M("div",{className:"back-btn",onClick:()=>e(-1),children:[E("img",{src:uD,alt:"back"}),E("p",{children:"back"})]}),E("h2",{children:n==null?void 0:n.name}),M("div",{className:"date",children:[E("img",{src:aM,alt:"calender"}),E("p",{children:n==null?void 0:n.day})]}),E("div",{className:"events",children:Wu==null?void 0:Wu.map(r=>M("div",{children:[E("h3",{children:r[0]}),r[1].map(s=>E(mQ,{...s},Be()))]},Be()))})]})})}const Ka=Lf({name:"auth",initialState:{isLoggedIn:!1,errorMessage:"",user:null,isLoading:!1},reducers:{submit(t,{payload:{user:e,error:n}}){e?(t.isLoggedIn=!0,t.user=JSON.stringify(e)):t.errorMessage=n},setLoading(t,e){t.isLoading=e.payload.isLoading},resetErrorMessage(t,e){window.scrollTo(0,0),t.errorMessage=e.payload},signOut(t,e){t.isLoggedIn=!1}}}),vQ=function({type:t,email:e,password:n,navigate:i,isLoading:r}){return async s=>{try{if(r===!0)throw new Error("Please wait, previous request processing...");s(Ka.actions.setLoading({isLoading:!0}));let o;switch(t){case"SIGNUP":o=await yU(nt,e,n);break;case"LOGIN":o=await vU(nt,e,n);break;case"GOOGLE":o=await yu(nt,NR);break;case"FACEBOOK":o=await yu(nt,FR),console.log(o);break;case"GITHUB":o=await yu(nt,$R);break;case"TWITTER":o=await yu(nt,VR);break;default:break}s(Ka.actions.submit({user:o.user,error:null})),i("/")}catch(o){s(Ka.actions.submit({user:null,error:o.message}))}finally{s(Ka.actions.setLoading({isLoading:!1}))}}},rm=Ka.actions,wQ="/assets/envelope-solid-0e3cdbb8.svg",_Q="/assets/lock-solid-c08829bb.svg",bQ="/assets/devchallenges-light-6441f27c.svg";function xQ({type:t,img:e},n){const i=x.useId();return M("label",{htmlFor:i,className:"auth-input",children:[E("img",{src:e,alt:"input"}),E("input",{type:t,minLength:t==="password"?6:1/0,name:t,id:i,placeholder:t,ref:n,required:!0})]})}const fk=Dn.forwardRef(xQ);const SQ="/assets/Google-40b11d9a.svg",EQ="/assets/Facebook-9907781a.svg",kQ="/assets/Twitter-d7e4c010.svg",TQ="/assets/Github-0b9da0cc.svg";function hD({eventListener:t,keys:e}){return E("div",{className:"social-profiles",children:[SQ,EQ,kQ,TQ].map((n,i)=>E("img",{src:n,alt:"social",onClick:t==null?void 0:t(e[i])},Be()))})}function dD({children:t,button:e,footer:n,type:i}){const r=Vr(),s=x.useRef(),o=x.useRef(),a=ni(),l=yn(u=>u.isLoading),c=function(u){return function(h){h.preventDefault(),r(vQ({type:u,email:s.current.value,password:o.current.value,navigate:a,isLoading:l}))}};return M(Mn.form,{className:"form-template",onSubmit:c(i),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[E("img",{src:bQ,alt:"logo"}),t,E(fk,{type:"email",img:wQ,ref:s}),E(fk,{type:"password",img:_Q,ref:o}),E(Ot,{type:"submit",children:e}),E("p",{children:"or continue with these social profile"}),E(hD,{eventListener:c,keys:["GOOGLE","FACEBOOK","TWITTER","GITHUB"]}),n]})}function CQ(){return M(dD,{button:"Start shopping now",footer:M("div",{className:"footer",children:[E("p",{children:"Already a member? "}),E(ao,{to:"/login",children:"Login"})]}),type:"SIGNUP",children:[E("h1",{children:"Hello stranger, kindly sign up to use this app "}),E("p",{children:"Keep track of your grocery list with our virtual shopping cart"})]})}function IQ(){return E(dD,{button:"Login",footer:M("div",{className:"footer",children:[E("p",{children:"Don't have an account yet? "}),E(ao,{to:"/signup",children:"Register"})]}),type:"LOGIN",children:E("h1",{children:"Login"})})}const fD="/assets/devchallenges-c38cdf15.svg",pD="/assets/user-solid-d3203aa8.svg";const PQ="/assets/gear-solid-276fcb29.svg";function AQ(){const t=yn(n=>JSON.parse(n.auth.user)),e=ni();return E(Mn.div,{className:"profile",children:M("div",{className:"container",children:[M("header",{children:[E("img",{src:fD,alt:"logo"}),E("img",{className:"profileimg profileimg--small",src:t.photoURL||pD,alt:"profile image"}),M("div",{className:"settings",onClick:()=>e("/settings"),children:[E("img",{src:PQ,alt:"settings"}),E("p",{children:"settings"})]})]}),E(H2,{})]})})}const RQ={hidden:{x:"100vw"},visible:{x:0,transition:{when:"beforeChildren"}},exit:{x:"100vw"}},OQ={visible:{width:0,transition:{duration:3}}};function MQ({message:t}){return M(Mn.div,{className:"popup",variants:RQ,initial:"hidden",animate:"visible",exit:"exit",children:[E("p",{children:t}),E(Mn.div,{className:"progress",variants:OQ})]})}function DQ({title:t,data:e,image:n}){return M("tr",{children:[E("td",{children:E("p",{children:t})}),E("td",{children:n||E("p",{children:e})})]})}function LQ(){var o;const t=ni(),e=yn(a=>JSON.parse(a.auth.user)),[n,i]=x.useState({}),r=yR(zo,"profiles");x.useEffect(()=>{MR(r).then(a=>{a.docs.forEach(l=>{l.id===nt.currentUser.uid&&i(l.data())})})},[]);const s=[{title:"PHOTO",image:e.photoURL?E("img",{className:"profileimg profileimg--large",src:e.photoURL,alt:"profile image"}):E("p",{children:"NOT SET"})},{title:"NAME",data:e.displayName||"NOT SET"},{title:"PHONE",data:n.phone||"NOT SET"},{title:"BIO",data:n.bio||"NOT SET"},{title:"Email",data:e.email||"olorunnisholaolamilekan@gmail.com"},{title:"Password",data:"*".repeat(((o=e.password)==null?void 0:o.length)||8)}];return M(Ek,{children:[E("h1",{children:"Personal info"}),E("p",{children:"Basic info, like your name and photo"}),M("div",{className:"table-head",children:[E("h2",{children:"Profile"}),E("p",{children:"Some info may be visible to other people"}),E(Ot,{type:"button",onClick:()=>t("/user-details/edit"),children:"Edit"})]}),E("table",{children:E("tbody",{children:s.map(a=>x.createElement(DQ,{...a,key:Be()}))})})]})}const gD="/assets/chevron-left-solid-80177578.svg";function NQ({name:t,placeholder:e,type:n},i){const r=x.useId();return M("label",{htmlFor:r,className:"edit-input",children:[t,t!=="Bio"?E("input",{name:t,type:n,placeholder:e,id:r,ref:i,minLength:n==="password"?6:0}):E("textarea",{name:t,placeholder:e,ref:i})]})}const FQ=Dn.forwardRef(NQ);function $Q(){const t=ni(),e=yn(m=>JSON.parse(m.auth.user)),[n,i]=x.useState(e.photoURL||pD),r=x.useId(),s=Vr(),[o,a]=x.useState({});let l=!1;const c=yR(zo,"profiles");x.useEffect(()=>{MR(c).then(m=>{m.docs.forEach(w=>{w.id===nt.currentUser.uid&&a(w.data())})})},[]);const u=x.useRef(),h=x.useRef(),d=x.useRef(),f=x.useRef(),p=x.useRef();return M("div",{className:"edit-profile",children:[M("div",{className:"back-btn",onClick:()=>t(-1),children:[E("img",{src:gD,alt:"back"}),E("p",{children:"Back"})]}),M("form",{className:"form",onSubmit:async function(m){m.preventDefault();try{if(l===!0)throw new Error("Please wait, previous request processing...");l=!0;const w=await _U(nt.currentUser,{displayName:u.current.value||e.displayName,photoURL:n||e.photoURL}),_=await DR(gp(zo,"profiles",nt.currentUser.uid),{bio:p.current.value.trim()||o.bio||"",phone:d.current.value.trim()||o.phone||""}),b=await bU(nt.currentUser,h.current.value||e.email),S=await xU(nt.currentUser,f.current.value||e.password);s(rm.resetErrorMessage("Your profile has been successfully updated!"))}catch(w){s(rm.resetErrorMessage(w.message))}finally{l=!1}},children:[E("h2",{children:"Change info"}),E("p",{children:"Changes will be reflected in every services"}),M("div",{className:"image",children:[E("img",{src:n,alt:"profile"}),M("label",{htmlFor:r,children:["Change photo",E("input",{type:"file",name:"photo",id:r,onChange:async function(m){const w=m.target.files[0];if(w.type.slice(0,5)!=="image"){s(rm.resetErrorMessage("The selected file is not an image"));return}const _=rw(Jw,`/images/${nt.currentUser.uid}`),b=await hP(_,w),S=await dP(b.ref);i(S)}})]})]}),[{type:"text",name:"Name",placeholder:"Enter your name..",ref:u},{type:"text",name:"Bio",placeholder:"Enter your bio..",ref:p},{type:"text",name:"Phone",placeholder:"Enter your number",ref:d},{type:"email",name:"Email",placeholder:"Enter your email..",ref:h},{type:"password",name:"Password",placeholder:"Enter your pasword...",ref:f}].map(m=>x.createElement(FQ,{...m,key:Be()})),E(Ot,{children:"Save"})]})]})}function VQ({action:t,children:e,setShowModal:n}){return M("div",{className:"modal",children:[E("div",{className:"backdrop"}),M("div",{className:"container",children:[E("p",{children:e}),E(Ot,{onClick:t,children:"Continue"}),E(Ot,{onClick:()=>n(!1),children:"Back"})]})]})}const{auth:li}=Si;function BQ(){const t=ni(),e=Vr(),[n,i]=x.useState(!1),r=yn(a=>a.isLoading),s=async function(){if(r===!0){e(li.resetErrorMessage("Please wait, previous request processing..."));return}e(li.setLoading({isLoading:!0}));const a=nt.currentUser.uid;n4(gp(zo,"profiles",a)).then(l=>console.log(l)).catch(l=>console.log(l)),Qz(rw(Jw,`images/${a}`)).then(l=>l).catch(l=>l);try{if(r===!0)throw new Error("Please wait, previous request processing...");const l=await TU(nt.currentUser);e(li.submit({user:null,error:""})),e(li.signOut()),t("/login")}catch(l){e(li.resetErrorMessage(l.message))}finally{e(li.setLoading({isLoading:!1}))}},o=a=>async function(){try{const l=await XU(nt.currentUser,a);e(li.resetErrorMessage("Account linked sucessfully!"))}catch(l){e(li.resetErrorMessage(l.message))}};return M(Mn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"settings",children:[E("img",{src:fD,alt:"logo"}),M("div",{className:"back-btn",onClick:()=>t(-1),children:[E("img",{src:gD,alt:"back"}),E("p",{children:"Back"})]}),M("div",{className:"container",children:[E("p",{children:"Connect multiple providers"}),E(hD,{eventListener:o,keys:[NR,FR,VR,$R]}),M("div",{className:"button-container",children:[E(Ot,{onClick:()=>i(!0),children:"Delete account"}),E(Ot,{onClick:()=>{kU(nt),e(li.signOut()),t("/login")},children:"Logout"})]})]}),n&&KN.createPortal(E(VQ,{action:s,setShowModal:i,children:"Are you sure you want to delete your account?"}),document.getElementById("root"))]})}let pk;function UQ(){const[t,e]=x.useState(!1),[n,i]=x.useState("list"),[r,s]=x.useState({}),[o,a]=x.useState([]),l=yn(d=>d.auth.isLoggedIn),c=yn(d=>d.auth.errorMessage),u=bc(),h=Vr();return x.useEffect(()=>{l&&e(!1)},[u]),x.useEffect(()=>(pk=setTimeout(()=>{h(UR.resetErrorMessage(""))},3100),()=>clearTimeout(pk)),[c]),E("main",{children:M(Iq,{children:[c&&E(MQ,{message:c},Be()),l&&E(lQ,{navShown:t,setNavShown:e},Be()),M(q2,{location:u,children:[E(cn,{path:"/signup",element:E(CQ,{})}),E(cn,{path:"/login",element:E(IQ,{})}),l&&M(Ek,{children:[E(cn,{path:"/",element:E(Uq,{navShown:t,setNavShown:e})}),E(cn,{path:"/settings",element:E(BQ,{})}),M(cn,{path:"/user-details",element:E(AQ,{}),children:[E(cn,{path:"/user-details",element:E(LQ,{})}),E(cn,{path:"/user-details/edit",element:E($Q,{})})]}),E(cn,{path:"/history",element:E(Nq,{setClickedEvent:a,navShown:t})}),E(cn,{path:"/history/:id",element:E(yQ,{})}),E(cn,{path:"/statistics",element:E(Q7,{navShown:t})})]}),E(cn,{path:"*",element:E(W2,{to:"/signup"})})]},u.path),!["/login","/signup"].includes(u.pathname)&&(n==="list"?E(gQ,{navShown:t,setAsideState:i,clickedEvent:o,setClickedEvent:a},Be()):n==="add"?E(eQ,{navShown:t,setAsideState:i,setNewItem:s},Be()):E(tQ,{setAsideState:i,newItem:r,navShown:t},Be()))]})})}const jQ=oV(WR);om.createRoot(document.getElementById("root")).render(E(Dn.StrictMode,{children:E(UF,{store:WR,children:E(HR,{persistor:jQ,children:E(J2,{children:E(UQ,{})})})})}));
